function q4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ov={exports:{}},tf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function $4(){if(qT)return tf;qT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:o}}return tf.Fragment=e,tf.jsx=n,tf.jsxs=n,tf}var $T;function F4(){return $T||($T=1,ov.exports=$4()),ov.exports}var x=F4(),lv={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function H4(){if(FT)return Ge;FT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(H,ie,ae){this.props=H,this.context=ie,this.refs=S,this.updater=ae||_}T.prototype.isReactComponent={},T.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=T.prototype;function P(H,ie,ae){this.props=H,this.context=ie,this.refs=S,this.updater=ae||_}var L=P.prototype=new I;L.constructor=P,E(L,T.prototype),L.isPureReactComponent=!0;var B=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function R(H,ie,ae,de,we,Ne){return ae=Ne.ref,{$$typeof:t,type:H,key:ie,ref:ae!==void 0?ae:null,props:Ne}}function O(H,ie){return R(H.type,ie,void 0,void 0,void 0,H.props)}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ae){return ie[ae]})}var j=/\/+/g;function z(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ie.toString(36)}function V(){}function pe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(V,V):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ye(H,ie,ae,de,we){var Ne=typeof H;(Ne==="undefined"||Ne==="boolean")&&(H=null);var Ie=!1;if(H===null)Ie=!0;else switch(Ne){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(H.$$typeof){case t:case e:Ie=!0;break;case m:return Ie=H._init,ye(Ie(H._payload),ie,ae,de,we)}}if(Ie)return we=we(H),Ie=de===""?"."+z(H,0):de,B(we)?(ae="",Ie!=null&&(ae=Ie.replace(j,"$&/")+"/"),ye(we,ie,ae,"",function(me){return me})):we!=null&&(D(we)&&(we=O(we,ae+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(j,"$&/")+"/")+Ie)),ie.push(we)),1;Ie=0;var Kt=de===""?".":de+":";if(B(H))for(var st=0;st<H.length;st++)de=H[st],Ne=Kt+z(de,st),Ie+=ye(de,ie,ae,Ne,we);else if(st=v(H),typeof st=="function")for(H=st.call(H),st=0;!(de=H.next()).done;)de=de.value,Ne=Kt+z(de,st++),Ie+=ye(de,ie,ae,Ne,we);else if(Ne==="object"){if(typeof H.then=="function")return ye(pe(H),ie,ae,de,we);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Z(H,ie,ae){if(H==null)return H;var de=[],we=0;return ye(H,de,"","",function(Ne){return ie.call(ae,Ne,we++)}),de}function ue(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ae){(H._status===0||H._status===-1)&&(H._status=1,H._result=ae)},function(ae){(H._status===0||H._status===-1)&&(H._status=2,H._result=ae)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var ge=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Ee(){}return Ge.Children={map:Z,forEach:function(H,ie,ae){Z(H,function(){ie.apply(this,arguments)},ae)},count:function(H){var ie=0;return Z(H,function(){ie++}),ie},toArray:function(H){return Z(H,function(ie){return ie})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ge.Component=T,Ge.Fragment=n,Ge.Profiler=a,Ge.PureComponent=P,Ge.StrictMode=r,Ge.Suspense=d,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(H){return q.H.useMemoCache(H)}},Ge.cache=function(H){return function(){return H.apply(null,arguments)}},Ge.cloneElement=function(H,ie,ae){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var de=E({},H.props),we=H.key,Ne=void 0;if(ie!=null)for(Ie in ie.ref!==void 0&&(Ne=void 0),ie.key!==void 0&&(we=""+ie.key),ie)!F.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(de[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=ae;else if(1<Ie){for(var Kt=Array(Ie),st=0;st<Ie;st++)Kt[st]=arguments[st+2];de.children=Kt}return R(H.type,we,void 0,void 0,Ne,de)},Ge.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Ge.createElement=function(H,ie,ae){var de,we={},Ne=null;if(ie!=null)for(de in ie.key!==void 0&&(Ne=""+ie.key),ie)F.call(ie,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(we[de]=ie[de]);var Ie=arguments.length-2;if(Ie===1)we.children=ae;else if(1<Ie){for(var Kt=Array(Ie),st=0;st<Ie;st++)Kt[st]=arguments[st+2];we.children=Kt}if(H&&H.defaultProps)for(de in Ie=H.defaultProps,Ie)we[de]===void 0&&(we[de]=Ie[de]);return R(H,Ne,void 0,void 0,null,we)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(H){return{$$typeof:c,render:H}},Ge.isValidElement=D,Ge.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ue}},Ge.memo=function(H,ie){return{$$typeof:h,type:H,compare:ie===void 0?null:ie}},Ge.startTransition=function(H){var ie=q.T,ae={};q.T=ae;try{var de=H(),we=q.S;we!==null&&we(ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Ee,ge)}catch(Ne){ge(Ne)}finally{q.T=ie}},Ge.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ge.use=function(H){return q.H.use(H)},Ge.useActionState=function(H,ie,ae){return q.H.useActionState(H,ie,ae)},Ge.useCallback=function(H,ie){return q.H.useCallback(H,ie)},Ge.useContext=function(H){return q.H.useContext(H)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(H,ie){return q.H.useDeferredValue(H,ie)},Ge.useEffect=function(H,ie,ae){var de=q.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(H,ie)},Ge.useId=function(){return q.H.useId()},Ge.useImperativeHandle=function(H,ie,ae){return q.H.useImperativeHandle(H,ie,ae)},Ge.useInsertionEffect=function(H,ie){return q.H.useInsertionEffect(H,ie)},Ge.useLayoutEffect=function(H,ie){return q.H.useLayoutEffect(H,ie)},Ge.useMemo=function(H,ie){return q.H.useMemo(H,ie)},Ge.useOptimistic=function(H,ie){return q.H.useOptimistic(H,ie)},Ge.useReducer=function(H,ie,ae){return q.H.useReducer(H,ie,ae)},Ge.useRef=function(H){return q.H.useRef(H)},Ge.useState=function(H){return q.H.useState(H)},Ge.useSyncExternalStore=function(H,ie,ae){return q.H.useSyncExternalStore(H,ie,ae)},Ge.useTransition=function(){return q.H.useTransition()},Ge.version="19.1.1",Ge}var HT;function Mu(){return HT||(HT=1,lv.exports=H4()),lv.exports}var C=Mu();const K4=oo(C),G4=q4({__proto__:null,default:K4},[C]);var uv={exports:{}},nf={},cv={exports:{}},fv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function Y4(){return KT||(KT=1,(function(t){function e(Z,ue){var ge=Z.length;Z.push(ue);e:for(;0<ge;){var Ee=ge-1>>>1,H=Z[Ee];if(0<a(H,ue))Z[Ee]=ue,Z[ge]=H,ge=Ee;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],ge=Z.pop();if(ge!==ue){Z[0]=ge;e:for(var Ee=0,H=Z.length,ie=H>>>1;Ee<ie;){var ae=2*(Ee+1)-1,de=Z[ae],we=ae+1,Ne=Z[we];if(0>a(de,ge))we<H&&0>a(Ne,de)?(Z[Ee]=Ne,Z[we]=ge,Ee=we):(Z[Ee]=de,Z[ae]=ge,Ee=ae);else if(we<H&&0>a(Ne,ge))Z[Ee]=Ne,Z[we]=ge,Ee=we;else break e}}return ue}function a(Z,ue){var ge=Z.sortIndex-ue.sortIndex;return ge!==0?ge:Z.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,y=null,v=3,_=!1,E=!1,S=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function B(Z){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=Z)r(h),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(h)}}function q(Z){if(S=!1,B(Z),!E)if(n(d)!==null)E=!0,F||(F=!0,z());else{var ue=n(h);ue!==null&&ye(q,ue.startTime-Z)}}var F=!1,R=-1,O=5,D=-1;function U(){return T?!0:!(t.unstable_now()-D<O)}function j(){if(T=!1,F){var Z=t.unstable_now();D=Z;var ue=!0;try{e:{E=!1,S&&(S=!1,P(R),R=-1),_=!0;var ge=v;try{t:{for(B(Z),y=n(d);y!==null&&!(y.expirationTime>Z&&U());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,v=y.priorityLevel;var H=Ee(y.expirationTime<=Z);if(Z=t.unstable_now(),typeof H=="function"){y.callback=H,B(Z),ue=!0;break t}y===n(d)&&r(d),B(Z)}else r(d);y=n(d)}if(y!==null)ue=!0;else{var ie=n(h);ie!==null&&ye(q,ie.startTime-Z),ue=!1}}break e}finally{y=null,v=ge,_=!1}ue=void 0}}finally{ue?z():F=!1}}}var z;if(typeof L=="function")z=function(){L(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,pe=V.port2;V.port1.onmessage=j,z=function(){pe.postMessage(null)}}else z=function(){I(j,0)};function ye(Z,ue){R=I(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var ge=v;v=ue;try{return Z()}finally{v=ge}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ge=v;v=Z;try{return ue()}finally{v=ge}},t.unstable_scheduleCallback=function(Z,ue,ge){var Ee=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ee+ge:Ee):ge=Ee,Z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ge+H,Z={id:m++,callback:ue,priorityLevel:Z,startTime:ge,expirationTime:H,sortIndex:-1},ge>Ee?(Z.sortIndex=ge,e(h,Z),n(d)===null&&Z===n(h)&&(S?(P(R),R=-1):S=!0,ye(q,ge-Ee))):(Z.sortIndex=H,e(d,Z),E||_||(E=!0,F||(F=!0,z()))),Z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Z){var ue=v;return function(){var ge=v;v=ue;try{return Z.apply(this,arguments)}finally{v=ge}}}})(fv)),fv}var GT;function W4(){return GT||(GT=1,cv.exports=Y4()),cv.exports}var dv={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function X4(){if(YT)return Qn;YT=1;var t=Mu();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},Qn.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},Qn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Qn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Qn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Qn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Qn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Qn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Qn.requestFormReset=function(d){r.d.r(d)},Qn.unstable_batchedUpdates=function(d,h){return d(h)},Qn.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qn.version="19.1.1",Qn}var WT;function oO(){if(WT)return dv.exports;WT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dv.exports=X4(),dv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function Q4(){if(XT)return nf;XT=1;var t=W4(),e=Mu(),n=oO();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,f=s;;){var p=u.return;if(p===null)break;var b=p.alternate;if(b===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===u)return c(p),i;if(b===f)return c(p),s;b=b.sibling}throw Error(r(188))}if(u.return!==f.return)u=p,f=b;else{for(var k=!1,N=p.child;N;){if(N===u){k=!0,u=p,f=b;break}if(N===f){k=!0,f=p,u=b;break}N=N.sibling}if(!k){for(N=b.child;N;){if(N===u){k=!0,u=b,f=p;break}if(N===f){k=!0,f=b,u=p;break}N=N.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case q:return"Suspense";case F:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case L:return(i.displayName||"Context")+".Provider";case P:return(i._context.displayName||"Context")+".Consumer";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:pe(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return pe(i(s))}catch{}}return null}var ye=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ee=[],H=-1;function ie(i){return{current:i}}function ae(i){0>H||(i.current=Ee[H],Ee[H]=null,H--)}function de(i,s){H++,Ee[H]=i.current,i.current=s}var we=ie(null),Ne=ie(null),Ie=ie(null),Kt=ie(null);function st(i,s){switch(de(Ie,s),de(Ne,i),de(we,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?pT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=pT(s),i=yT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(we),de(we,i)}function me(){ae(we),ae(Ne),ae(Ie)}function Be(i){i.memoizedState!==null&&de(Kt,i);var s=we.current,u=yT(s,i.type);s!==u&&(de(Ne,i),de(we,u))}function He(i){Ne.current===i&&(ae(we),ae(Ne)),Kt.current===i&&(ae(Kt),Xc._currentValue=ge)}var ce=Object.prototype.hasOwnProperty,Dt=t.unstable_scheduleCallback,Je=t.unstable_cancelCallback,Gt=t.unstable_shouldYield,Jt=t.unstable_requestPaint,Tt=t.unstable_now,bi=t.unstable_getCurrentPriorityLevel,zt=t.unstable_ImmediatePriority,St=t.unstable_UserBlockingPriority,Cr=t.unstable_NormalPriority,pn=t.unstable_LowPriority,ua=t.unstable_IdlePriority,ar=t.log,ca=t.unstable_setDisableYieldValue,sr=null,yn=null;function Yt(i){if(typeof ar=="function"&&ca(i),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(sr,i)}catch{}}var An=Math.clz32?Math.clz32:is,Or=Math.log,mo=Math.LN2;function is(i){return i>>>=0,i===0?32:31-(Or(i)/mo|0)|0}var Nr=256,pr=4194304;function Lt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yr(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var p=0,b=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var N=f&134217727;return N!==0?(f=N&~b,f!==0?p=Lt(f):(k&=N,k!==0?p=Lt(k):u||(u=N&~i,u!==0&&(p=Lt(u))))):(N=f&~b,N!==0?p=Lt(N):k!==0?p=Lt(k):u||(u=f&~i,u!==0&&(p=Lt(u)))),p===0?0:s!==0&&s!==p&&(s&b)===0&&(b=p&-p,u=s&-s,b>=u||b===32&&(u&4194048)!==0)?s:p}function Pi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function as(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var i=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),i}function Xr(){var i=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),i}function ss(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function ct(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sl(i,s,u,f,p,b){var k=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var N=i.entanglements,$=i.expirationTimes,X=i.hiddenUpdates;for(u=k&~u;0<u;){var ne=31-An(u),se=1<<ne;N[ne]=0,$[ne]=-1;var Q=X[ne];if(Q!==null)for(X[ne]=null,ne=0;ne<Q.length;ne++){var J=Q[ne];J!==null&&(J.lane&=-536870913)}u&=~se}f!==0&&Mi(i,f,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(k&~s))}function Mi(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-An(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function vr(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-An(u),p=1<<f;p&s|i[f]&s&&(i[f]|=s),u&=~p}}function go(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function po(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ir(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:jT(i.type))}function Ju(i,s){var u=ue.p;try{return ue.p=i,s()}finally{ue.p=u}}var Rr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Rr,ln="__reactProps$"+Rr,he="__reactContainer$"+Rr,ve="__reactEvents$"+Rr,Ce="__reactListeners$"+Rr,ke="__reactHandles$"+Rr,Re="__reactResources$"+Rr,Ke="__reactMarker$"+Rr;function at(i){delete i[Bt],delete i[ln],delete i[ve],delete i[Ce],delete i[ke]}function bt(i){var s=i[Bt];if(s)return s;for(var u=i.parentNode;u;){if(s=u[he]||u[Bt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=_T(i);i!==null;){if(u=i[Bt])return u;i=_T(i)}return s}i=u,u=i.parentNode}return null}function Ue(i){if(i=i[Bt]||i[he]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ze(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function dt(i){var s=i[Re];return s||(s=i[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ct(i){i[Ke]=!0}var ji=new Set,Yn={};function un(i,s){en(i,s),en(i+"Capture",s)}function en(i,s){for(Yn[i]=s,i=0;i<s.length;i++)ji.add(s[i])}var Qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),br={},fa={};function ec(i){return ce.call(fa,i)?!0:ce.call(br,i)?!1:Qr.test(i)?fa[i]=!0:(br[i]=!0,!1)}function xi(i,s,u){if(ec(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function da(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function xr(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}var ha,Li;function or(i){if(ha===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);ha=s&&s[1]||"",Li=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+i+Li}var Vi=!1;function Zr(i,s){if(!i||Vi)return"";Vi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(i,[],se)}else{try{se.call()}catch(J){Q=J}i.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),k=b[0],N=b[1];if(k&&N){var $=k.split(`
`),X=N.split(`
`);for(p=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(f===$.length||p===X.length)for(f=$.length-1,p=X.length-1;1<=f&&0<=p&&$[f]!==X[p];)p--;for(;1<=f&&0<=p;f--,p--)if($[f]!==X[p]){if(f!==1||p!==1)do if(f--,p--,0>p||$[f]!==X[p]){var ne=`
`+$[f].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=f&&0<=p);break}}}finally{Vi=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?or(u):""}function ht(i){switch(i.tag){case 26:case 27:case 5:return or(i.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return Zr(i.type,!1);case 11:return Zr(i.type.render,!1);case 1:return Zr(i.type,!0);case 31:return or("Activity");default:return""}}function mt(i){try{var s="";do s+=ht(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function os(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yo(i){var s=os(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,b=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(k){f=""+k,b.call(this,k)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ls(i){i._valueTracker||(i._valueTracker=yo(i))}function xt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=os(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function ma(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vo=/[\n"\\]/g;function kn(i){return i.replace(vo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function tc(i,s,u,f,p,b,k,N){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),s!=null?k==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+qt(s)):i.value!==""+qt(s)&&(i.value=""+qt(s)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),s!=null?rc(i,k,qt(s)):u!=null?rc(i,k,qt(u)):f!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+qt(N):i.removeAttribute("name")}function nc(i,s,u,f,p,b,k,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;u=u!=null?""+qt(u):"",s=s!=null?""+qt(s):u,N||s===i.value||(i.value=s),i.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=N?i.checked:!!f,i.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k)}function rc(i,s,u){s==="number"&&ma(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function us(i,s,u,f){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&f&&(i[u].defaultSelected=!0)}else{for(u=""+qt(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function xd(i,s,u){if(s!=null&&(s=""+qt(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+qt(u):""}function _d(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(ye(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=qt(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function Jr(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||ga.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function ac(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&u[p]!==f&&ic(i,p,f)}else for(var b in s)s.hasOwnProperty(b)&&ic(i,b,s[b])}function Al(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _i(i){return Ed.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var sc=null;function oc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cs=null,lr=null;function Td(i){var s=Ue(i);if(s&&(i=s.stateNode)){var u=i[ln]||null;e:switch(i=s.stateNode,s.type){case"input":if(tc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+kn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var p=f[ln]||null;if(!p)throw Error(r(90));tc(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&xt(f)}break e;case"textarea":xd(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&us(i,!!u.multiple,s,!1)}}}var bo=!1;function xo(i,s,u){if(bo)return i(s,u);bo=!0;try{var f=i(s);return f}finally{if(bo=!1,(cs!==null||lr!==null)&&(hh(),cs&&(s=cs,i=lr,lr=cs=null,Td(s),i)))for(s=0;s<i.length;s++)Td(i[s])}}function fs(i,s){var u=i.stateNode;if(u===null)return null;var f=u[ln]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=!1;if(ur)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){pa=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{pa=!1}var ei=null,Ot=null,kl=null;function Sd(){if(kl)return kl;var i,s=Ot,u=s.length,f,p="value"in ei?ei.value:ei.textContent,b=p.length;for(i=0;i<u&&s[i]===p[i];i++);var k=u-i;for(f=1;f<=k&&s[u-f]===p[b-f];f++);return kl=p.slice(i,1<f?1-f:void 0)}function _o(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wo(){return!0}function lc(){return!1}function vn(i){function s(u,f,p,b,k){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?wo:lc,this.isPropagationStopped=lc,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=vn(Wn),To=m({},Wn,{view:0,detail:0}),So=vn(To),Cl,Ao,Ui,ko=m({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ui&&(Ui&&i.type==="mousemove"?(Cl=i.screenX-Ui.screenX,Ao=i.screenY-Ui.screenY):Ao=Cl=0,Ui=i),Cl)},movementY:function(i){return"movementY"in i?i.movementY:Ao}}),Co=vn(ko),pp=m({},ko,{dataTransfer:0}),Ad=vn(pp),Oo=m({},To,{relatedTarget:0}),Ol=vn(Oo),kd=m({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=vn(kd),cc=m({},Wn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cd=vn(cc),Nl=m({},Wn,{data:0}),fc=vn(Nl),Od={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Id(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Nd[i])?!!s[i]:!1}function Il(){return Id}var Rd=m({},To,{key:function(i){if(i.key){var s=Od[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=_o(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ya[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(i){return i.type==="keypress"?_o(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_o(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rl=vn(Rd),cr=m({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=vn(cr),Dd=m({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),hs=vn(Dd),g=m({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=vn(g),A=m({},ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),M=vn(A),W=m({},Wn,{newState:0,oldState:0}),ee=vn(W),fe=[9,13,27,32],$e=ur&&"CompositionEvent"in window,Pt=null;ur&&"documentMode"in document&&(Pt=document.documentMode);var gt=ur&&"TextEvent"in window&&!Pt,tn=ur&&(!$e||Pt&&8<Pt&&11>=Pt),Dr=" ",zi=!1;function wi(i,s){switch(i){case"keyup":return fe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ei(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ti=!1;function hc(i,s){switch(i){case"compositionend":return Ei(s);case"keypress":return s.which!==32?null:(zi=!0,Dr);case"textInput":return i=s.data,i===Dr&&zi?null:i;default:return null}}function gj(i,s){if(Ti)return i==="compositionend"||!$e&&wi(i,s)?(i=Sd(),kl=Ot=ei=null,Ti=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return tn&&s.locale!=="ko"?null:s.data;default:return null}}var pj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!pj[i.type]:s==="textarea"}function I1(i,s,u,f){cs?lr?lr.push(f):lr=[f]:cs=f,s=bh(s,"onChange"),0<s.length&&(u=new Eo("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var mc=null,gc=null;function yj(i){fT(i,0)}function Pd(i){var s=ze(i);if(xt(s))return i}function R1(i,s){if(i==="change")return s}var D1=!1;if(ur){var yp;if(ur){var vp="oninput"in document;if(!vp){var P1=document.createElement("div");P1.setAttribute("oninput","return;"),vp=typeof P1.oninput=="function"}yp=vp}else yp=!1;D1=yp&&(!document.documentMode||9<document.documentMode)}function M1(){mc&&(mc.detachEvent("onpropertychange",j1),gc=mc=null)}function j1(i){if(i.propertyName==="value"&&Pd(gc)){var s=[];I1(s,gc,i,oc(i)),xo(yj,s)}}function vj(i,s,u){i==="focusin"?(M1(),mc=s,gc=u,mc.attachEvent("onpropertychange",j1)):i==="focusout"&&M1()}function bj(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pd(gc)}function xj(i,s){if(i==="click")return Pd(s)}function _j(i,s){if(i==="input"||i==="change")return Pd(s)}function wj(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Pr=typeof Object.is=="function"?Object.is:wj;function pc(i,s){if(Pr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!ce.call(s,p)||!Pr(i[p],s[p]))return!1}return!0}function L1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function V1(i,s){var u=L1(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=L1(u)}}function U1(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?U1(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function z1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ma(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=ma(i.document)}return s}function bp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Ej=ur&&"documentMode"in document&&11>=document.documentMode,Dl=null,xp=null,yc=null,_p=!1;function B1(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_p||Dl==null||Dl!==ma(f)||(f=Dl,"selectionStart"in f&&bp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),yc&&pc(yc,f)||(yc=f,f=bh(xp,"onSelect"),0<f.length&&(s=new Eo("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Dl)))}function No(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Pl={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},wp={},q1={};ur&&(q1=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Io(i){if(wp[i])return wp[i];if(!Pl[i])return i;var s=Pl[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in q1)return wp[i]=s[u];return i}var $1=Io("animationend"),F1=Io("animationiteration"),H1=Io("animationstart"),Tj=Io("transitionrun"),Sj=Io("transitionstart"),Aj=Io("transitioncancel"),K1=Io("transitionend"),G1=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function Si(i,s){G1.set(i,s),un(s,[i])}var Y1=new WeakMap;function ti(i,s){if(typeof i=="object"&&i!==null){var u=Y1.get(i);return u!==void 0?u:(s={value:i,source:s,stack:mt(s)},Y1.set(i,s),s)}return{value:i,source:s,stack:mt(s)}}var ni=[],Ml=0,Tp=0;function Md(){for(var i=Ml,s=Tp=Ml=0;s<i;){var u=ni[s];ni[s++]=null;var f=ni[s];ni[s++]=null;var p=ni[s];ni[s++]=null;var b=ni[s];if(ni[s++]=null,f!==null&&p!==null){var k=f.pending;k===null?p.next=p:(p.next=k.next,k.next=p),f.pending=p}b!==0&&W1(u,p,b)}}function jd(i,s,u,f){ni[Ml++]=i,ni[Ml++]=s,ni[Ml++]=u,ni[Ml++]=f,Tp|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Sp(i,s,u,f){return jd(i,s,u,f),Ld(i)}function jl(i,s){return jd(i,null,null,s),Ld(i)}function W1(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var p=!1,b=i.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&s!==null&&(p=31-An(u),i=b.hiddenUpdates,f=i[p],f===null?i[p]=[s]:f.push(s),s.lane=u|536870912),b):null}function Ld(i){if(50<qc)throw qc=0,Iy=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ll={};function kj(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(i,s,u,f){return new kj(i,s,u,f)}function Ap(i){return i=i.prototype,!(!i||!i.isReactComponent)}function va(i,s){var u=i.alternate;return u===null?(u=Mr(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function X1(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vd(i,s,u,f,p,b){var k=0;if(f=i,typeof i=="function")Ap(i)&&(k=1);else if(typeof i=="string")k=O4(i,u,we.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Mr(31,u,s,p),i.elementType=D,i.lanes=b,i;case E:return Ro(u.children,p,b,s);case S:k=8,p|=24;break;case T:return i=Mr(12,u,s,p|2),i.elementType=T,i.lanes=b,i;case q:return i=Mr(13,u,s,p),i.elementType=q,i.lanes=b,i;case F:return i=Mr(19,u,s,p),i.elementType=F,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case L:k=10;break e;case P:k=9;break e;case B:k=11;break e;case R:k=14;break e;case O:k=16,f=null;break e}k=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Mr(k,u,s,p),s.elementType=i,s.type=f,s.lanes=b,s}function Ro(i,s,u,f){return i=Mr(7,i,f,s),i.lanes=u,i}function kp(i,s,u){return i=Mr(6,i,null,s),i.lanes=u,i}function Cp(i,s,u){return s=Mr(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Vl=[],Ul=0,Ud=null,zd=0,ri=[],ii=0,Do=null,ba=1,xa="";function Po(i,s){Vl[Ul++]=zd,Vl[Ul++]=Ud,Ud=i,zd=s}function Q1(i,s,u){ri[ii++]=ba,ri[ii++]=xa,ri[ii++]=Do,Do=i;var f=ba;i=xa;var p=32-An(f)-1;f&=~(1<<p),u+=1;var b=32-An(s)+p;if(30<b){var k=p-p%5;b=(f&(1<<k)-1).toString(32),f>>=k,p-=k,ba=1<<32-An(s)+p|u<<p|f,xa=b+i}else ba=1<<b|u<<p|f,xa=i}function Op(i){i.return!==null&&(Po(i,1),Q1(i,1,0))}function Np(i){for(;i===Ud;)Ud=Vl[--Ul],Vl[Ul]=null,zd=Vl[--Ul],Vl[Ul]=null;for(;i===Do;)Do=ri[--ii],ri[ii]=null,xa=ri[--ii],ri[ii]=null,ba=ri[--ii],ri[ii]=null}var fr=null,Xt=null,ut=!1,Mo=null,Bi=!1,Ip=Error(r(519));function jo(i){var s=Error(r(418,""));throw xc(ti(s,i)),Ip}function Z1(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[Bt]=i,s[ln]=f,u){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(u=0;u<Fc.length;u++)Ze(Fc[u],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),nc(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ls(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),_d(s,f.value,f.defaultValue,f.children),ls(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||gT(s.textContent,u)?(f.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),f.onScroll!=null&&Ze("scroll",s),f.onScrollEnd!=null&&Ze("scrollend",s),f.onClick!=null&&(s.onclick=xh),s=!0):s=!1,s||jo(i)}function J1(i){for(fr=i.return;fr;)switch(fr.tag){case 5:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:fr=fr.return}}function vc(i){if(i!==fr)return!1;if(!ut)return J1(i),ut=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Gy(i.type,i.memoizedProps)),u=!u),u&&Xt&&jo(i),J1(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){Xt=ki(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}Xt=null}}else s===27?(s=Xt,Os(i.type)?(i=Qy,Qy=null,Xt=i):Xt=s):Xt=fr?ki(i.stateNode.nextSibling):null;return!0}function bc(){Xt=fr=null,ut=!1}function ew(){var i=Mo;return i!==null&&(Er===null?Er=i:Er.push.apply(Er,i),Mo=null),i}function xc(i){Mo===null?Mo=[i]:Mo.push(i)}var Rp=ie(null),Lo=null,_a=null;function ms(i,s,u){de(Rp,s._currentValue),s._currentValue=u}function wa(i){i._currentValue=Rp.current,ae(Rp)}function Dp(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function Pp(i,s,u,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var k=p.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=p;for(var $=0;$<s.length;$++)if(N.context===s[$]){b.lanes|=u,N=b.alternate,N!==null&&(N.lanes|=u),Dp(b.return,u,i),f||(k=null);break e}b=N.next}}else if(p.tag===18){if(k=p.return,k===null)throw Error(r(341));k.lanes|=u,b=k.alternate,b!==null&&(b.lanes|=u),Dp(k,u,i),k=null}else k=p.child;if(k!==null)k.return=p;else for(k=p;k!==null;){if(k===i){k=null;break}if(p=k.sibling,p!==null){p.return=k.return,k=p;break}k=k.return}p=k}}function _c(i,s,u,f){i=null;for(var p=s,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var k=p.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var N=p.type;Pr(p.pendingProps.value,k.value)||(i!==null?i.push(N):i=[N])}}else if(p===Kt.current){if(k=p.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Xc):i=[Xc])}p=p.return}i!==null&&Pp(s,i,u,f),s.flags|=262144}function Bd(i){for(i=i.firstContext;i!==null;){if(!Pr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vo(i){Lo=i,_a=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xn(i){return tw(Lo,i)}function qd(i,s){return Lo===null&&Vo(i),tw(i,s)}function tw(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},_a===null){if(i===null)throw Error(r(308));_a=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else _a=_a.next=s;return u}var Cj=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},Oj=t.unstable_scheduleCallback,Nj=t.unstable_NormalPriority,bn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mp(){return{controller:new Cj,data:new Map,refCount:0}}function wc(i){i.refCount--,i.refCount===0&&Oj(Nj,function(){i.controller.abort()})}var Ec=null,jp=0,zl=0,Bl=null;function Ij(i,s){if(Ec===null){var u=Ec=[];jp=0,zl=Vy(),Bl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return jp++,s.then(nw,nw),s}function nw(){if(--jp===0&&Ec!==null){Bl!==null&&(Bl.status="fulfilled");var i=Ec;Ec=null,zl=0,Bl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Rj(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<u.length;p++)(0,u[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),f}var rw=Z.S;Z.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ij(i,s),rw!==null&&rw(i,s)};var Uo=ie(null);function Lp(){var i=Uo.current;return i!==null?i:Nt.pooledCache}function $d(i,s){s===null?de(Uo,Uo.current):de(Uo,s.pool)}function iw(){var i=Lp();return i===null?null:{parent:bn._currentValue,pool:i}}var Tc=Error(r(460)),aw=Error(r(474)),Fd=Error(r(542)),Vp={then:function(){}};function sw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Hd(){}function ow(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Hd,Hd),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,uw(i),i;default:if(typeof s.status=="string")s.then(Hd,Hd);else{if(i=Nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,uw(i),i}throw Sc=s,Tc}}var Sc=null;function lw(){if(Sc===null)throw Error(r(459));var i=Sc;return Sc=null,i}function uw(i){if(i===Tc||i===Fd)throw Error(r(483))}var gs=!1;function Up(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ps(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ys(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(pt&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=Ld(i),W1(i,null,u),s}return jd(i,f,s,u),Ld(i)}function Ac(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,vr(i,u)}}function Bp(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?p=b=k:b=b.next=k,u=u.next}while(u!==null);b===null?p=b=s:b=b.next=s}else p=b=s;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var qp=!1;function kc(){if(qp){var i=Bl;if(i!==null)throw i}}function Cc(i,s,u,f){qp=!1;var p=i.updateQueue;gs=!1;var b=p.firstBaseUpdate,k=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var $=N,X=$.next;$.next=null,k===null?b=X:k.next=X,k=$;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==k&&(N===null?ne.firstBaseUpdate=X:N.next=X,ne.lastBaseUpdate=$))}if(b!==null){var se=p.baseState;k=0,ne=X=$=null,N=b;do{var Q=N.lane&-536870913,J=Q!==N.lane;if(J?(rt&Q)===Q:(f&Q)===Q){Q!==0&&Q===zl&&(qp=!0),ne!==null&&(ne=ne.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ve=i,Pe=N;Q=s;var Et=u;switch(Pe.tag){case 1:if(Ve=Pe.payload,typeof Ve=="function"){se=Ve.call(Et,se,Q);break e}se=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Pe.payload,Q=typeof Ve=="function"?Ve.call(Et,se,Q):Ve,Q==null)break e;se=m({},se,Q);break e;case 2:gs=!0}}Q=N.callback,Q!==null&&(i.flags|=64,J&&(i.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(X=ne=J,$=se):ne=ne.next=J,k|=Q;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;J=N,N=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);ne===null&&($=se),p.baseState=$,p.firstBaseUpdate=X,p.lastBaseUpdate=ne,b===null&&(p.shared.lanes=0),Ss|=k,i.lanes=k,i.memoizedState=se}}function cw(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function fw(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)cw(u[i],s)}var ql=ie(null),Kd=ie(0);function dw(i,s){i=Oa,de(Kd,i),de(ql,s),Oa=i|s.baseLanes}function $p(){de(Kd,Oa),de(ql,ql.current)}function Fp(){Oa=Kd.current,ae(ql),ae(Kd)}var vs=0,Ye=null,_t=null,cn=null,Gd=!1,$l=!1,zo=!1,Yd=0,Oc=0,Fl=null,Dj=0;function nn(){throw Error(r(321))}function Hp(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Pr(i[u],s[u]))return!1;return!0}function Kp(i,s,u,f,p,b){return vs=b,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?Ww:Xw,zo=!1,b=u(f,p),zo=!1,$l&&(b=mw(s,u,f,p)),hw(i),b}function hw(i){Z.H=eh;var s=_t!==null&&_t.next!==null;if(vs=0,cn=_t=Ye=null,Gd=!1,Oc=0,Fl=null,s)throw Error(r(300));i===null||Cn||(i=i.dependencies,i!==null&&Bd(i)&&(Cn=!0))}function mw(i,s,u,f){Ye=i;var p=0;do{if($l&&(Fl=null),Oc=0,$l=!1,25<=p)throw Error(r(301));if(p+=1,cn=_t=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Z.H=zj,b=s(u,f)}while($l);return b}function Pj(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Nc(s):s,i=i.useState()[0],(_t!==null?_t.memoizedState:null)!==i&&(Ye.flags|=1024),s}function Gp(){var i=Yd!==0;return Yd=0,i}function Yp(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Wp(i){if(Gd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Gd=!1}vs=0,cn=_t=Ye=null,$l=!1,Oc=Yd=0,Fl=null}function _r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Ye.memoizedState=cn=i:cn=cn.next=i,cn}function fn(){if(_t===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var s=cn===null?Ye.memoizedState:cn.next;if(s!==null)cn=s,_t=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},cn===null?Ye.memoizedState=cn=i:cn=cn.next=i}return cn}function Xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nc(i){var s=Oc;return Oc+=1,Fl===null&&(Fl=[]),i=ow(Fl,i,s),s=Ye,(cn===null?s.memoizedState:cn.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?Ww:Xw),i}function Wd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nc(i);if(i.$$typeof===L)return Xn(i)}throw Error(r(438,String(i)))}function Qp(i){var s=null,u=Ye.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Ye.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Xp(),Ye.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=U;return s.index++,u}function Ea(i,s){return typeof s=="function"?s(i):s}function Xd(i){var s=fn();return Zp(s,_t,i)}function Zp(i,s,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var p=i.baseQueue,b=f.pending;if(b!==null){if(p!==null){var k=p.next;p.next=b.next,b.next=k}s.baseQueue=p=b,f.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{s=p.next;var N=k=null,$=null,X=s,ne=!1;do{var se=X.lane&-536870913;if(se!==X.lane?(rt&se)===se:(vs&se)===se){var Q=X.revertLane;if(Q===0)$!==null&&($=$.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),se===zl&&(ne=!0);else if((vs&Q)===Q){X=X.next,Q===zl&&(ne=!0);continue}else se={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(N=$=se,k=b):$=$.next=se,Ye.lanes|=Q,Ss|=Q;se=X.action,zo&&u(b,se),b=X.hasEagerState?X.eagerState:u(b,se)}else Q={lane:se,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(N=$=Q,k=b):$=$.next=Q,Ye.lanes|=se,Ss|=se;X=X.next}while(X!==null&&X!==s);if($===null?k=b:$.next=N,!Pr(b,i.memoizedState)&&(Cn=!0,ne&&(u=Bl,u!==null)))throw u;i.memoizedState=b,i.baseState=k,i.baseQueue=$,f.lastRenderedState=b}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Jp(i){var s=fn(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,p=u.pending,b=s.memoizedState;if(p!==null){u.pending=null;var k=p=p.next;do b=i(b,k.action),k=k.next;while(k!==p);Pr(b,s.memoizedState)||(Cn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,f]}function gw(i,s,u){var f=Ye,p=fn(),b=ut;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=s();var k=!Pr((_t||p).memoizedState,u);k&&(p.memoizedState=u,Cn=!0),p=p.queue;var N=vw.bind(null,f,p,i);if(Ic(2048,8,N,[i]),p.getSnapshot!==s||k||cn!==null&&cn.memoizedState.tag&1){if(f.flags|=2048,Hl(9,Qd(),yw.bind(null,f,p,u,s),null),Nt===null)throw Error(r(349));b||(vs&124)!==0||pw(f,s,u)}return u}function pw(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ye.updateQueue,s===null?(s=Xp(),Ye.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function yw(i,s,u,f){s.value=u,s.getSnapshot=f,bw(s)&&xw(i)}function vw(i,s,u){return u(function(){bw(s)&&xw(i)})}function bw(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Pr(i,u)}catch{return!0}}function xw(i){var s=jl(i,2);s!==null&&zr(s,i,2)}function ey(i){var s=_r();if(typeof i=="function"){var u=i;if(i=u(),zo){Yt(!0);try{u()}finally{Yt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:i},s}function _w(i,s,u,f){return i.baseState=u,Zp(i,_t,typeof f=="function"?f:Ea)}function Mj(i,s,u,f,p){if(Jd(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};Z.T!==null?u(!0):b.isTransition=!1,f(b),u=s.pending,u===null?(b.next=s.pending=b,ww(s,b)):(b.next=u.next,s.pending=u.next=b)}}function ww(i,s){var u=s.action,f=s.payload,p=i.state;if(s.isTransition){var b=Z.T,k={};Z.T=k;try{var N=u(p,f),$=Z.S;$!==null&&$(k,N),Ew(i,s,N)}catch(X){ty(i,s,X)}finally{Z.T=b}}else try{b=u(p,f),Ew(i,s,b)}catch(X){ty(i,s,X)}}function Ew(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Tw(i,s,f)},function(f){return ty(i,s,f)}):Tw(i,s,u)}function Tw(i,s,u){s.status="fulfilled",s.value=u,Sw(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,ww(i,u)))}function ty(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,Sw(s),s=s.next;while(s!==f)}i.action=null}function Sw(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Aw(i,s){return s}function kw(i,s){if(ut){var u=Nt.formState;if(u!==null){e:{var f=Ye;if(ut){if(Xt){t:{for(var p=Xt,b=Bi;p.nodeType!==8;){if(!b){p=null;break t}if(p=ki(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){Xt=ki(p.nextSibling),f=p.data==="F!";break e}}jo(f)}f=!1}f&&(s=u[0])}}return u=_r(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aw,lastRenderedState:s},u.queue=f,u=Kw.bind(null,Ye,f),f.dispatch=u,f=ey(!1),b=sy.bind(null,Ye,!1,f.queue),f=_r(),p={state:s,dispatch:null,action:i,pending:null},f.queue=p,u=Mj.bind(null,Ye,p,b,u),p.dispatch=u,f.memoizedState=i,[s,u,!1]}function Cw(i){var s=fn();return Ow(s,_t,i)}function Ow(i,s,u){if(s=Zp(i,s,Aw)[0],i=Xd(Ea)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Nc(s)}catch(k){throw k===Tc?Fd:k}else f=s;s=fn();var p=s.queue,b=p.dispatch;return u!==s.memoizedState&&(Ye.flags|=2048,Hl(9,Qd(),jj.bind(null,p,u),null)),[f,b,i]}function jj(i,s){i.action=s}function Nw(i){var s=fn(),u=_t;if(u!==null)return Ow(s,u,i);fn(),s=s.memoizedState,u=fn();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function Hl(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=Xp(),Ye.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function Qd(){return{destroy:void 0,resource:void 0}}function Iw(){return fn().memoizedState}function Zd(i,s,u,f){var p=_r();f=f===void 0?null:f,Ye.flags|=i,p.memoizedState=Hl(1|s,Qd(),u,f)}function Ic(i,s,u,f){var p=fn();f=f===void 0?null:f;var b=p.memoizedState.inst;_t!==null&&f!==null&&Hp(f,_t.memoizedState.deps)?p.memoizedState=Hl(s,b,u,f):(Ye.flags|=i,p.memoizedState=Hl(1|s,b,u,f))}function Rw(i,s){Zd(8390656,8,i,s)}function Dw(i,s){Ic(2048,8,i,s)}function Pw(i,s){return Ic(4,2,i,s)}function Mw(i,s){return Ic(4,4,i,s)}function jw(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Lw(i,s,u){u=u!=null?u.concat([i]):null,Ic(4,4,jw.bind(null,s,i),u)}function ny(){}function Vw(i,s){var u=fn();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&Hp(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function Uw(i,s){var u=fn();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&Hp(s,f[1]))return f[0];if(f=i(),zo){Yt(!0);try{i()}finally{Yt(!1)}}return u.memoizedState=[f,s],f}function ry(i,s,u){return u===void 0||(vs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=qE(),Ye.lanes|=i,Ss|=i,u)}function zw(i,s,u,f){return Pr(u,s)?u:ql.current!==null?(i=ry(i,u,f),Pr(i,s)||(Cn=!0),i):(vs&42)===0?(Cn=!0,i.memoizedState=u):(i=qE(),Ye.lanes|=i,Ss|=i,s)}function Bw(i,s,u,f,p){var b=ue.p;ue.p=b!==0&&8>b?b:8;var k=Z.T,N={};Z.T=N,sy(i,!1,s,u);try{var $=p(),X=Z.S;if(X!==null&&X(N,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ne=Rj($,f);Rc(i,s,ne,Ur(i))}else Rc(i,s,f,Ur(i))}catch(se){Rc(i,s,{then:function(){},status:"rejected",reason:se},Ur())}finally{ue.p=b,Z.T=k}}function Lj(){}function iy(i,s,u,f){if(i.tag!==5)throw Error(r(476));var p=qw(i).queue;Bw(i,p,s,ge,u===null?Lj:function(){return $w(i),u(f)})}function qw(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ge},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function $w(i){var s=qw(i).next.queue;Rc(i,s,{},Ur())}function ay(){return Xn(Xc)}function Fw(){return fn().memoizedState}function Hw(){return fn().memoizedState}function Vj(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Ur();i=ps(u);var f=ys(s,i,u);f!==null&&(zr(f,s,u),Ac(f,s,u)),s={cache:Mp()},i.payload=s;return}s=s.return}}function Uj(i,s,u){var f=Ur();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Jd(i)?Gw(s,u):(u=Sp(i,s,u,f),u!==null&&(zr(u,i,f),Yw(u,s,f)))}function Kw(i,s,u){var f=Ur();Rc(i,s,u,f)}function Rc(i,s,u,f){var p={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jd(i))Gw(s,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var k=s.lastRenderedState,N=b(k,u);if(p.hasEagerState=!0,p.eagerState=N,Pr(N,k))return jd(i,s,p,0),Nt===null&&Md(),!1}catch{}finally{}if(u=Sp(i,s,p,f),u!==null)return zr(u,i,f),Yw(u,s,f),!0}return!1}function sy(i,s,u,f){if(f={lane:2,revertLane:Vy(),action:f,hasEagerState:!1,eagerState:null,next:null},Jd(i)){if(s)throw Error(r(479))}else s=Sp(i,u,f,2),s!==null&&zr(s,i,2)}function Jd(i){var s=i.alternate;return i===Ye||s!==null&&s===Ye}function Gw(i,s){$l=Gd=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Yw(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,vr(i,u)}}var eh={readContext:Xn,use:Wd,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn},Ww={readContext:Xn,use:Wd,useCallback:function(i,s){return _r().memoizedState=[i,s===void 0?null:s],i},useContext:Xn,useEffect:Rw,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Zd(4194308,4,jw.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Zd(4194308,4,i,s)},useInsertionEffect:function(i,s){Zd(4,2,i,s)},useMemo:function(i,s){var u=_r();s=s===void 0?null:s;var f=i();if(zo){Yt(!0);try{i()}finally{Yt(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=_r();if(u!==void 0){var p=u(s);if(zo){Yt(!0);try{u(s)}finally{Yt(!1)}}}else p=s;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=Uj.bind(null,Ye,i),[f.memoizedState,i]},useRef:function(i){var s=_r();return i={current:i},s.memoizedState=i},useState:function(i){i=ey(i);var s=i.queue,u=Kw.bind(null,Ye,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:ny,useDeferredValue:function(i,s){var u=_r();return ry(u,i,s)},useTransition:function(){var i=ey(!1);return i=Bw.bind(null,Ye,i.queue,!0,!1),_r().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=Ye,p=_r();if(ut){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Nt===null)throw Error(r(349));(rt&124)!==0||pw(f,s,u)}p.memoizedState=u;var b={value:u,getSnapshot:s};return p.queue=b,Rw(vw.bind(null,f,b,i),[i]),f.flags|=2048,Hl(9,Qd(),yw.bind(null,f,b,u,s),null),u},useId:function(){var i=_r(),s=Nt.identifierPrefix;if(ut){var u=xa,f=ba;u=(f&~(1<<32-An(f)-1)).toString(32)+u,s="«"+s+"R"+u,u=Yd++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=Dj++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:ay,useFormState:kw,useActionState:kw,useOptimistic:function(i){var s=_r();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=sy.bind(null,Ye,!0,u),u.dispatch=s,[i,s]},useMemoCache:Qp,useCacheRefresh:function(){return _r().memoizedState=Vj.bind(null,Ye)}},Xw={readContext:Xn,use:Wd,useCallback:Vw,useContext:Xn,useEffect:Dw,useImperativeHandle:Lw,useInsertionEffect:Pw,useLayoutEffect:Mw,useMemo:Uw,useReducer:Xd,useRef:Iw,useState:function(){return Xd(Ea)},useDebugValue:ny,useDeferredValue:function(i,s){var u=fn();return zw(u,_t.memoizedState,i,s)},useTransition:function(){var i=Xd(Ea)[0],s=fn().memoizedState;return[typeof i=="boolean"?i:Nc(i),s]},useSyncExternalStore:gw,useId:Fw,useHostTransitionStatus:ay,useFormState:Cw,useActionState:Cw,useOptimistic:function(i,s){var u=fn();return _w(u,_t,i,s)},useMemoCache:Qp,useCacheRefresh:Hw},zj={readContext:Xn,use:Wd,useCallback:Vw,useContext:Xn,useEffect:Dw,useImperativeHandle:Lw,useInsertionEffect:Pw,useLayoutEffect:Mw,useMemo:Uw,useReducer:Jp,useRef:Iw,useState:function(){return Jp(Ea)},useDebugValue:ny,useDeferredValue:function(i,s){var u=fn();return _t===null?ry(u,i,s):zw(u,_t.memoizedState,i,s)},useTransition:function(){var i=Jp(Ea)[0],s=fn().memoizedState;return[typeof i=="boolean"?i:Nc(i),s]},useSyncExternalStore:gw,useId:Fw,useHostTransitionStatus:ay,useFormState:Nw,useActionState:Nw,useOptimistic:function(i,s){var u=fn();return _t!==null?_w(u,_t,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Qp,useCacheRefresh:Hw},Kl=null,Dc=0;function th(i){var s=Dc;return Dc+=1,Kl===null&&(Kl=[]),ow(Kl,i,s)}function Pc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function nh(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Qw(i){var s=i._init;return s(i._payload)}function Zw(i){function s(G,K){if(i){var Y=G.deletions;Y===null?(G.deletions=[K],G.flags|=16):Y.push(K)}}function u(G,K){if(!i)return null;for(;K!==null;)s(G,K),K=K.sibling;return null}function f(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function p(G,K){return G=va(G,K),G.index=0,G.sibling=null,G}function b(G,K,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<K?(G.flags|=67108866,K):Y):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function k(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function N(G,K,Y,re){return K===null||K.tag!==6?(K=kp(Y,G.mode,re),K.return=G,K):(K=p(K,Y),K.return=G,K)}function $(G,K,Y,re){var _e=Y.type;return _e===E?ne(G,K,Y.props.children,re,Y.key):K!==null&&(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&Qw(_e)===K.type)?(K=p(K,Y.props),Pc(K,Y),K.return=G,K):(K=Vd(Y.type,Y.key,Y.props,null,G.mode,re),Pc(K,Y),K.return=G,K)}function X(G,K,Y,re){return K===null||K.tag!==4||K.stateNode.containerInfo!==Y.containerInfo||K.stateNode.implementation!==Y.implementation?(K=Cp(Y,G.mode,re),K.return=G,K):(K=p(K,Y.children||[]),K.return=G,K)}function ne(G,K,Y,re,_e){return K===null||K.tag!==7?(K=Ro(Y,G.mode,re,_e),K.return=G,K):(K=p(K,Y),K.return=G,K)}function se(G,K,Y){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=kp(""+K,G.mode,Y),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return Y=Vd(K.type,K.key,K.props,null,G.mode,Y),Pc(Y,K),Y.return=G,Y;case _:return K=Cp(K,G.mode,Y),K.return=G,K;case O:var re=K._init;return K=re(K._payload),se(G,K,Y)}if(ye(K)||z(K))return K=Ro(K,G.mode,Y,null),K.return=G,K;if(typeof K.then=="function")return se(G,th(K),Y);if(K.$$typeof===L)return se(G,qd(G,K),Y);nh(G,K)}return null}function Q(G,K,Y,re){var _e=K!==null?K.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return _e!==null?null:N(G,K,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===_e?$(G,K,Y,re):null;case _:return Y.key===_e?X(G,K,Y,re):null;case O:return _e=Y._init,Y=_e(Y._payload),Q(G,K,Y,re)}if(ye(Y)||z(Y))return _e!==null?null:ne(G,K,Y,re,null);if(typeof Y.then=="function")return Q(G,K,th(Y),re);if(Y.$$typeof===L)return Q(G,K,qd(G,Y),re);nh(G,Y)}return null}function J(G,K,Y,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Y)||null,N(K,G,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return G=G.get(re.key===null?Y:re.key)||null,$(K,G,re,_e);case _:return G=G.get(re.key===null?Y:re.key)||null,X(K,G,re,_e);case O:var Xe=re._init;return re=Xe(re._payload),J(G,K,Y,re,_e)}if(ye(re)||z(re))return G=G.get(Y)||null,ne(K,G,re,_e,null);if(typeof re.then=="function")return J(G,K,Y,th(re),_e);if(re.$$typeof===L)return J(G,K,Y,qd(K,re),_e);nh(K,re)}return null}function Ve(G,K,Y,re){for(var _e=null,Xe=null,Te=K,Me=K=0,Nn=null;Te!==null&&Me<Y.length;Me++){Te.index>Me?(Nn=Te,Te=null):Nn=Te.sibling;var ot=Q(G,Te,Y[Me],re);if(ot===null){Te===null&&(Te=Nn);break}i&&Te&&ot.alternate===null&&s(G,Te),K=b(ot,K,Me),Xe===null?_e=ot:Xe.sibling=ot,Xe=ot,Te=Nn}if(Me===Y.length)return u(G,Te),ut&&Po(G,Me),_e;if(Te===null){for(;Me<Y.length;Me++)Te=se(G,Y[Me],re),Te!==null&&(K=b(Te,K,Me),Xe===null?_e=Te:Xe.sibling=Te,Xe=Te);return ut&&Po(G,Me),_e}for(Te=f(Te);Me<Y.length;Me++)Nn=J(Te,G,Me,Y[Me],re),Nn!==null&&(i&&Nn.alternate!==null&&Te.delete(Nn.key===null?Me:Nn.key),K=b(Nn,K,Me),Xe===null?_e=Nn:Xe.sibling=Nn,Xe=Nn);return i&&Te.forEach(function(Ps){return s(G,Ps)}),ut&&Po(G,Me),_e}function Pe(G,K,Y,re){if(Y==null)throw Error(r(151));for(var _e=null,Xe=null,Te=K,Me=K=0,Nn=null,ot=Y.next();Te!==null&&!ot.done;Me++,ot=Y.next()){Te.index>Me?(Nn=Te,Te=null):Nn=Te.sibling;var Ps=Q(G,Te,ot.value,re);if(Ps===null){Te===null&&(Te=Nn);break}i&&Te&&Ps.alternate===null&&s(G,Te),K=b(Ps,K,Me),Xe===null?_e=Ps:Xe.sibling=Ps,Xe=Ps,Te=Nn}if(ot.done)return u(G,Te),ut&&Po(G,Me),_e;if(Te===null){for(;!ot.done;Me++,ot=Y.next())ot=se(G,ot.value,re),ot!==null&&(K=b(ot,K,Me),Xe===null?_e=ot:Xe.sibling=ot,Xe=ot);return ut&&Po(G,Me),_e}for(Te=f(Te);!ot.done;Me++,ot=Y.next())ot=J(Te,G,Me,ot.value,re),ot!==null&&(i&&ot.alternate!==null&&Te.delete(ot.key===null?Me:ot.key),K=b(ot,K,Me),Xe===null?_e=ot:Xe.sibling=ot,Xe=ot);return i&&Te.forEach(function(B4){return s(G,B4)}),ut&&Po(G,Me),_e}function Et(G,K,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===E&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var _e=Y.key;K!==null;){if(K.key===_e){if(_e=Y.type,_e===E){if(K.tag===7){u(G,K.sibling),re=p(K,Y.props.children),re.return=G,G=re;break e}}else if(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&Qw(_e)===K.type){u(G,K.sibling),re=p(K,Y.props),Pc(re,Y),re.return=G,G=re;break e}u(G,K);break}else s(G,K);K=K.sibling}Y.type===E?(re=Ro(Y.props.children,G.mode,re,Y.key),re.return=G,G=re):(re=Vd(Y.type,Y.key,Y.props,null,G.mode,re),Pc(re,Y),re.return=G,G=re)}return k(G);case _:e:{for(_e=Y.key;K!==null;){if(K.key===_e)if(K.tag===4&&K.stateNode.containerInfo===Y.containerInfo&&K.stateNode.implementation===Y.implementation){u(G,K.sibling),re=p(K,Y.children||[]),re.return=G,G=re;break e}else{u(G,K);break}else s(G,K);K=K.sibling}re=Cp(Y,G.mode,re),re.return=G,G=re}return k(G);case O:return _e=Y._init,Y=_e(Y._payload),Et(G,K,Y,re)}if(ye(Y))return Ve(G,K,Y,re);if(z(Y)){if(_e=z(Y),typeof _e!="function")throw Error(r(150));return Y=_e.call(Y),Pe(G,K,Y,re)}if(typeof Y.then=="function")return Et(G,K,th(Y),re);if(Y.$$typeof===L)return Et(G,K,qd(G,Y),re);nh(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,K!==null&&K.tag===6?(u(G,K.sibling),re=p(K,Y),re.return=G,G=re):(u(G,K),re=kp(Y,G.mode,re),re.return=G,G=re),k(G)):u(G,K)}return function(G,K,Y,re){try{Dc=0;var _e=Et(G,K,Y,re);return Kl=null,_e}catch(Te){if(Te===Tc||Te===Fd)throw Te;var Xe=Mr(29,Te,null,G.mode);return Xe.lanes=re,Xe.return=G,Xe}finally{}}}var Gl=Zw(!0),Jw=Zw(!1),ai=ie(null),qi=null;function bs(i){var s=i.alternate;de(xn,xn.current&1),de(ai,i),qi===null&&(s===null||ql.current!==null||s.memoizedState!==null)&&(qi=i)}function eE(i){if(i.tag===22){if(de(xn,xn.current),de(ai,i),qi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(qi=i)}}else xs()}function xs(){de(xn,xn.current),de(ai,ai.current)}function Ta(i){ae(ai),qi===i&&(qi=null),ae(xn)}var xn=ie(0);function rh(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Xy(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function oy(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:m({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ly={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=Ur(),p=ps(f);p.payload=s,u!=null&&(p.callback=u),s=ys(i,p,f),s!==null&&(zr(s,i,f),Ac(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=Ur(),p=ps(f);p.tag=1,p.payload=s,u!=null&&(p.callback=u),s=ys(i,p,f),s!==null&&(zr(s,i,f),Ac(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ur(),f=ps(u);f.tag=2,s!=null&&(f.callback=s),s=ys(i,f,u),s!==null&&(zr(s,i,u),Ac(s,i,u))}};function tE(i,s,u,f,p,b,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,k):s.prototype&&s.prototype.isPureReactComponent?!pc(u,f)||!pc(p,b):!0}function nE(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&ly.enqueueReplaceState(s,s.state,null)}function Bo(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=m({},u));for(var p in i)u[p]===void 0&&(u[p]=i[p])}return u}var ih=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function rE(i){ih(i)}function iE(i){console.error(i)}function aE(i){ih(i)}function ah(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function sE(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function uy(i,s,u){return u=ps(u),u.tag=3,u.payload={element:null},u.callback=function(){ah(i,s)},u}function oE(i){return i=ps(i),i.tag=3,i}function lE(i,s,u,f){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var b=f.value;i.payload=function(){return p(b)},i.callback=function(){sE(s,u,f)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){sE(s,u,f),typeof p!="function"&&(As===null?As=new Set([this]):As.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function Bj(i,s,u,f,p){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&_c(s,u,p,!0),u=ai.current,u!==null){switch(u.tag){case 13:return qi===null?Dy():u.alternate===null&&Qt===0&&(Qt=3),u.flags&=-257,u.flags|=65536,u.lanes=p,f===Vp?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),My(i,f,p)),!1;case 22:return u.flags|=65536,f===Vp?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),My(i,f,p)),!1}throw Error(r(435,u.tag))}return My(i,f,p),Dy(),!1}if(ut)return s=ai.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==Ip&&(i=Error(r(422),{cause:f}),xc(ti(i,u)))):(f!==Ip&&(s=Error(r(423),{cause:f}),xc(ti(s,u))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=ti(f,u),p=uy(i.stateNode,f,p),Bp(i,p),Qt!==4&&(Qt=2)),!1;var b=Error(r(520),{cause:f});if(b=ti(b,u),Bc===null?Bc=[b]:Bc.push(b),Qt!==4&&(Qt=2),s===null)return!0;f=ti(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=p&-p,u.lanes|=i,i=uy(u.stateNode,f,i),Bp(u,i),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(As===null||!As.has(b))))return u.flags|=65536,p&=-p,u.lanes|=p,p=oE(p),lE(p,i,u,f),Bp(u,p),!1}u=u.return}while(u!==null);return!1}var uE=Error(r(461)),Cn=!1;function jn(i,s,u,f){s.child=i===null?Jw(s,null,u,f):Gl(s,i.child,u,f)}function cE(i,s,u,f,p){u=u.render;var b=s.ref;if("ref"in f){var k={};for(var N in f)N!=="ref"&&(k[N]=f[N])}else k=f;return Vo(s),f=Kp(i,s,u,k,b,p),N=Gp(),i!==null&&!Cn?(Yp(i,s,p),Sa(i,s,p)):(ut&&N&&Op(s),s.flags|=1,jn(i,s,f,p),s.child)}function fE(i,s,u,f,p){if(i===null){var b=u.type;return typeof b=="function"&&!Ap(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,dE(i,s,b,f,p)):(i=Vd(u.type,null,f,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!yy(i,p)){var k=b.memoizedProps;if(u=u.compare,u=u!==null?u:pc,u(k,f)&&i.ref===s.ref)return Sa(i,s,p)}return s.flags|=1,i=va(b,f),i.ref=s.ref,i.return=s,s.child=i}function dE(i,s,u,f,p){if(i!==null){var b=i.memoizedProps;if(pc(b,f)&&i.ref===s.ref)if(Cn=!1,s.pendingProps=f=b,yy(i,p))(i.flags&131072)!==0&&(Cn=!0);else return s.lanes=i.lanes,Sa(i,s,p)}return cy(i,s,u,f,p)}function hE(i,s,u){var f=s.pendingProps,p=f.children,b=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,i!==null){for(p=s.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;s.childLanes=b&~f}else s.childLanes=0,s.child=null;return mE(i,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&$d(s,b!==null?b.cachePool:null),b!==null?dw(s,b):$p(),eE(s);else return s.lanes=s.childLanes=536870912,mE(i,s,b!==null?b.baseLanes|u:u,u)}else b!==null?($d(s,b.cachePool),dw(s,b),xs(),s.memoizedState=null):(i!==null&&$d(s,null),$p(),xs());return jn(i,s,p,u),s.child}function mE(i,s,u,f){var p=Lp();return p=p===null?null:{parent:bn._currentValue,pool:p},s.memoizedState={baseLanes:u,cachePool:p},i!==null&&$d(s,null),$p(),eE(s),i!==null&&_c(i,s,f,!0),null}function sh(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function cy(i,s,u,f,p){return Vo(s),u=Kp(i,s,u,f,void 0,p),f=Gp(),i!==null&&!Cn?(Yp(i,s,p),Sa(i,s,p)):(ut&&f&&Op(s),s.flags|=1,jn(i,s,u,p),s.child)}function gE(i,s,u,f,p,b){return Vo(s),s.updateQueue=null,u=mw(s,f,u,p),hw(i),f=Gp(),i!==null&&!Cn?(Yp(i,s,b),Sa(i,s,b)):(ut&&f&&Op(s),s.flags|=1,jn(i,s,u,b),s.child)}function pE(i,s,u,f,p){if(Vo(s),s.stateNode===null){var b=Ll,k=u.contextType;typeof k=="object"&&k!==null&&(b=Xn(k)),b=new u(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ly,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},Up(s),k=u.contextType,b.context=typeof k=="object"&&k!==null?Xn(k):Ll,b.state=s.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(oy(s,u,k,f),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&ly.enqueueReplaceState(b,b.state,null),Cc(s,f,b,p),kc(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){b=s.stateNode;var N=s.memoizedProps,$=Bo(u,N);b.props=$;var X=b.context,ne=u.contextType;k=Ll,typeof ne=="object"&&ne!==null&&(k=Xn(ne));var se=u.getDerivedStateFromProps;ne=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||X!==k)&&nE(s,b,f,k),gs=!1;var Q=s.memoizedState;b.state=Q,Cc(s,f,b,p),kc(),X=s.memoizedState,N||Q!==X||gs?(typeof se=="function"&&(oy(s,u,se,f),X=s.memoizedState),($=gs||tE(s,u,$,f,Q,X,k))?(ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=X),b.props=f,b.state=X,b.context=k,f=$):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,zp(i,s),k=s.memoizedProps,ne=Bo(u,k),b.props=ne,se=s.pendingProps,Q=b.context,X=u.contextType,$=Ll,typeof X=="object"&&X!==null&&($=Xn(X)),N=u.getDerivedStateFromProps,(X=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==se||Q!==$)&&nE(s,b,f,$),gs=!1,Q=s.memoizedState,b.state=Q,Cc(s,f,b,p),kc();var J=s.memoizedState;k!==se||Q!==J||gs||i!==null&&i.dependencies!==null&&Bd(i.dependencies)?(typeof N=="function"&&(oy(s,u,N,f),J=s.memoizedState),(ne=gs||tE(s,u,ne,f,Q,J,$)||i!==null&&i.dependencies!==null&&Bd(i.dependencies))?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,J,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,J,$)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=J),b.props=f,b.state=J,b.context=$,f=ne):(typeof b.componentDidUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),f=!1)}return b=f,sh(i,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&f?(s.child=Gl(s,i.child,null,p),s.child=Gl(s,null,u,p)):jn(i,s,u,p),s.memoizedState=b.state,i=s.child):i=Sa(i,s,p),i}function yE(i,s,u,f){return bc(),s.flags|=256,jn(i,s,u,f),s.child}var fy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dy(i){return{baseLanes:i,cachePool:iw()}}function hy(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=si),i}function vE(i,s,u){var f=s.pendingProps,p=!1,b=(s.flags&128)!==0,k;if((k=b)||(k=i!==null&&i.memoizedState===null?!1:(xn.current&2)!==0),k&&(p=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,i===null){if(ut){if(p?bs(s):xs(),ut){var N=Xt,$;if($=N){e:{for($=N,N=Bi;$.nodeType!==8;){if(!N){N=null;break e}if($=ki($.nextSibling),$===null){N=null;break e}}N=$}N!==null?(s.memoizedState={dehydrated:N,treeContext:Do!==null?{id:ba,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},$=Mr(18,null,null,0),$.stateNode=N,$.return=s,s.child=$,fr=s,Xt=null,$=!0):$=!1}$||jo(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Xy(N)?s.lanes=32:s.lanes=536870912,null;Ta(s)}return N=f.children,f=f.fallback,p?(xs(),p=s.mode,N=oh({mode:"hidden",children:N},p),f=Ro(f,p,u,null),N.return=s,f.return=s,N.sibling=f,s.child=N,p=s.child,p.memoizedState=dy(u),p.childLanes=hy(i,k,u),s.memoizedState=fy,f):(bs(s),my(s,N))}if($=i.memoizedState,$!==null&&(N=$.dehydrated,N!==null)){if(b)s.flags&256?(bs(s),s.flags&=-257,s=gy(i,s,u)):s.memoizedState!==null?(xs(),s.child=i.child,s.flags|=128,s=null):(xs(),p=f.fallback,N=s.mode,f=oh({mode:"visible",children:f.children},N),p=Ro(p,N,u,null),p.flags|=2,f.return=s,p.return=s,f.sibling=p,s.child=f,Gl(s,i.child,null,u),f=s.child,f.memoizedState=dy(u),f.childLanes=hy(i,k,u),s.memoizedState=fy,s=p);else if(bs(s),Xy(N)){if(k=N.nextSibling&&N.nextSibling.dataset,k)var X=k.dgst;k=X,f=Error(r(419)),f.stack="",f.digest=k,xc({value:f,source:null,stack:null}),s=gy(i,s,u)}else if(Cn||_c(i,s,u,!1),k=(u&i.childLanes)!==0,Cn||k){if(k=Nt,k!==null&&(f=u&-u,f=(f&42)!==0?1:go(f),f=(f&(k.suspendedLanes|u))!==0?0:f,f!==0&&f!==$.retryLane))throw $.retryLane=f,jl(i,f),zr(k,i,f),uE;N.data==="$?"||Dy(),s=gy(i,s,u)}else N.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=$.treeContext,Xt=ki(N.nextSibling),fr=s,ut=!0,Mo=null,Bi=!1,i!==null&&(ri[ii++]=ba,ri[ii++]=xa,ri[ii++]=Do,ba=i.id,xa=i.overflow,Do=s),s=my(s,f.children),s.flags|=4096);return s}return p?(xs(),p=f.fallback,N=s.mode,$=i.child,X=$.sibling,f=va($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,X!==null?p=va(X,p):(p=Ro(p,N,u,null),p.flags|=2),p.return=s,f.return=s,f.sibling=p,s.child=f,f=p,p=s.child,N=i.child.memoizedState,N===null?N=dy(u):($=N.cachePool,$!==null?(X=bn._currentValue,$=$.parent!==X?{parent:X,pool:X}:$):$=iw(),N={baseLanes:N.baseLanes|u,cachePool:$}),p.memoizedState=N,p.childLanes=hy(i,k,u),s.memoizedState=fy,f):(bs(s),u=i.child,i=u.sibling,u=va(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(k=s.deletions,k===null?(s.deletions=[i],s.flags|=16):k.push(i)),s.child=u,s.memoizedState=null,u)}function my(i,s){return s=oh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function oh(i,s){return i=Mr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function gy(i,s,u){return Gl(s,i.child,null,u),i=my(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function bE(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Dp(i.return,s,u)}function py(i,s,u,f,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=p)}function xE(i,s,u){var f=s.pendingProps,p=f.revealOrder,b=f.tail;if(jn(i,s,f.children,u),f=xn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bE(i,u,s);else if(i.tag===19)bE(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(de(xn,f),p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&rh(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),py(s,!1,p,u,b);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&rh(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}py(s,!0,u,null,b);break;case"together":py(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Sa(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Ss|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(_c(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=va(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=va(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function yy(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Bd(i)))}function qj(i,s,u){switch(s.tag){case 3:st(s,s.stateNode.containerInfo),ms(s,bn,i.memoizedState.cache),bc();break;case 27:case 5:Be(s);break;case 4:st(s,s.stateNode.containerInfo);break;case 10:ms(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(bs(s),s.flags|=128,null):(u&s.child.childLanes)!==0?vE(i,s,u):(bs(s),i=Sa(i,s,u),i!==null?i.sibling:null);bs(s);break;case 19:var p=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(_c(i,s,u,!1),f=(u&s.childLanes)!==0),p){if(f)return xE(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),de(xn,xn.current),f)break;return null;case 22:case 23:return s.lanes=0,hE(i,s,u);case 24:ms(s,bn,i.memoizedState.cache)}return Sa(i,s,u)}function _E(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Cn=!0;else{if(!yy(i,u)&&(s.flags&128)===0)return Cn=!1,qj(i,s,u);Cn=(i.flags&131072)!==0}else Cn=!1,ut&&(s.flags&1048576)!==0&&Q1(s,zd,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,p=f._init;if(f=p(f._payload),s.type=f,typeof f=="function")Ap(f)?(i=Bo(f,i),s.tag=1,s=pE(null,s,f,i,u)):(s.tag=0,s=cy(null,s,f,i,u));else{if(f!=null){if(p=f.$$typeof,p===B){s.tag=11,s=cE(null,s,f,i,u);break e}else if(p===R){s.tag=14,s=fE(null,s,f,i,u);break e}}throw s=pe(f)||f,Error(r(306,s,""))}}return s;case 0:return cy(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,p=Bo(f,s.pendingProps),pE(i,s,f,p,u);case 3:e:{if(st(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var b=s.memoizedState;p=b.element,zp(i,s),Cc(s,f,null,u);var k=s.memoizedState;if(f=k.cache,ms(s,bn,f),f!==b.cache&&Pp(s,[bn],u,!0),kc(),f=k.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=yE(i,s,f,u);break e}else if(f!==p){p=ti(Error(r(424)),s),xc(p),s=yE(i,s,f,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xt=ki(i.firstChild),fr=s,ut=!0,Mo=null,Bi=!0,u=Jw(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(bc(),f===p){s=Sa(i,s,u);break e}jn(i,s,f,u)}s=s.child}return s;case 26:return sh(i,s),i===null?(u=ST(s.type,null,s.pendingProps,null))?s.memoizedState=u:ut||(u=s.type,i=s.pendingProps,f=_h(Ie.current).createElement(u),f[Bt]=s,f[ln]=i,Vn(f,u,i),Ct(f),s.stateNode=f):s.memoizedState=ST(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Be(s),i===null&&ut&&(f=s.stateNode=wT(s.type,s.pendingProps,Ie.current),fr=s,Bi=!0,p=Xt,Os(s.type)?(Qy=p,Xt=ki(f.firstChild)):Xt=p),jn(i,s,s.pendingProps.children,u),sh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ut&&((p=f=Xt)&&(f=p4(f,s.type,s.pendingProps,Bi),f!==null?(s.stateNode=f,fr=s,Xt=ki(f.firstChild),Bi=!1,p=!0):p=!1),p||jo(s)),Be(s),p=s.type,b=s.pendingProps,k=i!==null?i.memoizedProps:null,f=b.children,Gy(p,b)?f=null:k!==null&&Gy(p,k)&&(s.flags|=32),s.memoizedState!==null&&(p=Kp(i,s,Pj,null,null,u),Xc._currentValue=p),sh(i,s),jn(i,s,f,u),s.child;case 6:return i===null&&ut&&((i=u=Xt)&&(u=y4(u,s.pendingProps,Bi),u!==null?(s.stateNode=u,fr=s,Xt=null,i=!0):i=!1),i||jo(s)),null;case 13:return vE(i,s,u);case 4:return st(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Gl(s,null,f,u):jn(i,s,f,u),s.child;case 11:return cE(i,s,s.type,s.pendingProps,u);case 7:return jn(i,s,s.pendingProps,u),s.child;case 8:return jn(i,s,s.pendingProps.children,u),s.child;case 12:return jn(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,ms(s,s.type,f.value),jn(i,s,f.children,u),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,Vo(s),p=Xn(p),f=f(p),s.flags|=1,jn(i,s,f,u),s.child;case 14:return fE(i,s,s.type,s.pendingProps,u);case 15:return dE(i,s,s.type,s.pendingProps,u);case 19:return xE(i,s,u);case 31:return f=s.pendingProps,u=s.mode,f={mode:f.mode,children:f.children},i===null?(u=oh(f,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=va(i.child,f),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return hE(i,s,u);case 24:return Vo(s),f=Xn(bn),i===null?(p=Lp(),p===null&&(p=Nt,b=Mp(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=u),p=b),s.memoizedState={parent:f,cache:p},Up(s),ms(s,bn,p)):((i.lanes&u)!==0&&(zp(i,s),Cc(s,null,null,u),kc()),p=i.memoizedState,b=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ms(s,bn,f)):(f=b.cache,ms(s,bn,f),f!==p.cache&&Pp(s,[bn],u,!0))),jn(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Aa(i){i.flags|=4}function wE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!NT(s)){if(s=ai.current,s!==null&&((rt&4194048)===rt?qi!==null:(rt&62914560)!==rt&&(rt&536870912)===0||s!==qi))throw Sc=Vp,aw;i.flags|=8192}}function lh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Xr():536870912,i.lanes|=s,Ql|=s)}function Mc(i,s){if(!ut)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function $t(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function $j(i,s,u){var f=s.pendingProps;switch(Np(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return $t(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),wa(bn),me(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(vc(s)?Aa(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ew())),$t(s),null;case 26:return u=s.memoizedState,i===null?(Aa(s),u!==null?($t(s),wE(s,u)):($t(s),s.flags&=-16777217)):u?u!==i.memoizedState?(Aa(s),$t(s),wE(s,u)):($t(s),s.flags&=-16777217):(i.memoizedProps!==f&&Aa(s),$t(s),s.flags&=-16777217),null;case 27:He(s),u=Ie.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Aa(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return $t(s),null}i=we.current,vc(s)?Z1(s):(i=wT(p,f,u),s.stateNode=i,Aa(s))}return $t(s),null;case 5:if(He(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Aa(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return $t(s),null}if(i=we.current,vc(s))Z1(s);else{switch(p=_h(Ie.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(u,{is:f.is}):p.createElement(u)}}i[Bt]=s,i[ln]=f;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Vn(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Aa(s)}}return $t(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Aa(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ie.current,vc(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,p=fr,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[Bt]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||gT(i.nodeValue,u)),i||jo(s)}else i=_h(i).createTextNode(f),i[Bt]=s,s.stateNode=i}return $t(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=vc(s),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Bt]=s}else bc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),p=!1}else p=ew(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Ta(s),s):(Ta(s),null)}if(Ta(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==p&&(f.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),lh(s,s.updateQueue),$t(s),null;case 4:return me(),i===null&&qy(s.stateNode.containerInfo),$t(s),null;case 10:return wa(s.type),$t(s),null;case 19:if(ae(xn),p=s.memoizedState,p===null)return $t(s),null;if(f=(s.flags&128)!==0,b=p.rendering,b===null)if(f)Mc(p,!1);else{if(Qt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=rh(i),b!==null){for(s.flags|=128,Mc(p,!1),i=b.updateQueue,s.updateQueue=i,lh(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)X1(u,i),u=u.sibling;return de(xn,xn.current&1|2),s.child}i=i.sibling}p.tail!==null&&Tt()>fh&&(s.flags|=128,f=!0,Mc(p,!1),s.lanes=4194304)}else{if(!f)if(i=rh(b),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,lh(s,i),Mc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!ut)return $t(s),null}else 2*Tt()-p.renderingStartTime>fh&&u!==536870912&&(s.flags|=128,f=!0,Mc(p,!1),s.lanes=4194304);p.isBackwards?(b.sibling=s.child,s.child=b):(i=p.last,i!==null?i.sibling=b:s.child=b,p.last=b)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Tt(),s.sibling=null,i=xn.current,de(xn,f?i&1|2:i&1),s):($t(s),null);case 22:case 23:return Ta(s),Fp(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),u=s.updateQueue,u!==null&&lh(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&ae(Uo),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),wa(bn),$t(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Fj(i,s){switch(Np(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return wa(bn),me(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return He(s),null;case 13:if(Ta(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));bc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(xn),null;case 4:return me(),null;case 10:return wa(s.type),null;case 22:case 23:return Ta(s),Fp(),i!==null&&ae(Uo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return wa(bn),null;case 25:return null;default:return null}}function EE(i,s){switch(Np(s),s.tag){case 3:wa(bn),me();break;case 26:case 27:case 5:He(s);break;case 4:me();break;case 13:Ta(s);break;case 19:ae(xn);break;case 10:wa(s.type);break;case 22:case 23:Ta(s),Fp(),i!==null&&ae(Uo);break;case 24:wa(bn)}}function jc(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){f=void 0;var b=u.create,k=u.inst;f=b(),k.destroy=f}u=u.next}while(u!==p)}}catch(N){At(s,s.return,N)}}function _s(i,s,u){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&i)===i){var k=f.inst,N=k.destroy;if(N!==void 0){k.destroy=void 0,p=s;var $=u,X=N;try{X()}catch(ne){At(p,$,ne)}}}f=f.next}while(f!==b)}}catch(ne){At(s,s.return,ne)}}function TE(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{fw(s,u)}catch(f){At(i,i.return,f)}}}function SE(i,s,u){u.props=Bo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){At(i,s,f)}}function Lc(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(p){At(i,s,p)}}function $i(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(p){At(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){At(i,s,p)}else u.current=null}function AE(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(p){At(i,i.return,p)}}function vy(i,s,u){try{var f=i.stateNode;f4(f,i.type,u,s),f[ln]=s}catch(p){At(i,i.return,p)}}function kE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Os(i.type)||i.tag===4}function by(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||kE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Os(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xy(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=xh));else if(f!==4&&(f===27&&Os(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(xy(i,s,u),i=i.sibling;i!==null;)xy(i,s,u),i=i.sibling}function uh(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&Os(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(uh(i,s,u),i=i.sibling;i!==null;)uh(i,s,u),i=i.sibling}function CE(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Vn(s,f,u),s[Bt]=i,s[ln]=u}catch(b){At(i,i.return,b)}}var ka=!1,rn=!1,_y=!1,OE=typeof WeakSet=="function"?WeakSet:Set,On=null;function Hj(i,s){if(i=i.containerInfo,Hy=kh,i=z1(i),bp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var k=0,N=-1,$=-1,X=0,ne=0,se=i,Q=null;t:for(;;){for(var J;se!==u||p!==0&&se.nodeType!==3||(N=k+p),se!==b||f!==0&&se.nodeType!==3||($=k+f),se.nodeType===3&&(k+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===i)break t;if(Q===u&&++X===p&&(N=k),Q===b&&++ne===f&&($=k),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}u=N===-1||$===-1?null:{start:N,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ky={focusedElem:i,selectionRange:u},kh=!1,On=s;On!==null;)if(s=On,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,On=i;else for(;On!==null;){switch(s=On,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=s,p=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var Ve=Bo(u.type,p,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(Ve,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){At(u,u.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Wy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,On=i;break}On=s.return}}function NE(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ws(i,u),f&4&&jc(5,u);break;case 1:if(ws(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(k){At(u,u.return,k)}else{var p=Bo(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(k){At(u,u.return,k)}}f&64&&TE(u),f&512&&Lc(u,u.return);break;case 3:if(ws(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{fw(i,s)}catch(k){At(u,u.return,k)}}break;case 27:s===null&&f&4&&CE(u);case 26:case 5:ws(i,u),s===null&&f&4&&AE(u),f&512&&Lc(u,u.return);break;case 12:ws(i,u);break;case 13:ws(i,u),f&4&&DE(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=e4.bind(null,u),v4(i,u))));break;case 22:if(f=u.memoizedState!==null||ka,!f){s=s!==null&&s.memoizedState!==null||rn,p=ka;var b=rn;ka=f,(rn=s)&&!b?Es(i,u,(u.subtreeFlags&8772)!==0):ws(i,u),ka=p,rn=b}break;case 30:break;default:ws(i,u)}}function IE(i){var s=i.alternate;s!==null&&(i.alternate=null,IE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&at(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Vt=null,wr=!1;function Ca(i,s,u){for(u=u.child;u!==null;)RE(i,s,u),u=u.sibling}function RE(i,s,u){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(sr,u)}catch{}switch(u.tag){case 26:rn||$i(u,s),Ca(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:rn||$i(u,s);var f=Vt,p=wr;Os(u.type)&&(Vt=u.stateNode,wr=!1),Ca(i,s,u),Kc(u.stateNode),Vt=f,wr=p;break;case 5:rn||$i(u,s);case 6:if(f=Vt,p=wr,Vt=null,Ca(i,s,u),Vt=f,wr=p,Vt!==null)if(wr)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(u.stateNode)}catch(b){At(u,s,b)}else try{Vt.removeChild(u.stateNode)}catch(b){At(u,s,b)}break;case 18:Vt!==null&&(wr?(i=Vt,xT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ef(i)):xT(Vt,u.stateNode));break;case 4:f=Vt,p=wr,Vt=u.stateNode.containerInfo,wr=!0,Ca(i,s,u),Vt=f,wr=p;break;case 0:case 11:case 14:case 15:rn||_s(2,u,s),rn||_s(4,u,s),Ca(i,s,u);break;case 1:rn||($i(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&SE(u,s,f)),Ca(i,s,u);break;case 21:Ca(i,s,u);break;case 22:rn=(f=rn)||u.memoizedState!==null,Ca(i,s,u),rn=f;break;default:Ca(i,s,u)}}function DE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ef(i)}catch(u){At(s,s.return,u)}}function Kj(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new OE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new OE),s;default:throw Error(r(435,i.tag))}}function wy(i,s){var u=Kj(i);s.forEach(function(f){var p=t4.bind(null,i,f);u.has(f)||(u.add(f),f.then(p,p))})}function jr(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f],b=i,k=s,N=k;e:for(;N!==null;){switch(N.tag){case 27:if(Os(N.type)){Vt=N.stateNode,wr=!1;break e}break;case 5:Vt=N.stateNode,wr=!1;break e;case 3:case 4:Vt=N.stateNode.containerInfo,wr=!0;break e}N=N.return}if(Vt===null)throw Error(r(160));RE(b,k,p),Vt=null,wr=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)PE(s,i),s=s.sibling}var Ai=null;function PE(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jr(s,i),Lr(i),f&4&&(_s(3,i,i.return),jc(3,i),_s(5,i,i.return));break;case 1:jr(s,i),Lr(i),f&512&&(rn||u===null||$i(u,u.return)),f&64&&ka&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var p=Ai;if(jr(s,i),Lr(i),f&512&&(rn||u===null||$i(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":b=p.getElementsByTagName("title")[0],(!b||b[Ke]||b[Bt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(f),p.head.insertBefore(b,p.querySelector("head > title"))),Vn(b,f,u),b[Bt]=i,Ct(b),f=b;break e;case"link":var k=CT("link","href",p).get(f+(u.href||""));if(k){for(var N=0;N<k.length;N++)if(b=k[N],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(N,1);break t}}b=p.createElement(f),Vn(b,f,u),p.head.appendChild(b);break;case"meta":if(k=CT("meta","content",p).get(f+(u.content||""))){for(N=0;N<k.length;N++)if(b=k[N],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(N,1);break t}}b=p.createElement(f),Vn(b,f,u),p.head.appendChild(b);break;default:throw Error(r(468,f))}b[Bt]=i,Ct(b),f=b}i.stateNode=f}else OT(p,i.type,i.stateNode);else i.stateNode=kT(p,f,i.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?OT(p,i.type,i.stateNode):kT(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&vy(i,i.memoizedProps,u.memoizedProps)}break;case 27:jr(s,i),Lr(i),f&512&&(rn||u===null||$i(u,u.return)),u!==null&&f&4&&vy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(jr(s,i),Lr(i),f&512&&(rn||u===null||$i(u,u.return)),i.flags&32){p=i.stateNode;try{Jr(p,"")}catch(J){At(i,i.return,J)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,vy(i,p,u!==null?u.memoizedProps:p)),f&1024&&(_y=!0);break;case 6:if(jr(s,i),Lr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(J){At(i,i.return,J)}}break;case 3:if(Th=null,p=Ai,Ai=wh(s.containerInfo),jr(s,i),Ai=p,Lr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ef(s.containerInfo)}catch(J){At(i,i.return,J)}_y&&(_y=!1,ME(i));break;case 4:f=Ai,Ai=wh(i.stateNode.containerInfo),jr(s,i),Lr(i),Ai=f;break;case 12:jr(s,i),Lr(i);break;case 13:jr(s,i),Lr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Cy=Tt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,wy(i,f)));break;case 22:p=i.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,X=ka,ne=rn;if(ka=X||p,rn=ne||$,jr(s,i),rn=ne,ka=X,Lr(i),f&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(u===null||$||ka||rn||qo(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){$=u=s;try{if(b=$.stateNode,p)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{N=$.stateNode;var se=$.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;N.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(J){At($,$.return,J)}}}else if(s.tag===6){if(u===null){$=s;try{$.stateNode.nodeValue=p?"":$.memoizedProps}catch(J){At($,$.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,wy(i,u))));break;case 19:jr(s,i),Lr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,wy(i,f)));break;case 30:break;case 21:break;default:jr(s,i),Lr(i)}}function Lr(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(kE(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var p=u.stateNode,b=by(i);uh(i,b,p);break;case 5:var k=u.stateNode;u.flags&32&&(Jr(k,""),u.flags&=-33);var N=by(i);uh(i,N,k);break;case 3:case 4:var $=u.stateNode.containerInfo,X=by(i);xy(i,X,$);break;default:throw Error(r(161))}}catch(ne){At(i,i.return,ne)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ME(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ME(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ws(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)NE(i,s.alternate,s),s=s.sibling}function qo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:_s(4,s,s.return),qo(s);break;case 1:$i(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&SE(s,s.return,u),qo(s);break;case 27:Kc(s.stateNode);case 26:case 5:$i(s,s.return),qo(s);break;case 22:s.memoizedState===null&&qo(s);break;case 30:qo(s);break;default:qo(s)}i=i.sibling}}function Es(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=i,b=s,k=b.flags;switch(b.tag){case 0:case 11:case 15:Es(p,b,u),jc(4,b);break;case 1:if(Es(p,b,u),f=b,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){At(f,f.return,X)}if(f=b,p=f.updateQueue,p!==null){var N=f.stateNode;try{var $=p.shared.hiddenCallbacks;if($!==null)for(p.shared.hiddenCallbacks=null,p=0;p<$.length;p++)cw($[p],N)}catch(X){At(f,f.return,X)}}u&&k&64&&TE(b),Lc(b,b.return);break;case 27:CE(b);case 26:case 5:Es(p,b,u),u&&f===null&&k&4&&AE(b),Lc(b,b.return);break;case 12:Es(p,b,u);break;case 13:Es(p,b,u),u&&k&4&&DE(p,b);break;case 22:b.memoizedState===null&&Es(p,b,u),Lc(b,b.return);break;case 30:break;default:Es(p,b,u)}s=s.sibling}}function Ey(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&wc(u))}function Ty(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&wc(i))}function Fi(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jE(i,s,u,f),s=s.sibling}function jE(i,s,u,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(i,s,u,f),p&2048&&jc(9,s);break;case 1:Fi(i,s,u,f);break;case 3:Fi(i,s,u,f),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&wc(i)));break;case 12:if(p&2048){Fi(i,s,u,f),i=s.stateNode;try{var b=s.memoizedProps,k=b.id,N=b.onPostCommit;typeof N=="function"&&N(k,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){At(s,s.return,$)}}else Fi(i,s,u,f);break;case 13:Fi(i,s,u,f);break;case 23:break;case 22:b=s.stateNode,k=s.alternate,s.memoizedState!==null?b._visibility&2?Fi(i,s,u,f):Vc(i,s):b._visibility&2?Fi(i,s,u,f):(b._visibility|=2,Yl(i,s,u,f,(s.subtreeFlags&10256)!==0)),p&2048&&Ey(k,s);break;case 24:Fi(i,s,u,f),p&2048&&Ty(s.alternate,s);break;default:Fi(i,s,u,f)}}function Yl(i,s,u,f,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,k=s,N=u,$=f,X=k.flags;switch(k.tag){case 0:case 11:case 15:Yl(b,k,N,$,p),jc(8,k);break;case 23:break;case 22:var ne=k.stateNode;k.memoizedState!==null?ne._visibility&2?Yl(b,k,N,$,p):Vc(b,k):(ne._visibility|=2,Yl(b,k,N,$,p)),p&&X&2048&&Ey(k.alternate,k);break;case 24:Yl(b,k,N,$,p),p&&X&2048&&Ty(k.alternate,k);break;default:Yl(b,k,N,$,p)}s=s.sibling}}function Vc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,p=f.flags;switch(f.tag){case 22:Vc(u,f),p&2048&&Ey(f.alternate,f);break;case 24:Vc(u,f),p&2048&&Ty(f.alternate,f);break;default:Vc(u,f)}s=s.sibling}}var Uc=8192;function Wl(i){if(i.subtreeFlags&Uc)for(i=i.child;i!==null;)LE(i),i=i.sibling}function LE(i){switch(i.tag){case 26:Wl(i),i.flags&Uc&&i.memoizedState!==null&&I4(Ai,i.memoizedState,i.memoizedProps);break;case 5:Wl(i);break;case 3:case 4:var s=Ai;Ai=wh(i.stateNode.containerInfo),Wl(i),Ai=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Uc,Uc=16777216,Wl(i),Uc=s):Wl(i));break;default:Wl(i)}}function VE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];On=f,zE(f,i)}VE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)UE(i),i=i.sibling}function UE(i){switch(i.tag){case 0:case 11:case 15:zc(i),i.flags&2048&&_s(9,i,i.return);break;case 3:zc(i);break;case 12:zc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ch(i)):zc(i);break;default:zc(i)}}function ch(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];On=f,zE(f,i)}VE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:_s(8,s,s.return),ch(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,ch(s));break;default:ch(s)}i=i.sibling}}function zE(i,s){for(;On!==null;){var u=On;switch(u.tag){case 0:case 11:case 15:_s(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:wc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,On=f;else e:for(u=i;On!==null;){f=On;var p=f.sibling,b=f.return;if(IE(f),f===u){On=null;break e}if(p!==null){p.return=b,On=p;break e}On=b}}}var Gj={getCacheForType:function(i){var s=Xn(bn),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},Yj=typeof WeakMap=="function"?WeakMap:Map,pt=0,Nt=null,Qe=null,rt=0,yt=0,Vr=null,Ts=!1,Xl=!1,Sy=!1,Oa=0,Qt=0,Ss=0,$o=0,Ay=0,si=0,Ql=0,Bc=null,Er=null,ky=!1,Cy=0,fh=1/0,dh=null,As=null,Ln=0,ks=null,Zl=null,Jl=0,Oy=0,Ny=null,BE=null,qc=0,Iy=null;function Ur(){if((pt&2)!==0&&rt!==0)return rt&-rt;if(Z.T!==null){var i=zl;return i!==0?i:Vy()}return Ir()}function qE(){si===0&&(si=(rt&536870912)===0||ut?Wt():536870912);var i=ai.current;return i!==null&&(i.flags|=32),si}function zr(i,s,u){(i===Nt&&(yt===2||yt===9)||i.cancelPendingCommit!==null)&&(eu(i,0),Cs(i,rt,si,!1)),ct(i,u),((pt&2)===0||i!==Nt)&&(i===Nt&&((pt&2)===0&&($o|=u),Qt===4&&Cs(i,rt,si,!1)),Hi(i))}function $E(i,s,u){if((pt&6)!==0)throw Error(r(327));var f=!u&&(s&124)===0&&(s&i.expiredLanes)===0||Pi(i,s),p=f?Qj(i,s):Py(i,s,!0),b=f;do{if(p===0){Xl&&!f&&Cs(i,s,0,!1);break}else{if(u=i.current.alternate,b&&!Wj(u)){p=Py(i,s,!1),b=!1;continue}if(p===2){if(b=s,i.errorRecoveryDisabledLanes&b)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;e:{var N=i;p=Bc;var $=N.current.memoizedState.isDehydrated;if($&&(eu(N,k).flags|=256),k=Py(N,k,!1),k!==2){if(Sy&&!$){N.errorRecoveryDisabledLanes|=b,$o|=b,p=4;break e}b=Er,Er=p,b!==null&&(Er===null?Er=b:Er.push.apply(Er,b))}p=k}if(b=!1,p!==2)continue}}if(p===1){eu(i,0),Cs(i,s,0,!0);break}e:{switch(f=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Cs(f,s,si,!Ts);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Cy+300-Tt(),10<p)){if(Cs(f,s,si,!Ts),yr(f,0,!0)!==0)break e;f.timeoutHandle=vT(FE.bind(null,f,u,Er,dh,ky,s,si,$o,Ql,Ts,b,2,-0,0),p);break e}FE(f,u,Er,dh,ky,s,si,$o,Ql,Ts,b,0,-0,0)}}break}while(!0);Hi(i)}function FE(i,s,u,f,p,b,k,N,$,X,ne,se,Q,J){if(i.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Wc={stylesheets:null,count:0,unsuspend:N4},LE(s),se=R4(),se!==null)){i.cancelPendingCommit=se(QE.bind(null,i,s,b,u,f,p,k,N,$,ne,1,Q,J)),Cs(i,b,k,!X);return}QE(i,s,b,u,f,p,k,N,$)}function Wj(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var p=u[f],b=p.getSnapshot;p=p.value;try{if(!Pr(b(),p))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cs(i,s,u,f){s&=~Ay,s&=~$o,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var p=s;0<p;){var b=31-An(p),k=1<<b;f[b]=-1,p&=~k}u!==0&&Mi(i,u,s)}function hh(){return(pt&6)===0?($c(0),!1):!0}function Ry(){if(Qe!==null){if(yt===0)var i=Qe.return;else i=Qe,_a=Lo=null,Wp(i),Kl=null,Dc=0,i=Qe;for(;i!==null;)EE(i.alternate,i),i=i.return;Qe=null}}function eu(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,h4(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ry(),Nt=i,Qe=u=va(i.current,null),rt=s,yt=0,Vr=null,Ts=!1,Xl=Pi(i,s),Sy=!1,Ql=si=Ay=$o=Ss=Qt=0,Er=Bc=null,ky=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var p=31-An(f),b=1<<p;s|=i[p],f&=~b}return Oa=s,Md(),u}function HE(i,s){Ye=null,Z.H=eh,s===Tc||s===Fd?(s=lw(),yt=3):s===aw?(s=lw(),yt=4):yt=s===uE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vr=s,Qe===null&&(Qt=1,ah(i,ti(s,i.current)))}function KE(){var i=Z.H;return Z.H=eh,i===null?eh:i}function GE(){var i=Z.A;return Z.A=Gj,i}function Dy(){Qt=4,Ts||(rt&4194048)!==rt&&ai.current!==null||(Xl=!0),(Ss&134217727)===0&&($o&134217727)===0||Nt===null||Cs(Nt,rt,si,!1)}function Py(i,s,u){var f=pt;pt|=2;var p=KE(),b=GE();(Nt!==i||rt!==s)&&(dh=null,eu(i,s)),s=!1;var k=Qt;e:do try{if(yt!==0&&Qe!==null){var N=Qe,$=Vr;switch(yt){case 8:Ry(),k=6;break e;case 3:case 2:case 9:case 6:ai.current===null&&(s=!0);var X=yt;if(yt=0,Vr=null,tu(i,N,$,X),u&&Xl){k=0;break e}break;default:X=yt,yt=0,Vr=null,tu(i,N,$,X)}}Xj(),k=Qt;break}catch(ne){HE(i,ne)}while(!0);return s&&i.shellSuspendCounter++,_a=Lo=null,pt=f,Z.H=p,Z.A=b,Qe===null&&(Nt=null,rt=0,Md()),k}function Xj(){for(;Qe!==null;)YE(Qe)}function Qj(i,s){var u=pt;pt|=2;var f=KE(),p=GE();Nt!==i||rt!==s?(dh=null,fh=Tt()+500,eu(i,s)):Xl=Pi(i,s);e:do try{if(yt!==0&&Qe!==null){s=Qe;var b=Vr;t:switch(yt){case 1:yt=0,Vr=null,tu(i,s,b,1);break;case 2:case 9:if(sw(b)){yt=0,Vr=null,WE(s);break}s=function(){yt!==2&&yt!==9||Nt!==i||(yt=7),Hi(i)},b.then(s,s);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:sw(b)?(yt=0,Vr=null,WE(s)):(yt=0,Vr=null,tu(i,s,b,7));break;case 5:var k=null;switch(Qe.tag){case 26:k=Qe.memoizedState;case 5:case 27:var N=Qe;if(!k||NT(k)){yt=0,Vr=null;var $=N.sibling;if($!==null)Qe=$;else{var X=N.return;X!==null?(Qe=X,mh(X)):Qe=null}break t}}yt=0,Vr=null,tu(i,s,b,5);break;case 6:yt=0,Vr=null,tu(i,s,b,6);break;case 8:Ry(),Qt=6;break e;default:throw Error(r(462))}}Zj();break}catch(ne){HE(i,ne)}while(!0);return _a=Lo=null,Z.H=f,Z.A=p,pt=u,Qe!==null?0:(Nt=null,rt=0,Md(),Qt)}function Zj(){for(;Qe!==null&&!Gt();)YE(Qe)}function YE(i){var s=_E(i.alternate,i,Oa);i.memoizedProps=i.pendingProps,s===null?mh(i):Qe=s}function WE(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=gE(u,s,s.pendingProps,s.type,void 0,rt);break;case 11:s=gE(u,s,s.pendingProps,s.type.render,s.ref,rt);break;case 5:Wp(s);default:EE(u,s),s=Qe=X1(s,Oa),s=_E(u,s,Oa)}i.memoizedProps=i.pendingProps,s===null?mh(i):Qe=s}function tu(i,s,u,f){_a=Lo=null,Wp(s),Kl=null,Dc=0;var p=s.return;try{if(Bj(i,p,s,u,rt)){Qt=1,ah(i,ti(u,i.current)),Qe=null;return}}catch(b){if(p!==null)throw Qe=p,b;Qt=1,ah(i,ti(u,i.current)),Qe=null;return}s.flags&32768?(ut||f===1?i=!0:Xl||(rt&536870912)!==0?i=!1:(Ts=i=!0,(f===2||f===9||f===3||f===6)&&(f=ai.current,f!==null&&f.tag===13&&(f.flags|=16384))),XE(s,i)):mh(s)}function mh(i){var s=i;do{if((s.flags&32768)!==0){XE(s,Ts);return}i=s.return;var u=$j(s.alternate,s,Oa);if(u!==null){Qe=u;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=i}while(s!==null);Qt===0&&(Qt=5)}function XE(i,s){do{var u=Fj(i.alternate,i);if(u!==null){u.flags&=32767,Qe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=u}while(i!==null);Qt=6,Qe=null}function QE(i,s,u,f,p,b,k,N,$){i.cancelPendingCommit=null;do gh();while(Ln!==0);if((pt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Tp,Sl(i,u,b,k,N,$),i===Nt&&(Qe=Nt=null,rt=0),Zl=s,ks=i,Jl=u,Oy=b,Ny=p,BE=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,n4(Cr,function(){return nT(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,p=ue.p,ue.p=2,k=pt,pt|=4;try{Hj(i,s,u)}finally{pt=k,ue.p=p,Z.T=f}}Ln=1,ZE(),JE(),eT()}}function ZE(){if(Ln===1){Ln=0;var i=ks,s=Zl,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var f=ue.p;ue.p=2;var p=pt;pt|=4;try{PE(s,i);var b=Ky,k=z1(i.containerInfo),N=b.focusedElem,$=b.selectionRange;if(k!==N&&N&&N.ownerDocument&&U1(N.ownerDocument.documentElement,N)){if($!==null&&bp(N)){var X=$.start,ne=$.end;if(ne===void 0&&(ne=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(ne,N.value.length);else{var se=N.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),Ve=N.textContent.length,Pe=Math.min($.start,Ve),Et=$.end===void 0?Pe:Math.min($.end,Ve);!J.extend&&Pe>Et&&(k=Et,Et=Pe,Pe=k);var G=V1(N,Pe),K=V1(N,Et);if(G&&K&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==K.node||J.focusOffset!==K.offset)){var Y=se.createRange();Y.setStart(G.node,G.offset),J.removeAllRanges(),Pe>Et?(J.addRange(Y),J.extend(K.node,K.offset)):(Y.setEnd(K.node,K.offset),J.addRange(Y))}}}}for(se=[],J=N;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<se.length;N++){var re=se[N];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}kh=!!Hy,Ky=Hy=null}finally{pt=p,ue.p=f,Z.T=u}}i.current=s,Ln=2}}function JE(){if(Ln===2){Ln=0;var i=ks,s=Zl,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var f=ue.p;ue.p=2;var p=pt;pt|=4;try{NE(i,s.alternate,s)}finally{pt=p,ue.p=f,Z.T=u}}Ln=3}}function eT(){if(Ln===4||Ln===3){Ln=0,Jt();var i=ks,s=Zl,u=Jl,f=BE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ln=5:(Ln=0,Zl=ks=null,tT(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(As=null),po(u),s=s.stateNode,yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(sr,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=Z.T,p=ue.p,ue.p=2,Z.T=null;try{for(var b=i.onRecoverableError,k=0;k<f.length;k++){var N=f[k];b(N.value,{componentStack:N.stack})}}finally{Z.T=s,ue.p=p}}(Jl&3)!==0&&gh(),Hi(i),p=i.pendingLanes,(u&4194090)!==0&&(p&42)!==0?i===Iy?qc++:(qc=0,Iy=i):qc=0,$c(0)}}function tT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,wc(s)))}function gh(i){return ZE(),JE(),eT(),nT()}function nT(){if(Ln!==5)return!1;var i=ks,s=Oy;Oy=0;var u=po(Jl),f=Z.T,p=ue.p;try{ue.p=32>u?32:u,Z.T=null,u=Ny,Ny=null;var b=ks,k=Jl;if(Ln=0,Zl=ks=null,Jl=0,(pt&6)!==0)throw Error(r(331));var N=pt;if(pt|=4,UE(b.current),jE(b,b.current,k,u),pt=N,$c(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(sr,b)}catch{}return!0}finally{ue.p=p,Z.T=f,tT(i,s)}}function rT(i,s,u){s=ti(u,s),s=uy(i.stateNode,s,2),i=ys(i,s,2),i!==null&&(ct(i,2),Hi(i))}function At(i,s,u){if(i.tag===3)rT(i,i,u);else for(;s!==null;){if(s.tag===3){rT(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(As===null||!As.has(f))){i=ti(u,i),u=oE(2),f=ys(s,u,2),f!==null&&(lE(u,f,s,i),ct(f,2),Hi(f));break}}s=s.return}}function My(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Yj;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(u)||(Sy=!0,p.add(u),i=Jj.bind(null,i,s,u),s.then(i,i))}function Jj(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Nt===i&&(rt&u)===u&&(Qt===4||Qt===3&&(rt&62914560)===rt&&300>Tt()-Cy?(pt&2)===0&&eu(i,0):Ay|=u,Ql===rt&&(Ql=0)),Hi(i)}function iT(i,s){s===0&&(s=Xr()),i=jl(i,s),i!==null&&(ct(i,s),Hi(i))}function e4(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),iT(i,u)}function t4(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),iT(i,u)}function n4(i,s){return Dt(i,s)}var ph=null,nu=null,jy=!1,yh=!1,Ly=!1,Fo=0;function Hi(i){i!==nu&&i.next===null&&(nu===null?ph=nu=i:nu=nu.next=i),yh=!0,jy||(jy=!0,i4())}function $c(i,s){if(!Ly&&yh){Ly=!0;do for(var u=!1,f=ph;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var b=0;else{var k=f.suspendedLanes,N=f.pingedLanes;b=(1<<31-An(42|i)+1)-1,b&=p&~(k&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,lT(f,b))}else b=rt,b=yr(f,f===Nt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Pi(f,b)||(u=!0,lT(f,b));f=f.next}while(u);Ly=!1}}function r4(){aT()}function aT(){yh=jy=!1;var i=0;Fo!==0&&(d4()&&(i=Fo),Fo=0);for(var s=Tt(),u=null,f=ph;f!==null;){var p=f.next,b=sT(f,s);b===0?(f.next=null,u===null?ph=p:u.next=p,p===null&&(nu=u)):(u=f,(i!==0||(b&3)!==0)&&(yh=!0)),f=p}$c(i)}function sT(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var k=31-An(b),N=1<<k,$=p[k];$===-1?((N&u)===0||(N&f)!==0)&&(p[k]=as(N,s)):$<=s&&(i.expiredLanes|=N),b&=~N}if(s=Nt,u=rt,u=yr(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(yt===2||yt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Je(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Pi(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&Je(f),po(u)){case 2:case 8:u=St;break;case 32:u=Cr;break;case 268435456:u=ua;break;default:u=Cr}return f=oT.bind(null,i),u=Dt(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&Je(f),i.callbackPriority=2,i.callbackNode=null,2}function oT(i,s){if(Ln!==0&&Ln!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(gh()&&i.callbackNode!==u)return null;var f=rt;return f=yr(i,i===Nt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:($E(i,f,s),sT(i,Tt()),i.callbackNode!=null&&i.callbackNode===u?oT.bind(null,i):null)}function lT(i,s){if(gh())return null;$E(i,s,!0)}function i4(){m4(function(){(pt&6)!==0?Dt(zt,r4):aT()})}function Vy(){return Fo===0&&(Fo=Wt()),Fo}function uT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_i(""+i)}function cT(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function a4(i,s,u,f,p){if(s==="submit"&&u&&u.stateNode===p){var b=uT((p[ln]||null).action),k=f.submitter;k&&(s=(s=k[ln]||null)?uT(s.formAction):k.getAttribute("formAction"),s!==null&&(b=s,k=null));var N=new Eo("action","action",null,f,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Fo!==0){var $=k?cT(p,k):new FormData(p);iy(u,{pending:!0,data:$,method:p.method,action:b},null,$)}}else typeof b=="function"&&(N.preventDefault(),$=k?cT(p,k):new FormData(p),iy(u,{pending:!0,data:$,method:p.method,action:b},b,$))},currentTarget:p}]})}}for(var Uy=0;Uy<Ep.length;Uy++){var zy=Ep[Uy],s4=zy.toLowerCase(),o4=zy[0].toUpperCase()+zy.slice(1);Si(s4,"on"+o4)}Si($1,"onAnimationEnd"),Si(F1,"onAnimationIteration"),Si(H1,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Tj,"onTransitionRun"),Si(Sj,"onTransitionStart"),Si(Aj,"onTransitionCancel"),Si(K1,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function fT(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],p=f.event;f=f.listeners;e:{var b=void 0;if(s)for(var k=f.length-1;0<=k;k--){var N=f[k],$=N.instance,X=N.currentTarget;if(N=N.listener,$!==b&&p.isPropagationStopped())break e;b=N,p.currentTarget=X;try{b(p)}catch(ne){ih(ne)}p.currentTarget=null,b=$}else for(k=0;k<f.length;k++){if(N=f[k],$=N.instance,X=N.currentTarget,N=N.listener,$!==b&&p.isPropagationStopped())break e;b=N,p.currentTarget=X;try{b(p)}catch(ne){ih(ne)}p.currentTarget=null,b=$}}}}function Ze(i,s){var u=s[ve];u===void 0&&(u=s[ve]=new Set);var f=i+"__bubble";u.has(f)||(dT(s,i,2,!1),u.add(f))}function By(i,s,u){var f=0;s&&(f|=4),dT(u,i,f,s)}var vh="_reactListening"+Math.random().toString(36).slice(2);function qy(i){if(!i[vh]){i[vh]=!0,ji.forEach(function(u){u!=="selectionchange"&&(l4.has(u)||By(u,!1,i),By(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[vh]||(s[vh]=!0,By("selectionchange",!1,s))}}function dT(i,s,u,f){switch(jT(s)){case 2:var p=M4;break;case 8:p=j4;break;default:p=nv}u=p.bind(null,s,u,i),p=void 0,!pa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function $y(i,s,u,f,p){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var N=f.stateNode.containerInfo;if(N===p)break;if(k===4)for(k=f.return;k!==null;){var $=k.tag;if(($===3||$===4)&&k.stateNode.containerInfo===p)return;k=k.return}for(;N!==null;){if(k=bt(N),k===null)return;if($=k.tag,$===5||$===6||$===26||$===27){f=b=k;continue e}N=N.parentNode}}f=f.return}xo(function(){var X=b,ne=oc(u),se=[];e:{var Q=G1.get(i);if(Q!==void 0){var J=Eo,Ve=i;switch(i){case"keypress":if(_o(u)===0)break e;case"keydown":case"keyup":J=Rl;break;case"focusin":Ve="focus",J=Ol;break;case"focusout":Ve="blur",J=Ol;break;case"beforeblur":case"afterblur":J=Ol;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=hs;break;case $1:case F1:case H1:J=uc;break;case K1:J=w;break;case"scroll":case"scrollend":J=So;break;case"wheel":J=M;break;case"copy":case"cut":case"paste":J=Cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=dc;break;case"toggle":case"beforetoggle":J=ee}var Pe=(s&4)!==0,Et=!Pe&&(i==="scroll"||i==="scrollend"),G=Pe?Q!==null?Q+"Capture":null:Q;Pe=[];for(var K=X,Y;K!==null;){var re=K;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||G===null||(re=fs(K,G),re!=null&&Pe.push(Hc(K,re,Y))),Et)break;K=K.return}0<Pe.length&&(Q=new J(Q,Ve,null,u,ne),se.push({event:Q,listeners:Pe}))}}if((s&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Q&&u!==sc&&(Ve=u.relatedTarget||u.fromElement)&&(bt(Ve)||Ve[he]))break e;if((J||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Ve=u.relatedTarget||u.toElement,J=X,Ve=Ve?bt(Ve):null,Ve!==null&&(Et=o(Ve),Pe=Ve.tag,Ve!==Et||Pe!==5&&Pe!==27&&Pe!==6)&&(Ve=null)):(J=null,Ve=X),J!==Ve)){if(Pe=Co,re="onMouseLeave",G="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=dc,re="onPointerLeave",G="onPointerEnter",K="pointer"),Et=J==null?Q:ze(J),Y=Ve==null?Q:ze(Ve),Q=new Pe(re,K+"leave",J,u,ne),Q.target=Et,Q.relatedTarget=Y,re=null,bt(ne)===X&&(Pe=new Pe(G,K+"enter",Ve,u,ne),Pe.target=Y,Pe.relatedTarget=Et,re=Pe),Et=re,J&&Ve)t:{for(Pe=J,G=Ve,K=0,Y=Pe;Y;Y=ru(Y))K++;for(Y=0,re=G;re;re=ru(re))Y++;for(;0<K-Y;)Pe=ru(Pe),K--;for(;0<Y-K;)G=ru(G),Y--;for(;K--;){if(Pe===G||G!==null&&Pe===G.alternate)break t;Pe=ru(Pe),G=ru(G)}Pe=null}else Pe=null;J!==null&&hT(se,Q,J,Pe,!1),Ve!==null&&Et!==null&&hT(se,Et,Ve,Pe,!0)}}e:{if(Q=X?ze(X):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var _e=R1;else if(N1(Q))if(D1)_e=_j;else{_e=bj;var Xe=vj}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&Al(X.elementType)&&(_e=R1):_e=xj;if(_e&&(_e=_e(i,X))){I1(se,_e,u,ne);break e}Xe&&Xe(i,Q,X),i==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&rc(Q,"number",Q.value)}switch(Xe=X?ze(X):window,i){case"focusin":(N1(Xe)||Xe.contentEditable==="true")&&(Dl=Xe,xp=X,yc=null);break;case"focusout":yc=xp=Dl=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,B1(se,u,ne);break;case"selectionchange":if(Ej)break;case"keydown":case"keyup":B1(se,u,ne)}var Te;if($e)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ti?wi(i,u)&&(Me="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(tn&&u.locale!=="ko"&&(Ti||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ti&&(Te=Sd()):(ei=ne,Ot="value"in ei?ei.value:ei.textContent,Ti=!0)),Xe=bh(X,Me),0<Xe.length&&(Me=new fc(Me,i,null,u,ne),se.push({event:Me,listeners:Xe}),Te?Me.data=Te:(Te=Ei(u),Te!==null&&(Me.data=Te)))),(Te=gt?hc(i,u):gj(i,u))&&(Me=bh(X,"onBeforeInput"),0<Me.length&&(Xe=new fc("onBeforeInput","beforeinput",null,u,ne),se.push({event:Xe,listeners:Me}),Xe.data=Te)),a4(se,i,X,u,ne)}fT(se,s)})}function Hc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function bh(i,s){for(var u=s+"Capture",f=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=fs(i,u),p!=null&&f.unshift(Hc(i,p,b)),p=fs(i,s),p!=null&&f.push(Hc(i,p,b))),i.tag===3)return f;i=i.return}return[]}function ru(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function hT(i,s,u,f,p){for(var b=s._reactName,k=[];u!==null&&u!==f;){var N=u,$=N.alternate,X=N.stateNode;if(N=N.tag,$!==null&&$===f)break;N!==5&&N!==26&&N!==27||X===null||($=X,p?(X=fs(u,b),X!=null&&k.unshift(Hc(u,X,$))):p||(X=fs(u,b),X!=null&&k.push(Hc(u,X,$)))),u=u.return}k.length!==0&&i.push({event:s,listeners:k})}var u4=/\r\n?/g,c4=/\u0000|\uFFFD/g;function mT(i){return(typeof i=="string"?i:""+i).replace(u4,`
`).replace(c4,"")}function gT(i,s){return s=mT(s),mT(i)===s}function xh(){}function wt(i,s,u,f,p,b){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Jr(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Jr(i,""+f);break;case"className":da(i,"class",f);break;case"tabIndex":da(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":da(i,u,f);break;case"style":ac(i,f,b);break;case"data":if(s!=="object"){da(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=_i(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&wt(i,s,"name",p.name,p,null),wt(i,s,"formEncType",p.formEncType,p,null),wt(i,s,"formMethod",p.formMethod,p,null),wt(i,s,"formTarget",p.formTarget,p,null)):(wt(i,s,"encType",p.encType,p,null),wt(i,s,"method",p.method,p,null),wt(i,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=_i(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=xh);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=_i(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),xi(i,"popover",f);break;case"xlinkActuate":xr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":xr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":xr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":xr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":xr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":xr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":xr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":xr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":xr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":xi(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=wd.get(u)||u,xi(i,u,f))}}function Fy(i,s,u,f,p,b){switch(u){case"style":ac(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Jr(i,f):(typeof f=="number"||typeof f=="bigint")&&Jr(i,""+f);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"onClick":f!=null&&(i.onclick=xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),s=u.slice(2,p?u.length-7:void 0),b=i[ln]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(s,b,p),typeof f=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,p);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):xi(i,u,f)}}}function Vn(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var f=!1,p=!1,b;for(b in u)if(u.hasOwnProperty(b)){var k=u[b];if(k!=null)switch(b){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,b,k,u,null)}}p&&wt(i,s,"srcSet",u.srcSet,u,null),f&&wt(i,s,"src",u.src,u,null);return;case"input":Ze("invalid",i);var N=b=k=p=null,$=null,X=null;for(f in u)if(u.hasOwnProperty(f)){var ne=u[f];if(ne!=null)switch(f){case"name":p=ne;break;case"type":k=ne;break;case"checked":$=ne;break;case"defaultChecked":X=ne;break;case"value":b=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:wt(i,s,f,ne,u,null)}}nc(i,b,N,$,X,k,p,!1),ls(i);return;case"select":Ze("invalid",i),f=k=b=null;for(p in u)if(u.hasOwnProperty(p)&&(N=u[p],N!=null))switch(p){case"value":b=N;break;case"defaultValue":k=N;break;case"multiple":f=N;default:wt(i,s,p,N,u,null)}s=b,u=k,i.multiple=!!f,s!=null?us(i,!!f,s,!1):u!=null&&us(i,!!f,u,!0);return;case"textarea":Ze("invalid",i),b=p=f=null;for(k in u)if(u.hasOwnProperty(k)&&(N=u[k],N!=null))switch(k){case"value":f=N;break;case"defaultValue":p=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:wt(i,s,k,N,u,null)}_d(i,f,p,b),ls(i);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(f=u[$],f!=null))switch($){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:wt(i,s,$,f,u,null)}return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(f=0;f<Fc.length;f++)Ze(Fc[f],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,X,f,u,null)}return;default:if(Al(s)){for(ne in u)u.hasOwnProperty(ne)&&(f=u[ne],f!==void 0&&Fy(i,s,ne,f,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(f=u[N],f!=null&&wt(i,s,N,f,u,null))}function f4(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,k=null,N=null,$=null,X=null,ne=null;for(J in u){var se=u[J];if(u.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":$=se;default:f.hasOwnProperty(J)||wt(i,s,J,null,f,se)}}for(var Q in f){var J=f[Q];if(se=u[Q],f.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":b=J;break;case"name":p=J;break;case"checked":X=J;break;case"defaultChecked":ne=J;break;case"value":k=J;break;case"defaultValue":N=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==se&&wt(i,s,Q,J,f,se)}}tc(i,k,N,$,X,ne,b,p);return;case"select":J=k=N=Q=null;for(b in u)if($=u[b],u.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":J=$;default:f.hasOwnProperty(b)||wt(i,s,b,null,f,$)}for(p in f)if(b=f[p],$=u[p],f.hasOwnProperty(p)&&(b!=null||$!=null))switch(p){case"value":Q=b;break;case"defaultValue":N=b;break;case"multiple":k=b;default:b!==$&&wt(i,s,p,b,f,$)}s=N,u=k,f=J,Q!=null?us(i,!!u,Q,!1):!!f!=!!u&&(s!=null?us(i,!!u,s,!0):us(i,!!u,u?[]:"",!1));return;case"textarea":J=Q=null;for(N in u)if(p=u[N],u.hasOwnProperty(N)&&p!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:wt(i,s,N,null,f,p)}for(k in f)if(p=f[k],b=u[k],f.hasOwnProperty(k)&&(p!=null||b!=null))switch(k){case"value":Q=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&wt(i,s,k,p,f,b)}xd(i,Q,J);return;case"option":for(var Ve in u)if(Q=u[Ve],u.hasOwnProperty(Ve)&&Q!=null&&!f.hasOwnProperty(Ve))switch(Ve){case"selected":i.selected=!1;break;default:wt(i,s,Ve,null,f,Q)}for($ in f)if(Q=f[$],J=u[$],f.hasOwnProperty($)&&Q!==J&&(Q!=null||J!=null))switch($){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:wt(i,s,$,Q,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)Q=u[Pe],u.hasOwnProperty(Pe)&&Q!=null&&!f.hasOwnProperty(Pe)&&wt(i,s,Pe,null,f,Q);for(X in f)if(Q=f[X],J=u[X],f.hasOwnProperty(X)&&Q!==J&&(Q!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:wt(i,s,X,Q,f,J)}return;default:if(Al(s)){for(var Et in u)Q=u[Et],u.hasOwnProperty(Et)&&Q!==void 0&&!f.hasOwnProperty(Et)&&Fy(i,s,Et,void 0,f,Q);for(ne in f)Q=f[ne],J=u[ne],!f.hasOwnProperty(ne)||Q===J||Q===void 0&&J===void 0||Fy(i,s,ne,Q,f,J);return}}for(var G in u)Q=u[G],u.hasOwnProperty(G)&&Q!=null&&!f.hasOwnProperty(G)&&wt(i,s,G,null,f,Q);for(se in f)Q=f[se],J=u[se],!f.hasOwnProperty(se)||Q===J||Q==null&&J==null||wt(i,s,se,Q,f,J)}var Hy=null,Ky=null;function _h(i){return i.nodeType===9?i:i.ownerDocument}function pT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Gy(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yy=null;function d4(){var i=window.event;return i&&i.type==="popstate"?i===Yy?!1:(Yy=i,!0):(Yy=null,!1)}var vT=typeof setTimeout=="function"?setTimeout:void 0,h4=typeof clearTimeout=="function"?clearTimeout:void 0,bT=typeof Promise=="function"?Promise:void 0,m4=typeof queueMicrotask=="function"?queueMicrotask:typeof bT<"u"?function(i){return bT.resolve(null).then(i).catch(g4)}:vT;function g4(i){setTimeout(function(){throw i})}function Os(i){return i==="head"}function xT(i,s){var u=s,f=0,p=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var k=i.ownerDocument;if(u&1&&Kc(k.documentElement),u&2&&Kc(k.body),u&4)for(u=k.head,Kc(u),k=u.firstChild;k;){var N=k.nextSibling,$=k.nodeName;k[Ke]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=N}}if(p===0){i.removeChild(b),ef(s);return}p--}else u==="$"||u==="$?"||u==="$!"?p++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);ef(s)}function Wy(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wy(u),at(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function p4(i,s,u,f){for(;i.nodeType===1;){var p=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ke])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=ki(i.nextSibling),i===null)break}return null}function y4(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ki(i.nextSibling),i===null))return null;return i}function Xy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function v4(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function ki(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Qy=null;function _T(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function wT(i,s,u){switch(s=_h(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);at(i)}var oi=new Map,ET=new Set;function wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Na=ue.d;ue.d={f:b4,r:x4,D:_4,C:w4,L:E4,m:T4,X:A4,S:S4,M:k4};function b4(){var i=Na.f(),s=hh();return i||s}function x4(i){var s=Ue(i);s!==null&&s.tag===5&&s.type==="form"?$w(s):Na.r(i)}var iu=typeof document>"u"?null:document;function TT(i,s,u){var f=iu;if(f&&typeof s=="string"&&s){var p=kn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),ET.has(p)||(ET.add(p),i={rel:i,crossOrigin:u,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),Vn(s,"link",i),Ct(s),f.head.appendChild(s)))}}function _4(i){Na.D(i),TT("dns-prefetch",i,null)}function w4(i,s){Na.C(i,s),TT("preconnect",i,s)}function E4(i,s,u){Na.L(i,s,u);var f=iu;if(f&&i&&s){var p='link[rel="preload"][as="'+kn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+kn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+kn(u.imageSizes)+'"]')):p+='[href="'+kn(i)+'"]';var b=p;switch(s){case"style":b=au(i);break;case"script":b=su(i)}oi.has(b)||(i=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),oi.set(b,i),f.querySelector(p)!==null||s==="style"&&f.querySelector(Gc(b))||s==="script"&&f.querySelector(Yc(b))||(s=f.createElement("link"),Vn(s,"link",i),Ct(s),f.head.appendChild(s)))}}function T4(i,s){Na.m(i,s);var u=iu;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+kn(f)+'"][href="'+kn(i)+'"]',b=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=su(i)}if(!oi.has(b)&&(i=m({rel:"modulepreload",href:i},s),oi.set(b,i),u.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Yc(b)))return}f=u.createElement("link"),Vn(f,"link",i),Ct(f),u.head.appendChild(f)}}}function S4(i,s,u){Na.S(i,s,u);var f=iu;if(f&&i){var p=dt(f).hoistableStyles,b=au(i);s=s||"default";var k=p.get(b);if(!k){var N={loading:0,preload:null};if(k=f.querySelector(Gc(b)))N.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},u),(u=oi.get(b))&&Zy(i,u);var $=k=f.createElement("link");Ct($),Vn($,"link",i),$._p=new Promise(function(X,ne){$.onload=X,$.onerror=ne}),$.addEventListener("load",function(){N.loading|=1}),$.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Eh(k,s,f)}k={type:"stylesheet",instance:k,count:1,state:N},p.set(b,k)}}}function A4(i,s){Na.X(i,s);var u=iu;if(u&&i){var f=dt(u).hoistableScripts,p=su(i),b=f.get(p);b||(b=u.querySelector(Yc(p)),b||(i=m({src:i,async:!0},s),(s=oi.get(p))&&Jy(i,s),b=u.createElement("script"),Ct(b),Vn(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(p,b))}}function k4(i,s){Na.M(i,s);var u=iu;if(u&&i){var f=dt(u).hoistableScripts,p=su(i),b=f.get(p);b||(b=u.querySelector(Yc(p)),b||(i=m({src:i,async:!0,type:"module"},s),(s=oi.get(p))&&Jy(i,s),b=u.createElement("script"),Ct(b),Vn(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(p,b))}}function ST(i,s,u,f){var p=(p=Ie.current)?wh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=au(u.href),u=dt(p).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=au(u.href);var b=dt(p).hoistableStyles,k=b.get(i);if(k||(p=p.ownerDocument||p,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,k),(b=p.querySelector(Gc(i)))&&!b._p&&(k.instance=b,k.state.loading=5),oi.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},oi.set(i,u),b||C4(p,i,u,k.state))),s&&f===null)throw Error(r(528,""));return k}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=su(u),u=dt(p).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function au(i){return'href="'+kn(i)+'"'}function Gc(i){return'link[rel="stylesheet"]['+i+"]"}function AT(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function C4(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Vn(s,"link",u),Ct(s),i.head.appendChild(s))}function su(i){return'[src="'+kn(i)+'"]'}function Yc(i){return"script[async]"+i}function kT(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+kn(u.href)+'"]');if(f)return s.instance=f,Ct(f),f;var p=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Ct(f),Vn(f,"style",p),Eh(f,u.precedence,i),s.instance=f;case"stylesheet":p=au(u.href);var b=i.querySelector(Gc(p));if(b)return s.state.loading|=4,s.instance=b,Ct(b),b;f=AT(u),(p=oi.get(p))&&Zy(f,p),b=(i.ownerDocument||i).createElement("link"),Ct(b);var k=b;return k._p=new Promise(function(N,$){k.onload=N,k.onerror=$}),Vn(b,"link",f),s.state.loading|=4,Eh(b,u.precedence,i),s.instance=b;case"script":return b=su(u.src),(p=i.querySelector(Yc(b)))?(s.instance=p,Ct(p),p):(f=u,(p=oi.get(b))&&(f=m({},u),Jy(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ct(p),Vn(p,"link",f),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Eh(f,u.precedence,i));return s.instance}function Eh(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,b=p,k=0;k<f.length;k++){var N=f[k];if(N.dataset.precedence===s)b=N;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Zy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Jy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Th=null;function CT(i,s,u){if(Th===null){var f=new Map,p=Th=new Map;p.set(u,f)}else p=Th,f=p.get(u),f||(f=new Map,p.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),p=0;p<u.length;p++){var b=u[p];if(!(b[Ke]||b[Bt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(s)||"";k=i+k;var N=f.get(k);N?N.push(b):f.set(k,[b])}}return f}function OT(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function O4(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function NT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wc=null;function N4(){}function I4(i,s,u){if(Wc===null)throw Error(r(475));var f=Wc;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=au(u.href),b=i.querySelector(Gc(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Sh.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=b,Ct(b);return}b=i.ownerDocument||i,u=AT(u),(p=oi.get(p))&&Zy(u,p),b=b.createElement("link"),Ct(b);var k=b;k._p=new Promise(function(N,$){k.onload=N,k.onerror=$}),Vn(b,"link",u),s.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Sh.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function R4(){if(Wc===null)throw Error(r(475));var i=Wc;return i.stylesheets&&i.count===0&&ev(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&ev(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Sh(){if(this.count--,this.count===0){if(this.stylesheets)ev(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ah=null;function ev(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ah=new Map,s.forEach(D4,i),Ah=null,Sh.call(i))}function D4(i,s){if(!(s.state.loading&4)){var u=Ah.get(i);if(u)var f=u.get(null);else{u=new Map,Ah.set(i,u);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var k=p[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),f=k)}f&&u.set(null,f)}p=s.instance,k=p.getAttribute("data-precedence"),b=u.get(k)||f,b===f&&u.set(null,p),u.set(k,p),this.count++,f=Sh.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Xc={$$typeof:L,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function P4(i,s,u,f,p,b,k,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function IT(i,s,u,f,p,b,k,N,$,X,ne,se){return i=new P4(i,s,u,k,N,$,X,se),s=1,b===!0&&(s|=24),b=Mr(3,null,null,s),i.current=b,b.stateNode=i,s=Mp(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:s},Up(b),i}function RT(i){return i?(i=Ll,i):Ll}function DT(i,s,u,f,p,b){p=RT(p),f.context===null?f.context=p:f.pendingContext=p,f=ps(s),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=ys(i,f,s),u!==null&&(zr(u,i,s),Ac(u,i,s))}function PT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function tv(i,s){PT(i,s),(i=i.alternate)&&PT(i,s)}function MT(i){if(i.tag===13){var s=jl(i,67108864);s!==null&&zr(s,i,67108864),tv(i,67108864)}}var kh=!0;function M4(i,s,u,f){var p=Z.T;Z.T=null;var b=ue.p;try{ue.p=2,nv(i,s,u,f)}finally{ue.p=b,Z.T=p}}function j4(i,s,u,f){var p=Z.T;Z.T=null;var b=ue.p;try{ue.p=8,nv(i,s,u,f)}finally{ue.p=b,Z.T=p}}function nv(i,s,u,f){if(kh){var p=rv(f);if(p===null)$y(i,s,f,Ch,u),LT(i,f);else if(V4(p,i,s,u,f))f.stopPropagation();else if(LT(i,f),s&4&&-1<L4.indexOf(i)){for(;p!==null;){var b=Ue(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=Lt(b.pendingLanes);if(k!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;k;){var $=1<<31-An(k);N.entanglements[1]|=$,k&=~$}Hi(b),(pt&6)===0&&(fh=Tt()+500,$c(0))}}break;case 13:N=jl(b,2),N!==null&&zr(N,b,2),hh(),tv(b,2)}if(b=rv(f),b===null&&$y(i,s,f,Ch,u),b===p)break;p=b}p!==null&&f.stopPropagation()}else $y(i,s,f,null,u)}}function rv(i){return i=oc(i),iv(i)}var Ch=null;function iv(i){if(Ch=null,i=bt(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ch=i,null}function jT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bi()){case zt:return 2;case St:return 8;case Cr:case pn:return 32;case ua:return 268435456;default:return 32}default:return 32}}var av=!1,Ns=null,Is=null,Rs=null,Qc=new Map,Zc=new Map,Ds=[],L4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LT(i,s){switch(i){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Qc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(s.pointerId)}}function Jc(i,s,u,f,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[p]},s!==null&&(s=Ue(s),s!==null&&MT(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function V4(i,s,u,f,p){switch(s){case"focusin":return Ns=Jc(Ns,i,s,u,f,p),!0;case"dragenter":return Is=Jc(Is,i,s,u,f,p),!0;case"mouseover":return Rs=Jc(Rs,i,s,u,f,p),!0;case"pointerover":var b=p.pointerId;return Qc.set(b,Jc(Qc.get(b)||null,i,s,u,f,p)),!0;case"gotpointercapture":return b=p.pointerId,Zc.set(b,Jc(Zc.get(b)||null,i,s,u,f,p)),!0}return!1}function VT(i){var s=bt(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,Ju(i.priority,function(){if(u.tag===13){var f=Ur();f=go(f);var p=jl(u,f);p!==null&&zr(p,u,f),tv(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Oh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=rv(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);sc=f,u.target.dispatchEvent(f),sc=null}else return s=Ue(u),s!==null&&MT(s),i.blockedOn=u,!1;s.shift()}return!0}function UT(i,s,u){Oh(i)&&u.delete(s)}function U4(){av=!1,Ns!==null&&Oh(Ns)&&(Ns=null),Is!==null&&Oh(Is)&&(Is=null),Rs!==null&&Oh(Rs)&&(Rs=null),Qc.forEach(UT),Zc.forEach(UT)}function Nh(i,s){i.blockedOn===s&&(i.blockedOn=null,av||(av=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,U4)))}var Ih=null;function zT(i){Ih!==i&&(Ih=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ih===i&&(Ih=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],p=i[s+2];if(typeof f!="function"){if(iv(f||u)===null)continue;break}var b=Ue(u);b!==null&&(i.splice(s,3),s-=3,iy(b,{pending:!0,data:p,method:u.method,action:f},f,p))}}))}function ef(i){function s($){return Nh($,i)}Ns!==null&&Nh(Ns,i),Is!==null&&Nh(Is,i),Rs!==null&&Nh(Rs,i),Qc.forEach(s),Zc.forEach(s);for(var u=0;u<Ds.length;u++){var f=Ds[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ds.length&&(u=Ds[0],u.blockedOn===null);)VT(u),u.blockedOn===null&&Ds.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var p=u[f],b=u[f+1],k=p[ln]||null;if(typeof b=="function")k||zT(u);else if(k){var N=null;if(b&&b.hasAttribute("formAction")){if(p=b,k=b[ln]||null)N=k.formAction;else if(iv(p)!==null)continue}else N=k.action;typeof N=="function"?u[f+1]=N:(u.splice(f,3),f-=3),zT(u)}}}function sv(i){this._internalRoot=i}Rh.prototype.render=sv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=Ur();DT(u,f,i,s,null,null)},Rh.prototype.unmount=sv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;DT(i.current,2,null,i,null,null),hh(),s[he]=null}};function Rh(i){this._internalRoot=i}Rh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ir();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Ds.length&&s!==0&&s<Ds[u].priority;u++);Ds.splice(u,0,i),u===0&&VT(i)}};var BT=e.version;if(BT!=="19.1.1")throw Error(r(527,BT,"19.1.1"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var z4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{sr=Dh.inject(z4),yn=Dh}catch{}}return nf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,f="",p=rE,b=iE,k=aE,N=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=IT(i,1,!1,null,null,u,f,p,b,k,N,null),i[he]=s.current,qy(i),new sv(s)},nf.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var f=!1,p="",b=rE,k=iE,N=aE,$=null,X=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&($=u.unstable_transitionCallbacks),u.formState!==void 0&&(X=u.formState)),s=IT(i,1,!0,s,u??null,f,p,b,k,N,$,X),s.context=RT(null),u=s.current,f=Ur(),f=go(f),p=ps(f),p.callback=null,ys(u,p,f),u=f,s.current.lanes=u,ct(s,u),Hi(s),i[he]=s.current,qy(i),new Rh(s)},nf.version="19.1.1",nf}var QT;function Z4(){if(QT)return uv.exports;QT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uv.exports=Q4(),uv.exports}var J4=Z4();const e3=()=>{};var ZT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},t3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],l=t[n++],c=t[n++],d=((a&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},uO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],l=a+1<t.length,c=l?t[a+1]:0,d=a+2<t.length,h=d?t[a+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let v=(c&15)<<2|h>>6,_=h&63;d||(_=64,l||(v=64)),r.push(n[m],n[y],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||c==null||h==null||y==null)throw new n3;const v=o<<2|c>>4;if(r.push(v),h!==64){const _=c<<4&240|h>>2;if(r.push(_),y!==64){const E=h<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r3=function(t){const e=lO(t);return uO.encodeByteArray(e,!0)},ym=function(t){return r3(t).replace(/\./g,"")},cO=function(t){try{return uO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=()=>i3().__FIREBASE_DEFAULTS__,s3=()=>{if(typeof process>"u"||typeof ZT>"u")return;const t=ZT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cO(t[1]);return e&&JSON.parse(e)},_g=()=>{try{return e3()||a3()||s3()||o3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fO=t=>_g()?.emulatorHosts?.[t],l3=t=>{const e=fO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dO=()=>_g()?.config,hO=t=>_g()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ym(JSON.stringify(n)),ym(JSON.stringify(l)),""].join(".")}const bf={};function f3(){const t={prod:[],emulator:[]};for(const e of Object.keys(bf))bf[e]?t.emulator.push(e):t.prod.push(e);return t}function d3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let JT=!1;function gO(t,e){if(typeof window>"u"||typeof document>"u"||!ju(window.location.host)||bf[t]===e||bf[t]||JT)return;bf[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=f3().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{JT=!0,l()},v}function m(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=d3(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),I=n("preprendIcon"),P=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const L=v.element;c(L),m(T,S);const B=h();d(P,I),L.append(P,E,T,B),document.body.appendChild(L)}o?(E.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rr())}function m3(){const t=_g()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v3(){const t=rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b3(){return!m3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x3(){try{return typeof indexedDB=="object"}catch{return!1}}function _3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="FirebaseError";class Za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w3,Object.setPrototypeOf(this,Za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qf.prototype.create)}}class Qf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?E3(o,r):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new Za(a,c,r)}}function E3(t,e){return t.replace(T3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const T3=/\{\$([^}]+)}/g;function S3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ol(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],l=e[a];if(eS(o)&&eS(l)){if(!ol(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function eS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ff(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function df(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A3(t,e){const n=new k3(t,e);return n.subscribe.bind(n)}class k3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");C3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=hv),a.error===void 0&&(a.error=hv),a.complete===void 0&&(a.complete=hv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){return t&&t._delegate?t._delegate:t}class ll{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I3(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N3(t){return t===Ko?void 0:t}function I3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const D3={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},P3=et.INFO,M3={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},j3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=M3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fx{constructor(e){this.name=e,this._logLevel=P3,this._logHandler=j3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const L3=(t,e)=>e.some(n=>t instanceof n);let tS,nS;function V3(){return tS||(tS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U3(){return nS||(nS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pO=new WeakMap,Q0=new WeakMap,yO=new WeakMap,mv=new WeakMap,dx=new WeakMap;function z3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Hs(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&pO.set(n,t)}).catch(()=>{}),dx.set(e,t),e}function B3(t){if(Q0.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Q0.set(t,e)}let Z0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q3(t){Z0=t(Z0)}function $3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gv(this),e,...n);return yO.set(r,e.sort?e.sort():[e]),Hs(r)}:U3().includes(t)?function(...e){return t.apply(gv(this),e),Hs(pO.get(this))}:function(...e){return Hs(t.apply(gv(this),e))}}function F3(t){return typeof t=="function"?$3(t):(t instanceof IDBTransaction&&B3(t),L3(t,V3())?new Proxy(t,Z0):t)}function Hs(t){if(t instanceof IDBRequest)return z3(t);if(mv.has(t))return mv.get(t);const e=F3(t);return e!==t&&(mv.set(t,e),dx.set(e,t)),e}const gv=t=>dx.get(t);function H3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(t,e),c=Hs(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Hs(l.result),d.oldVersion,d.newVersion,Hs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const K3=["get","getKey","getAll","getAllKeys","count"],G3=["put","add","delete","clear"],pv=new Map;function rS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=G3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||K3.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,a?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),a&&d.done]))[0]};return pv.set(e,o),o}q3(t=>({...t,get:(e,n,r)=>rS(e,n)||t.get(e,n,r),has:(e,n)=>!!rS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function W3(t){return t.getComponent()?.type==="VERSION"}const J0="@firebase/app",iS="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new fx("@firebase/app"),X3="@firebase/app-compat",Q3="@firebase/analytics-compat",Z3="@firebase/analytics",J3="@firebase/app-check-compat",e6="@firebase/app-check",t6="@firebase/auth",n6="@firebase/auth-compat",r6="@firebase/database",i6="@firebase/data-connect",a6="@firebase/database-compat",s6="@firebase/functions",o6="@firebase/functions-compat",l6="@firebase/installations",u6="@firebase/installations-compat",c6="@firebase/messaging",f6="@firebase/messaging-compat",d6="@firebase/performance",h6="@firebase/performance-compat",m6="@firebase/remote-config",g6="@firebase/remote-config-compat",p6="@firebase/storage",y6="@firebase/storage-compat",v6="@firebase/firestore",b6="@firebase/ai",x6="@firebase/firestore-compat",_6="firebase",w6="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="[DEFAULT]",E6={[J0]:"fire-core",[X3]:"fire-core-compat",[Z3]:"fire-analytics",[Q3]:"fire-analytics-compat",[e6]:"fire-app-check",[J3]:"fire-app-check-compat",[t6]:"fire-auth",[n6]:"fire-auth-compat",[r6]:"fire-rtdb",[i6]:"fire-data-connect",[a6]:"fire-rtdb-compat",[s6]:"fire-fn",[o6]:"fire-fn-compat",[l6]:"fire-iid",[u6]:"fire-iid-compat",[c6]:"fire-fcm",[f6]:"fire-fcm-compat",[d6]:"fire-perf",[h6]:"fire-perf-compat",[m6]:"fire-rc",[g6]:"fire-rc-compat",[p6]:"fire-gcs",[y6]:"fire-gcs-compat",[v6]:"fire-fst",[x6]:"fire-fst-compat",[b6]:"fire-vertex","fire-js":"fire-js",[_6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Map,T6=new Map,tb=new Map;function aS(t,e){try{t.container.addComponent(e)}catch(n){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xu(t){const e=t.name;if(tb.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;tb.set(e,t);for(const n of vm.values())aS(n,t);for(const n of T6.values())aS(n,t);return!0}function hx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ci(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Qf("app","Firebase",S6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=w6;function vO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:eb,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ks.create("bad-app-name",{appName:String(a)});if(n||(n=dO()),!n)throw Ks.create("no-options");const o=vm.get(a);if(o){if(ol(n,o.options)&&ol(r,o.config))return o;throw Ks.create("duplicate-app",{appName:a})}const l=new R3(a);for(const d of tb.values())l.addComponent(d);const c=new A6(n,r,l);return vm.set(a,c),c}function bO(t=eb){const e=vm.get(t);if(!e&&t===eb&&dO())return vO();if(!e)throw Ks.create("no-app",{appName:t});return e}function Gs(t,e,n){let r=E6[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(l.join(" "));return}xu(new ll(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="firebase-heartbeat-database",C6=1,Cf="firebase-heartbeat-store";let yv=null;function xO(){return yv||(yv=H3(k6,C6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),yv}async function O6(t){try{const n=(await xO()).transaction(Cf),r=await n.objectStore(Cf).get(_O(t));return await n.done,r}catch(e){if(e instanceof Za)Fa.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e?.message});Fa.warn(n.message)}}}async function sS(t,e){try{const r=(await xO()).transaction(Cf,"readwrite");await r.objectStore(Cf).put(e,_O(t)),await r.done}catch(n){if(n instanceof Za)Fa.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n?.message});Fa.warn(r.message)}}}function _O(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1024,I6=30;class R6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>I6){const a=M6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oS(),{heartbeatsToSend:n,unsentEntries:r}=D6(this._heartbeatsCache.heartbeats),a=ym(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Fa.warn(e),""}}}function oS(){return new Date().toISOString().substring(0,10)}function D6(t,e=N6){const n=[];let r=t.slice();for(const a of t){const o=n.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),lS(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x3()?_3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lS(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}function M6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){xu(new ll("platform-logger",e=>new Y3(e),"PRIVATE")),xu(new ll("heartbeat",e=>new R6(e),"PRIVATE")),Gs(J0,iS,t),Gs(J0,iS,"esm2020"),Gs("fire-js","")}j6("");var L6="firebase",V6="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(L6,V6,"app");function wO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U6=wO,EO=new Qf("auth","Firebase",wO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new fx("@firebase/auth");function z6(t,...e){bm.logLevel<=et.WARN&&bm.warn(`Auth (${Lu}): ${t}`,...e)}function im(t,...e){bm.logLevel<=et.ERROR&&bm.error(`Auth (${Lu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,...e){throw mx(t,...e)}function Xi(t,...e){return mx(t,...e)}function TO(t,e,n){const r={...U6(),[e]:n};return new Qf("auth","Firebase",r).create(e,{appName:t.name})}function Ys(t){return TO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EO.create(t,...e)}function je(t,e,...n){if(!t)throw mx(e,...n)}function Ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw im(e),new Error(e)}function Ha(t,e){t||Ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return typeof self<"u"&&self.location?.href||""}function B6(){return uS()==="http:"||uS()==="https:"}function uS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B6()||p3()||"connection"in navigator)?navigator.onLine:!0}function $6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ha(n>e,"Short delay should be less than long delay!"),this.isMobile=h3()||y3()}get(){return q6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){Ha(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K6=new Jf(3e4,6e4);function pl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lo(t,e,n,r,a={}){return AO(t,a,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Zf({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...o};return g3()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ju(t.emulatorConfig.host)&&(h.credentials="include"),SO.fetch()(await kO(t,t.config.apiHost,n,c),h)})}async function AO(t,e,n){t._canInitEmulator=!1;const r={...F6,...e};try{const a=new Y6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ph(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ph(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw TO(t,m,h);Di(t,m)}}catch(a){if(a instanceof Za)throw a;Di(t,"network-request-failed",{message:String(a)})}}async function wg(t,e,n,r,a={}){const o=await lo(t,e,n,r,a);return"mfaPendingCredential"in o&&Di(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function kO(t,e,n,r){const a=`${e}${n}?${r}`,o=t,l=o.config.emulator?gx(t.config,a):`${t.config.apiScheme}://${a}`;return H6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function G6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),K6.get())})}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Xi(t,e,r);return a.customData._tokenResponse=n,a}function cS(t){return t!==void 0&&t.enterprise!==void 0}class W6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X6(t,e){return lo(t,"GET","/v2/recaptchaConfig",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function xm(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z6(t,e=!1){const n=Kr(t),r=await n.getIdToken(e),a=px(r);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,l=o?.sign_in_provider;return{claims:a,token:r,authTime:xf(vv(a.auth_time)),issuedAtTime:xf(vv(a.iat)),expirationTime:xf(vv(a.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function vv(t){return Number(t)*1e3}function px(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{const a=cO(n);return a?JSON.parse(a):(im("Failed to decode base64 JWT payload"),null)}catch(a){return im("Caught error parsing JWT payload as JSON",a?.toString()),null}}function fS(t){const e=px(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Za&&J6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function J6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xf(this.lastLoginAt),this.creationTime=xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){const e=t.auth,n=await t.getIdToken(),r=await Of(t,xm(e,{idToken:n}));je(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?CO(a.providerUserInfo):[],l=nL(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!l?.length,h=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new rb(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function tL(t){const e=Kr(t);await _m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nL(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function CO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){const n=await AO(t,{},async()=>{const r=Zf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,l=await kO(t,a,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&ju(t.emulatorConfig.host)&&(d.credentials="include"),SO.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iL(t,e){return lo(t,"POST","/v2/accounts:revokeToken",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=fS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await rL(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,l=new mu;return r&&(je(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(je(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),o&&(je(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mu,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new eL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new rb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Of(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z6(this,e)}reload(){return tL(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Of(this,Q6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:_,providerData:E,stsTokenManager:S}=n;je(y&&S,e,"internal-error");const T=mu.fromJSON(this.name,S);je(typeof y=="string",e,"internal-error"),Ms(r,e.name),Ms(a,e.name),je(typeof v=="boolean",e,"internal-error"),je(typeof _=="boolean",e,"internal-error"),Ms(o,e.name),Ms(l,e.name),Ms(c,e.name),Ms(d,e.name),Ms(h,e.name),Ms(m,e.name);const I=new Ii({uid:y,auth:e,email:a,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:T,createdAt:h,lastLoginAt:m});return E&&Array.isArray(E)&&(I.providerData=E.map(P=>({...P}))),d&&(I._redirectEventId=d),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new mu;a.updateFromServerResponse(n);const o=new Ii({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await _m(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];je(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?CO(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!o?.length,c=new mu;c.updateFromIdToken(r);const d=new Ii({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new rb(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function ja(t){Ha(t instanceof Function,"Expected a class definition");let e=dS.get(t);return e?(Ha(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OO.type="NONE";const hS=OO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t,e,n){return`firebase:${t}:${e}:${n}`}class gu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=am(this.userKey,a.apiKey,o),this.fullPersistenceKey=am("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xm(this.auth,{idToken:e}).catch(()=>{});return n?Ii._fromGetAccountInfoResponse(this.auth,n,e):null}return Ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gu(ja(hS),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=a[0]||ja(hS);const l=am(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let y;if(typeof m=="string"){const v=await xm(e,{idToken:m}).catch(()=>{});if(!v)break;y=await Ii._fromGetAccountInfoResponse(e,v,m)}else y=Ii._fromJSON(e,m);h!==o&&(c=y),o=h;break}}catch{}const d=a.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new gu(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new gu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MO(e))return"Blackberry";if(jO(e))return"Webos";if(IO(e))return"Safari";if((e.includes("chrome/")||RO(e))&&!e.includes("edge/"))return"Chrome";if(PO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NO(t=rr()){return/firefox\//i.test(t)}function IO(t=rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RO(t=rr()){return/crios\//i.test(t)}function DO(t=rr()){return/iemobile/i.test(t)}function PO(t=rr()){return/android/i.test(t)}function MO(t=rr()){return/blackberry/i.test(t)}function jO(t=rr()){return/webos/i.test(t)}function yx(t=rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aL(t=rr()){return yx(t)&&!!window.navigator?.standalone}function sL(){return v3()&&document.documentMode===10}function LO(t=rr()){return yx(t)||PO(t)||jO(t)||MO(t)||/windows phone/i.test(t)||DO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t,e=[]){let n;switch(t){case"Browser":n=mS(rr());break;case"Worker":n=`${mS(rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e={}){return lo(t,"GET","/v2/passwordPolicy",pl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=6;class cL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gS(this),this.idTokenSubscription=new gS(this),this.beforeStateQueue=new oL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ja(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xm(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ci(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _m(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(Ys(this));const n=e?Kr(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lL(this),n=new cL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ja(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await gu.create(this,[ja(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&z6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vu(t){return Kr(t)}class gS{constructor(e){this.auth=e,this.observer=null,this.addObserver=A3(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dL(t){Eg=t}function UO(t){return Eg.loadJS(t)}function hL(){return Eg.recaptchaEnterpriseScript}function mL(){return Eg.gapiScript}function gL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pL{constructor(){this.enterprise=new yL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vL="recaptcha-enterprise",zO="NO_RECAPTCHA";class bL{constructor(e){this.type=vL,this.auth=Vu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{X6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new W6(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function a(o,l,c){const d=window.grecaptcha;cS(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(zO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&cS(window.grecaptcha))a(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=hL();d.length!==0&&(d+=c),UO(d).then(()=>{a(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function pS(t,e,n,r=!1,a=!1){const o=new bL(t);let l;if(a)l=zO;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function yS(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await pS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await pS(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e){const n=hx(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(ol(o,e??{}))return a;Di(a,"already-initialized")}return n.initialize({options:e})}function _L(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ja);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function wL(t,e,n){const r=Vu(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=BO(e),{host:l,port:c}=EL(e),d=c===null?"":`:${c}`,h={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(ol(h,r.config.emulator)&&ol(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,ju(l)?(mO(`${o}//${l}${d}`),gO("Auth",!0)):TL()}function BO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EL(t){const e=BO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:vS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:vS(l)}}}function vS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ma("not implemented")}_getIdTokenResponse(e){return Ma("not implemented")}_linkToIdToken(e,n){return Ma("not implemented")}_getReauthenticationResolver(e){return Ma("not implemented")}}async function SL(t,e){return lo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){return wg(t,"POST","/v1/accounts:signInWithPassword",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){return wg(t,"POST","/v1/accounts:signInWithEmailLink",pl(t,e))}async function CL(t,e){return wg(t,"POST","/v1/accounts:signInWithEmailLink",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends vx{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Nf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yS(e,n,"signInWithPassword",AL);case"emailLink":return kL(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yS(e,r,"signUpPassword",SL);case"emailLink":return CL(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t,e){return wg(t,"POST","/v1/accounts:signInWithIdp",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="http://localhost";class ul extends vx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const l=new ul(r,a);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pu(e,n)}buildRequest(){const e={requestUri:OL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IL(t){const e=ff(df(t)).link,n=e?ff(df(e)).deep_link_id:null,r=ff(df(t)).deep_link_id;return(r?ff(df(r)).link:null)||r||n||e||t}class bx{constructor(e){const n=ff(df(e)),r=n.apiKey??null,a=n.oobCode??null,o=NL(n.mode??null);je(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IL(e);try{return new bx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(e,n){return Nf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bx.parseLink(n);return je(r,"argument-error"),Nf._fromEmailAndCode(e,r.code,r.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends qO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends ed{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends ed{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends ed{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Ii._fromIdTokenResponse(e,r,a),l=bS(r);return new _u({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=bS(r);return new _u({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function bS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends Za{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,wm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new wm(e,n,r,a)}}function $O(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wm._fromErrorAndOperation(t,o,e,r):o})}async function RL(t,e,n=!1){const r=await Of(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _u._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e,n=!1){const{auth:r}=t;if(Ci(r.app))return Promise.reject(Ys(r));const a="reauthenticate";try{const o=await Of(t,$O(r,a,e,t),n);je(o.idToken,r,"internal-error");const l=px(o.idToken);je(l,r,"internal-error");const{sub:c}=l;return je(t.uid===c,r,"user-mismatch"),_u._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Di(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e,n=!1){if(Ci(t.app))return Promise.reject(Ys(t));const r="signIn",a=await $O(t,r,e),o=await _u._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function PL(t,e){return FO(Vu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t){const e=Vu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jL(t,e,n){return Ci(t.app)?Promise.reject(Ys(t)):PL(Kr(t),Uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ML(t),r})}function LL(t,e,n,r){return Kr(t).onIdTokenChanged(e,n,r)}function VL(t,e,n){return Kr(t).beforeAuthStateChanged(e,n)}function UL(t,e,n,r){return Kr(t).onAuthStateChanged(e,n,r)}function xS(t){return Kr(t).signOut()}const Em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Em,"1"),this.storage.removeItem(Em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=1e3,BL=10;class KO extends HO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);sL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,BL):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KO.type="LOCAL";const qL=KO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO extends HO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GO.type="SESSION";const YO=GO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(l).map(async h=>h(n.origin,o)),d=await $L(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=xx("",20);a.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function HL(t){Qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function KL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GL(){return navigator?.serviceWorker?.controller||null}function YL(){return WO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="firebaseLocalStorageDb",WL=1,Tm="firebaseLocalStorage",QO="fbase_key";class td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sg(t,e){return t.transaction([Tm],e?"readwrite":"readonly").objectStore(Tm)}function XL(){const t=indexedDB.deleteDatabase(XO);return new td(t).toPromise()}function ib(){const t=indexedDB.open(XO,WL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tm,{keyPath:QO})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tm)?e(r):(r.close(),await XL(),e(await ib()))})})}async function _S(t,e,n){const r=Sg(t,!0).put({[QO]:e,value:n});return new td(r).toPromise()}async function QL(t,e){const n=Sg(t,!1).get(e),r=await new td(n).toPromise();return r===void 0?null:r.value}function wS(t,e){const n=Sg(t,!0).delete(e);return new td(n).toPromise()}const ZL=800,JL=3;class ZO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ib(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tg._getInstance(YL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KL(),!this.activeServiceWorker)return;this.sender=new FL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ib();return await _S(e,Em,"1"),await wS(e,Em),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_S(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Sg(a,!1).getAll();return new td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZO.type="LOCAL";const eV=ZO;new Jf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e){return e?ja(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nV(t){return FO(t.auth,new _x(t),t.bypassAuthState)}function rV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),DL(n,new _x(t),t.bypassAuthState)}async function iV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),RL(n,new _x(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nV;case"linkViaPopup":case"linkViaRedirect":return iV;case"reauthViaPopup":case"reauthViaRedirect":return rV;default:Di(this.auth,"internal-error")}}resolve(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Jf(2e3,1e4);class du extends JO{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,du.currentPopupAction&&du.currentPopupAction.cancel(),du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Ha(this.filter.length===1,"Popup operations only handle one event");const e=xx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,du.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aV.get())};e()}}du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="pendingRedirect",sm=new Map;class oV extends JO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sm.get(this.auth._key());if(!e){try{const r=await lV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sm.set(this.auth._key(),e)}return this.bypassAuthState||sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lV(t,e){const n=fV(e),r=cV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function uV(t,e){sm.set(t._key(),e)}function cV(t){return ja(t._redirectPersistence)}function fV(t){return am(sV,t.config.apiKey,t.name)}async function dV(t,e,n=!1){if(Ci(t.app))return Promise.reject(Ys(t));const r=Vu(t),a=tV(r,e),l=await new oV(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=600*1e3;class mV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eN(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ES(e))}saveEventToCache(e){this.cachedEventUids.add(ES(e)),this.lastProcessedEventTime=Date.now()}}function ES(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vV=/^https?/;async function bV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pV(t);for(const n of e)try{if(xV(n))return}catch{}Di(t,"unauthorized-domain")}function xV(t){const e=nb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!vV.test(n))return!1;if(yV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new Jf(3e4,6e4);function TS(){const t=Qi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wV(t){return new Promise((e,n)=>{function r(){TS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TS(),n(Xi(t,"network-request-failed"))},timeout:_V.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)r();else{const a=gL("iframefcb");return Qi()[a]=()=>{gapi.load?r():n(Xi(t,"network-request-failed"))},UO(`${mL()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw om=null,e})}let om=null;function EV(t){return om=om||wV(t),om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new Jf(5e3,15e3),SV="__/auth/iframe",AV="emulator/auth/iframe",kV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OV(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gx(e,AV):`https://${t.config.authDomain}/${SV}`,r={apiKey:e.apiKey,appName:t.name,v:Lu},a=CV.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zf(r).slice(1)}`}async function NV(t){const e=await EV(t),n=Qi().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:OV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kV,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const l=Xi(t,"network-request-failed"),c=Qi().setTimeout(()=>{o(l)},TV.get());function d(){Qi().clearTimeout(c),a(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RV=500,DV=600,PV="_blank",MV="http://localhost";class SS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jV(t,e,n,r=RV,a=DV){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...IV,width:r.toString(),height:a.toString(),top:o,left:l},h=rr().toLowerCase();n&&(c=RO(h)?PV:n),NO(h)&&(e=e||MV,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[_,E])=>`${v}${_}=${E},`,"");if(aL(h)&&c!=="_self")return LV(e||"",c),new SS(null);const y=window.open(e||"",c,m);je(y,t,"popup-blocked");try{y.focus()}catch{}return new SS(y)}function LV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="__/auth/handler",UV="emulator/auth/handler",zV=encodeURIComponent("fac");async function AS(t,e,n,r,a,o){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lu,eventId:a};if(e instanceof qO){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",S3(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof ed){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${zV}=${encodeURIComponent(d)}`:"";return`${BV(t)}?${Zf(c).slice(1)}${h}`}function BV({config:t}){return t.emulator?gx(t,UV):`https://${t.authDomain}/${VV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="webStorageSupport";class qV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YO,this._completeRedirectFn=dV,this._overrideRedirectResult=uV}async _openPopup(e,n,r,a){Ha(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await AS(e,n,r,nb(),a);return jV(e,o,xx())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await AS(e,n,r,nb(),a);return HL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ha(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NV(e),r=new mV(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bv,{type:bv},a=>{const o=a?.[0]?.[bv];o!==void 0&&n(!!o),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LO()||IO()||yx()}}const $V=qV;var kS="@firebase/auth",CS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KV(t){xu(new ll("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VO(t)},h=new fL(r,a,o,d);return _L(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xu(new ll("auth-internal",e=>{const n=Vu(e.getProvider("auth").getImmediate());return(r=>new FV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(kS,CS,HV(t)),Gs(kS,CS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=300,YV=hO("authIdTokenMaxAge")||GV;let OS=null;const WV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YV)return;const a=n?.token;OS!==a&&(OS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function XV(t=bO()){const e=hx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xL(t,{popupRedirectResolver:$V,persistence:[eV,qL,YO]}),r=hO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=WV(o.toString());VL(n,l,()=>l(n.currentUser)),LL(n,c=>l(c))}}const a=fO("auth");return a&&wL(n,`http://${a}`),n}function QV(){return document.getElementsByTagName("head")?.[0]??document}dL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Xi("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",QV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KV("Browser");var NS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,tN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,O){function D(){}D.prototype=O.prototype,R.F=O.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(U,j,z){for(var V=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)V[pe-2]=arguments[pe];return O.prototype[j].apply(U,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,O,D){D||(D=0);const U=Array(16);if(typeof O=="string")for(var j=0;j<16;++j)U[j]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(j=0;j<16;++j)U[j]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=R.g[0],D=R.g[1],j=R.g[2];let z=R.g[3],V;V=O+(z^D&(j^z))+U[0]+3614090360&4294967295,O=D+(V<<7&4294967295|V>>>25),V=z+(j^O&(D^j))+U[1]+3905402710&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(D^z&(O^D))+U[2]+606105819&4294967295,j=z+(V<<17&4294967295|V>>>15),V=D+(O^j&(z^O))+U[3]+3250441966&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(z^D&(j^z))+U[4]+4118548399&4294967295,O=D+(V<<7&4294967295|V>>>25),V=z+(j^O&(D^j))+U[5]+1200080426&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(D^z&(O^D))+U[6]+2821735955&4294967295,j=z+(V<<17&4294967295|V>>>15),V=D+(O^j&(z^O))+U[7]+4249261313&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(z^D&(j^z))+U[8]+1770035416&4294967295,O=D+(V<<7&4294967295|V>>>25),V=z+(j^O&(D^j))+U[9]+2336552879&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(D^z&(O^D))+U[10]+4294925233&4294967295,j=z+(V<<17&4294967295|V>>>15),V=D+(O^j&(z^O))+U[11]+2304563134&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(z^D&(j^z))+U[12]+1804603682&4294967295,O=D+(V<<7&4294967295|V>>>25),V=z+(j^O&(D^j))+U[13]+4254626195&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(D^z&(O^D))+U[14]+2792965006&4294967295,j=z+(V<<17&4294967295|V>>>15),V=D+(O^j&(z^O))+U[15]+1236535329&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(j^z&(D^j))+U[1]+4129170786&4294967295,O=D+(V<<5&4294967295|V>>>27),V=z+(D^j&(O^D))+U[6]+3225465664&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(z^O))+U[11]+643717713&4294967295,j=z+(V<<14&4294967295|V>>>18),V=D+(z^O&(j^z))+U[0]+3921069994&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(j^z&(D^j))+U[5]+3593408605&4294967295,O=D+(V<<5&4294967295|V>>>27),V=z+(D^j&(O^D))+U[10]+38016083&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(z^O))+U[15]+3634488961&4294967295,j=z+(V<<14&4294967295|V>>>18),V=D+(z^O&(j^z))+U[4]+3889429448&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(j^z&(D^j))+U[9]+568446438&4294967295,O=D+(V<<5&4294967295|V>>>27),V=z+(D^j&(O^D))+U[14]+3275163606&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(z^O))+U[3]+4107603335&4294967295,j=z+(V<<14&4294967295|V>>>18),V=D+(z^O&(j^z))+U[8]+1163531501&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(j^z&(D^j))+U[13]+2850285829&4294967295,O=D+(V<<5&4294967295|V>>>27),V=z+(D^j&(O^D))+U[2]+4243563512&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(z^O))+U[7]+1735328473&4294967295,j=z+(V<<14&4294967295|V>>>18),V=D+(z^O&(j^z))+U[12]+2368359562&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(D^j^z)+U[5]+4294588738&4294967295,O=D+(V<<4&4294967295|V>>>28),V=z+(O^D^j)+U[8]+2272392833&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^D)+U[11]+1839030562&4294967295,j=z+(V<<16&4294967295|V>>>16),V=D+(j^z^O)+U[14]+4259657740&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(D^j^z)+U[1]+2763975236&4294967295,O=D+(V<<4&4294967295|V>>>28),V=z+(O^D^j)+U[4]+1272893353&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^D)+U[7]+4139469664&4294967295,j=z+(V<<16&4294967295|V>>>16),V=D+(j^z^O)+U[10]+3200236656&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(D^j^z)+U[13]+681279174&4294967295,O=D+(V<<4&4294967295|V>>>28),V=z+(O^D^j)+U[0]+3936430074&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^D)+U[3]+3572445317&4294967295,j=z+(V<<16&4294967295|V>>>16),V=D+(j^z^O)+U[6]+76029189&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(D^j^z)+U[9]+3654602809&4294967295,O=D+(V<<4&4294967295|V>>>28),V=z+(O^D^j)+U[12]+3873151461&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^D)+U[15]+530742520&4294967295,j=z+(V<<16&4294967295|V>>>16),V=D+(j^z^O)+U[2]+3299628645&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(j^(D|~z))+U[0]+4096336452&4294967295,O=D+(V<<6&4294967295|V>>>26),V=z+(D^(O|~j))+U[7]+1126891415&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~D))+U[14]+2878612391&4294967295,j=z+(V<<15&4294967295|V>>>17),V=D+(z^(j|~O))+U[5]+4237533241&4294967295,D=j+(V<<21&4294967295|V>>>11),V=O+(j^(D|~z))+U[12]+1700485571&4294967295,O=D+(V<<6&4294967295|V>>>26),V=z+(D^(O|~j))+U[3]+2399980690&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~D))+U[10]+4293915773&4294967295,j=z+(V<<15&4294967295|V>>>17),V=D+(z^(j|~O))+U[1]+2240044497&4294967295,D=j+(V<<21&4294967295|V>>>11),V=O+(j^(D|~z))+U[8]+1873313359&4294967295,O=D+(V<<6&4294967295|V>>>26),V=z+(D^(O|~j))+U[15]+4264355552&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~D))+U[6]+2734768916&4294967295,j=z+(V<<15&4294967295|V>>>17),V=D+(z^(j|~O))+U[13]+1309151649&4294967295,D=j+(V<<21&4294967295|V>>>11),V=O+(j^(D|~z))+U[4]+4149444226&4294967295,O=D+(V<<6&4294967295|V>>>26),V=z+(D^(O|~j))+U[11]+3174756917&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~D))+U[2]+718787259&4294967295,j=z+(V<<15&4294967295|V>>>17),V=D+(z^(j|~O))+U[9]+3951481745&4294967295,R.g[0]=R.g[0]+O&4294967295,R.g[1]=R.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+j&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,O){O===void 0&&(O=R.length);const D=O-this.blockSize,U=this.C;let j=this.h,z=0;for(;z<O;){if(j==0)for(;z<=D;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<O;)if(U[j++]=R.charCodeAt(z++),j==this.blockSize){a(this,U),j=0;break}}else for(;z<O;)if(U[j++]=R[z++],j==this.blockSize){a(this,U),j=0;break}}this.h=j,this.o+=O},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var O=1;O<R.length-8;++O)R[O]=0;O=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=O&255,O/=256;for(this.v(R),R=Array(16),O=0,D=0;D<4;++D)for(let U=0;U<32;U+=8)R[O++]=this.g[D]>>>U&255;return R};function o(R,O){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=O(R)}function l(R,O){this.h=O;const D=[];let U=!0;for(let j=R.length-1;j>=0;j--){const z=R[j]|0;U&&z==O||(D[j]=z,U=!1)}this.g=D}var c={};function d(R){return-128<=R&&R<128?o(R,function(O){return new l([O|0],O<0?-1:0)}):new l([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return y;if(R<0)return T(h(-R));const O=[];let D=1;for(let U=0;R>=D;U++)O[U]=R/D|0,D*=4294967296;return new l(O,0)}function m(R,O){if(R.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(R.charAt(0)=="-")return T(m(R.substring(1),O));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(O,8));let U=y;for(let z=0;z<R.length;z+=8){var j=Math.min(8,R.length-z);const V=parseInt(R.substring(z,z+j),O);j<8?(j=h(Math.pow(O,j)),U=U.j(j).add(h(V))):(U=U.j(D),U=U.add(h(V)))}return U}var y=d(0),v=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-T(this).m();let R=0,O=1;for(let D=0;D<this.g.length;D++){const U=this.i(D);R+=(U>=0?U:4294967296+U)*O,O*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(E(this))return"0";if(S(this))return"-"+T(this).toString(R);const O=h(Math.pow(R,6));var D=this;let U="";for(;;){const j=B(D,O).g;D=I(D,j.j(O));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=j,E(D))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function E(R){if(R.h!=0)return!1;for(let O=0;O<R.g.length;O++)if(R.g[O]!=0)return!1;return!0}function S(R){return R.h==-1}t.l=function(R){return R=I(this,R),S(R)?-1:E(R)?0:1};function T(R){const O=R.g.length,D=[];for(let U=0;U<O;U++)D[U]=~R.g[U];return new l(D,~R.h).add(v)}t.abs=function(){return S(this)?T(this):this},t.add=function(R){const O=Math.max(this.g.length,R.g.length),D=[];let U=0;for(let j=0;j<=O;j++){let z=U+(this.i(j)&65535)+(R.i(j)&65535),V=(z>>>16)+(this.i(j)>>>16)+(R.i(j)>>>16);U=V>>>16,z&=65535,V&=65535,D[j]=V<<16|z}return new l(D,D[D.length-1]&-2147483648?-1:0)};function I(R,O){return R.add(T(O))}t.j=function(R){if(E(this)||E(R))return y;if(S(this))return S(R)?T(this).j(T(R)):T(T(this).j(R));if(S(R))return T(this.j(T(R)));if(this.l(_)<0&&R.l(_)<0)return h(this.m()*R.m());const O=this.g.length+R.g.length,D=[];for(var U=0;U<2*O;U++)D[U]=0;for(U=0;U<this.g.length;U++)for(let j=0;j<R.g.length;j++){const z=this.i(U)>>>16,V=this.i(U)&65535,pe=R.i(j)>>>16,ye=R.i(j)&65535;D[2*U+2*j]+=V*ye,P(D,2*U+2*j),D[2*U+2*j+1]+=z*ye,P(D,2*U+2*j+1),D[2*U+2*j+1]+=V*pe,P(D,2*U+2*j+1),D[2*U+2*j+2]+=z*pe,P(D,2*U+2*j+2)}for(R=0;R<O;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=O;R<2*O;R++)D[R]=0;return new l(D,0)};function P(R,O){for(;(R[O]&65535)!=R[O];)R[O+1]+=R[O]>>>16,R[O]&=65535,O++}function L(R,O){this.g=R,this.h=O}function B(R,O){if(E(O))throw Error("division by zero");if(E(R))return new L(y,y);if(S(R))return O=B(T(R),O),new L(T(O.g),T(O.h));if(S(O))return O=B(R,T(O)),new L(T(O.g),O.h);if(R.g.length>30){if(S(R)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var D=v,U=O;U.l(R)<=0;)D=q(D),U=q(U);var j=F(D,1),z=F(U,1);for(U=F(U,2),D=F(D,2);!E(U);){var V=z.add(U);V.l(R)<=0&&(j=j.add(D),z=V),U=F(U,1),D=F(D,1)}return O=I(R,j.j(O)),new L(j,O)}for(j=y;R.l(O)>=0;){for(D=Math.max(1,Math.floor(R.m()/O.m())),U=Math.ceil(Math.log(D)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=h(D),V=z.j(O);S(V)||V.l(R)>0;)D-=U,z=h(D),V=z.j(O);E(z)&&(z=v),j=j.add(z),R=I(R,V)}return new L(j,R)}t.B=function(R){return B(this,R).h},t.and=function(R){const O=Math.max(this.g.length,R.g.length),D=[];for(let U=0;U<O;U++)D[U]=this.i(U)&R.i(U);return new l(D,this.h&R.h)},t.or=function(R){const O=Math.max(this.g.length,R.g.length),D=[];for(let U=0;U<O;U++)D[U]=this.i(U)|R.i(U);return new l(D,this.h|R.h)},t.xor=function(R){const O=Math.max(this.g.length,R.g.length),D=[];for(let U=0;U<O;U++)D[U]=this.i(U)^R.i(U);return new l(D,this.h^R.h)};function q(R){const O=R.g.length+1,D=[];for(let U=0;U<O;U++)D[U]=R.i(U)<<1|R.i(U-1)>>>31;return new l(D,R.h)}function F(R,O){const D=O>>5;O%=32;const U=R.g.length-D,j=[];for(let z=0;z<U;z++)j[z]=O>0?R.i(z+D)>>>O|R.i(z+D+1)<<32-O:R.i(z+D);return new l(j,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tN=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Ws=l}).apply(typeof NS<"u"?NS:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nN,hf,rN,lm,ab,iN,aN,sN;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var w=0;w<g.length;++w){var A=g[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function a(g,w){if(w)e:{var A=r;g=g.split(".");for(var M=0;M<g.length-1;M++){var W=g[M];if(!(W in A))break e;A=A[W]}g=g[g.length-1],M=A[g],w=w(M),w!=M&&w!=null&&e(A,g,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(w){var A=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&A.push([M,w[M]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function d(g,w,A){return g.call.apply(g.bind,arguments)}function h(g,w,A){return h=d,h.apply(null,arguments)}function m(g,w){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function y(g,w){function A(){}A.prototype=w.prototype,g.Z=w.prototype,g.prototype=new A,g.prototype.constructor=g,g.Ob=function(M,W,ee){for(var fe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)fe[$e-2]=arguments[$e];return w.prototype[W].apply(M,fe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const w=g.length;if(w>0){const A=Array(w);for(let M=0;M<w;M++)A[M]=g[M];return A}return[]}function E(g,w){for(let M=1;M<arguments.length;M++){const W=arguments[M];var A=typeof W;if(A=A!="object"?A:W?Array.isArray(W)?"array":A:"null",A=="array"||A=="object"&&typeof W.length=="number"){A=g.length||0;const ee=W.length||0;g.length=A+ee;for(let fe=0;fe<ee;fe++)g[A+fe]=W[fe]}else g.push(W)}}class S{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(g){l.setTimeout(()=>{throw g},0)}function I(){var g=R;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class P{constructor(){this.h=this.g=null}add(w,A){const M=L.get();M.set(w,A),this.h?this.h.next=M:this.g=M,this.h=M}}var L=new S(()=>new B,g=>g.reset());class B{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let q,F=!1,R=new P,O=()=>{const g=Promise.resolve(void 0);q=()=>{g.then(D)}};function D(){for(var g;g=I();){try{g.h.call(g.g)}catch(A){T(A)}var w=L;w.j(g),w.h<100&&(w.h++,g.next=w.g,w.g=g)}F=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};l.addEventListener("test",A,w),l.removeEventListener("test",A,w)}catch{}return g})();function V(g){return/^[\s\xa0]*$/.test(g)}function pe(g,w){j.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,w)}y(pe,j),pe.prototype.init=function(g,w){const A=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget,w||(A=="mouseover"?w=g.fromElement:A=="mouseout"&&(w=g.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ue(g,w,A,M,W){this.listener=g,this.proxy=null,this.src=w,this.type=A,this.capture=!!M,this.ha=W,this.key=++Z,this.da=this.fa=!1}function ge(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ee(g,w,A){for(const M in g)w.call(A,g[M],M,g)}function H(g,w){for(const A in g)w.call(void 0,g[A],A,g)}function ie(g){const w={};for(const A in g)w[A]=g[A];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(g,w){let A,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(A in M)g[A]=M[A];for(let ee=0;ee<ae.length;ee++)A=ae[ee],Object.prototype.hasOwnProperty.call(M,A)&&(g[A]=M[A])}}function we(g){this.src=g,this.g={},this.h=0}we.prototype.add=function(g,w,A,M,W){const ee=g.toString();g=this.g[ee],g||(g=this.g[ee]=[],this.h++);const fe=Ie(g,w,M,W);return fe>-1?(w=g[fe],A||(w.fa=!1)):(w=new ue(w,this.src,ee,!!M,W),w.fa=A,g.push(w)),w};function Ne(g,w){const A=w.type;if(A in g.g){var M=g.g[A],W=Array.prototype.indexOf.call(M,w,void 0),ee;(ee=W>=0)&&Array.prototype.splice.call(M,W,1),ee&&(ge(w),g.g[A].length==0&&(delete g.g[A],g.h--))}}function Ie(g,w,A,M){for(let W=0;W<g.length;++W){const ee=g[W];if(!ee.da&&ee.listener==w&&ee.capture==!!A&&ee.ha==M)return W}return-1}var Kt="closure_lm_"+(Math.random()*1e6|0),st={};function me(g,w,A,M,W){if(Array.isArray(w)){for(let ee=0;ee<w.length;ee++)me(g,w[ee],A,M,W);return null}return A=bi(A),g&&g[ye]?g.J(w,A,c(M)?!!M.capture:!1,W):Be(g,w,A,!1,M,W)}function Be(g,w,A,M,W,ee){if(!w)throw Error("Invalid event type");const fe=c(W)?!!W.capture:!!W;let $e=Jt(g);if($e||(g[Kt]=$e=new we(g)),A=$e.add(w,A,M,fe,ee),A.proxy)return A;if(M=He(),A.proxy=M,M.src=g,M.listener=A,g.addEventListener)z||(W=fe),W===void 0&&(W=!1),g.addEventListener(w.toString(),M,W);else if(g.attachEvent)g.attachEvent(Je(w.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function He(){function g(A){return w.call(g.src,g.listener,A)}const w=Gt;return g}function ce(g,w,A,M,W){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)ce(g,w[ee],A,M,W);else M=c(M)?!!M.capture:!!M,A=bi(A),g&&g[ye]?(g=g.i,ee=String(w).toString(),ee in g.g&&(w=g.g[ee],A=Ie(w,A,M,W),A>-1&&(ge(w[A]),Array.prototype.splice.call(w,A,1),w.length==0&&(delete g.g[ee],g.h--)))):g&&(g=Jt(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Ie(w,A,M,W)),(A=g>-1?w[g]:null)&&Dt(A))}function Dt(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[ye])Ne(w.i,g);else{var A=g.type,M=g.proxy;w.removeEventListener?w.removeEventListener(A,M,g.capture):w.detachEvent?w.detachEvent(Je(A),M):w.addListener&&w.removeListener&&w.removeListener(M),(A=Jt(w))?(Ne(A,g),A.h==0&&(A.src=null,w[Kt]=null)):ge(g)}}}function Je(g){return g in st?st[g]:st[g]="on"+g}function Gt(g,w){if(g.da)g=!0;else{w=new pe(w,this);const A=g.listener,M=g.ha||g.src;g.fa&&Dt(g),g=A.call(M,w)}return g}function Jt(g){return g=g[Kt],g instanceof we?g:null}var Tt="__closure_events_fn_"+(Math.random()*1e9>>>0);function bi(g){return typeof g=="function"?g:(g[Tt]||(g[Tt]=function(w){return g.handleEvent(w)}),g[Tt])}function zt(){U.call(this),this.i=new we(this),this.M=this,this.G=null}y(zt,U),zt.prototype[ye]=!0,zt.prototype.removeEventListener=function(g,w,A,M){ce(this,g,w,A,M)};function St(g,w){var A,M=g.G;if(M)for(A=[];M;M=M.G)A.push(M);if(g=g.M,M=w.type||w,typeof w=="string")w=new j(w,g);else if(w instanceof j)w.target=w.target||g;else{var W=w;w=new j(M,g),de(w,W)}W=!0;let ee,fe;if(A)for(fe=A.length-1;fe>=0;fe--)ee=w.g=A[fe],W=Cr(ee,M,!0,w)&&W;if(ee=w.g=g,W=Cr(ee,M,!0,w)&&W,W=Cr(ee,M,!1,w)&&W,A)for(fe=0;fe<A.length;fe++)ee=w.g=A[fe],W=Cr(ee,M,!1,w)&&W}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var g=this.i;for(const w in g.g){const A=g.g[w];for(let M=0;M<A.length;M++)ge(A[M]);delete g.g[w],g.h--}}this.G=null},zt.prototype.J=function(g,w,A,M){return this.i.add(String(g),w,!1,A,M)},zt.prototype.K=function(g,w,A,M){return this.i.add(String(g),w,!0,A,M)};function Cr(g,w,A,M){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let ee=0;ee<w.length;++ee){const fe=w[ee];if(fe&&!fe.da&&fe.capture==A){const $e=fe.listener,Pt=fe.ha||fe.src;fe.fa&&Ne(g.i,fe),W=$e.call(Pt,M)!==!1&&W}}return W&&!M.defaultPrevented}function pn(g,w){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(g,w||0)}function ua(g){g.g=pn(()=>{g.g=null,g.i&&(g.i=!1,ua(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class ar extends U{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ua(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(g){U.call(this),this.h=g,this.g={}}y(ca,U);var sr=[];function yn(g){Ee(g.g,function(w,A){this.g.hasOwnProperty(A)&&Dt(w)},g),g.g={}}ca.prototype.N=function(){ca.Z.N.call(this),yn(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=l.JSON.stringify,An=l.JSON.parse,Or=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function mo(){}function is(){}var Nr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pr(){j.call(this,"d")}y(pr,j);function Lt(){j.call(this,"c")}y(Lt,j);var yr={},Pi=null;function as(){return Pi=Pi||new zt}yr.Ia="serverreachability";function Wt(g){j.call(this,yr.Ia,g)}y(Wt,j);function Xr(g){const w=as();St(w,new Wt(w))}yr.STAT_EVENT="statevent";function ss(g,w){j.call(this,yr.STAT_EVENT,g),this.stat=w}y(ss,j);function ct(g){const w=as();St(w,new ss(w,g))}yr.Ja="timingevent";function Sl(g,w){j.call(this,yr.Ja,g),this.size=w}y(Sl,j);function Mi(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},w)}function vr(){this.g=!0}vr.prototype.ua=function(){this.g=!1};function go(g,w,A,M,W,ee){g.info(function(){if(g.g)if(ee){var fe="",$e=ee.split("&");for(let gt=0;gt<$e.length;gt++){var Pt=$e[gt].split("=");if(Pt.length>1){const tn=Pt[0];Pt=Pt[1];const Dr=tn.split("_");fe=Dr.length>=2&&Dr[1]=="type"?fe+(tn+"="+Pt+"&"):fe+(tn+"=redacted&")}}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+w+`
`+A+`
`+fe})}function po(g,w,A,M,W,ee,fe){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+w+`
`+A+`
`+ee+" "+fe})}function Ir(g,w,A,M){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+Rr(g,A)+(M?" "+M:"")})}function Ju(g,w){g.info(function(){return"TIMEOUT: "+w})}vr.prototype.info=function(){};function Rr(g,w){if(!g.g)return w;if(!w)return null;try{const ee=JSON.parse(w);if(ee){for(g=0;g<ee.length;g++)if(Array.isArray(ee[g])){var A=ee[g];if(!(A.length<2)){var M=A[1];if(Array.isArray(M)&&!(M.length<1)){var W=M[0];if(W!="noop"&&W!="stop"&&W!="close")for(let fe=1;fe<M.length;fe++)M[fe]=""}}}}return Yt(ee)}catch{return w}}var Bt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ln={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},he;function ve(){}y(ve,mo),ve.prototype.g=function(){return new XMLHttpRequest},he=new ve;function Ce(g){return encodeURIComponent(String(g))}function ke(g){var w=1;g=g.split(":");const A=[];for(;w>0&&g.length;)A.push(g.shift()),w--;return g.length&&A.push(g.join(":")),A}function Re(g,w,A,M){this.j=g,this.i=w,this.l=A,this.S=M||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}var at={},bt={};function Ue(g,w,A){g.M=1,g.A=ma(qt(w)),g.u=A,g.R=!0,ze(g,null)}function ze(g,w){g.F=Date.now(),Yn(g),g.B=qt(g.A);var A=g.B,M=g.S;Array.isArray(M)||(M=[String(M)]),wd(A.i,"t",M),g.C=0,A=g.j.L,g.h=new Ke,g.g=Il(g.j,A?w:null,!g.u),g.P>0&&(g.O=new ar(h(g.Y,g,g.g),g.P)),w=g.V,A=g.g,M=g.ba;var W="readystatechange";Array.isArray(W)||(W&&(sr[0]=W.toString()),W=sr);for(let ee=0;ee<W.length;ee++){const fe=me(A,W[ee],M||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=g.J?ie(g.J):{},g.u?(g.v||(g.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,w)):(g.v="GET",g.g.ea(g.B,g.v,null,w)),Xr(),go(g.i,g.v,g.B,g.l,g.S,g.u)}Re.prototype.ba=function(g){g=g.target;const w=this.O;w&&Wn(g)==3?w.j():this.Y(g)},Re.prototype.Y=function(g){try{if(g==this.g)e:{const $e=Wn(this.g),Pt=this.g.ya(),gt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Eo(this.g)))){this.K||$e!=4||Pt==7||(Pt==8||gt<=0?Xr(3):Xr(2)),en(this);var w=this.g.ca();this.X=w;var A=dt(this);if(this.o=w==200,po(this.i,this.v,this.B,this.l,this.S,$e,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,W=this.g;if((M=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(M)){var ee=M;break t}}ee=null}if(g=ee)Ir(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fa(this,g);else{this.o=!1,this.m=3,ct(12),br(this),Qr(this);break e}}if(this.R){g=!0;let tn;for(;!this.K&&this.C<A.length;)if(tn=ji(this,A),tn==bt){$e==4&&(this.m=4,ct(14),g=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==at){this.m=4,ct(15),Ir(this.i,this.l,A,"[Invalid Chunk]"),g=!1;break}else Ir(this.i,this.l,tn,null),fa(this,tn);if(Ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||A.length!=0||this.h.h||(this.m=1,ct(16),g=!1),this.o=this.o&&g,!g)Ir(this.i,this.l,A,"[Invalid Chunked Response]"),br(this),Qr(this);else if(A.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),cc(fe),fe.P=!0,ct(11))}}else Ir(this.i,this.l,A,null),fa(this,A);$e==4&&br(this),this.o&&!this.K&&($e==4?fc(this.j,this):(this.o=!1,Yn(this)))}else To(this.g),w==400&&A.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),br(this),Qr(this)}}}catch{}finally{}};function dt(g){if(!Ct(g))return g.g.la();const w=Eo(g.g);if(w==="")return"";let A="";const M=w.length,W=Wn(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return br(g),Qr(g),"";g.h.i=new l.TextDecoder}for(let ee=0;ee<M;ee++)g.h.h=!0,A+=g.h.i.decode(w[ee],{stream:!(W&&ee==M-1)});return w.length=0,g.h.g+=A,g.C=0,g.h.g}function Ct(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function ji(g,w){var A=g.C,M=w.indexOf(`
`,A);return M==-1?bt:(A=Number(w.substring(A,M)),isNaN(A)?at:(M+=1,M+A>w.length?bt:(w=w.slice(M,M+A),g.C=M+A,w)))}Re.prototype.cancel=function(){this.K=!0,br(this)};function Yn(g){g.T=Date.now()+g.H,un(g,g.H)}function un(g,w){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Mi(h(g.aa,g),w)}function en(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Re.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ju(this.i,this.B),this.M!=2&&(Xr(),ct(17)),br(this),this.m=2,Qr(this)):un(this,this.T-g)};function Qr(g){g.j.I==0||g.K||fc(g.j,g)}function br(g){en(g);var w=g.O;w&&typeof w.dispose=="function"&&w.dispose(),g.O=null,yn(g.V),g.g&&(w=g.g,g.g=null,w.abort(),w.dispose())}function fa(g,w){try{var A=g.j;if(A.I!=0&&(A.g==g||ha(A.h,g))){if(!g.L&&ha(A.h,g)&&A.I==3){try{var M=A.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<g.F)Nl(A),Ui(A);else break e;uc(A),ct(18)}}else A.xa=W[1],0<A.xa-A.K&&W[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Mi(h(A.Va,A),6e3));xr(A.h)<=1&&A.ta&&(A.ta=void 0)}else ya(A,11)}else if((g.L||A.g==g)&&Nl(A),!V(w))for(W=A.Ba.g.parse(w),w=0;w<W.length;w++){let gt=W[w];const tn=gt[0];if(!(tn<=A.K))if(A.K=tn,gt=gt[1],A.I==2)if(gt[0]=="c"){A.M=gt[1],A.ba=gt[2];const Dr=gt[3];Dr!=null&&(A.ka=Dr,A.j.info("VER="+A.ka));const zi=gt[4];zi!=null&&(A.za=zi,A.j.info("SVER="+A.za));const wi=gt[5];wi!=null&&typeof wi=="number"&&wi>0&&(M=1.5*wi,A.O=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const Ei=g.g;if(Ei){const Ti=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var ee=M.h;ee.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Li(ee,ee.h),ee.h=null))}if(M.G){const hc=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;hc&&(M.wa=hc,xt(M.J,M.G,hc))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-g.F,A.j.info("Handshake RTT: "+A.T+"ms")),M=A;var fe=g;if(M.na=Id(M,M.L?M.ba:null,M.W),fe.L){or(M.h,fe);var $e=fe,Pt=M.O;Pt&&($e.H=Pt),$e.D&&(en($e),Yn($e)),M.g=fe}else kd(M);A.i.length>0&&Co(A)}else gt[0]!="stop"&&gt[0]!="close"||ya(A,7);else A.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?ya(A,7):Ao(A):gt[0]!="noop"&&A.l&&A.l.qa(gt),A.A=0)}}Xr(4)}catch{}}var ec=class{constructor(g,w){this.g=g,this.map=w}};function xi(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function da(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function xr(g){return g.h?1:g.g?g.g.size:0}function ha(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Li(g,w){g.g?g.g.add(w):g.h=w}function or(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}xi.prototype.cancel=function(){if(this.i=Vi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Vi(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const A of g.g.values())w=w.concat(A.G);return w}return _(g.i)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ht(g,w){if(g){g=g.split("&");for(let A=0;A<g.length;A++){const M=g[A].indexOf("=");let W,ee=null;M>=0?(W=g[A].substring(0,M),ee=g[A].substring(M+1)):W=g[A],w(W,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function mt(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;g instanceof mt?(this.l=g.l,os(this,g.j),this.o=g.o,this.g=g.g,yo(this,g.u),this.h=g.h,ls(this,Ed(g.i)),this.m=g.m):g&&(w=String(g).match(Zr))?(this.l=!1,os(this,w[1]||"",!0),this.o=vo(w[2]||""),this.g=vo(w[3]||"",!0),yo(this,w[4]),this.h=vo(w[5]||"",!0),ls(this,w[6]||"",!0),this.m=vo(w[7]||"")):(this.l=!1,this.i=new Jr(null,this.l))}mt.prototype.toString=function(){const g=[];var w=this.j;w&&g.push(kn(w,nc,!0),":");var A=this.g;return(A||w=="file")&&(g.push("//"),(w=this.o)&&g.push(kn(w,nc,!0),"@"),g.push(Ce(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&g.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(kn(A,A.charAt(0)=="/"?us:rc,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",kn(A,_d)),g.join("")},mt.prototype.resolve=function(g){const w=qt(this);let A=!!g.j;A?os(w,g.j):A=!!g.o,A?w.o=g.o:A=!!g.g,A?w.g=g.g:A=g.u!=null;var M=g.h;if(A)yo(w,g.u);else if(A=!!g.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var W=w.h.lastIndexOf("/");W!=-1&&(M=w.h.slice(0,W+1)+M)}if(W=M,W==".."||W==".")M="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){M=W.lastIndexOf("/",0)==0,W=W.split("/");const ee=[];for(let fe=0;fe<W.length;){const $e=W[fe++];$e=="."?M&&fe==W.length&&ee.push(""):$e==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),M&&fe==W.length&&ee.push("")):(ee.push($e),M=!0)}M=ee.join("/")}else M=W}return A?w.h=M:A=g.i.toString()!=="",A?ls(w,Ed(g.i)):A=!!g.m,A&&(w.m=g.m),w};function qt(g){return new mt(g)}function os(g,w,A){g.j=A?vo(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function yo(g,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);g.u=w}else g.u=null}function ls(g,w,A){w instanceof Jr?(g.i=w,sc(g.i,g.l)):(A||(w=kn(w,xd)),g.i=new Jr(w,g.l))}function xt(g,w,A){g.i.set(w,A)}function ma(g){return xt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function vo(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function kn(g,w,A){return typeof g=="string"?(g=encodeURI(g).replace(w,tc),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function tc(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var nc=/[#\/\?@]/g,rc=/[#\?:]/g,us=/[#\?]/g,xd=/[#\?@]/g,_d=/#/g;function Jr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function ga(g){g.g||(g.g=new Map,g.h=0,g.i&&ht(g.i,function(w,A){g.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=Jr.prototype,t.add=function(g,w){ga(this),this.i=null,g=_i(this,g);let A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(w),this.h+=1,this};function ic(g,w){ga(g),w=_i(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function ac(g,w){return ga(g),w=_i(g,w),g.g.has(w)}t.forEach=function(g,w){ga(this),this.g.forEach(function(A,M){A.forEach(function(W){g.call(w,W,M,this)},this)},this)};function Al(g,w){ga(g);let A=[];if(typeof w=="string")ac(g,w)&&(A=A.concat(g.g.get(_i(g,w))));else for(g=Array.from(g.g.values()),w=0;w<g.length;w++)A=A.concat(g[w]);return A}t.set=function(g,w){return ga(this),this.i=null,g=_i(this,g),ac(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=Al(this,g),g.length>0?String(g[0]):w):w};function wd(g,w,A){ic(g,w),A.length>0&&(g.i=null,g.g.set(_i(g,w),_(A)),g.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var A=w[M];const W=Ce(A);A=Al(this,A);for(let ee=0;ee<A.length;ee++){let fe=W;A[ee]!==""&&(fe+="="+Ce(A[ee])),g.push(fe)}}return this.i=g.join("&")};function Ed(g){const w=new Jr;return w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),w}function _i(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function sc(g,w){w&&!g.j&&(ga(g),g.i=null,g.g.forEach(function(A,M){const W=M.toLowerCase();M!=W&&(ic(this,M),wd(this,W,A))},g)),g.j=w}function oc(g,w){const A=new vr;if(l.Image){const M=new Image;M.onload=m(lr,A,"TestLoadImage: loaded",!0,w,M),M.onerror=m(lr,A,"TestLoadImage: error",!1,w,M),M.onabort=m(lr,A,"TestLoadImage: abort",!1,w,M),M.ontimeout=m(lr,A,"TestLoadImage: timeout",!1,w,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else w(!1)}function cs(g,w){const A=new vr,M=new AbortController,W=setTimeout(()=>{M.abort(),lr(A,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:M.signal}).then(ee=>{clearTimeout(W),ee.ok?lr(A,"TestPingServer: ok",!0,w):lr(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),lr(A,"TestPingServer: error",!1,w)})}function lr(g,w,A,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(A)}catch{}}function Td(){this.g=new Or}function bo(g){this.i=g.Sb||null,this.h=g.ab||!1}y(bo,mo),bo.prototype.g=function(){return new xo(this.i,this.h)};function xo(g,w){zt.call(this),this.H=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(xo,zt),t=xo.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=w,this.readyState=1,pa(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(w.body=g),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fs(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function fs(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?ur(this):pa(this),this.readyState==3&&fs(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,ur(this))},t.Na=function(g){this.g&&(this.response=g,ur(this))},t.ga=function(){this.g&&ur(this)};function ur(g){g.readyState=4,g.l=null,g.j=null,g.B=null,pa(g)}t.setRequestHeader=function(g,w){this.A.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=w.next();return g.join(`\r
`)};function pa(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ds(g){let w="";return Ee(g,function(A,M){w+=M,w+=":",w+=A,w+=`\r
`}),w}function ei(g,w,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=ds(A),typeof g=="string"?A!=null&&Ce(A):xt(g,w,A))}function Ot(g){zt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Ot,zt);var kl=/^https?$/i,Sd=["POST","PUT"];t=Ot.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,w,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():he.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ee){_o(this,ee);return}if(g=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)A.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ee of M.keys())A.set(ee,M.get(ee));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(ee=>ee.toLowerCase()=="content-type"),W=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Sd,w,void 0)>=0)||M||W||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of A)this.g.setRequestHeader(ee,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ee){_o(this,ee)}};function _o(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.o=5,wo(g),vn(g)}function wo(g){g.A||(g.A=!0,St(g,"complete"),St(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,St(this,"complete"),St(this,"abort"),vn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?lc(this):this.Xa())},t.Xa=function(){lc(this)};function lc(g){if(g.h&&typeof o<"u"){if(g.v&&Wn(g)==4)setTimeout(g.Ca.bind(g),0);else if(St(g,"readystatechange"),Wn(g)==4){g.h=!1;try{const ee=g.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var M;if(M=ee===0){let fe=String(g.D).match(Zr)[1]||null;!fe&&l.self&&l.self.location&&(fe=l.self.location.protocol.slice(0,-1)),M=!kl.test(fe?fe.toLowerCase():"")}A=M}if(A)St(g,"complete"),St(g,"success");else{g.o=6;try{var W=Wn(g)>2?g.g.statusText:""}catch{W=""}g.l=W+" ["+g.ca()+"]",wo(g)}}finally{vn(g)}}}}function vn(g,w){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const A=g.g;g.g=null,w||St(g,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wn(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),An(w)}};function Eo(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function To(g){const w={};g=(g.g&&Wn(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(V(g[M]))continue;var A=ke(g[M]);const W=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ee=w[W]||[];w[W]=ee,ee.push(A)}H(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(g,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||w}function Cl(g){this.za=0,this.i=[],this.j=new vr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=So("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=So("baseRetryDelayMs",5e3,g),this.Za=So("retryDelaySeedMs",1e4,g),this.Ta=So("forwardChannelMaxRetries",2,g),this.va=So("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new xi(g&&g.concurrentRequestLimit),this.Ba=new Td,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Cl.prototype,t.ka=8,t.I=1,t.connect=function(g,w,A,M){ct(0),this.W=g,this.H=w||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.J=Id(this,null,this.W),Co(this)};function Ao(g){if(ko(g),g.I==3){var w=g.V++,A=qt(g.J);if(xt(A,"SID",g.M),xt(A,"RID",w),xt(A,"TYPE","terminate"),Oo(g,A),w=new Re(g,g.j,w),w.M=2,w.A=ma(qt(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!A&&l.Image&&(new Image().src=w.A,A=!0),A||(w.g=Il(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Yn(w)}Nd(g)}function Ui(g){g.g&&(cc(g),g.g.cancel(),g.g=null)}function ko(g){Ui(g),g.v&&(l.clearTimeout(g.v),g.v=null),Nl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Co(g){if(!da(g.h)&&!g.m){g.m=!0;var w=g.Ea;q||O(),F||(q(),F=!0),R.add(w,g),g.D=0}}function pp(g,w){return xr(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=w.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Mi(h(g.Ea,g,w),Od(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const W=new Re(this,this.j,g);let ee=this.o;if(this.U&&(ee?(ee=ie(ee),de(ee,this.U)):ee=this.U),this.u!==null||this.R||(W.J=ee,ee=null),this.S)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=Ol(this,W,w),A=qt(this.J),xt(A,"RID",g),xt(A,"CVER",22),this.G&&xt(A,"X-HTTP-Session-Id",this.G),Oo(this,A),ee&&(this.R?w="headers="+Ce(ds(ee))+"&"+w:this.u&&ei(A,this.u,ee)),Li(this.h,W),this.Ra&&xt(A,"TYPE","init"),this.S?(xt(A,"$req",w),xt(A,"SID","null"),W.U=!0,Ue(W,A,null)):Ue(W,A,w),this.I=2}}else this.I==3&&(g?Ad(this,g):this.i.length==0||da(this.h)||Ad(this))};function Ad(g,w){var A;w?A=w.l:A=g.V++;const M=qt(g.J);xt(M,"SID",g.M),xt(M,"RID",A),xt(M,"AID",g.K),Oo(g,M),g.u&&g.o&&ei(M,g.u,g.o),A=new Re(g,g.j,A,g.D+1),g.u===null&&(A.J=g.o),w&&(g.i=w.G.concat(g.i)),w=Ol(g,A,1e3),A.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Li(g.h,A),Ue(A,M,w)}function Oo(g,w){g.H&&Ee(g.H,function(A,M){xt(w,M,A)}),g.l&&Ee({},function(A,M){xt(w,M,A)})}function Ol(g,w,A){A=Math.min(g.i.length,A);const M=g.l?h(g.l.Ka,g.l,g):null;e:{var W=g.i;let $e=-1;for(;;){const Pt=["count="+A];$e==-1?A>0?($e=W[0].g,Pt.push("ofs="+$e)):$e=0:Pt.push("ofs="+$e);let gt=!0;for(let tn=0;tn<A;tn++){var ee=W[tn].g;const Dr=W[tn].map;if(ee-=$e,ee<0)$e=Math.max(0,W[tn].g-100),gt=!1;else try{ee="req"+ee+"_"||"";try{var fe=Dr instanceof Map?Dr:Object.entries(Dr);for(const[zi,wi]of fe){let Ei=wi;c(wi)&&(Ei=Yt(wi)),Pt.push(ee+zi+"="+encodeURIComponent(Ei))}}catch(zi){throw Pt.push(ee+"type="+encodeURIComponent("_badmap")),zi}}catch{M&&M(Dr)}}if(gt){fe=Pt.join("&");break e}}fe=void 0}return g=g.i.splice(0,A),w.G=g,fe}function kd(g){if(!g.g&&!g.v){g.Y=1;var w=g.Da;q||O(),F||(q(),F=!0),R.add(w,g),g.A=0}}function uc(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Mi(h(g.Da,g),Od(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Cd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Mi(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),Ui(this),Cd(this))};function cc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Cd(g){g.g=new Re(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var w=qt(g.na);xt(w,"RID","rpc"),xt(w,"SID",g.M),xt(w,"AID",g.K),xt(w,"CI",g.F?"0":"1"),!g.F&&g.ia&&xt(w,"TO",g.ia),xt(w,"TYPE","xmlhttp"),Oo(g,w),g.u&&g.o&&ei(w,g.u,g.o),g.O&&(g.g.H=g.O);var A=g.g;g=g.ba,A.M=1,A.A=ma(qt(w)),A.u=null,A.R=!0,ze(A,g)}t.Va=function(){this.C!=null&&(this.C=null,Ui(this),uc(this),ct(19))};function Nl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function fc(g,w){var A=null;if(g.g==w){Nl(g),cc(g),g.g=null;var M=2}else if(ha(g.h,w))A=w.G,or(g.h,w),M=1;else return;if(g.I!=0){if(w.o)if(M==1){A=w.u?w.u.length:0,w=Date.now()-w.F;var W=g.D;M=as(),St(M,new Sl(M,A)),Co(g)}else kd(g);else if(W=w.m,W==3||W==0&&w.X>0||!(M==1&&pp(g,w)||M==2&&uc(g)))switch(A&&A.length>0&&(w=g.h,w.i=w.i.concat(A)),W){case 1:ya(g,5);break;case 4:ya(g,10);break;case 3:ya(g,6);break;default:ya(g,2)}}}function Od(g,w){let A=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(A*=2),A*w}function ya(g,w){if(g.j.info("Error code "+w),w==2){var A=h(g.bb,g),M=g.Ua;const W=!M;M=new mt(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||os(M,"https"),ma(M),W?oc(M.toString(),A):cs(M.toString(),A)}else ct(2);g.I=0,g.l&&g.l.pa(w),Nd(g),ko(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Nd(g){if(g.I=0,g.ja=[],g.l){const w=Vi(g.h);(w.length!=0||g.i.length!=0)&&(E(g.ja,w),E(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Id(g,w,A){var M=A instanceof mt?qt(A):new mt(A);if(M.g!="")w&&(M.g=w+"."+M.g),yo(M,M.u);else{var W=l.location;M=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const ee=new mt(null);M&&os(ee,M),w&&(ee.g=w),W&&yo(ee,W),A&&(ee.h=A),M=ee}return A=g.G,w=g.wa,A&&w&&xt(M,A,w),xt(M,"VER",g.ka),Oo(g,M),M}function Il(g,w,A){if(w&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Aa&&!g.ma?new Ot(new bo({ab:A})):new Ot(g.ma),w.Fa(g.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rd(){}t=Rd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Rl(){}Rl.prototype.g=function(g,w){return new cr(g,w)};function cr(g,w){zt.call(this),this.g=new Cl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(g?g["X-WebChannel-Client-Profile"]=w.sa:g={"X-WebChannel-Client-Profile":w.sa}),this.g.U=g,(g=w&&w.Qb)&&!V(g)&&(this.g.u=g),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new hs(this)}y(cr,zt),cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){Ao(this.g)},cr.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.v&&(A={},A.__data__=Yt(g),g=A);w.i.push(new ec(w.Ya++,g)),w.I==3&&Co(w)},cr.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,cr.Z.N.call(this)};function dc(g){pr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const A in w){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}y(dc,pr);function Dd(){Lt.call(this),this.status=1}y(Dd,Lt);function hs(g){this.g=g}y(hs,Rd),hs.prototype.ra=function(){St(this.g,"a")},hs.prototype.qa=function(g){St(this.g,new dc(g))},hs.prototype.pa=function(g){St(this.g,new Dd)},hs.prototype.oa=function(){St(this.g,"b")},Rl.prototype.createWebChannel=Rl.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,sN=function(){return new Rl},aN=function(){return as()},iN=yr,ab={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bt.NO_ERROR=0,Bt.TIMEOUT=8,Bt.HTTP_ERROR=6,lm=Bt,ln.COMPLETE="complete",rN=ln,is.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",zt.prototype.listen=zt.prototype.J,hf=is,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,nN=Ot}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const IS="@firebase/firestore",RS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new fx("@firebase/firestore");function lu(){return cl.logLevel}function be(t,...e){if(cl.logLevel<=et.DEBUG){const n=e.map(wx);cl.debug(`Firestore (${zu}): ${t}`,...n)}}function Ka(t,...e){if(cl.logLevel<=et.ERROR){const n=e.map(wx);cl.error(`Firestore (${zu}): ${t}`,...n)}}function wu(t,...e){if(cl.logLevel<=et.WARN){const n=e.map(wx);cl.warn(`Firestore (${zu}): ${t}`,...n)}}function wx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oN(t,r,n)}function oN(t,e,n){let r=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ka(r),new Error(r)}function ft(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||oN(e,a,r)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(er.UNAUTHENTICATED)))}shutdown(){}}class JV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class e5{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xs,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},c=d=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new lN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class t5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class n5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new t5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const r=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=i5(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function sb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return xv(a)===xv(o)?tt(a,o):xv(a)?1:-1}return tt(t.length,e.length)}const a5=55296,s5=57343;function xv(t){const e=t.charCodeAt(0);return e>=a5&&e<=s5}function Eu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="__name__";class Gi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Gi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return tt(e.length,n.length)}static compareSegments(e,n){const r=Gi.isNumericId(e),a=Gi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Gi.extractNumericId(e).compare(Gi.extractNumericId(n)):sb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class Ft extends Gi{construct(e,n,r){return new Ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Ft(n)}static emptyPath(){return new Ft([])}}const o5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Gi{construct(e,n,r){return new qn(e,n,r)}static isValidIdentifier(e){return o5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PS}static keyField(){return new qn([PS])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Se(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Se(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Se(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(r+=c,a++):(o(),a++)}if(o(),l)throw new Se(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Ft.fromString(e))}static fromName(e){return new De(Ft.fromString(e).popFirst(5))}static empty(){return new De(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e,n){if(!n)throw new Se(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u5(t,e,n,r){if(e===!0&&r===!0)throw new Se(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MS(t){if(!De.isDocumentKey(t))throw new Se(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function If(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tx(t);throw new Se(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,e){const n={typeString:t};return e&&(n.value=e),n}function nd(t,e){if(!uN(t))throw new Se(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Se(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=-62135596800,LS=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LS);return new jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jS)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LS}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nd(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:hn("string",jt._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new jt(0,0))}static max(){return new qe(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=-1;function c5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Js(a,De.empty(),e)}function f5(t){return new Js(t.readTime,t.key,Rf)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(qe.min(),De.empty(),Rf)}static max(){return new Js(qe.max(),De.empty(),Rf)}}function d5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==h5)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let a=0,o=0,l=!1;e.forEach((c=>{++a,c.next((()=>{++o,l&&o===a&&n()}),(d=>r(d)))})),l=!0,o===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((a=>a?oe.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,a)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next((m=>{l[h]=m,++c,c===o&&r(l)}),(m=>a(m)))}}))}static doWhile(e,n){return new oe(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function g5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ag.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=-1;function kg(t){return t==null}function Sm(t){return t===0&&1/t==-1/0}function p5(t){return typeof t=="number"&&Number.isInteger(t)&&!Sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="";function y5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VS(e)),e=v5(t.get(n),e);return VS(e)}function v5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case cN:n+="";break;default:n+=o}}return n}function VS(t){return t+cN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.comparator=e,this.root=n||zn.EMPTY}insert(e,n){return new Ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??zn.RED,this.left=a??zn.EMPTY,this.right=o??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new zn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zS(this.data.getIterator())}getIteratorFrom(e){return new zS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class zS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new Ri([])}unionWith(e){let n=new En(qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dN("Invalid base64 string: "+o):o}})(e);return new Hn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o})(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const b5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=b5.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function to(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="server_timestamp",mN="__type__",gN="__previous_value__",pN="__local_write_time__";function Ax(t){return(t?.mapValue?.fields||{})[mN]?.stringValue===hN}function Cg(t){const e=t.mapValue.fields[gN];return Ax(e)?Cg(e):e}function Df(t){const e=eo(t.mapValue.fields[pN].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n,r,a,o,l,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const Am="(default)";class Pf{constructor(e,n){this.projectId=e,this.database=n||Am}static empty(){return new Pf("","")}get isDefaultDatabase(){return this.database===Am}isEqual(e){return e instanceof Pf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="__type__",_5="__max__",Lh={mapValue:{}},vN="__vector__",km="value";function no(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ax(t)?4:E5(t)?9007199254740991:w5(t)?10:11:Le(28295,{value:t})}function ra(t,e){if(t===e)return!0;const n=no(t);if(n!==no(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Df(t).isEqual(Df(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=eo(a.timestampValue),c=eo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return to(a.bytesValue).isEqual(to(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return sn(a.geoPointValue.latitude)===sn(o.geoPointValue.latitude)&&sn(a.geoPointValue.longitude)===sn(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return sn(a.integerValue)===sn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=sn(a.doubleValue),c=sn(o.doubleValue);return l===c?Sm(l)===Sm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Eu(t.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return(function(a,o){const l=a.mapValue.fields||{},c=o.mapValue.fields||{};if(US(l)!==US(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ra(l[d],c[d])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Mf(t,e){return(t.values||[]).find((n=>ra(n,e)))!==void 0}function Tu(t,e){if(t===e)return 0;const n=no(t),r=no(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=sn(o.integerValue||o.doubleValue),d=sn(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return BS(t.timestampValue,e.timestampValue);case 4:return BS(Df(t),Df(e));case 5:return sb(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=to(o),d=to(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=tt(c[h],d[h]);if(m!==0)return m}return tt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=tt(sn(o.latitude),sn(l.latitude));return c!==0?c:tt(sn(o.longitude),sn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return qS(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},d=l.fields||{},h=c[km]?.arrayValue,m=d[km]?.arrayValue,y=tt(h?.values?.length||0,m?.values?.length||0);return y!==0?y:qS(h,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Lh.mapValue&&l===Lh.mapValue)return 0;if(o===Lh.mapValue)return 1;if(l===Lh.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const v=sb(d[y],m[y]);if(v!==0)return v;const _=Tu(c[d[y]],h[m[y]]);if(_!==0)return _}return tt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function BS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=eo(t),r=eo(e),a=tt(n.seconds,r.seconds);return a!==0?a:tt(n.nanos,r.nanos)}function qS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Tu(n[a],r[a]);if(o)return o}return tt(n.length,r.length)}function Su(t){return ob(t)}function ob(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=eo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return to(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=ob(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${ob(n.fields[l])}`;return a+"}"})(t.mapValue):Le(61005,{value:t})}function um(t){switch(no(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cg(t);return e?16+um(e):16;case 5:return 2*t.stringValue.length;case 6:return to(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+um(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return yl(r.fields,((o,l)=>{a+=o.length+um(l)})),a})(t.mapValue);default:throw Le(13486,{value:t})}}function lb(t){return!!t&&"integerValue"in t}function kx(t){return!!t&&"arrayValue"in t}function $S(t){return!!t&&"nullValue"in t}function FS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cm(t){return!!t&&"mapValue"in t}function w5(t){return(t?.mapValue?.fields||{})[yN]?.stringValue===vN}function _f(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=_f(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_f(t.arrayValue.values[n]);return e}return{...t}}function E5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_f(n)}setAll(e){let n=qn.emptyPath(),r={},a=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=c.popLast()}l?r[c.lastSegment()]=_f(l):a.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];cm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){yl(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new ci(_f(this.value))}}function bN(t){const e=[];return yl(t.fields,((n,r)=>{const a=new qn([n]);if(cm(r)){const o=bN(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)})),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,a,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new tr(e,0,qe.min(),qe.min(),qe.min(),ci.empty(),0)}static newFoundDocument(e,n,r,a){return new tr(e,1,n,qe.min(),r,a,0)}static newNoDocument(e,n){return new tr(e,2,n,qe.min(),qe.min(),ci.empty(),0)}static newUnknownDocument(e,n){return new tr(e,3,n,qe.min(),qe.min(),ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.position=e,this.inclusive=n}}function HS(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],l=t.position[a];if(o.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),n.key):r=Tu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ra(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n="asc"){this.field=e,this.dir=n}}function T5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{}class wn extends xN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A5(e,n,r):n==="array-contains"?new O5(e,r):n==="in"?new N5(e,r):n==="not-in"?new I5(e,r):n==="array-contains-any"?new R5(e,r):new wn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k5(e,r):new C5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tu(n,this.value)):n!==null&&no(this.value)===no(n)&&this.matchesComparison(Tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ia extends xN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ia(e,n)}matches(e){return _N(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _N(t){return t.op==="and"}function wN(t){return S5(t)&&_N(t)}function S5(t){for(const e of t.filters)if(e instanceof ia)return!1;return!0}function ub(t){if(t instanceof wn)return t.field.canonicalString()+t.op.toString()+Su(t.value);if(wN(t))return t.filters.map((e=>ub(e))).join(",");{const e=t.filters.map((n=>ub(n))).join(",");return`${t.op}(${e})`}}function EN(t,e){return t instanceof wn?(function(r,a){return a instanceof wn&&r.op===a.op&&r.field.isEqual(a.field)&&ra(r.value,a.value)})(t,e):t instanceof ia?(function(r,a){return a instanceof ia&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,l,c)=>o&&EN(l,a.filters[c])),!0):!1})(t,e):void Le(19439)}function TN(t){return t instanceof wn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Su(n.value)}`})(t):t instanceof ia?(function(n){return n.op.toString()+" {"+n.getFilters().map(TN).join(" ,")+"}"})(t):"Filter"}class A5 extends wn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class k5 extends wn{constructor(e,n){super(e,"in",n),this.keys=SN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class C5 extends wn{constructor(e,n){super(e,"not-in",n),this.keys=SN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function SN(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class O5 extends wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kx(n)&&Mf(n.arrayValue,this.value)}}class N5 extends wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mf(this.value.arrayValue,n)}}class I5 extends wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mf(this.value.arrayValue,n)}}class R5 extends wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Mf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n=null,r=[],a=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function GS(t,e=null,n=[],r=[],a=null,o=null,l=null){return new D5(t,e,n,r,a,o,l)}function Cx(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ub(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),kg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Su(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Su(r))).join(",")),e.Te=n}return e.Te}function Ox(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KS(t.startAt,e.startAt)&&KS(t.endAt,e.endAt)}function cb(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n=null,r=[],a=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P5(t,e,n,r,a,o,l,c){return new Og(t,e,n,r,a,o,l,c)}function Nx(t){return new Og(t)}function YS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M5(t){return t.collectionGroup!==null}function wf(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new En(qn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Om(o,r))})),n.has(qn.keyField().canonicalString())||e.Ie.push(new Om(qn.keyField(),r))}return e.Ie}function Zi(t){const e=Fe(t);return e.Ee||(e.Ee=j5(e,wf(t))),e.Ee}function j5(t,e){if(t.limitType==="F")return GS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Om(a.field,o)}));const n=t.endAt?new Cm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cm(t.startAt.position,t.startAt.inclusive):null;return GS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fb(t,e,n){return new Og(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ng(t,e){return Ox(Zi(t),Zi(e))&&t.limitType===e.limitType}function AN(t){return`${Cx(Zi(t))}|lt:${t.limitType}`}function uu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>TN(a))).join(", ")}]`),kg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Su(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Su(a))).join(",")),`Target(${r})`})(Zi(t))}; limitType=${t.limitType})`}function Ig(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):De.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of wf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,c,d){const h=HS(l,c,d);return l.inclusive?h<=0:h<0})(r.startAt,wf(r),a)||r.endAt&&!(function(l,c,d){const h=HS(l,c,d);return l.inclusive?h>=0:h>0})(r.endAt,wf(r),a))})(t,e)}function L5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kN(t){return(e,n)=>{let r=!1;for(const a of wf(t)){const o=V5(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function V5(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?Tu(d,h):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return fN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new Ht(De.comparator);function Ga(){return U5}const CN=new Ht(De.comparator);function mf(...t){let e=CN;for(const n of t)e=e.insert(n.key,n);return e}function ON(t){let e=CN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qo(){return Ef()}function NN(){return Ef()}function Ef(){return new vl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const z5=new Ht(De.comparator),B5=new En(De.comparator);function nt(...t){let e=B5;for(const n of t)e=e.add(n);return e}const q5=new En(tt);function $5(){return q5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(e)?"-0":e}}function IN(t){return{integerValue:""+t}}function F5(t,e){return p5(e)?IN(e):Ix(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this._=void 0}}function H5(t,e,n){return t instanceof Nm?(function(a,o){const l={fields:{[mN]:{stringValue:hN},[pN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Ax(o)&&(o=Cg(o)),o&&(l.fields[gN]=o),{mapValue:l}})(n,e):t instanceof jf?DN(t,e):t instanceof Lf?PN(t,e):(function(a,o){const l=RN(a,o),c=WS(l)+WS(a.Ae);return lb(l)&&lb(a.Ae)?IN(c):Ix(a.serializer,c)})(t,e)}function K5(t,e,n){return t instanceof jf?DN(t,e):t instanceof Lf?PN(t,e):n}function RN(t,e){return t instanceof Im?(function(r){return lb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Nm extends Rg{}class jf extends Rg{constructor(e){super(),this.elements=e}}function DN(t,e){const n=MN(e);for(const r of t.elements)n.some((a=>ra(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Lf extends Rg{constructor(e){super(),this.elements=e}}function PN(t,e){let n=MN(e);for(const r of t.elements)n=n.filter((a=>!ra(a,r)));return{arrayValue:{values:n}}}class Im extends Rg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WS(t){return sn(t.integerValue||t.doubleValue)}function MN(t){return kx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function G5(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof jf&&a instanceof jf||r instanceof Lf&&a instanceof Lf?Eu(r.elements,a.elements,ra):r instanceof Im&&a instanceof Im?ra(r.Ae,a.Ae):r instanceof Nm&&a instanceof Nm})(t.transform,e.transform)}class Y5{constructor(e,n){this.version=e,this.transformResults=n}}class za{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new za}static exists(e){return new za(void 0,e)}static updateTime(e){return new za(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dg{}function jN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VN(t.key,za.none()):new rd(t.key,t.data,za.none());{const n=t.data,r=ci.empty();let a=new En(qn.comparator);for(let o of e.fields)if(!a.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new bl(t.key,r,new Ri(a.toArray()),za.none())}}function W5(t,e,n){t instanceof rd?(function(a,o,l){const c=a.value.clone(),d=QS(a.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof bl?(function(a,o,l){if(!fm(a.precondition,o))return void o.convertToUnknownDocument(l.version);const c=QS(a.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(LN(a)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Tf(t,e,n,r){return t instanceof rd?(function(o,l,c,d){if(!fm(o.precondition,l))return c;const h=o.value.clone(),m=ZS(o.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof bl?(function(o,l,c,d){if(!fm(o.precondition,l))return c;const h=ZS(o.fieldTransforms,d,l),m=l.data;return m.setAll(LN(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,l,c){return fm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function X5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=RN(r.transform,a||null);o!=null&&(n===null&&(n=ci.empty()),n.set(r.field,o))}return n||null}function XS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Eu(r,a,((o,l)=>G5(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rd extends Dg{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bl extends Dg{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function QS(t,e,n){const r=new Map;ft(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],l=o.transform,c=e.data.field(o.field);r.set(o.field,K5(l,c,n[a]))}return r}function ZS(t,e,n){const r=new Map;for(const a of t){const o=a.transform,l=n.data.field(a.field);r.set(a.field,H5(o,l,e))}return r}class VN extends Dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q5 extends Dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&W5(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NN();return this.mutations.forEach((a=>{const o=e.get(a.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(a.key)?null:c;const d=jN(l,c);d!==null&&r.set(a.key,d),l.isValidDocument()||l.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Eu(this.mutations,e.mutations,((n,r)=>XS(n,r)))&&Eu(this.baseMutations,e.baseMutations,((n,r)=>XS(n,r)))}}class Rx{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return z5})();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new Rx(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,it;function t9(t){switch(t){case le.OK:return Le(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function UN(t){if(t===void 0)return Ka("GRPC error has no .code"),le.UNKNOWN;switch(t){case dn.OK:return le.OK;case dn.CANCELLED:return le.CANCELLED;case dn.UNKNOWN:return le.UNKNOWN;case dn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case dn.INTERNAL:return le.INTERNAL;case dn.UNAVAILABLE:return le.UNAVAILABLE;case dn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case dn.NOT_FOUND:return le.NOT_FOUND;case dn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case dn.ABORTED:return le.ABORTED;case dn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case dn.DATA_LOSS:return le.DATA_LOSS;default:return Le(39323,{code:t})}}(it=dn||(dn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Ws([4294967295,4294967295],0);function JS(t){const e=n9().encode(t),n=new tN;return n.update(e),new Uint8Array(n.digest())}function eA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([a,o],0)]}class Dx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gf(`Invalid padding: ${n}`);if(r<0)throw new gf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ws.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ws.fromNumber(r)));return a.compare(r9)===1&&(a=new Ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JS(e),[r,a]=eA(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Dx(o,a,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=JS(e),[r,a]=eA(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pg(qe.min(),a,new Ht(tt),Ga(),nt())}}class id{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new id(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class zN{constructor(e,n){this.targetId=e,this.Ce=n}}class BN{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class tA{constructor(){this.ve=0,this.Fe=nA(),this.Me=Hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),n=nt(),r=nt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Le(38017,{changeType:o})}})),new id(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=nA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ga(),this.Je=Vh(),this.He=Vh(),this.Ye=new Ht(tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(cb(o))if(r===0){const l=new De(o.path);this.et(n,l,tr.newNoDocument(l,qe.min()))}else ft(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let l,c;try{l=to(r).toUint8Array()}catch(d){if(d instanceof dN)return wu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Dx(l,a,o)}catch(d){return wu(d instanceof gf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&cb(c.target)){const d=new De(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,tr.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=nt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const a=new Pg(e,n,this.Ye,this.je,r);return this.je=Ga(),this.Je=Vh(),this.He=Vh(),this.Ye=new Ht(tt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new En(tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new En(tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vh(){return new Ht(De.comparator)}function nA(){return new Ht(De.comparator)}const a9={asc:"ASCENDING",desc:"DESCENDING"},s9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o9={and:"AND",or:"OR"};class l9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function db(t,e){return t.useProto3Json||kg(e)?e:{value:e}}function Rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u9(t,e){return Rm(t,e.toTimestamp())}function Ji(t){return ft(!!t,49232),qe.fromTimestamp((function(n){const r=eo(n);return new jt(r.seconds,r.nanos)})(t))}function Px(t,e){return hb(t,e).canonicalString()}function hb(t,e){const n=(function(a){return new Ft(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $N(t){const e=Ft.fromString(t);return ft(YN(e),10190,{key:e.toString()}),e}function mb(t,e){return Px(t.databaseId,e.path)}function _v(t,e){const n=$N(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(HN(n))}function FN(t,e){return Px(t.databaseId,e)}function c9(t){const e=$N(t);return e.length===4?Ft.emptyPath():HN(e)}function gb(t){return new Ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HN(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rA(t,e,n){return{name:mb(t,e),fields:n.value.mapValue.fields}}function f9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Le(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(h,m){return h.useProto3Json?(ft(m===void 0||typeof m=="string",58123),Hn.fromBase64String(m||"")):(ft(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Hn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const m=h.code===void 0?le.UNKNOWN:UN(h.code);return new Se(m,h.message||"")})(l);n=new BN(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=_v(t,r.document.name),o=Ji(r.document.updateTime),l=r.document.createTime?Ji(r.document.createTime):qe.min(),c=new ci({mapValue:{fields:r.document.fields}}),d=tr.newFoundDocument(a,o,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new dm(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=_v(t,r.document),o=r.readTime?Ji(r.readTime):qe.min(),l=tr.newNoDocument(a,o),c=r.removedTargetIds||[];n=new dm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=_v(t,r.document),o=r.removedTargetIds||[];n=new dm([],o,a,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new e9(a,o),c=r.targetId;n=new zN(c,l)}}return n}function d9(t,e){let n;if(e instanceof rd)n={update:rA(t,e.key,e.value)};else if(e instanceof VN)n={delete:mb(t,e.key)};else if(e instanceof bl)n={update:rA(t,e.key,e.data),updateMask:_9(e.fieldMask)};else{if(!(e instanceof Q5))return Le(16599,{Vt:e.type});n={verify:mb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Nm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Im)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Le(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:u9(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function h9(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((n=>(function(a,o){let l=a.updateTime?Ji(a.updateTime):Ji(o);return l.isEqual(qe.min())&&(l=Ji(o)),new Y5(l,a.transformResults||[])})(n,e)))):[]}function m9(t,e){return{documents:[FN(t,e.path)]}}function g9(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FN(t,a);const o=(function(h){if(h.length!==0)return GN(ia.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((m=>(function(v){return{field:cu(v.field),direction:v9(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=db(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function p9(t){let e=c9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ft(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(y){const v=KN(y);return v instanceof ia&&wN(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((v=>(function(E){return new Om(fu(E.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let v;return v=typeof y=="object"?y.value:y,kg(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(y){const v=!!y.before,_=y.values||[];return new Cm(_,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(y){const v=!y.before,_=y.values||[];return new Cm(_,v)})(n.endAt)),P5(e,a,l,o,c,"F",d,h)}function y9(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fu(n.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=fu(n.unaryFilter.field);return wn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fu(n.unaryFilter.field);return wn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fu(n.unaryFilter.field);return wn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return wn.create(fu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ia.create(n.compositeFilter.filters.map((r=>KN(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function v9(t){return a9[t]}function b9(t){return s9[t]}function x9(t){return o9[t]}function cu(t){return{fieldPath:t.canonicalString()}}function fu(t){return qn.fromServerFormat(t.fieldPath)}function GN(t){return t instanceof wn?(function(n){if(n.op==="=="){if(FS(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NAN"}};if($S(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FS(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NOT_NAN"}};if($S(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cu(n.field),op:b9(n.op),value:n.value}}})(t):t instanceof ia?(function(n){const r=n.getFilters().map((a=>GN(a)));return r.length===1?r[0]:{compositeFilter:{op:x9(n.op),filters:r}}})(t):Le(54877,{filter:t})}function _9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,a,o=qe.min(),l=qe.min(),c=Hn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.yt=e}}function E9(t){const e=p9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.Cn=new S9}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Js.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class S9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new En(Ft.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new En(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WN=41943040;class Sr{static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(WN,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Au(0)}static cr(){return new Au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="LruGarbageCollector",A9=1048576;function sA([t,e],[n,r]){const a=tt(t,n);return a===0?tt(e,r):a}class k9{constructor(e){this.Ir=e,this.buffer=new En(sA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(aA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qu(n)?be(aA,"Ignoring IndexedDB error during garbage collection: ",n):await Bu(n)}await this.Vr(3e5)}))}}class O9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Ag.ce);const r=new k9(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(iA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iA):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,l,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,l=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(h=Date.now(),lu()<=et.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y}))))}}function N9(t,e){return new O9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.changes=new vl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Tf(r.mutation,a,Ri.empty(),jt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=nt()){const a=Qo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let l=mf();return o.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,nt())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,a){let o=Ga();const l=Ef(),c=(function(){return Ef()})();return n.forEach(((d,h)=>{const m=r.get(h.key);a.has(h.key)&&(m===void 0||m.mutation instanceof bl)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Tf(m.mutation,h,m.mutation.getFieldMask(),jt.now())):l.set(h.key,Ri.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>c.set(h,new R9(m,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Ef();let a=new Ht(((l,c)=>l-c)),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Ri.empty();m=c.applyToLocalView(h,m),r.set(d,m);const y=(a.get(c.batchId)||nt()).add(d);a=a.insert(c.batchId,y)}))})).next((()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,y=NN();m.forEach((v=>{if(!o.has(v)){const _=jN(n.get(v),r.get(v));_!==null&&y.set(v,_),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,y))}return oe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):oe.resolve(Qo());let c=Rf,d=o;return l.next((h=>oe.forEach(h,((m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?oe.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,d,h,nt()))).next((m=>({batchId:c,changes:ON(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let a=mf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let l=mf();return this.indexManager.getCollectionParents(e,o).next((c=>oe.forEach(c,(d=>{const h=(function(y,v){return new Og(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((m=>{m.forEach(((y,v)=>{l=l.insert(y,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((l=>{o.forEach(((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,tr.newInvalidDocument(m)))}));let c=mf();return l.forEach(((d,h)=>{const m=o.get(d);m!==void 0&&Tf(m.mutation,h,Ri.empty(),jt.now()),Ig(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ji(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:E9(a.bundledQuery),readTime:Ji(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.overlays=new Ht(De.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return oe.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const a=Qo(),o=n.length+1,l=new De(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Ht(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=Qo(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Qo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=a)););return oe.resolve(c)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new J5(n,r));let o=this.qr.get(n);o===void 0&&(o=nt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.Qr=new En(In.$r),this.Ur=new En(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new In(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new In(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new Ft([])),r=new In(n,e),a=new In(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Ft([])),r=new In(n,e),a=new In(n,e+1);let o=nt();return this.Ur.forEachInRange([r,a],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new In(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||tt(e.Yr,n.Yr)}static Kr(e,n){return tt(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new En(In.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Z5(o,n,r,a);this.mutationQueue.push(l);for(const c of a)this.Zr=this.Zr.add(new In(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Sx:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new In(n,0),a=new In(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(l=>{const c=this.Xr(l.Yr);o.push(c)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(tt);return n.forEach((a=>{const o=new In(a,0),l=new In(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const l=new In(new De(o),0);let c=new En(tt);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(c=c.add(d.Yr)),!0)}),l),oe.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(a=>{const o=new In(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new In(n,0),a=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.ri=e,this.docs=(function(){return new Ht(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(n))}getEntries(e,n){let r=Ga();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():tr.newInvalidDocument(a))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Ga();const l=n.path,c=new De(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||d5(f5(m),r)<=0||(a.has(m.key)||Ig(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Le(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new U9(this)}getSize(e){return oe.resolve(this.size)}}class U9 extends I9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.persistence=e,this.si=new vl((n=>Cx(n)),Ox),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new Mx,this.targetCount=0,this.ai=Au.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Au(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),oe.waitFor(o).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((l=>{o.push(a.markPotentiallyOrphaned(e,l))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ag(0),this.li=!1,this.li=!0,this.hi=new j9,this.referenceDelegate=e(this),this.Pi=new z9(this),this.indexManager=new T9,this.remoteDocumentCache=(function(a){return new V9(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new w9(n),this.Ii=new P9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new L9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const a=new B9(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class B9 extends m5{constructor(e){super(),this.currentSequenceNumber=e}}class jx{constructor(e){this.persistence=e,this.Ri=new Mx,this.Vi=null}static mi(e){return new jx(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const a=De.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Dm{constructor(e,n){this.persistence=e,this.pi=new vl((r=>y5(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=N9(this,n)}static mi(e,n){return new Dm(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?oe.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,qe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=um(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=nt(),a=nt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Lx(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return b3()?8:g5(rr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new q9;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(lu()<=et.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(lu()<=et.DEBUG&&be("QueryEngine","Query:",uu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(lu()<=et.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):oe.resolve())}ys(e,n){if(YS(n))return oe.resolve(null);let r=Zi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=fb(n,null,"F"),r=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=nt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,l,d.readTime)?this.ys(e,fb(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,a){return YS(n)||a.isEqual(qe.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,a)?oe.resolve(null):(lu()<=et.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),uu(n)),this.vs(e,l,n,c5(a,Rf)).next((c=>c)))}))}Ds(e,n){let r=new En(kN(e));return n.forEach(((a,o)=>{Ig(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return lu()<=et.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",uu(n)),this.ps.getDocumentsMatchingQuery(e,n,Js.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="LocalStore",F9=3e8;class H9{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ht(tt),this.xs=new vl((o=>Cx(o)),Ox),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function K9(t,e,n,r){return new H9(t,e,n,r)}async function QN(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let d=nt();for(const h of a){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of o){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function G9(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const y=h.batch,v=y.keys();let _=oe.resolve();return v.forEach((E=>{_=_.next((()=>m.getEntry(d,E))).next((S=>{const T=h.docVersions.get(E);ft(T!==null,48541),S.version.compareTo(T)<0&&(y.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(d,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=nt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function ZN(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Y9(t,e){const n=Fe(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const c=[];e.targetChanges.forEach(((m,y)=>{const v=a.get(y);if(!v)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y))));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(Hn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),a=a.insert(y,_),(function(S,T,I){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=F9?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,_,m)&&c.push(n.Pi.updateTargetData(o,_))}));let d=Ga(),h=nt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(W9(o,l,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(qe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return oe.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,h))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function W9(t,e,n){let r=nt(),a=nt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Ga();return n.forEach(((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(c)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):be(Vx,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:a}}))}function X9(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Sx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Q9(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,oe.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new Fs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function pb(t,e,n){const r=Fe(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!qu(l))throw l;be(Vx,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function oA(t,e,n){const r=Fe(t);let a=qe.min(),o=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,m){const y=Fe(d),v=y.xs.get(m);return v!==void 0?oe.resolve(y.Ms.get(v)):y.Pi.getTargetData(h,m)})(r,l,Zi(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:qe.min(),n?o:nt()))).next((c=>(Z9(r,L5(e),c),{documents:c,Qs:o})))))}function Z9(t,e,n){let r=t.Os.get(e)||qe.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class lA{constructor(){this.activeTargetIds=$5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J9{constructor(){this.Mo=new lA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="ConnectivityMonitor";class cA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(uA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(uA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function yb(){return Uh===null?Uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="RestConnection",tU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Am?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const l=yb(),c=this.zo(e,n.toUriEncodedString());be(wv,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:h}=new URL(c),m=ju(h);return this.Jo(e,c,d,r,m).then((y=>(be(wv,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw wu(wv,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,n,r,a,o,l){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=tU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class iU extends nU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const l=yb();return new Promise(((c,d)=>{const h=new nN;h.setWithCredentials(!0),h.listenOnce(rN.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case lm.NO_ERROR:const y=h.getResponseJson();be(Zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case lm.TIMEOUT:be(Zn,`RPC '${e}' ${l} timed out`),d(new Se(le.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:const v=h.getStatus();if(be(Zn,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_?.error;if(E&&E.status&&E.message){const S=(function(I){const P=I.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(P)>=0?P:le.UNKNOWN})(E.status);d(new Se(S,E.message))}else d(new Se(le.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Se(le.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{be(Zn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(a);be(Zn,`RPC '${e}' ${l} sending request:`,a),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const a=yb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sN(),c=aN(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");be(Zn,`Creating RPC '${e}' stream ${a}: ${m}`,d);const y=l.createWebChannel(m,d);this.I_(y);let v=!1,_=!1;const E=new rU({Yo:T=>{_?be(Zn,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(v||(be(Zn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),be(Zn,`RPC '${e}' stream ${a} sending:`,T),y.send(T))},Zo:()=>y.close()}),S=(T,I,P)=>{T.listen(I,(L=>{try{P(L)}catch(B){setTimeout((()=>{throw B}),0)}}))};return S(y,hf.EventType.OPEN,(()=>{_||(be(Zn,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),S(y,hf.EventType.CLOSE,(()=>{_||(_=!0,be(Zn,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(y))})),S(y,hf.EventType.ERROR,(T=>{_||(_=!0,wu(Zn,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new Se(le.UNAVAILABLE,"The operation could not be completed")))})),S(y,hf.EventType.MESSAGE,(T=>{if(!_){const I=T.data[0];ft(!!I,16349);const P=I,L=P?.error||P[0]?.error;if(L){be(Zn,`RPC '${e}' stream ${a} received error:`,L);const B=L.status;let q=(function(O){const D=dn[O];if(D!==void 0)return UN(D)})(B),F=L.message;q===void 0&&(q=le.INTERNAL,F="Unknown error status: "+B+" with message "+L.message),_=!0,E.a_(new Se(q,F)),y.close()}else be(Zn,`RPC '${e}' stream ${a} received:`,I),E.u_(I)}})),S(c,iN.STAT_EVENT,(T=>{T.stat===ab.PROXY?be(Zn,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===ab.NOPROXY&&be(Zn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ev(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){return new l9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="PersistentStream";class eI{constructor(e,n,r,a,o,l,c,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Ka(n.toString()),Ka("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Se(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(fA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(be(fA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aU extends eI{constructor(e,n,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f9(this.serializer,e),r=(function(o){if(!("targetChange"in o))return qe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?qe.min():l.readTime?Ji(l.readTime):qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=gb(this.serializer),n.addTarget=(function(o,l){let c;const d=l.target;if(c=cb(d)?{documents:m9(o,d)}:{query:g9(o,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=qN(o,l.resumeToken);const h=db(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(qe.min())>0){c.readTime=Rm(o,l.snapshotVersion.toTimestamp());const h=db(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=y9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=gb(this.serializer),n.removeTarget=e,this.q_(n)}}class sU extends eI{constructor(e,n,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=h9(e.writeResults,e.commitTime),r=Ji(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>d9(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{}class lU extends oU{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,hb(n,r),a,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(le.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,hb(n,r),a,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(le.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ka(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="RemoteStore";class cU{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{xl(this)&&(be(fl,"Restarting streams for network reachability change."),await(async function(d){const h=Fe(d);h.Ea.add(4),await ad(h),h.Ra.set("Unknown"),h.Ea.delete(4),await jg(h)})(this))}))})),this.Ra=new uU(r,a)}}async function jg(t){if(xl(t))for(const e of t.da)await e(!0)}async function ad(t){for(const e of t.da)await e(!1)}function tI(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qx(n)?Bx(n):$u(n).O_()&&zx(n,e))}function Ux(t,e){const n=Fe(t),r=$u(n);n.Ia.delete(e),r.O_()&&nI(n,e),n.Ia.size===0&&(r.O_()?r.L_():xl(n)&&n.Ra.set("Unknown"))}function zx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$u(t).Y_(e)}function nI(t,e){t.Va.Ue(e),$u(t).Z_(e)}function Bx(t){t.Va=new i9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$u(t).start(),t.Ra.ua()}function qx(t){return xl(t)&&!$u(t).x_()&&t.Ia.size>0}function xl(t){return Fe(t).Ea.size===0}function rI(t){t.Va=void 0}async function fU(t){t.Ra.set("Online")}async function dU(t){t.Ia.forEach(((e,n)=>{zx(t,e)}))}async function hU(t,e){rI(t),qx(t)?(t.Ra.ha(e),Bx(t)):t.Ra.set("Unknown")}async function mU(t,e,n){if(t.Ra.set("Online"),e instanceof BN&&e.state===2&&e.cause)try{await(async function(a,o){const l=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.Ia.delete(c),a.Va.removeTarget(c))})(t,e)}catch(r){be(fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pm(t,r)}else if(e instanceof dm?t.Va.Ze(e):e instanceof zN?t.Va.st(e):t.Va.tt(e),!n.isEqual(qe.min()))try{const r=await ZN(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ia.get(h);m&&o.Ia.set(h,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,h)=>{const m=o.Ia.get(d);if(!m)return;o.Ia.set(d,m.withResumeToken(Hn.EMPTY_BYTE_STRING,m.snapshotVersion)),nI(o,d);const y=new Fs(m.target,d,h,m.sequenceNumber);zx(o,y)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){be(fl,"Failed to raise snapshot:",r),await Pm(t,r)}}async function Pm(t,e,n){if(!qu(e))throw e;t.Ea.add(1),await ad(t),t.Ra.set("Offline"),n||(n=()=>ZN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be(fl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jg(t)}))}function iI(t,e){return e().catch((n=>Pm(t,n,e)))}async function Lg(t){const e=Fe(t),n=ro(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sx;for(;gU(e);)try{const a=await X9(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,pU(e,a)}catch(a){await Pm(e,a)}aI(e)&&sI(e)}function gU(t){return xl(t)&&t.Ta.length<10}function pU(t,e){t.Ta.push(e);const n=ro(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aI(t){return xl(t)&&!ro(t).x_()&&t.Ta.length>0}function sI(t){ro(t).start()}async function yU(t){ro(t).ra()}async function vU(t){const e=ro(t);for(const n of t.Ta)e.ea(n.mutations)}async function bU(t,e,n){const r=t.Ta.shift(),a=Rx.from(r,e,n);await iI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Lg(t)}async function xU(t,e){e&&ro(t).X_&&await(async function(r,a){if((function(l){return t9(l)&&l!==le.ABORTED})(a.code)){const o=r.Ta.shift();ro(r).B_(),await iI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Lg(r)}})(t,e),aI(t)&&sI(t)}async function dA(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),be(fl,"RemoteStore received new credentials");const r=xl(n);n.Ea.add(3),await ad(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jg(n)}async function _U(t,e){const n=Fe(t);e?(n.Ea.delete(2),await jg(n)):e||(n.Ea.add(2),await ad(n),n.Ra.set("Unknown"))}function $u(t){return t.ma||(t.ma=(function(n,r,a){const o=Fe(n);return o.sa(),new aU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:fU.bind(null,t),t_:dU.bind(null,t),r_:hU.bind(null,t),H_:mU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),qx(t)?Bx(t):t.Ra.set("Unknown")):(await t.ma.stop(),rI(t))}))),t.ma}function ro(t){return t.fa||(t.fa=(function(n,r,a){const o=Fe(n);return o.sa(),new sU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:yU.bind(null,t),r_:xU.bind(null,t),ta:vU.bind(null,t),na:bU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Lg(t)):(await t.fa.stop(),t.Ta.length>0&&(be(fl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const l=Date.now()+r,c=new $x(e,n,l,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fx(t,e){if(Ka("AsyncQueue",`${e}: ${t}`),qu(t))return new Se(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{static emptySet(e){return new yu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=mf(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.ga=new Ht(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ku{constructor(e,n,r,a,o,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new ku(e,n,yu.emptySet(n),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class EU{constructor(){this.queries=mA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Fe(n),o=a.queries;a.queries=mA(),o.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Se(le.ABORTED,"Firestore shutting down"))}}function mA(){return new vl((t=>AN(t)),Ng)}async function TU(t,e){const n=Fe(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new wU,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const c=Fx(l,`Initialization of query '${uu(e.query)}' failed`);return void e.onError(c)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Hx(n)}async function SU(t,e){const n=Fe(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AU(t,e){const n=Fe(t);let r=!1;for(const a of e){const o=a.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(a)&&(r=!0);l.wa=a}}r&&Hx(n)}function kU(t,e,n){const r=Fe(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function Hx(t){t.Ca.forEach((e=>{e.next()}))}var vb,gA;(gA=vb||(vb={})).Ma="default",gA.Cache="cache";class CU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.key=e}}class lI{constructor(e){this.key=e}}class OU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=kN(e),this.tu=new yu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new hA,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=a,c=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,y)=>{const v=a.get(m),_=Ig(this.query,y)?y:null,E=!!v&&this.mutatedKeys.has(v.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;v&&_?v.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),T=!0):this.su(v,_)||(r.track({type:2,doc:_}),T=!0,(d&&this.eu(_,d)>0||h&&this.eu(_,h)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),T=!0):v&&!_&&(r.track({type:1,doc:v}),T=!0,(d||h)&&(c=!0)),T&&(_?(l=l.add(_),o=S?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,y)=>(function(_,E){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:T})}};return S(_)-S(E)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),a=a??!1;const c=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new ku(this.query,e.tu,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new lI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new oI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=nt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ku.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kx="SyncEngine";class NU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IU{constructor(e){this.key=e,this.hu=!1}}class RU{constructor(e,n,r,a,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new vl((c=>AN(c)),Ng),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(De.comparator),this.Au=new Map,this.Ru=new Mx,this.Vu={},this.mu=new Map,this.fu=Au.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DU(t,e,n=!0){const r=mI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await uI(r,e,n,!0),a}async function PU(t,e){const n=mI(t);await uI(n,e,!0,!1)}async function uI(t,e,n,r){const a=await Q9(t.localStore,Zi(e)),o=a.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await MU(t,e,o,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&tI(t.remoteStore,a),c}async function MU(t,e,n,r,a){t.pu=(y,v,_)=>(async function(S,T,I,P){let L=T.view.ru(I);L.Cs&&(L=await oA(S.localStore,T.query,!1).then((({documents:R})=>T.view.ru(R,L))));const B=P&&P.targetChanges.get(T.targetId),q=P&&P.targetMismatches.get(T.targetId)!=null,F=T.view.applyChanges(L,S.isPrimaryClient,B,q);return yA(S,T.targetId,F.au),F.snapshot})(t,y,v,_);const o=await oA(t.localStore,e,!0),l=new OU(e,o.Qs),c=l.ru(o.documents),d=id.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=l.applyChanges(c,t.isPrimaryClient,d);yA(t,n,h.au);const m=new NU(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function jU(t,e,n){const r=Fe(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((l=>!Ng(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await pb(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Ux(r.remoteStore,a.targetId),bb(r,a.targetId)})).catch(Bu)):(bb(r,a.targetId),await pb(r.localStore,a.targetId,!0))}async function LU(t,e){const n=Fe(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ux(n.remoteStore,r.targetId))}async function VU(t,e,n){const r=HU(t);try{const a=await(function(l,c){const d=Fe(l),h=jt.now(),m=c.reduce(((_,E)=>_.add(E.key)),nt());let y,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=Ga(),S=nt();return d.Ns.getEntries(_,m).next((T=>{E=T,E.forEach(((I,P)=>{P.isValidDocument()||(S=S.add(I))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,E))).next((T=>{y=T;const I=[];for(const P of c){const L=X5(P,y.get(P.key).overlayedDocument);L!=null&&I.push(new bl(P.key,L,bN(L.value.mapValue),za.exists(!0)))}return d.mutationQueue.addMutationBatch(_,h,I,c)})).next((T=>{v=T;const I=T.applyToLocalDocumentSet(y,S);return d.documentOverlayCache.saveOverlays(_,T.batchId,I)}))})).then((()=>({batchId:v.batchId,changes:ON(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,c,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new Ht(tt)),h=h.insert(c,d),l.Vu[l.currentUser.toKey()]=h})(r,a.batchId,n),await sd(r,a.changes),await Lg(r.remoteStore)}catch(a){const o=Fx(a,"Failed to persist write");n.reject(o)}}async function cI(t,e){const n=Fe(t);try{const r=await Y9(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const l=n.Au.get(o);l&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?ft(l.hu,14607):a.removedDocuments.size>0&&(ft(l.hu,42227),l.hu=!1))})),await sd(n,r,e)}catch(r){await Bu(r)}}function pA(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(l,c){const d=Fe(l);d.onlineState=c;let h=!1;d.queries.forEach(((m,y)=>{for(const v of y.Sa)v.va(c)&&(h=!0)})),h&&Hx(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UU(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let l=new Ht(De.comparator);l=l.insert(o,tr.newNoDocument(o,qe.min()));const c=nt().add(o),d=new Pg(qe.min(),new Map,new Ht(tt),l,c);await cI(r,d),r.du=r.du.remove(o),r.Au.delete(e),Gx(r)}else await pb(r.localStore,e,!1).then((()=>bb(r,e,n))).catch(Bu)}async function zU(t,e){const n=Fe(t),r=e.batch.batchId;try{const a=await G9(n.localStore,e);dI(n,r,null),fI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sd(n,a)}catch(a){await Bu(a)}}async function BU(t,e,n){const r=Fe(t);try{const a=await(function(l,c){const d=Fe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((y=>(ft(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(h,y)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);dI(r,e,n),fI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sd(r,a)}catch(a){await Bu(a)}}function fI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function dI(t,e,n){const r=Fe(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function bb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||hI(t,r)}))}function hI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ux(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Gx(t))}function yA(t,e,n){for(const r of n)r instanceof oI?(t.Ru.addReference(r.key,e),qU(t,r)):r instanceof lI?(be(Kx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hI(t,r.key)):Le(19791,{wu:r})}function qU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(be(Kx,"New document in limbo: "+n),t.Eu.add(r),Gx(t))}function Gx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Ft.fromString(e)),r=t.fu.next();t.Au.set(r,new IU(n)),t.du=t.du.insert(n,r),tI(t.remoteStore,new Fs(Zi(Nx(n.path)),r,"TargetPurposeLimboResolution",Ag.ce))}}async function sd(t,e,n){const r=Fe(t),a=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){a.push(h);const m=Lx.As(d.targetId,h);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(d,h){const m=Fe(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>oe.forEach(h,(v=>oe.forEach(v.Es,(_=>m.persistence.referenceDelegate.addReference(y,v.targetId,_))).next((()=>oe.forEach(v.ds,(_=>m.persistence.referenceDelegate.removeReference(y,v.targetId,_)))))))))}catch(y){if(!qu(y))throw y;be(Vx,"Failed to update sequence numbers: "+y)}for(const y of h){const v=y.targetId;if(!y.fromCache){const _=m.Ms.get(v),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(v,S)}}})(r.localStore,o))}async function $U(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){be(Kx,"User change. New user:",e.toKey());const r=await QN(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((d=>{d.reject(new Se(le.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sd(n,r.Ls)}}function FU(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let a=nt();const o=n.Iu.get(e);if(!o)return a;for(const l of o){const c=n.Tu.get(l);a=a.unionWith(c.view.nu)}return a}}function mI(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UU.bind(null,e),e.Pu.H_=AU.bind(null,e.eventManager),e.Pu.yu=kU.bind(null,e.eventManager),e}function HU(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BU.bind(null,e),e}class Mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return K9(this.persistence,new $9,e.initialUser,this.serializer)}Cu(e){return new XN(jx.mi,this.serializer)}Du(e){return new J9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mm.provider={build:()=>new Mm};class KU extends Mm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof Dm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new XN((r=>Dm.mi(r,n)),this.serializer)}}class xb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$U.bind(null,this.syncEngine),await _U(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EU})()}createDatastore(e){const n=Mg(e.databaseInfo.databaseId),r=(function(o){return new iU(o)})(e.databaseInfo);return(function(o,l,c,d){return new lU(o,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,l,c){return new cU(r,a,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>pA(this.syncEngine,n,0)),(function(){return cA.v()?new cA:new eU})())}createSyncEngine(e,n){return(function(a,o,l,c,d,h,m){const y=new RU(a,o,l,c,d,h);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Fe(n);be(fl,"RemoteStore shutting down."),r.Ea.add(5),await ad(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xb.provider={build:()=>new xb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ka("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="FirestoreClient";class YU{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=er.UNAUTHENTICATED,this.clientId=Ex.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{be(io,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(be(io,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Tv(t,e){t.asyncQueue.verifyOperationInProgress(),be(io,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await QN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function vA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WU(t);be(io,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>dA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>dA(e.remoteStore,a))),t._onlineComponents=e}async function WU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(io,"Using user provided OfflineComponentProvider");try{await Tv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;wu("Error using user provided cache. Falling back to memory cache: "+n),await Tv(t,new Mm)}}else be(io,"Using default OfflineComponentProvider"),await Tv(t,new KU(void 0));return t._offlineComponents}async function gI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(io,"Using user provided OnlineComponentProvider"),await vA(t,t._uninitializedComponentsProvider._online)):(be(io,"Using default OnlineComponentProvider"),await vA(t,new xb))),t._onlineComponents}function XU(t){return gI(t).then((e=>e.syncEngine))}async function QU(t){const e=await gI(t),n=e.eventManager;return n.onListen=DU.bind(null,e.syncEngine),n.onUnlisten=jU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LU.bind(null,e.syncEngine),n}function ZU(t,e,n={}){const r=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,d,h){const m=new GU({next:v=>{m.Nu(),l.enqueueAndForget((()=>SU(o,y)));const _=v.docs.has(c);!_&&v.fromCache?h.reject(new Se(le.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&d&&d.source==="server"?h.reject(new Se(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),y=new CU(Nx(c.path),m,{includeMetadataChanges:!0,qa:!0});return TU(o,y)})(await QU(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="firestore.googleapis.com",xA=!0;class _A{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yI,this.ssl=xA}else this.host=e.host,this.ssl=e.ssl??xA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A9)throw new Se(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yx{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _A({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _A(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ZV;switch(r.type){case"firstParty":return new n5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=bA.get(n);r&&(be("ComponentProvider","Removing Datastore"),bA.delete(n),r.terminate())})(this),Promise.resolve()}}function JU(t,e,n,r={}){t=If(t,Yx);const a=ju(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;a&&(mO(`https://${c}`),gO("Firestore",!0)),o.host!==yI&&o.host!==c&&wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:a,emulatorOptions:r};if(!ol(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=er.MOCK_USER;else{h=c3(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Se(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new er(y)}t._authCredentials=new JV(new lN(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wx(this.firestore,e,this._query)}}class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}toJSON(){return{type:Dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nd(n,Dn._jsonSchema))return new Dn(e,r||null,new De(Ft.fromString(n.referencePath)))}}Dn._jsonSchemaVersion="firestore/documentReference/1.0",Dn._jsonSchema={type:hn("string",Dn._jsonSchemaVersion),referencePath:hn("string")};class Vf extends Wx{constructor(e,n,r){super(e,n,Nx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new De(e))}withConverter(e){return new Vf(this.firestore,e,this._path)}}function ez(t,e,...n){if(t=Kr(t),arguments.length===1&&(e=Ex.newId()),l5("doc","path",e),t instanceof Yx){const r=Ft.fromString(e,...n);return MS(r),new Dn(t,null,new De(r))}{if(!(t instanceof Dn||t instanceof Vf))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return MS(r),new Dn(t.firestore,t instanceof Vf?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="AsyncQueue";class EA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JN(this,"async_queue_retry"),this._c=()=>{const r=Ev();r&&be(wA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ev();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ev();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qu(e))throw e;be(wA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ka("INTERNAL UNHANDLED ERROR: ",TA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=$x.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:TA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xx extends Yx{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new EA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EA(e),this._firestoreClient=void 0,await e}}}function tz(t,e){const n=typeof t=="object"?t:bO(),r=typeof t=="string"?t:Am,a=hx(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=l3("firestore");o&&JU(a,...o)}return a}function vI(t){if(t._terminated)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nz(t),t._firestoreClient}function nz(t){const e=t._freezeSettings(),n=(function(a,o,l,c){return new x5(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pI(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(Hn.fromBase64String(e))}catch(n){throw new Se(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nd(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:hn("string",fi._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ea._jsonSchemaVersion}}static fromJSON(e){if(nd(e,ea._jsonSchema))return new ea(e.latitude,e.longitude)}}ea._jsonSchemaVersion="firestore/geoPoint/1.0",ea._jsonSchema={type:hn("string",ea._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nd(e,ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ta(e.vectorValues);throw new Se(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ta._jsonSchemaVersion="firestore/vectorValue/1.0",ta._jsonSchema={type:hn("string",ta._jsonSchemaVersion),vectorValues:hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=/^__.*__$/;class iz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bl(e,this.data,this.fieldMask,n,this.fieldTransforms):new rd(e,this.data,n,this.fieldTransforms)}}function xI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class Zx{constructor(e,n,r,a,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xI(this.Ac)&&rz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class az{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mg(e)}Cc(e,n,r,a=!1){return new Zx({Ac:e,methodName:n,Dc:r,path:qn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sz(t){const e=t._freezeSettings(),n=Mg(t._databaseId);return new az(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oz(t,e,n,r,a,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);TI("Data must be an object, but it was:",l,r);const c=wI(r,l);let d,h;if(o.merge)d=new Ri(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const v=lz(e,y,n);if(!l.contains(v))throw new Se(le.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);cz(m,v)||m.push(v)}d=new Ri(m),h=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,h=l.fieldTransforms;return new iz(new ci(c),d,h)}function _I(t,e){if(EI(t=Kr(t)))return TI("Unsupported field value:",e,t),wI(t,e);if(t instanceof bI)return(function(r,a){if(!xI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let l=0;for(const c of r){let d=_I(c,a.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Kr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=jt.fromDate(r);return{timestampValue:Rm(a.serializer,o)}}if(r instanceof jt){const o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rm(a.serializer,o)}}if(r instanceof ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fi)return{bytesValue:qN(a.serializer,r._byteString)};if(r instanceof Dn){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Px(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ta)return(function(l,c){return{mapValue:{fields:{[yN]:{stringValue:vN},[km]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Ix(c.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Tx(r)}`)})(t,e)}function wI(t,e){const n={};return fN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(t,((r,a)=>{const o=_I(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function EI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof ea||t instanceof fi||t instanceof Dn||t instanceof bI||t instanceof ta)}function TI(t,e,n){if(!EI(n)||!uN(n)){const r=Tx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function lz(t,e,n){if((e=Kr(e))instanceof Qx)return e._internalPath;if(typeof e=="string")return SI(t,e);throw jm("Field path arguments must be of type string or ",t,!1,void 0,n)}const uz=new RegExp("[~\\*/\\[\\]]");function SI(t,e,n){if(e.search(uz)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qx(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jm(t,e,n,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${a}`),d+=")"),new Se(le.INVALID_ARGUMENT,c+t+d)}function cz(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fz extends AI{data(){return super.data()}}function kI(t,e){return typeof e=="string"?SI(t,e):e instanceof Qx?e._internalPath:e._delegate._internalPath}class dz{convertValue(e,n="none"){switch(no(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(to(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yl(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[km].arrayValue?.values?.map((r=>sn(r.doubleValue)));return new ta(n)}convertGeoPoint(e){return new ea(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const n=eo(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ft.fromString(e);ft(YN(r),9688,{name:e});const a=new Pf(r.get(1),r.get(3)),o=new De(r.popFirst(5));return a.isEqual(n)||Ka(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class pf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends AI{constructor(e,n,r,a,o,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",nl._jsonSchema={type:hn("string",nl._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class hm extends nl{data(e={}){return super.data(e)}}class Sf{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new pf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new hm(this._firestore,this._userDataWriter,r.key,r,new pf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((c=>{const d=new hm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new pf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const d=new hm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new pf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:mz(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ex.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){t=If(t,Dn);const e=If(t.firestore,Xx);return ZU(vI(e),t._key).then((n=>bz(e,t,n)))}Sf._jsonSchemaVersion="firestore/querySnapshot/1.0",Sf._jsonSchema={type:hn("string",Sf._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class pz extends dz{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function yz(t,e,n){t=If(t,Dn);const r=If(t.firestore,Xx),a=hz(t.converter,e);return vz(r,[oz(sz(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,za.none())])}function vz(t,e){return(function(r,a){const o=new Xs;return r.asyncQueue.enqueueAndForget((async()=>VU(await XU(r),a,o))),o.promise})(vI(t),e)}function bz(t,e,n){const r=n.docs.get(e._key),a=new pz(t);return new nl(t,a,e._key,r,new pf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){zu=a})(Lu),xu(new ll("firestore",((r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Xx(new e5(r.getProvider("auth-internal")),new r5(l,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Se(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(h.options.projectId,m)})(l,a),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Gs(IS,RS,e),Gs(IS,RS,"esm2020")})();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_z=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),SA=t=>{const e=_z(t);return e.charAt(0).toUpperCase()+e.slice(1)},CI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),wz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ez={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:l,...c},d)=>C.createElement("svg",{ref:d,...Ez,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CI("lucide",a),...!o&&!wz(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>C.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const n=C.forwardRef(({className:r,...a},o)=>C.createElement(Tz,{ref:o,iconNode:e,className:CI(`lucide-${xz(SA(t))}`,`lucide-${t}`,r),...a}));return n.displayName=SA(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],OI=We("arrow-down-right",Sz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],NI=We("arrow-up-right",Az);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],II=We("calculator",kz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],RI=We("calendar-days",Cz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],DI=We("camera",Oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],Iz=We("chart-bar",Nz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dz=We("chevron-down",Rz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Mz=We("chevron-left",Pz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Lz=We("chevron-right",jz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lm=We("circle-check-big",Vz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],_b=We("circle-plus",Uz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bz=We("clock",zz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],$z=We("cloud-upload",qz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hz=We("copy",Fz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["circle",{cx:"12",cy:"6",r:"1",key:"1bh7o1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["circle",{cx:"12",cy:"18",r:"1",key:"lqb9t5"}]],Gz=We("divide",Kz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Wz=We("dollar-sign",Yz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qz=We("eye-off",Xz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jz=We("eye",Zz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],t7=We("hash",e7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jx=We("image",n7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Uf=We("info",r7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],a7=We("layout-dashboard",i7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],PI=We("list-plus",s7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],l7=We("log-in",o7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],c7=We("log-out",u7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],d7=We("maximize-2",f7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],m7=We("menu",h7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],p7=We("moon",g7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],e_=We("pen-line",y7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],b7=We("ratio",v7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],t_=We("save",x7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],w7=We("sun",_7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],n_=We("target",E7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_l=We("trash-2",T7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],r_=We("trending-up",S7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i_=We("triangle-alert",A7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MI=We("users",k7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],O7=We("wallet",C7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a_=We("zap",N7);function jI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=jI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=jI(t))&&(r&&(r+=" "),r+=e);return r}var Sv={},Av={},AA;function I7(){return AA||(AA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Av)),Av}var kv={},kA;function LI(){return kA||(kA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(kv)),kv}var Cv={},CA;function VI(){return CA||(CA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Cv)),Cv}var Ov={},OA;function s_(){return OA||(OA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],a=n.length;if(a===0)return r;let o=0,l="",c="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<a;){const h=n[o];c?h==="\\"&&o+1<a?(o++,l+=n[o]):h===c?c="":l+=h:d?h==='"'||h==="'"?c=h:h==="]"?(d=!1,r.push(l),l=""):l+=h:h==="["?(d=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,o++}return l&&r.push(l),r}t.toPath=e})(Ov)),Ov}var NA;function o_(){return NA||(NA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I7(),n=LI(),r=VI(),a=s_();function o(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const m=c[d];return m===void 0?n.isDeepKey(d)?o(c,a.toPath(d),h):h:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?h:m}default:{if(Array.isArray(d))return l(c,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const m=c[d];return m===void 0?h:m}}}function l(c,d,h){if(d.length===0)return h;let m=c;for(let y=0;y<d.length;y++){if(m==null||e.isUnsafeProperty(d[y]))return h;m=m[d[y]]}return m===void 0?h:m}t.get=o})(Sv)),Sv}var Nv,IA;function R7(){return IA||(IA=1,Nv=o_().get),Nv}var D7=R7();const Vg=oo(D7);var di=t=>t===0?0:t>0?1:-1,mr=t=>typeof t=="number"&&t!=+t,Zo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!mr(t),mi=t=>Oe(t)||typeof t=="string",P7=0,zf=t=>{var e=++P7;return"".concat(t||"").concat(e)},ao=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var o;if(Zo(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return mr(o)&&(o=r),a&&n!=null&&o>n&&(o=n),o},UI=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Yi(t,e,n){return Oe(t)&&Oe(e)?t+n*(e-t):e}function zI(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Vg(r,e))===n)}var Fn=t=>t===null||typeof t>"u",l_=t=>Fn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),M7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function u_(t){if(typeof t!="string")return!1;var e=M7;return e.includes(t)}var j7=["viewBox","children"],RA=["points","pathLength"],Iv={svg:j7,polygon:RA,polyline:RA},c_=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{u_(a)&&(r[a]=(o=>n[a](n,o)))}),r},L7=(t,e,n)=>r=>(t(e,n,r),null),V7=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var o=t[a];u_(a)&&typeof o=="function"&&(r||(r={}),r[a]=L7(o,e,n))}),r},U7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function BI(t){if(typeof t!="string")return!1;var e=U7;return e.includes(t)}function uo(t){var e=Object.entries(t).filter(n=>{var[r]=n;return BI(r)});return Object.fromEntries(e)}var qI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,z7=(t,e,n,r)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(a=r&&Iv?.[r])!==null&&a!==void 0?a:[],l=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&o.includes(e)||BI(e)),d=!!n&&u_(e);return l||c||d},Kn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(o=>{var l;z7((l=r)===null||l===void 0?void 0:l[o],o,e,n)&&(a[o]=r[o])}),a},B7=["children","width","height","viewBox","className","style","title","desc"];function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(null,arguments)}function q7(t,e){if(t==null)return{};var n,r,a=$7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $I=C.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:o,className:l,style:c,title:d,desc:h}=t,m=q7(t,B7),y=o||{width:r,height:a,x:0,y:0},v=It("recharts-surface",l);return C.createElement("svg",wb({},Kn(m,!0,"svg"),{className:v,width:r,height:a,style:c,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),C.createElement("title",null,d),C.createElement("desc",null,h),n)}),F7=["children","className"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function H7(t,e){if(t==null)return{};var n,r,a=K7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function K7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aa=C.forwardRef((t,e)=>{var{children:n,className:r}=t,a=H7(t,F7),o=It("recharts-layer",r);return C.createElement("g",Eb({className:o},Kn(a,!0),{ref:e}),n)}),G7=oO(),Y7=C.createContext(null);function Zt(t){return function(){return t}}const Tb=Math.PI,Sb=2*Tb,Go=1e-6,W7=Sb-Go;function FI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function X7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return FI;const n=10**e;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Q7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?FI:X7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,o,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,a,o){if(e=+e,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,d=r-e,h=a-n,m=l-e,y=c-n,v=m*m+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Go)if(!(Math.abs(y*d-h*m)>Go)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=a-c,S=d*d+h*h,T=_*_+E*E,I=Math.sqrt(S),P=Math.sqrt(v),L=o*Math.tan((Tb-Math.acos((S+v-T)/(2*I*P)))/2),B=L/P,q=L/I;Math.abs(B-1)>Go&&this._append`L${e+B*m},${n+B*y}`,this._append`A${o},${o},0,0,${+(y*_>m*E)},${this._x1=e+q*d},${this._y1=n+q*h}`}}arc(e,n,r,a,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),d=r*Math.sin(a),h=e+c,m=n+d,y=1^l,v=l?a-o:o-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Go||Math.abs(this._y1-m)>Go)&&this._append`L${h},${m}`,r&&(v<0&&(v=v%Sb+Sb),v>W7?this._append`A${r},${r},0,1,${y},${e-c},${n-d}A${r},${r},0,1,${y},${this._x1=h},${this._y1=m}`:v>Go&&this._append`A${r},${r},0,${+(v>=Tb)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function HI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Q7(e)}function f_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KI(t){this._context=t}KI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ug(t){return new KI(t)}function GI(t){return t[0]}function YI(t){return t[1]}function WI(t,e){var n=Zt(!0),r=null,a=Ug,o=null,l=HI(c);t=typeof t=="function"?t:t===void 0?GI:Zt(t),e=typeof e=="function"?e:e===void 0?YI:Zt(e);function c(d){var h,m=(d=f_(d)).length,y,v=!1,_;for(r==null&&(o=a(_=l())),h=0;h<=m;++h)!(h<m&&n(y=d[h],h,d))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(y,h,d),+e(y,h,d));if(_)return o=null,_+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Zt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Zt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Zt(!!d),c):n},c.curve=function(d){return arguments.length?(a=d,r!=null&&(o=a(r)),c):a},c.context=function(d){return arguments.length?(d==null?r=o=null:o=a(r=d),c):r},c}function zh(t,e,n){var r=null,a=Zt(!0),o=null,l=Ug,c=null,d=HI(h);t=typeof t=="function"?t:t===void 0?GI:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?YI:Zt(+n);function h(y){var v,_,E,S=(y=f_(y)).length,T,I=!1,P,L=new Array(S),B=new Array(S);for(o==null&&(c=l(P=d())),v=0;v<=S;++v){if(!(v<S&&a(T=y[v],v,y))===I)if(I=!I)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=v-1;E>=_;--E)c.point(L[E],B[E]);c.lineEnd(),c.areaEnd()}I&&(L[v]=+t(T,v,y),B[v]=+e(T,v,y),c.point(r?+r(T,v,y):L[v],n?+n(T,v,y):B[v]))}if(P)return c=null,P+""||null}function m(){return WI().defined(a).curve(l).context(o)}return h.x=function(y){return arguments.length?(t=typeof y=="function"?y:Zt(+y),r=null,h):t},h.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Zt(+y),h):t},h.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Zt(+y),h):r},h.y=function(y){return arguments.length?(e=typeof y=="function"?y:Zt(+y),n=null,h):e},h.y0=function(y){return arguments.length?(e=typeof y=="function"?y:Zt(+y),h):e},h.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Zt(+y),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(y){return arguments.length?(a=typeof y=="function"?y:Zt(!!y),h):a},h.curve=function(y){return arguments.length?(l=y,o!=null&&(c=l(o)),h):l},h.context=function(y){return arguments.length?(y==null?o=c=null:c=l(o=y),h):o},h}class XI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Z7(t){return new XI(t,!0)}function J7(t){return new XI(t,!1)}function Vm(){}function Um(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function QI(t){this._context=t}QI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e8(t){return new QI(t)}function ZI(t){this._context=t}ZI.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t8(t){return new ZI(t)}function JI(t){this._context=t}JI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n8(t){return new JI(t)}function eR(t){this._context=t}eR.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function r8(t){return new eR(t)}function DA(t){return t<0?-1:1}function PA(t,e,n){var r=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),c=(o*a+l*r)/(r+a);return(DA(o)+DA(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function MA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Rv(t,e,n){var r=t._x0,a=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,a+c*e,o-c,l-c*n,o,l)}function zm(t){this._context=t}zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rv(this,this._t0,MA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rv(this,MA(this,n=PA(this,t,e)),n);break;default:Rv(this,this._t0,n=PA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function tR(t){this._context=new nR(t)}(tR.prototype=Object.create(zm.prototype)).point=function(t,e){zm.prototype.point.call(this,e,t)};function nR(t){this._context=t}nR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,o){this._context.bezierCurveTo(e,t,r,n,o,a)}};function i8(t){return new zm(t)}function a8(t){return new tR(t)}function rR(t){this._context=t}rR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jA(t),a=jA(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jA(t){var e,n=t.length-1,r,a=new Array(n),o=new Array(n),l=new Array(n);for(a[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/o[e];for(o[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-a[e+1];return[a,o]}function s8(t){return new rR(t)}function zg(t,e){this._context=t,this._t=e}zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function o8(t){return new zg(t,.5)}function l8(t){return new zg(t,0)}function u8(t){return new zg(t,1)}function Cu(t,e){if((l=t.length)>1)for(var n=1,r,a,o=t[e[0]],l,c=o.length;n<l;++n)for(a=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Ab(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function c8(t,e){return t[e]}function f8(t){const e=[];return e.key=t,e}function d8(){var t=Zt([]),e=Ab,n=Cu,r=c8;function a(o){var l=Array.from(t.apply(this,arguments),f8),c,d=l.length,h=-1,m;for(const y of o)for(c=0,++h;c<d;++c)(l[c][h]=[0,+r(y,l[c].key,h,o)]).data=y;for(c=0,m=f_(e(l));c<d;++c)l[m[c]].index=c;return n(l,m),l}return a.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Zt(Array.from(o)),a):t},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:Zt(+o),a):r},a.order=function(o){return arguments.length?(e=o==null?Ab:typeof o=="function"?o:Zt(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(n=o??Cu,a):n},a}function h8(t,e){if((r=t.length)>0){for(var n,r,a=0,o=t[0].length,l;a<o;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Cu(t,e)}}function m8(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,o=r.length;n<o;++n){for(var l=0,c=0;l<a;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Cu(t,e)}}function g8(t,e){if(!(!((l=t.length)>0)||!((o=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,o,l;r<o;++r){for(var c=0,d=0,h=0;c<l;++c){for(var m=t[e[c]],y=m[r][1]||0,v=m[r-1][1]||0,_=(y-v)/2,E=0;E<c;++E){var S=t[e[E]],T=S[r][1]||0,I=S[r-1][1]||0;_+=T-I}d+=y,h+=_*y}a[r-1][1]+=a[r-1][0]=n,d&&(n-=h/d)}a[r-1][1]+=a[r-1][0]=n,Cu(t,e)}}var Dv={},Pv={},LA;function p8(){return LA||(LA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}t.uniqBy=e})(Pv)),Pv}var Mv={},VA;function iR(){return VA||(VA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Mv)),Mv}var jv={},Lv={},Vv={},UA;function y8(){return UA||(UA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Vv)),Vv}var zA;function d_(){return zA||(zA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y8();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Lv)),Lv}var Uv={},BA;function v8(){return BA||(BA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Uv)),Uv}var qA;function b8(){return qA||(qA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d_(),n=v8();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(jv)),jv}var zv={},Bv={},$A;function x8(){return $A||($A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Bv)),Bv}var qv={},$v={},Fv={},Hv={},FA;function aR(){return FA||(FA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Hv)),Hv}var Kv={},HA;function sR(){return HA||(HA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Kv)),Kv}var Gv={},KA;function oR(){return KA||(KA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Gv)),Gv}var GA;function _8(){return GA||(GA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h_(),n=aR(),r=sR(),a=oR();function o(y,v,_){return typeof _!="function"?e.isMatch(y,v):l(y,v,function E(S,T,I,P,L,B){const q=_(S,T,I,P,L,B);return q!==void 0?!!q:l(S,T,E,B)},new Map)}function l(y,v,_,E){if(v===y)return!0;switch(typeof v){case"object":return c(y,v,_,E);case"function":return Object.keys(v).length>0?l(y,{...v},_,E):a.eq(y,v);default:return n.isObject(y)?typeof v=="string"?v==="":!0:a.eq(y,v)}}function c(y,v,_,E){if(v==null)return!0;if(Array.isArray(v))return h(y,v,_,E);if(v instanceof Map)return d(y,v,_,E);if(v instanceof Set)return m(y,v,_,E);const S=Object.keys(v);if(y==null)return S.length===0;if(S.length===0)return!0;if(E&&E.has(v))return E.get(v)===y;E&&E.set(v,y);try{for(let T=0;T<S.length;T++){const I=S[T];if(!r.isPrimitive(y)&&!(I in y)||v[I]===void 0&&y[I]!==void 0||v[I]===null&&y[I]!==null||!_(y[I],v[I],I,y,v,E))return!1}return!0}finally{E&&E.delete(v)}}function d(y,v,_,E){if(v.size===0)return!0;if(!(y instanceof Map))return!1;for(const[S,T]of v.entries()){const I=y.get(S);if(_(I,T,S,y,v,E)===!1)return!1}return!0}function h(y,v,_,E){if(v.length===0)return!0;if(!Array.isArray(y))return!1;const S=new Set;for(let T=0;T<v.length;T++){const I=v[T];let P=!1;for(let L=0;L<y.length;L++){if(S.has(L))continue;const B=y[L];let q=!1;if(_(B,I,T,y,v,E)&&(q=!0),q){S.add(L),P=!0;break}}if(!P)return!1}return!0}function m(y,v,_,E){return v.size===0?!0:y instanceof Set?h([...y],[...v],_,E):!1}t.isMatchWith=o,t.isSetMatch=m})(Fv)),Fv}var YA;function h_(){return YA||(YA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_8();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})($v)),$v}var Yv={},Wv={},Xv={},WA;function w8(){return WA||(WA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Xv)),Xv}var Qv={},XA;function lR(){return XA||(XA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Qv)),Qv}var Zv={},QA;function uR(){return QA||(QA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",h="[object Set]",m="[object Array]",y="[object Function]",v="[object ArrayBuffer]",_="[object Object]",E="[object Error]",S="[object DataView]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",P="[object Uint16Array]",L="[object Uint32Array]",B="[object BigUint64Array]",q="[object Int8Array]",F="[object Int16Array]",R="[object Int32Array]",O="[object BigInt64Array]",D="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=B,t.booleanTag=a,t.dataViewTag=S,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=U,t.functionTag=y,t.int16ArrayTag=F,t.int32ArrayTag=R,t.int8ArrayTag=q,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=P,t.uint32ArrayTag=L,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=I})(Zv)),Zv}var Jv={},ZA;function E8(){return ZA||(ZA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Jv)),Jv}var JA;function cR(){return JA||(JA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w8(),n=lR(),r=uR(),a=sR(),o=E8();function l(m,y){return c(m,void 0,m,new Map,y)}function c(m,y,v,_=new Map,E=void 0){const S=E?.(m,y,v,_);if(S!==void 0)return S;if(a.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const T=new Array(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,v,_,E);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;_.set(m,T);for(const[I,P]of m)T.set(I,c(P,I,v,_,E));return T}if(m instanceof Set){const T=new Set;_.set(m,T);for(const I of m)T.add(c(I,void 0,v,_,E));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,v,_,E);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,T),d(T,m,v,_,E),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return _.set(m,T),d(T,m,v,_,E),T}if(m instanceof Blob){const T=new Blob([m],{type:m.type});return _.set(m,T),d(T,m,v,_,E),T}if(m instanceof Error){const T=new m.constructor;return _.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,d(T,m,v,_,E),T}if(typeof m=="object"&&h(m)){const T=Object.create(Object.getPrototypeOf(m));return _.set(m,T),d(T,m,v,_,E),T}return m}function d(m,y,v=m,_,E){const S=[...Object.keys(y),...e.getSymbols(y)];for(let T=0;T<S.length;T++){const I=S[T],P=Object.getOwnPropertyDescriptor(m,I);(P==null||P.writable)&&(m[I]=c(y[I],I,v,_,E))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(Wv)),Wv}var ek;function T8(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cR();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Yv)),Yv}var tk;function S8(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h_(),n=T8();function r(a){return a=n.cloneDeep(a),o=>e.isMatch(o,a)}t.matches=r})(qv)),qv}var e0={},t0={},n0={},nk;function A8(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cR(),n=uR();function r(a,o){return e.cloneDeepWith(a,(l,c,d,h)=>{const m=o?.(l,c,d,h);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case n.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r})(n0)),n0}var rk;function k8(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A8();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(t0)),t0}var r0={},i0={},ik;function fR(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(i0)),i0}var a0={},ak;function C8(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lR();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(a0)),a0}var sk;function O8(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LI(),n=fR(),r=C8(),a=s_();function o(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let h=l;for(let m=0;m<d.length;m++){const y=d[m];if((h==null||!Object.hasOwn(h,y))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(y)&&y<h.length))return!1;h=h[y]}return!0}t.has=o})(r0)),r0}var ok;function N8(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h_(),n=VI(),r=k8(),a=o_(),o=O8();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(h){const m=a.get(h,c);return m===void 0?o.has(h,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(e0)),e0}var lk;function I8(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iR(),n=x8(),r=S8(),a=N8();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(zv)),zv}var uk;function R8(){return uk||(uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p8(),n=iR(),r=b8(),a=I8();function o(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(c)):[]}t.uniqBy=o})(Dv)),Dv}var s0,ck;function D8(){return ck||(ck=1,s0=R8().uniqBy),s0}var P8=D8();const fk=oo(P8);function M8(t,e,n){return e===!0?fk(t,n):typeof e=="function"?fk(t,e):t}var o0={exports:{}},l0={},u0={exports:{}},c0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function j8(){if(dk)return c0;dk=1;var t=Mu();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(y,v){var _=v(),E=r({inst:{value:_,getSnapshot:v}}),S=E[0].inst,T=E[1];return o(function(){S.value=_,S.getSnapshot=v,d(S)&&T({inst:S})},[y,_,v]),a(function(){return d(S)&&T({inst:S}),y(function(){d(S)&&T({inst:S})})},[y]),l(_),_}function d(y){var v=y.getSnapshot;y=y.value;try{var _=v();return!n(y,_)}catch{return!0}}function h(y,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return c0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,c0}var hk;function L8(){return hk||(hk=1,u0.exports=j8()),u0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk;function V8(){if(mk)return l0;mk=1;var t=Mu(),e=L8();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return l0.useSyncExternalStoreWithSelector=function(h,m,y,v,_){var E=o(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=c(function(){function I(F){if(!P){if(P=!0,L=F,F=v(F),_!==void 0&&S.hasValue){var R=S.value;if(_(R,F))return B=R}return B=F}if(R=B,r(L,F))return R;var O=v(F);return _!==void 0&&_(R,O)?(L=F,R):(L=F,B=O)}var P=!1,L,B,q=y===void 0?null:y;return[function(){return I(m())},q===null?void 0:function(){return I(q())}]},[m,y,v,_]);var T=a(h,E[0],E[1]);return l(function(){S.hasValue=!0,S.value=T},[T]),d(T),T},l0}var gk;function U8(){return gk||(gk=1,o0.exports=V8()),o0.exports}var z8=U8(),m_=C.createContext(null),B8=t=>t,ir=()=>{var t=C.useContext(m_);return t?t.store.dispatch:B8},mm=()=>{},q8=()=>mm,$8=(t,e)=>t===e;function Ae(t){var e=C.useContext(m_);return z8.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:q8,e?e.store.getState:mm,e?e.store.getState:mm,e?t:mm,$8)}function F8(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function H8(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function K8(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var pk=t=>Array.isArray(t)?t:[t];function G8(t){const e=Array.isArray(t[0])?t[0]:t;return K8(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Y8(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var W8=class{constructor(t){this.value=t}deref(){return this.value}},X8=typeof WeakRef<"u"?WeakRef:W8,Q8=0,yk=1;function Bh(){return{s:Q8,v:void 0,o:null,p:null}}function dR(t,e={}){let n=Bh();const{resultEqualityCheck:r}=e;let a,o=0;function l(){let c=n;const{length:d}=arguments;for(let y=0,v=d;y<v;y++){const _=arguments[y];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const S=E.get(_);S===void 0?(c=Bh(),E.set(_,c)):c=S}else{let E=c.p;E===null&&(c.p=E=new Map);const S=E.get(_);S===void 0?(c=Bh(),E.set(_,c)):c=S}}const h=c;let m;if(c.s===yk)m=c.v;else if(m=t.apply(null,arguments),o++,r){const y=a?.deref?.()??a;y!=null&&r(y,m)&&(m=y,o!==0&&o--),a=typeof m=="object"&&m!==null||typeof m=="function"?new X8(m):m}return h.s=yk,h.v=m,m}return l.clearCache=()=>{n=Bh(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function Z8(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let o=0,l=0,c,d={},h=a.pop();typeof h=="object"&&(d=h,h=a.pop()),F8(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...d},{memoize:y,memoizeOptions:v=[],argsMemoize:_=dR,argsMemoizeOptions:E=[]}=m,S=pk(v),T=pk(E),I=G8(a),P=y(function(){return o++,h.apply(null,arguments)},...S),L=_(function(){l++;const q=Y8(I,arguments);return c=P.apply(null,q),c},...T);return Object.assign(L,{resultFunc:h,memoizedResultFunc:P,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var te=Z8(dR),J8=Object.assign((t,e=te)=>{H8(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>J8}),f0={},d0={},h0={},vk;function eB(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,o)=>{if(r!==a){const l=e(r),c=e(a);if(l===c&&l===0){if(r<a)return o==="desc"?1:-1;if(r>a)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(h0)),h0}var m0={},g0={},bk;function hR(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(g0)),g0}var xk;function tB(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=a})(m0)),m0}var _k;function nB(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eB(),n=tB(),r=s_();function a(o,l,c,d){if(o==null)return[];c=d?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const h=(_,E)=>{let S=_;for(let T=0;T<E.length&&S!=null;++T)S=S[E[T]];return S},m=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:h(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?h(E,_):typeof E=="object"?E[_]:E,y=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:y.map(E=>m(E,_))})).slice().sort((_,E)=>{for(let S=0;S<y.length;S++){const T=e.compareValues(_.criteria[S],E.criteria[S],c[S]);if(T!==0)return T}return 0}).map(_=>_.original)}t.orderBy=a})(d0)),d0}var p0={},wk;function rB(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],o=Math.floor(r),l=(c,d)=>{for(let h=0;h<c.length;h++){const m=c[h];Array.isArray(m)&&d<o?l(m,d+1):a.push(m)}};return l(n,0),a}t.flatten=e})(p0)),p0}var y0={},Ek;function mR(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fR(),n=d_(),r=aR(),a=oR();function o(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],l):!1}t.isIterateeCall=o})(y0)),y0}var Tk;function iB(){return Tk||(Tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nB(),n=rB(),r=mR();function a(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=a})(f0)),f0}var v0,Sk;function aB(){return Sk||(Sk=1,v0=iB().sortBy),v0}var sB=aB();const Bg=oo(sB);var gR=t=>t.legend.settings,oB=t=>t.legend.size,lB=t=>t.legend.payload;te([lB,gR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Bg(r,n):r});var qh=1;function uB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>qh||Math.abs(l.left-e.left)>qh||Math.abs(l.top-e.top)>qh||Math.abs(l.width-e.width)>qh)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Un(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var cB=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ak=cB,b0=()=>Math.random().toString(36).substring(7).split("").join("."),fB={INIT:`@@redux/INIT${b0()}`,REPLACE:`@@redux/REPLACE${b0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${b0()}`},Bm=fB;function g_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function pR(t,e,n){if(typeof t!="function")throw new Error(Un(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Un(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Un(1));return n(pR)(t,e)}let r=t,a=e,o=new Map,l=o,c=0,d=!1;function h(){l===o&&(l=new Map,o.forEach((T,I)=>{l.set(I,T)}))}function m(){if(d)throw new Error(Un(3));return a}function y(T){if(typeof T!="function")throw new Error(Un(4));if(d)throw new Error(Un(5));let I=!0;h();const P=c++;return l.set(P,T),function(){if(I){if(d)throw new Error(Un(6));I=!1,h(),l.delete(P),o=null}}}function v(T){if(!g_(T))throw new Error(Un(7));if(typeof T.type>"u")throw new Error(Un(8));if(typeof T.type!="string")throw new Error(Un(17));if(d)throw new Error(Un(9));try{d=!0,a=r(a,T)}finally{d=!1}return(o=l).forEach(P=>{P()}),T}function _(T){if(typeof T!="function")throw new Error(Un(10));r=T,v({type:Bm.REPLACE})}function E(){const T=y;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Un(11));function P(){const B=I;B.next&&B.next(m())}return P(),{unsubscribe:T(P)}},[Ak](){return this}}}return v({type:Bm.INIT}),{dispatch:v,subscribe:y,getState:m,replaceReducer:_,[Ak]:E}}function dB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Bm.INIT})>"u")throw new Error(Un(12));if(typeof n(void 0,{type:Bm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Un(13))})}function yR(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{dB(n)}catch(o){a=o}return function(l={},c){if(a)throw a;let d=!1;const h={};for(let m=0;m<r.length;m++){const y=r[m],v=n[y],_=l[y],E=v(_,c);if(typeof E>"u")throw c&&c.type,new Error(Un(14));h[y]=E,d=d||E!==_}return d=d||r.length!==Object.keys(l).length,d?h:l}}function qm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hB(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(Un(15))};const l={getState:a.getState,dispatch:(d,...h)=>o(d,...h)},c=t.map(d=>d(l));return o=qm(...c)(a.dispatch),{...a,dispatch:o}}}function vR(t){return g_(t)&&"type"in t&&typeof t.type=="string"}var bR=Symbol.for("immer-nothing"),kk=Symbol.for("immer-draftable"),Gr=Symbol.for("immer-state");function Oi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ou=Object.getPrototypeOf;function dl(t){return!!t&&!!t[Gr]}function Ya(t){return t?xR(t)||Array.isArray(t)||!!t[kk]||!!t.constructor?.[kk]||od(t)||$g(t):!1}var mB=Object.prototype.constructor.toString();function xR(t){if(!t||typeof t!="object")return!1;const e=Ou(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===mB}function $m(t,e){qg(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function qg(t){const e=t[Gr];return e?e.type_:Array.isArray(t)?1:od(t)?2:$g(t)?3:0}function kb(t,e){return qg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function _R(t,e,n){const r=qg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function gB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function od(t){return t instanceof Map}function $g(t){return t instanceof Set}function Yo(t){return t.copy_||t.base_}function Cb(t,e){if(od(t))return new Map(t);if($g(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=xR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Gr];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const l=a[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Ou(t),r)}else{const r=Ou(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function p_(t,e=!1){return Fg(t)||dl(t)||!Ya(t)||(qg(t)>1&&Object.defineProperties(t,{set:{value:$h},add:{value:$h},clear:{value:$h},delete:{value:$h}}),Object.freeze(t),e&&Object.values(t).forEach(n=>p_(n,!0))),t}function $h(){Oi(2)}function Fg(t){return Object.isFrozen(t)}var pB={};function hl(t){const e=pB[t];return e||Oi(0,t),e}var Bf;function wR(){return Bf}function yB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ck(t,e){e&&(hl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ob(t){Nb(t),t.drafts_.forEach(vB),t.drafts_=null}function Nb(t){t===Bf&&(Bf=t.parent_)}function Ok(t){return Bf=yB(Bf,t)}function vB(t){const e=t[Gr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Nk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Gr].modified_&&(Ob(e),Oi(4)),Ya(t)&&(t=Fm(e,t),e.parent_||Hm(e,t)),e.patches_&&hl("Patches").generateReplacementPatches_(n[Gr].base_,t,e.patches_,e.inversePatches_)):t=Fm(e,n,[]),Ob(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==bR?t:void 0}function Fm(t,e,n){if(Fg(e))return e;const r=e[Gr];if(!r)return $m(e,(a,o)=>Ik(t,r,e,a,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Hm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,l=!1;r.type_===3&&(o=new Set(a),a.clear(),l=!0),$m(o,(c,d)=>Ik(t,r,a,c,d,n,l)),Hm(t,a,!1),n&&t.patches_&&hl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Ik(t,e,n,r,a,o,l){if(dl(a)){const c=o&&e&&e.type_!==3&&!kb(e.assigned_,r)?o.concat(r):void 0,d=Fm(t,a,c);if(_R(n,r,d),dl(d))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Ya(a)&&!Fg(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Fm(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(od(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Hm(t,a)}}function Hm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&p_(e,n)}function bB(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:wR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=y_;n&&(a=[r],o=qf);const{revoke:l,proxy:c}=Proxy.revocable(a,o);return r.draft_=c,r.revoke_=l,c}var y_={get(t,e){if(e===Gr)return t;const n=Yo(t);if(!kb(n,e))return xB(t,n,e);const r=n[e];return t.finalized_||!Ya(r)?r:r===x0(t.base_,e)?(_0(t),t.copy_[e]=Rb(r,t)):r},has(t,e){return e in Yo(t)},ownKeys(t){return Reflect.ownKeys(Yo(t))},set(t,e,n){const r=ER(Yo(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=x0(Yo(t),e),o=a?.[Gr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(gB(n,a)&&(n!==void 0||kb(t.base_,e)))return!0;_0(t),Ib(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return x0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,_0(t),Ib(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Yo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Oi(11)},getPrototypeOf(t){return Ou(t.base_)},setPrototypeOf(){Oi(12)}},qf={};$m(y_,(t,e)=>{qf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});qf.deleteProperty=function(t,e){return qf.set.call(this,t,e,void 0)};qf.set=function(t,e,n){return y_.set.call(this,t[0],e,n,t[0])};function x0(t,e){const n=t[Gr];return(n?Yo(n):t)[e]}function xB(t,e,n){const r=ER(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function ER(t,e){if(!(e in t))return;let n=Ou(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ou(n)}}function Ib(t){t.modified_||(t.modified_=!0,t.parent_&&Ib(t.parent_))}function _0(t){t.copy_||(t.copy_=Cb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _B=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(d=o,...h){return l.produce(d,m=>n.call(this,m,...h))}}typeof n!="function"&&Oi(6),r!==void 0&&typeof r!="function"&&Oi(7);let a;if(Ya(e)){const o=Ok(this),l=Rb(e,void 0);let c=!0;try{a=n(l),c=!1}finally{c?Ob(o):Nb(o)}return Ck(o,r),Nk(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===bR&&(a=void 0),this.autoFreeze_&&p_(a,!0),r){const o=[],l=[];hl("Patches").generateReplacementPatches_(e,a,o,l),r(o,l)}return a}else Oi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,a;return[this.produce(e,n,(l,c)=>{r=l,a=c}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ya(t)||Oi(8),dl(t)&&(t=Ba(t));const e=Ok(this),n=Rb(t,void 0);return n[Gr].isManual_=!0,Nb(e),n}finishDraft(t,e){const n=t&&t[Gr];(!n||!n.isManual_)&&Oi(9);const{scope_:r}=n;return Ck(r,e),Nk(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=hl("Patches").applyPatches_;return dl(t)?r(t,e):this.produce(t,a=>r(a,e))}};function Rb(t,e){const n=od(t)?hl("MapSet").proxyMap_(t,e):$g(t)?hl("MapSet").proxySet_(t,e):bB(t,e);return(e?e.scope_:wR()).drafts_.push(n),n}function Ba(t){return dl(t)||Oi(10,t),TR(t)}function TR(t){if(!Ya(t)||Fg(t))return t;const e=t[Gr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Cb(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Cb(t,!0);return $m(n,(r,a)=>{_R(n,r,TR(a))}),e&&(e.finalized_=!1),n}var wB=new _B,SR=wB.produce;function AR(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var EB=AR(),TB=AR,SB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qm:qm.apply(null,arguments)};function gi(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Hr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>vR(r)&&r.type===t,n}var kR=class yf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,yf.prototype)}static get[Symbol.species](){return yf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new yf(...e[0].concat(this)):new yf(...e.concat(this))}};function Rk(t){return Ya(t)?SR(t,()=>{}):t}function Fh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function AB(t){return typeof t=="boolean"}var kB=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let l=new kR;return n&&(AB(n)?l.push(EB):l.push(TB(n.extraArgument))),l},CB="RTK_autoBatch",Dk=t=>e=>{setTimeout(e,t)},OB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dk(10):t.type==="callback"?t.queueNotification:Dk(t.timeout),h=()=>{l=!1,o&&(o=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const y=()=>a&&m(),v=r.subscribe(y);return c.add(m),()=>{v(),c.delete(m)}},dispatch(m){try{return a=!m?.meta?.[CB],o=!a,o&&(l||(l=!0,d(h))),r.dispatch(m)}finally{a=!0}}})},NB=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new kR(t);return r&&a.push(OB(typeof r=="object"?r:void 0)),a};function IB(t){const e=kB(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(g_(n))c=yR(n);else throw new Error(Hr(1));let d;typeof r=="function"?d=r(e):d=e();let h=qm;a&&(h=SB({trace:!1,...typeof a=="object"&&a}));const m=hB(...d),y=NB(m);let v=typeof l=="function"?l(y):y();const _=h(...v);return pR(c,o,_)}function CR(t){const e={},n=[];let r;const a={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Hr(28));if(c in e)throw new Error(Hr(29));return e[c]=l,a},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),a},addMatcher(o,l){return n.push({matcher:o,reducer:l}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function RB(t){return typeof t=="function"}function DB(t,e){let[n,r,a]=CR(e),o;if(RB(t))o=()=>Rk(t());else{const c=Rk(t);o=()=>c}function l(c=o(),d){let h=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[a]),h.reduce((m,y)=>{if(y)if(dl(m)){const _=y(m,d);return _===void 0?m:_}else{if(Ya(m))return SR(m,v=>y(v,d));{const v=y(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},c)}return l.getInitialState=o,l}var PB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",MB=(t=21)=>{let e="",n=t;for(;n--;)e+=PB[Math.random()*64|0];return e},jB=Symbol.for("rtk-slice-createasyncthunk");function LB(t,e){return`${t}/${e}`}function VB({creators:t}={}){const e=t?.asyncThunk?.[jB];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(Hr(11));const l=(typeof r.reducers=="function"?r.reducers(zB()):r.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(L,B){const q=typeof L=="string"?L:L.type;if(!q)throw new Error(Hr(12));if(q in d.sliceCaseReducersByType)throw new Error(Hr(13));return d.sliceCaseReducersByType[q]=B,h},addMatcher(L,B){return d.sliceMatchers.push({matcher:L,reducer:B}),h},exposeAction(L,B){return d.actionCreators[L]=B,h},exposeCaseReducer(L,B){return d.sliceCaseReducersByName[L]=B,h}};c.forEach(L=>{const B=l[L],q={reducerName:L,type:LB(a,L),createNotation:typeof r.reducers=="function"};qB(B)?FB(q,B,h,e):BB(q,B,h)});function m(){const[L={},B=[],q=void 0]=typeof r.extraReducers=="function"?CR(r.extraReducers):[r.extraReducers],F={...L,...d.sliceCaseReducersByType};return DB(r.initialState,R=>{for(let O in F)R.addCase(O,F[O]);for(let O of d.sliceMatchers)R.addMatcher(O.matcher,O.reducer);for(let O of B)R.addMatcher(O.matcher,O.reducer);q&&R.addDefaultCase(q)})}const y=L=>L,v=new Map,_=new WeakMap;let E;function S(L,B){return E||(E=m()),E(L,B)}function T(){return E||(E=m()),E.getInitialState()}function I(L,B=!1){function q(R){let O=R[L];return typeof O>"u"&&B&&(O=Fh(_,q,T)),O}function F(R=y){const O=Fh(v,B,()=>new WeakMap);return Fh(O,R,()=>{const D={};for(const[U,j]of Object.entries(r.selectors??{}))D[U]=UB(j,R,()=>Fh(_,R,T),B);return D})}return{reducerPath:L,getSelectors:F,get selectors(){return F(q)},selectSlice:q}}const P={name:a,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:T,...I(o),injectInto(L,{reducerPath:B,...q}={}){const F=B??o;return L.inject({reducerPath:F,reducer:S},q),{...P,...I(F,!0)}}};return P}}function UB(t,e,n,r){function a(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return a.unwrapped=t,a}var Yr=VB();function zB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function BB({type:t,reducerName:e,createNotation:n},r,a){let o,l;if("reducer"in r){if(n&&!$B(r))throw new Error(Hr(17));o=r.reducer,l=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?gi(t,l):gi(t))}function qB(t){return t._reducerDefinitionType==="asyncThunk"}function $B(t){return t._reducerDefinitionType==="reducerWithPrepare"}function FB({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Hr(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:d,settled:h,options:m}=n,y=a(t,o,m);r.exposeAction(e,y),l&&r.addCase(y.fulfilled,l),c&&r.addCase(y.pending,c),d&&r.addCase(y.rejected,d),h&&r.addMatcher(y.settled,h),r.exposeCaseReducer(e,{fulfilled:l||Hh,pending:c||Hh,rejected:d||Hh,settled:h||Hh})}function Hh(){}var HB="task",OR="listener",NR="completed",v_="cancelled",KB=`task-${v_}`,GB=`task-${NR}`,Db=`${OR}-${v_}`,YB=`${OR}-${NR}`,Hg=class{constructor(t){this.code=t,this.message=`${HB} ${v_} (reason: ${t})`}name="TaskAbortError";message},b_=(t,e)=>{if(typeof t!="function")throw new TypeError(Hr(32))},Km=()=>{},IR=(t,e=Km)=>(t.catch(e),t),RR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),rl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},il=t=>{if(t.aborted){const{reason:e}=t;throw new Hg(e)}};function DR(t,e){let n=Km;return new Promise((r,a)=>{const o=()=>a(new Hg(t.reason));if(t.aborted){o();return}n=RR(t,o),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Km})}var WB=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Hg?"cancelled":"rejected",error:n}}finally{e?.()}},Gm=t=>e=>IR(DR(t,e).then(n=>(il(t),n))),PR=t=>{const e=Gm(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:vu}=Object,Pk={},Kg="listenerMiddleware",XB=(t,e)=>{const n=r=>RR(t,()=>rl(r,t.reason));return(r,a)=>{b_(r);const o=new AbortController;n(o);const l=WB(async()=>{il(t),il(o.signal);const c=await r({pause:Gm(o.signal),delay:PR(o.signal),signal:o.signal});return il(o.signal),c},()=>rl(o,GB));return a?.autoJoin&&e.push(l.catch(Km)),{result:Gm(t)(l),cancel(){rl(o,KB)}}}},QB=(t,e)=>{const n=async(r,a)=>{il(e);let o=()=>{};const c=[new Promise((d,h)=>{let m=t({predicate:r,effect:(y,v)=>{v.unsubscribe(),d([y,v.getState(),v.getOriginalState()])}});o=()=>{m(),h()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await DR(e,Promise.race(c));return il(e),d}finally{o()}};return(r,a)=>IR(n(r,a))},MR=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:o}=t;if(e)a=gi(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Hr(21));return b_(o),{predicate:a,type:e,effect:o}},jR=vu(t=>{const{type:e,predicate:n,effect:r}=MR(t);return{id:MB(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Hr(22))}}},{withTypes:()=>jR}),Mk=(t,e)=>{const{type:n,effect:r,predicate:a}=MR(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===r)},Pb=t=>{t.pending.forEach(e=>{rl(e,Db)})},ZB=t=>()=>{t.forEach(Pb),t.clear()},jk=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},LR=vu(gi(`${Kg}/add`),{withTypes:()=>LR}),JB=gi(`${Kg}/removeAll`),VR=vu(gi(`${Kg}/remove`),{withTypes:()=>VR}),eq=(...t)=>{console.error(`${Kg}/error`,...t)},ld=(t={})=>{const e=new Map,{extra:n,onError:r=eq}=t;b_(r);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y?.cancelActive&&Pb(m)}),o=m=>{const y=Mk(e,m)??jR(m);return a(y)};vu(o,{withTypes:()=>o});const l=m=>{const y=Mk(e,m);return y&&(y.unsubscribe(),m.cancelActive&&Pb(y)),!!y};vu(l,{withTypes:()=>l});const c=async(m,y,v,_)=>{const E=new AbortController,S=QB(o,E.signal),T=[];try{m.pending.add(E),await Promise.resolve(m.effect(y,vu({},v,{getOriginalState:_,condition:(I,P)=>S(I,P).then(Boolean),take:S,delay:PR(E.signal),pause:Gm(E.signal),extra:n,signal:E.signal,fork:XB(E.signal,T),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,P,L)=>{I!==E&&(rl(I,Db),L.delete(I))})},cancel:()=>{rl(E,Db),m.pending.delete(E)},throwIfCancelled:()=>{il(E.signal)}})))}catch(I){I instanceof Hg||jk(r,I,{raisedBy:"effect"})}finally{await Promise.all(T),rl(E,YB),m.pending.delete(E)}},d=ZB(e);return{middleware:m=>y=>v=>{if(!vR(v))return y(v);if(LR.match(v))return o(v.payload);if(JB.match(v)){d();return}if(VR.match(v))return l(v.payload);let _=m.getState();const E=()=>{if(_===Pk)throw new Error(Hr(23));return _};let S;try{if(S=y(v),e.size>0){const T=m.getState(),I=Array.from(e.values());for(const P of I){let L=!1;try{L=P.predicate(v,T,_)}catch(B){L=!1,jk(r,B,{raisedBy:"predicate"})}L&&c(P,v,m,E)}}}finally{_=Pk}return S},startListening:o,stopListening:l,clearListeners:d}};function Hr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var tq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},UR=Yr({name:"chartLayout",initialState:tq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:nq,setLayout:rq,setChartSize:iq,setScale:aq}=UR.actions,sq=UR.reducer;function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){oq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oq(t,e,n){return(e=lq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lq(t){var e=uq(t,"string");return typeof e=="symbol"?e:e+""}function uq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ym=Math.PI/180,cq=t=>t*180/Math.PI,$n=(t,e,n,r)=>({x:t+Math.cos(-Ym*r)*n,y:e+Math.sin(-Ym*r)*n}),fq=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dq=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return Math.sqrt((n-a)**2+(r-o)**2)},hq=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:o}=e,l=dq({x:n,y:r},{x:a,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-a)/l,d=Math.acos(c);return r>o&&(d=2*Math.PI-d),{radius:l,angle:cq(d),angleInRadian:d}},mq=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:e-o*360,endAngle:n-o*360}},gq=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(a,o);return t+l*360},pq=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:o}=hq({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(a<l||a>c||a===0)return null;var{startAngle:d,endAngle:h}=mq(e),m=o,y;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}return y?Vk(Vk({},e),{},{radius:a,angle:gq(m,e)}):null};function zR(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){yq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yq(t,e,n){return(e=vq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vq(t){var e=bq(t,"string");return typeof e=="symbol"?e:e+""}function bq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hr(t,e,n){return Fn(t)||Fn(e)?n:mi(e)?Vg(t,e,n):typeof e=="function"?e(t):n}var xq=(t,e,n,r,a)=>{var o,l=-1,c=(o=e?.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var h=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,y=d>=c-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(di(m-h)!==di(y-m)){var _=[];if(di(y-m)===di(a[1]-a[0])){v=y;var E=m+a[1]-a[0];_[0]=Math.min(E,(E+h)/2),_[1]=Math.max(E,(E+h)/2)}else{v=h;var S=y+a[1]-a[0];_[0]=Math.min(m,(S+m)/2),_[1]=Math.max(m,(S+m)/2)}var T=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>T[0]&&t<=T[1]||t>=_[0]&&t<=_[1]){({index:l}=n[d]);break}}else{var I=Math.min(h,y),P=Math.max(h,y);if(t>(I+m)/2&&t<=(P+m)/2){({index:l}=n[d]);break}}}else if(e){for(var L=0;L<c;L++)if(L===0&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L>0&&L<c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L===c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2){({index:l}=e[L]);break}}return l},_q=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Oe(t[o]))return ui(ui({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Oe(t[l]))return ui(ui({},t),{},{[l]:t[l]+(a||0)})}return t},Ja=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",BR=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var a,o,l=t.map(c=>(c.coordinate===e&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate));return a||l.push(e),o||l.push(n),l},qR=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:o,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:m,ticks:y,niceTicks:v,axisType:_}=t;if(!l)return null;var E=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/E:0;if(S=_==="angleAxis"&&o&&o.length>=2?di(o[0]-o[1])*2*S:S,y||v){var T=(y||v||[]).map((I,P)=>{var L=r?r.indexOf(I):I;return{coordinate:l(L)+S,value:I,offset:S,index:P}});return T.filter(I=>!mr(I.coordinate))}return d&&h?h.map((I,P)=>({coordinate:l(I)+S,value:I,index:P,offset:S})):l.ticks&&m!=null?l.ticks(m).map((I,P)=>({coordinate:l(I)+S,value:I,offset:S,index:P})):l.domain().map((I,P)=>({coordinate:l(I)+S,value:r?r[I]:I,index:P,offset:S}))},zk=1e-4,wq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-zk,o=Math.max(r[0],r[1])+zk,l=t(e[0]),c=t(e[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([e[0],e[n-1]])}},Eq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0,l=0;l<e;++l){var c=mr(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Tq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0;o<e;++o){var l=mr(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Sq={sign:Eq,expand:h8,none:Cu,silhouette:m8,wiggle:g8,positive:Tq},Aq=(t,e,n)=>{var r=Sq[n],a=d8().keys(e).value((o,l)=>+hr(o,l,0)).order(Ab).offset(r);return a(t)};function kq(t){return t==null?void 0:String(t)}function Bk(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Fn(a[e.dataKey])){var c=zI(n,"value",a[e.dataKey]);if(c)return c.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var d=hr(a,Fn(l)?e.dataKey:l);return Fn(d)?null:e.scale(d)}var Cq=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},Oq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Nq=(t,e,n)=>{if(t!=null)return Oq(Object.keys(t).reduce((r,a)=>{var o=t[a],{stackedData:l}=o,c=l.reduce((d,h)=>{var m=zR(h,e,n),y=Cq(m);return[Math.min(d[0],y[0]),Math.max(d[1],y[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},qk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$k=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mb=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=Bg(e,m=>m.coordinate),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],h=a[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Fk(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:o}=t;return ui(ui({},e),{},{dataKey:n,payload:r,value:a,name:o})}function $R(t,e){if(t)return String(t);if(typeof e=="string")return e}function Iq(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var o=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return o?{x:t,y:e}:null}return r?pq({x:t,y:e},r):null}var Rq=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,{radius:l}=r;return ui(ui(ui({},r),$n(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,{angle:d}=r;return ui(ui(ui({},r),$n(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},Dq=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,es=t=>t.layout.width,ts=t=>t.layout.height,Pq=t=>t.layout.scale,FR=t=>t.layout.margin,Gg=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Yg=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Mq="data-recharts-item-index",jq="data-recharts-item-data-key",ud=60;function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){Lq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lq(t,e,n){return(e=Vq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vq(t){var e=Uq(t,"string");return typeof e=="symbol"?e:e+""}function Uq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zq=t=>t.brush.height;function Bq(t){var e=Yg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:ud;return n+a}return n},0)}function qq(t){var e=Yg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:ud;return n+a}return n},0)}function $q(t){var e=Gg(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Fq(t){var e=Gg(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Gn=te([es,ts,FR,zq,Bq,qq,$q,Fq,gR,oB],(t,e,n,r,a,o,l,c,d,h)=>{var m={left:(n.left||0)+a,right:(n.right||0)+o},y={top:(n.top||0)+l,bottom:(n.bottom||0)+c},v=Kh(Kh({},y),m),_=v.bottom;v.bottom+=r,v=_q(v,d,h);var E=t-v.left-v.right,S=e-v.top-v.bottom;return Kh(Kh({brushBottom:_},v),{},{width:Math.max(E,0),height:Math.max(S,0)})}),Hq=te(Gn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),HR=te(es,ts,(t,e)=>({x:0,y:0,width:t,height:e})),Kq=C.createContext(null),Wr=()=>C.useContext(Kq)!=null,Wg=t=>t.brush,Xg=te([Wg,Gn,FR],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),Qg=()=>{var t,e=Wr(),n=Ae(Hq),r=Ae(Xg),a=(t=Ae(Wg))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Gq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},KR=()=>{var t;return(t=Ae(Gn))!==null&&t!==void 0?t:Gq},GR=()=>Ae(es),YR=()=>Ae(ts),Rt=t=>t.layout.layoutType,x_=()=>Ae(Rt),Yq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WR=Yr({name:"legend",initialState:Yq,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ba(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:ute,setLegendSettings:cte,addLegendPayload:Wq,removeLegendPayload:Xq}=WR.actions,Qq=WR.reducer;function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(null,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Zq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zq(t,e,n){return(e=Jq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jq(t){var e=e$(t,"string");return typeof e=="symbol"?e:e+""}function e$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t$(t){return Array.isArray(t)&&mi(t[0])&&mi(t[1])?t.join(" ~ "):t}var n$=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:o,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:h,label:m,labelFormatter:y,accessibilityLayer:v=!1}=t,_=()=>{if(o&&o.length){var q={padding:0,margin:0},F=(c?Bg(o,c):o).map((R,O)=>{if(R.type==="none")return null;var D=R.formatter||l||t$,{value:U,name:j}=R,z=U,V=j;if(D){var pe=D(U,j,R,O,o);if(Array.isArray(pe))[z,V]=pe;else if(pe!=null)z=pe;else return null}var ye=w0({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:ye},mi(V)?C.createElement("span",{className:"recharts-tooltip-item-name"},V):null,mi(V)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},z),C.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:q},F)}return null},E=w0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=w0({margin:0},a),T=!Fn(m),I=T?m:"",P=It("recharts-default-tooltip",d),L=It("recharts-tooltip-label",h);T&&y&&o!==void 0&&o!==null&&(I=y(m,o));var B=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",jb({className:P,style:E},B),C.createElement("p",{className:L,style:S},C.isValidElement(I)?I:"".concat(I)),_())},rf="recharts-tooltip-wrapper",r$={visibility:"hidden"};function i$(t){var{coordinate:e,translateX:n,translateY:r}=t;return It(rf,{["".concat(rf,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(rf,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(rf,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(rf,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function Gk(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:o,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:h}=t;if(o&&Oe(o[r]))return o[r];var m=n[r]-c-(a>0?a:0),y=n[r]+a;if(e[r])return l[r]?m:y;var v=d[r];if(v==null)return 0;if(l[r]){var _=m,E=v;return _<E?Math.max(y,v):Math.max(m,v)}if(h==null)return 0;var S=y+c,T=v+h;return S>T?Math.max(m,v):Math.max(y,v)}function a$(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function s$(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,h,m,y;return l.height>0&&l.width>0&&n?(m=Gk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),y=Gk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=a$({translateX:m,translateY:y,useTranslate3d:c})):h=r$,{cssProperties:h,cssClasses:i$({translateX:m,translateY:y,coordinate:n})}}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lb(t,e,n){return(e=o$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=l$(t,"string");return typeof e=="symbol"?e:e+""}function l$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class u$ extends C.PureComponent{constructor(){super(...arguments),Lb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Lb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:o,coordinate:l,hasPayload:c,isAnimationActive:d,offset:h,position:m,reverseDirection:y,useTranslate3d:v,viewBox:_,wrapperStyle:E,lastBoundingBox:S,innerRef:T,hasPortalFromProps:I}=this.props,{cssClasses:P,cssProperties:L}=s$({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:m,reverseDirection:y,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:_}),B=I?{}:Gh(Gh({transition:d&&e?"transform ".concat(r,"ms ").concat(a):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),q=Gh(Gh({},B),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:q,ref:T},o)}}var c$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Fu={devToolsEnabled:!1,isSsr:c$()},XR=()=>Ae(t=>t.rootProps.accessibilityLayer);function gr(t){return Number.isFinite(t)}function Wm(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(null,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){f$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f$(t,e,n){return(e=d$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d$(t){var e=h$(t,"string");return typeof e=="symbol"?e:e+""}function h$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qk={curveBasisClosed:t8,curveBasisOpen:n8,curveBasis:e8,curveBumpX:Z7,curveBumpY:J7,curveLinearClosed:r8,curveLinear:Ug,curveMonotoneX:i8,curveMonotoneY:a8,curveNatural:s8,curveStep:o8,curveStepAfter:u8,curveStepBefore:l8},Yh=t=>gr(t.x)&&gr(t.y),af=t=>t.x,sf=t=>t.y,m$=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(l_(t));return(n==="curveMonotone"||n==="curveBump")&&e?Qk["".concat(n).concat(e==="vertical"?"Y":"X")]:Qk[n]||Ug},g$=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:o=!1}=t,l=m$(e,a),c=o?n.filter(Yh):n,d;if(Array.isArray(r)){var h=o?r.filter(y=>Yh(y)):r,m=c.map((y,v)=>Xk(Xk({},y),{},{base:h[v]}));return a==="vertical"?d=zh().y(sf).x1(af).x0(y=>y.base.x):d=zh().x(af).y1(sf).y0(y=>y.base.y),d.defined(Yh).curve(l),d(m)}return a==="vertical"&&Oe(r)?d=zh().y(sf).x1(af).x0(r):Oe(r)?d=zh().x(af).y1(sf).y0(r):d=WI().x(af).y(sf),d.defined(Yh).curve(l),d(c)},gm=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?g$(t):r;return C.createElement("path",Vb({},uo(t),c_(t),{className:It("recharts-curve",e),d:o===null?void 0:o,ref:a}))},p$=["x","y","top","left","width","height","className"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function y$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){v$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v$(t,e,n){return(e=b$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=x$(t,"string");return typeof e=="symbol"?e:e+""}function x$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _$(t,e){if(t==null)return{};var n,r,a=w$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function w$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E$=(t,e,n,r,a,o)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),T$=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:o=0,height:l=0,className:c}=t,d=_$(t,p$),h=y$({x:e,y:n,top:r,left:a,width:o,height:l},d);return!Oe(e)||!Oe(n)||!Oe(o)||!Oe(l)||!Oe(r)||!Oe(a)?null:C.createElement("path",Ub({},Kn(h,!0),{className:It("recharts-cross",c),d:E$(e,n,o,l,r,a)}))};function S$(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function A$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){k$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k$(t,e,n){return(e=C$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=O$(t,"string");return typeof e=="symbol"?e:e+""}function O$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yi(t,e){var n=A$({},t),r=e,a=Object.keys(e),o=a.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}function N$(){}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){I$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I$(t,e,n){return(e=R$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R$(t){var e=D$(t,"string");return typeof e=="symbol"?e:e+""}function D$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P$=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),M$=(t,e,n)=>t.map(r=>"".concat(P$(r)," ").concat(e,"ms ").concat(n)).join(","),j$=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),$f=(t,e)=>Object.keys(e).reduce((n,r)=>t2(t2({},n),{},{[r]:t(r,e[r])}),{});function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){L$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L$(t,e,n){return(e=V$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V$(t){var e=U$(t,"string");return typeof e=="symbol"?e:e+""}function U$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xm=(t,e,n)=>t+(e-t)*n,zb=t=>{var{from:e,to:n}=t;return e!==n},QR=(t,e,n)=>{var r=$f((a,o)=>{if(zb(o)){var[l,c]=t(o.from,o.to,o.velocity);return Bn(Bn({},o),{},{from:l,velocity:c})}return o},e);return n<1?$f((a,o)=>zb(o)?Bn(Bn({},o),{},{velocity:Xm(o.velocity,r[a].velocity,n),from:Xm(o.from,r[a].from,n)}):o,e):QR(t,r,n-1)};function z$(t,e,n,r,a,o){var l,c=r.reduce((v,_)=>Bn(Bn({},v),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>$f((v,_)=>_.from,c),h=()=>!Object.values(c).filter(zb).length,m=null,y=v=>{l||(l=v);var _=v-l,E=_/n.dt;c=QR(n,c,E),a(Bn(Bn(Bn({},t),e),d())),l=v,h()||(m=o.setTimeout(y))};return()=>(m=o.setTimeout(y),()=>{m()})}function B$(t,e,n,r,a,o,l){var c=null,d=a.reduce((y,v)=>Bn(Bn({},y),{},{[v]:[t[v],e[v]]}),{}),h,m=y=>{h||(h=y);var v=(y-h)/r,_=$f((S,T)=>Xm(...T,n(v)),d);if(o(Bn(Bn(Bn({},t),e),_)),v<1)c=l.setTimeout(m);else{var E=$f((S,T)=>Xm(...T,n(1)),d);o(Bn(Bn(Bn({},t),e),E))}};return()=>(c=l.setTimeout(m),()=>{c()})}const q$=(t,e,n,r,a,o)=>{var l=j$(t,e);return n.isStepper===!0?z$(t,e,n,l,a,o):B$(t,e,n,r,l,a,o)};var Qm=1e-4,ZR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],JR=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),r2=(t,e)=>n=>{var r=ZR(t,e);return JR(r,n)},$$=(t,e)=>n=>{var r=ZR(t,e),a=[...r.map((o,l)=>o*l).slice(1),0];return JR(a,n)},i2=function(){for(var e,n,r,a,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,r,n,a]=d[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else l.length===4&&([e,r,n,a]=l);var h=r2(e,n),m=r2(r,a),y=$$(e,n),v=E=>E>1?1:E<0?0:E,_=E=>{for(var S=E>1?1:E,T=S,I=0;I<8;++I){var P=h(T)-S,L=y(T);if(Math.abs(P-S)<Qm||L<Qm)return m(T);T=v(T-P/L)}return m(T)};return _.isStepper=!1,_},F$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,o=(l,c,d)=>{var h=-(l-c)*n,m=d*r,y=d+(h-m)*a/1e3,v=d*a/1e3+l;return Math.abs(v-c)<Qm&&Math.abs(y)<Qm?[c,0]:[v,y]};return o.isStepper=!0,o.dt=a,o},H$=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i2(t);case"spring":return F$();default:if(t.split("(")[0]==="cubic-bezier")return i2(t)}return typeof t=="function"?t:null};function K$(t){var e,n=()=>null,r=!1,a=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...h]=c;if(typeof d=="number"){a=t.setTimeout(o.bind(null,h),d);return}o(d),a=t.setTimeout(o.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class G${setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}function Y$(){return K$(new G$)}var W$=C.createContext(Y$);function X$(t,e){var n=C.useContext(W$);return C.useMemo(()=>e??n(t),[t,e,n])}var Q$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},a2={t:0},E0={t:1};function eD(t){var e=yi(t,Q$),{isActive:n,canBegin:r,duration:a,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:d,children:h}=e,m=X$(e.animationId,e.animationManager),[y,v]=C.useState(n?a2:E0),_=C.useRef(null);return C.useEffect(()=>{n||v(E0)},[n]),C.useEffect(()=>{if(!n||!r)return N$;var E=q$(a2,E0,H$(o),a,v,m.getTimeoutController()),S=()=>{_.current=E()};return m.start([d,l,S,a,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,a,o,l,d,c,m]),h(y.t)}function tD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(zf(e)),r=C.useRef(t);return r.current!==t&&(n.current=zf(e),r.current=t),n.current}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function o2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){Z$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z$(t,e,n){return(e=J$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t){var e=eF(t,"string");return typeof e=="symbol"?e:e+""}function eF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(null,arguments)}var l2=(t,e,n,r,a)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,v=4;y<v;y++)m[y]=a[y]>o?o:a[y];h="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(e)),h+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*m[1])),h+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),h+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*m[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);h="M ".concat(t,",").concat(e+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*_,`
            L `).concat(t+n,",").concat(e+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*_," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},tF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nF=t=>{var e=yi(t,tF),n=C.useRef(null),[r,a]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var pe=n.current.getTotalLength();pe&&a(pe)}catch{}},[]);var{x:o,y:l,width:c,height:d,radius:h,className:m}=e,{animationEasing:y,animationDuration:v,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:S}=e,T=C.useRef(c),I=C.useRef(d),P=C.useRef(o),L=C.useRef(l),B=C.useMemo(()=>({x:o,y:l,width:c,height:d,radius:h}),[o,l,c,d,h]),q=tD(B,"rectangle-");if(o!==+o||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var F=It("recharts-rectangle",m);if(!S)return C.createElement("path",Zm({},Kn(e,!0),{className:F,d:l2(o,l,c,d,h)}));var R=T.current,O=I.current,D=P.current,U=L.current,j="0px ".concat(r===-1?1:r,"px"),z="".concat(r,"px 0px"),V=M$(["strokeDasharray"],v,typeof y=="string"?y:void 0);return C.createElement(eD,{animationId:q,key:q,canBegin:r>0,duration:v,easing:y,isActive:S,begin:_},pe=>{var ye=Yi(R,c,pe),Z=Yi(O,d,pe),ue=Yi(D,o,pe),ge=Yi(U,l,pe);n.current&&(T.current=ye,I.current=Z,P.current=ue,L.current=ge);var Ee;return E?pe>0?Ee={transition:V,strokeDasharray:z}:Ee={strokeDasharray:j}:Ee={strokeDasharray:z},C.createElement("path",Zm({},Kn(e,!0),{className:F,d:l2(ue,ge,ye,Z,h),ref:n,style:o2(o2({},Ee),e.style)}))})};function nD(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:o}=t,l=$n(e,n,r,a),c=$n(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:a,endAngle:o}}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(null,arguments)}var rF=(t,e)=>{var n=di(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Wh=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,h=c*(l?1:-1)+r,m=Math.asin(c/h)/Ym,y=d?a:a+o*m,v=$n(e,n,h,y),_=$n(e,n,r,y),E=d?a-o*m:a,S=$n(e,n,h*Math.cos(m*Ym),E);return{center:v,circleTangency:_,lineTangency:S,theta:m}},rD=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:o,endAngle:l}=t,c=rF(o,l),d=o+c,h=$n(e,n,a,o),m=$n(e,n,a,d),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=$n(e,n,r,o),_=$n(e,n,r,d);y+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},iF=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}=t,m=di(h-d),{circleTangency:y,lineTangency:v,theta:_}=Wh({cx:e,cy:n,radius:a,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),{circleTangency:E,lineTangency:S,theta:T}=Wh({cx:e,cy:n,radius:a,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:c}),I=c?Math.abs(d-h):Math.abs(d-h)-_-T;if(I<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rD({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:d,endAngle:h});var P="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:L,lineTangency:B,theta:q}=Wh({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:F,lineTangency:R,theta:O}=Wh({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=c?Math.abs(d-h):Math.abs(d-h)-q-O;if(D<0&&o===0)return"".concat(P,"L").concat(e,",").concat(n,"Z");P+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,"Z")}else P+="L".concat(e,",").concat(n,"Z");return P},aF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sF=t=>{var e=yi(t,aF),{cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m,className:y}=e;if(o<a||h===m)return null;var v=It("recharts-sector",y),_=o-a,E=ao(l,_,0,!0),S;return E>0&&Math.abs(h-m)<360?S=iF({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(E,_/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):S=rD({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:h,endAngle:m}),C.createElement("path",Bb({},Kn(e,!0),{className:v,d:S}))};function oF(t,e,n){var r,a,o,l;if(t==="horizontal")r=e.x,o=r,a=n.top,l=n.top+n.height;else if(t==="vertical")a=e.y,l=a,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:d,innerRadius:h,outerRadius:m,angle:y}=e,v=$n(c,d,h,y),_=$n(c,d,m,y);r=v.x,a=v.y,o=_.x,l=_.y}else return nD(e);return[{x:r,y:a},{x:o,y:l}]}var T0={},S0={},A0={},u2;function lF(){return u2||(u2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hR();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(A0)),A0}var c2;function uF(){return c2||(c2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lF();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(S0)),S0}var f2;function cF(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mR(),n=uF();function r(a,o,l){l&&typeof l!="number"&&e.isIterateeCall(a,o,l)&&(o=l=void 0),a=n.toFinite(a),o===void 0?(o=a,a=0):o=n.toFinite(o),l=l===void 0?a<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-a)/(l||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=a,a+=l;return d}t.range=r})(T0)),T0}var k0,d2;function fF(){return d2||(d2=1,k0=cF().range),k0}var dF=fF();const iD=oo(dF);function Qs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hF(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function __(t){let e,n,r;t.length!==2?(e=Qs,n=(c,d)=>Qs(t(c),d),r=(c,d)=>t(c)-d):(e=t===Qs||t===hF?t:mF,n=t,r=t);function a(c,d,h=0,m=c.length){if(h<m){if(e(d,d)!==0)return m;do{const y=h+m>>>1;n(c[y],d)<0?h=y+1:m=y}while(h<m)}return h}function o(c,d,h=0,m=c.length){if(h<m){if(e(d,d)!==0)return m;do{const y=h+m>>>1;n(c[y],d)<=0?h=y+1:m=y}while(h<m)}return h}function l(c,d,h=0,m=c.length){const y=a(c,d,h,m-1);return y>h&&r(c[y-1],d)>-r(c[y],d)?y-1:y}return{left:a,center:l,right:o}}function mF(){return 0}function aD(t){return t===null?NaN:+t}function*gF(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const pF=__(Qs),cd=pF.right;__(aD).center;class h2 extends Map{constructor(e,n=bF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(m2(this,e))}has(e){return super.has(m2(this,e))}set(e,n){return super.set(yF(this,e),n)}delete(e){return super.delete(vF(this,e))}}function m2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function yF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function vF({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function bF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xF(t=Qs){if(t===Qs)return sD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const _F=Math.sqrt(50),wF=Math.sqrt(10),EF=Math.sqrt(2);function Jm(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),l=o>=_F?10:o>=wF?5:o>=EF?2:1;let c,d,h;return a<0?(h=Math.pow(10,-a)/l,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*l,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=n&&n<2?Jm(t,e,n*2):[c,d,h]}function qb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,o,l]=r?Jm(e,t,n):Jm(t,e,n);if(!(o>=a))return[];const c=o-a+1,d=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)d[h]=(o-h)/-l;else for(let h=0;h<c;++h)d[h]=(o-h)*l;else if(l<0)for(let h=0;h<c;++h)d[h]=(a+h)/-l;else for(let h=0;h<c;++h)d[h]=(a+h)*l;return d}function $b(t,e,n){return e=+e,t=+t,n=+n,Jm(t,e,n)[2]}function Fb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?$b(e,t,n):$b(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function g2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function p2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oD(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?sD:xF(a);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,m=Math.log(d),y=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*y*(d-y)/d)*(h-d/2<0?-1:1),_=Math.max(n,Math.floor(e-h*y/d+v)),E=Math.min(r,Math.floor(e+(d-h)*y/d+v));oD(t,e,_,E,a)}const o=t[e];let l=n,c=r;for(of(t,n,e),a(t[r],o)>0&&of(t,n,r);l<c;){for(of(t,l,c),++l,--c;a(t[l],o)<0;)++l;for(;a(t[c],o)>0;)--c}a(t[n],o)===0?of(t,n,c):(++c,of(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function of(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function TF(t,e,n){if(t=Float64Array.from(gF(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return p2(t);if(e>=1)return g2(t);var r,a=(r-1)*e,o=Math.floor(a),l=g2(oD(t,o).subarray(0,o+1)),c=p2(t.subarray(o+1));return l+(c-l)*(a-o)}}function SF(t,e,n=aD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,o=Math.floor(a),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(a-o)}}function AF(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(a);++r<a;)o[r]=t+r*n;return o}function vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ns(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Hb=Symbol("implicit");function w_(){var t=new h2,e=[],n=[],r=Hb;function a(o){let l=t.get(o);if(l===void 0){if(r!==Hb)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new h2;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return w_(e,n).unknown(r)},vi.apply(a,arguments),a}function E_(){var t=w_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,o,l,c=!1,d=0,h=0,m=.5;delete t.unknown;function y(){var v=e().length,_=a<r,E=_?a:r,S=_?r:a;o=(S-E)/Math.max(1,v-d+h*2),c&&(o=Math.floor(o)),E+=(S-E-o*(v-d))*m,l=o*(1-d),c&&(E=Math.round(E),l=Math.round(l));var T=AF(v).map(function(I){return E+o*I});return n(_?T.reverse():T)}return t.domain=function(v){return arguments.length?(e(v),y()):e()},t.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,y()):[r,a]},t.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,c=!0,y()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(v){return arguments.length?(c=!!v,y()):c},t.padding=function(v){return arguments.length?(d=Math.min(1,h=+v),y()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),y()):d},t.paddingOuter=function(v){return arguments.length?(h=+v,y()):h},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),y()):m},t.copy=function(){return E_(e(),[r,a]).round(c).paddingInner(d).paddingOuter(h).align(m)},vi.apply(y(),arguments)}function lD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lD(e())},t}function kF(){return lD(E_.apply(null,arguments).paddingInner(1))}function T_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fd(){}var Ff=.7,eg=1/Ff,bu="\\s*([+-]?\\d+)\\s*",Hf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CF=/^#([0-9a-f]{3,8})$/,OF=new RegExp(`^rgb\\(${bu},${bu},${bu}\\)$`),NF=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),IF=new RegExp(`^rgba\\(${bu},${bu},${bu},${Hf}\\)$`),RF=new RegExp(`^rgba\\(${na},${na},${na},${Hf}\\)$`),DF=new RegExp(`^hsl\\(${Hf},${na},${na}\\)$`),PF=new RegExp(`^hsla\\(${Hf},${na},${na},${Hf}\\)$`),y2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T_(fd,Kf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v2,formatHex:v2,formatHex8:MF,formatHsl:jF,formatRgb:b2,toString:b2});function v2(){return this.rgb().formatHex()}function MF(){return this.rgb().formatHex8()}function jF(){return cD(this).formatHsl()}function b2(){return this.rgb().formatRgb()}function Kf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=CF.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?x2(e):n===3?new Ar(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=OF.exec(t))?new Ar(e[1],e[2],e[3],1):(e=NF.exec(t))?new Ar(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=IF.exec(t))?Xh(e[1],e[2],e[3],e[4]):(e=RF.exec(t))?Xh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DF.exec(t))?E2(e[1],e[2]/100,e[3]/100,1):(e=PF.exec(t))?E2(e[1],e[2]/100,e[3]/100,e[4]):y2.hasOwnProperty(t)?x2(y2[t]):t==="transparent"?new Ar(NaN,NaN,NaN,0):null}function x2(t){return new Ar(t>>16&255,t>>8&255,t&255,1)}function Xh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ar(t,e,n,r)}function LF(t){return t instanceof fd||(t=Kf(t)),t?(t=t.rgb(),new Ar(t.r,t.g,t.b,t.opacity)):new Ar}function Kb(t,e,n,r){return arguments.length===1?LF(t):new Ar(t,e,n,r??1)}function Ar(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}T_(Ar,Kb,uD(fd,{brighter(t){return t=t==null?eg:Math.pow(eg,t),new Ar(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new Ar(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ar(al(this.r),al(this.g),al(this.b),tg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_2,formatHex:_2,formatHex8:VF,formatRgb:w2,toString:w2}));function _2(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}`}function VF(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}${Jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function w2(){const t=tg(this.opacity);return`${t===1?"rgb(":"rgba("}${al(this.r)}, ${al(this.g)}, ${al(this.b)}${t===1?")":`, ${t})`}`}function tg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function al(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jo(t){return t=al(t),(t<16?"0":"")+t.toString(16)}function E2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ni(t,e,n,r)}function cD(t){if(t instanceof Ni)return new Ni(t.h,t.s,t.l,t.opacity);if(t instanceof fd||(t=Kf(t)),!t)return new Ni;if(t instanceof Ni)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-a,d=(o+a)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?o+a:2-o-a,l*=60):c=d>0&&d<1?0:l,new Ni(l,c,d,t.opacity)}function UF(t,e,n,r){return arguments.length===1?cD(t):new Ni(t,e,n,r??1)}function Ni(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}T_(Ni,UF,uD(fd,{brighter(t){return t=t==null?eg:Math.pow(eg,t),new Ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new Ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Ar(C0(t>=240?t-240:t+120,a,r),C0(t,a,r),C0(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ni(T2(this.h),Qh(this.s),Qh(this.l),tg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tg(this.opacity);return`${t===1?"hsl(":"hsla("}${T2(this.h)}, ${Qh(this.s)*100}%, ${Qh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function T2(t){return t=(t||0)%360,t<0?t+360:t}function Qh(t){return Math.max(0,Math.min(1,t||0))}function C0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const S_=t=>()=>t;function zF(t,e){return function(n){return t+n*e}}function BF(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qF(t){return(t=+t)==1?fD:function(e,n){return n-e?BF(e,n,t):S_(isNaN(e)?n:e)}}function fD(t,e){var n=e-t;return n?zF(t,n):S_(isNaN(t)?e:t)}const S2=(function t(e){var n=qF(e);function r(a,o){var l=n((a=Kb(a)).r,(o=Kb(o)).r),c=n(a.g,o.g),d=n(a.b,o.b),h=fD(a.opacity,o.opacity);return function(m){return a.r=l(m),a.g=c(m),a.b=d(m),a.opacity=h(m),a+""}}return r.gamma=t,r})(1);function $F(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=t[a]*(1-o)+e[a]*o;return r}}function FF(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function HF(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)a[l]=Hu(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=a[l](c);return o}}function KF(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ng(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function GF(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Hu(t[a],e[a]):r[a]=e[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var Gb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O0=new RegExp(Gb.source,"g");function YF(t){return function(){return t}}function WF(t){return function(e){return t(e)+""}}function XF(t,e){var n=Gb.lastIndex=O0.lastIndex=0,r,a,o,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=Gb.exec(t))&&(a=O0.exec(e));)(o=a.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:ng(r,a)})),n=O0.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?d[0]?WF(d[0].x):YF(e):(e=d.length,function(h){for(var m=0,y;m<e;++m)c[(y=d[m]).i]=y.x(h);return c.join("")})}function Hu(t,e){var n=typeof e,r;return e==null||n==="boolean"?S_(e):(n==="number"?ng:n==="string"?(r=Kf(e))?(e=r,S2):XF:e instanceof Kf?S2:e instanceof Date?KF:FF(e)?$F:Array.isArray(e)?HF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?GF:ng)(t,e)}function A_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function QF(t,e){e===void 0&&(e=t,t=Hu);for(var n=0,r=e.length-1,a=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(a,a=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function ZF(t){return function(){return t}}function rg(t){return+t}var A2=[0,1];function dr(t){return t}function Yb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ZF(isNaN(e)?NaN:.5)}function JF(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function eH(t,e,n){var r=t[0],a=t[1],o=e[0],l=e[1];return a<r?(r=Yb(a,r),o=n(l,o)):(r=Yb(r,a),o=n(o,l)),function(c){return o(r(c))}}function tH(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=Yb(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var d=cd(t,c,1,r)-1;return o[d](a[d](c))}}function dd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zg(){var t=A2,e=A2,n=Hu,r,a,o,l=dr,c,d,h;function m(){var v=Math.min(t.length,e.length);return l!==dr&&(l=JF(t[0],t[v-1])),c=v>2?tH:eH,d=h=null,y}function y(v){return v==null||isNaN(v=+v)?o:(d||(d=c(t.map(r),e,n)))(r(l(v)))}return y.invert=function(v){return l(a((h||(h=c(e,t.map(r),ng)))(v)))},y.domain=function(v){return arguments.length?(t=Array.from(v,rg),m()):t.slice()},y.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},y.rangeRound=function(v){return e=Array.from(v),n=A_,m()},y.clamp=function(v){return arguments.length?(l=v?!0:dr,m()):l!==dr},y.interpolate=function(v){return arguments.length?(n=v,m()):n},y.unknown=function(v){return arguments.length?(o=v,y):o},function(v,_){return r=v,a=_,m()}}function k_(){return Zg()(dr,dr)}function nH(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ig(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nu(t){return t=ig(Math.abs(t)),t?t[1]:NaN}function rH(t,e){return function(n,r){for(var a=n.length,o=[],l=0,c=t[0],d=0;a>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),o.push(n.substring(a-=c,a+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function iH(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var aH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gf(t){if(!(e=aH.exec(t)))throw new Error("invalid format: "+t);var e;return new C_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gf.prototype=C_.prototype;function C_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}C_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sH(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var dD;function oH(t,e){var n=ig(t,e);if(!n)return t+"";var r=n[0],a=n[1],o=a-(dD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ig(t,Math.max(0,e+o-1))[0]}function k2(t,e){var n=ig(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const C2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nH,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>k2(t*100,e),r:k2,s:oH,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function O2(t){return t}var N2=Array.prototype.map,I2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lH(t){var e=t.grouping===void 0||t.thousands===void 0?O2:rH(N2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?O2:iH(N2.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(y){y=Gf(y);var v=y.fill,_=y.align,E=y.sign,S=y.symbol,T=y.zero,I=y.width,P=y.comma,L=y.precision,B=y.trim,q=y.type;q==="n"?(P=!0,q="g"):C2[q]||(L===void 0&&(L=12),B=!0,q="g"),(T||v==="0"&&_==="=")&&(T=!0,v="0",_="=");var F=S==="$"?n:S==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",R=S==="$"?r:/[%p]/.test(q)?l:"",O=C2[q],D=/[defgprs%]/.test(q);L=L===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function U(j){var z=F,V=R,pe,ye,Z;if(q==="c")V=O(j)+V,j="";else{j=+j;var ue=j<0||1/j<0;if(j=isNaN(j)?d:O(Math.abs(j),L),B&&(j=sH(j)),ue&&+j==0&&E!=="+"&&(ue=!1),z=(ue?E==="("?E:c:E==="-"||E==="("?"":E)+z,V=(q==="s"?I2[8+dD/3]:"")+V+(ue&&E==="("?")":""),D){for(pe=-1,ye=j.length;++pe<ye;)if(Z=j.charCodeAt(pe),48>Z||Z>57){V=(Z===46?a+j.slice(pe+1):j.slice(pe))+V,j=j.slice(0,pe);break}}}P&&!T&&(j=e(j,1/0));var ge=z.length+j.length+V.length,Ee=ge<I?new Array(I-ge+1).join(v):"";switch(P&&T&&(j=e(Ee+j,Ee.length?I-V.length:1/0),Ee=""),_){case"<":j=z+j+V+Ee;break;case"=":j=z+Ee+j+V;break;case"^":j=Ee.slice(0,ge=Ee.length>>1)+z+j+V+Ee.slice(ge);break;default:j=Ee+z+j+V;break}return o(j)}return U.toString=function(){return y+""},U}function m(y,v){var _=h((y=Gf(y),y.type="f",y)),E=Math.max(-8,Math.min(8,Math.floor(Nu(v)/3)))*3,S=Math.pow(10,-E),T=I2[8+E/3];return function(I){return _(S*I)+T}}return{format:h,formatPrefix:m}}var Zh,O_,hD;uH({thousands:",",grouping:[3],currency:["$",""]});function uH(t){return Zh=lH(t),O_=Zh.format,hD=Zh.formatPrefix,Zh}function cH(t){return Math.max(0,-Nu(Math.abs(t)))}function fH(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nu(e)/3)))*3-Nu(Math.abs(t)))}function dH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nu(e)-Nu(t))+1}function mD(t,e,n,r){var a=Fb(t,e,n),o;switch(r=Gf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=fH(a,l))&&(r.precision=o),hD(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=dH(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=cH(a))&&(r.precision=o-(r.type==="%")*2);break}}return O_(r)}function co(t){var e=t.domain;return t.ticks=function(n){var r=e();return qb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return mD(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,o=r.length-1,l=r[a],c=r[o],d,h,m=10;for(c<l&&(h=l,l=c,c=h,h=a,a=o,o=h);m-- >0;){if(h=$b(l,c,n),h===d)return r[a]=l,r[o]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function gD(){var t=k_();return t.copy=function(){return dd(t,gD())},vi.apply(t,arguments),co(t)}function pD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pD(t).unknown(e)},t=arguments.length?Array.from(t,rg):[0,1],co(n)}function yD(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],o=t[r],l;return o<a&&(l=n,n=r,r=l,l=a,a=o,o=l),t[n]=e.floor(a),t[r]=e.ceil(o),t}function R2(t){return Math.log(t)}function D2(t){return Math.exp(t)}function hH(t){return-Math.log(-t)}function mH(t){return-Math.exp(-t)}function gH(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pH(t){return t===10?gH:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yH(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function P2(t){return(e,n)=>-t(-e,n)}function N_(t){const e=t(R2,D2),n=e.domain;let r=10,a,o;function l(){return a=yH(r),o=pH(r),n()[0]<0?(a=P2(a),o=P2(o),t(hH,mH)):t(R2,D2),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let h=d[0],m=d[d.length-1];const y=m<h;y&&([h,m]=[m,h]);let v=a(h),_=a(m),E,S;const T=c==null?10:+c;let I=[];if(!(r%1)&&_-v<T){if(v=Math.floor(v),_=Math.ceil(_),h>0){for(;v<=_;++v)for(E=1;E<r;++E)if(S=v<0?E/o(-v):E*o(v),!(S<h)){if(S>m)break;I.push(S)}}else for(;v<=_;++v)for(E=r-1;E>=1;--E)if(S=v>0?E/o(-v):E*o(v),!(S<h)){if(S>m)break;I.push(S)}I.length*2<T&&(I=qb(h,m,T))}else I=qb(v,_,Math.min(_-v,T)).map(o);return y?I.reverse():I},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Gf(d)).precision==null&&(d.trim=!0),d=O_(d)),c===1/0)return d;const h=Math.max(1,r*c/e.ticks().length);return m=>{let y=m/o(Math.round(a(m)));return y*r<r-.5&&(y*=r),y<=h?d(m):""}},e.nice=()=>n(yD(n(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),e}function vD(){const t=N_(Zg()).domain([1,10]);return t.copy=()=>dd(t,vD()).base(t.base()),vi.apply(t,arguments),t}function M2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function j2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function I_(t){var e=1,n=t(M2(e),j2(e));return n.constant=function(r){return arguments.length?t(M2(e=+r),j2(e)):e},co(n)}function bD(){var t=I_(Zg());return t.copy=function(){return dd(t,bD()).constant(t.constant())},vi.apply(t,arguments)}function L2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vH(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function bH(t){return t<0?-t*t:t*t}function R_(t){var e=t(dr,dr),n=1;function r(){return n===1?t(dr,dr):n===.5?t(vH,bH):t(L2(n),L2(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},co(e)}function D_(){var t=R_(Zg());return t.copy=function(){return dd(t,D_()).exponent(t.exponent())},vi.apply(t,arguments),t}function xH(){return D_.apply(null,arguments).exponent(.5)}function V2(t){return Math.sign(t)*t*t}function _H(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xD(){var t=k_(),e=[0,1],n=!1,r;function a(o){var l=_H(t(o));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(o){return t.invert(V2(o))},a.domain=function(o){return arguments.length?(t.domain(o),a):t.domain()},a.range=function(o){return arguments.length?(t.range((e=Array.from(o,rg)).map(V2)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(t.clamp(o),a):t.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return xD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vi.apply(a,arguments),co(a)}function _D(){var t=[],e=[],n=[],r;function a(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=SF(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[cd(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Qs),a()},o.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return _D().domain(t).range(e).unknown(r)},vi.apply(o,arguments)}function wD(){var t=0,e=1,n=1,r=[.5],a=[0,1],o;function l(d){return d!=null&&d<=d?a[cd(r,d,0,n)]:o}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return wD().domain([t,e]).range(a).unknown(o)},vi.apply(co(l),arguments)}function ED(){var t=[.5],e=[0,1],n,r=1;function a(o){return o!=null&&o<=o?e[cd(t,o,0,r)]:n}return a.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return ED().domain(t).range(e).unknown(n)},vi.apply(a,arguments)}const N0=new Date,I0=new Date;function Tn(t,e,n,r){function a(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(t(o=new Date(+o)),o),a.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const d=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return d;let h;do d.push(h=new Date(+o)),e(o,c),t(o);while(h<o&&o<l);return d},a.filter=o=>Tn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(a.count=(o,l)=>(N0.setTime(+o),I0.setTime(+l),t(N0),t(I0),Math.floor(n(N0,I0))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?l=>r(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const ag=Tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ag.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ag);ag.range;const La=1e3,hi=La*60,Va=hi*60,Wa=Va*24,P_=Wa*7,U2=Wa*30,R0=Wa*365,el=Tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getUTCSeconds());el.range;const M_=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getMinutes());M_.range;const j_=Tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getUTCMinutes());j_.range;const L_=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La-t.getMinutes()*hi)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getHours());L_.range;const V_=Tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getUTCHours());V_.range;const hd=Tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hi)/Wa,t=>t.getDate()-1);hd.range;const Jg=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wa,t=>t.getUTCDate()-1);Jg.range;const TD=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wa,t=>Math.floor(t/Wa));TD.range;function wl(t){return Tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*hi)/P_)}const ep=wl(0),sg=wl(1),wH=wl(2),EH=wl(3),Iu=wl(4),TH=wl(5),SH=wl(6);ep.range;sg.range;wH.range;EH.range;Iu.range;TH.range;SH.range;function El(t){return Tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/P_)}const tp=El(0),og=El(1),AH=El(2),kH=El(3),Ru=El(4),CH=El(5),OH=El(6);tp.range;og.range;AH.range;kH.range;Ru.range;CH.range;OH.range;const U_=Tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());U_.range;const z_=Tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());z_.range;const Xa=Tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xa.range;const Qa=Tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qa.range;function SD(t,e,n,r,a,o){const l=[[el,1,La],[el,5,5*La],[el,15,15*La],[el,30,30*La],[o,1,hi],[o,5,5*hi],[o,15,15*hi],[o,30,30*hi],[a,1,Va],[a,3,3*Va],[a,6,6*Va],[a,12,12*Va],[r,1,Wa],[r,2,2*Wa],[n,1,P_],[e,1,U2],[e,3,3*U2],[t,1,R0]];function c(h,m,y){const v=m<h;v&&([h,m]=[m,h]);const _=y&&typeof y.range=="function"?y:d(h,m,y),E=_?_.range(h,+m+1):[];return v?E.reverse():E}function d(h,m,y){const v=Math.abs(m-h)/y,_=__(([,,T])=>T).right(l,v);if(_===l.length)return t.every(Fb(h/R0,m/R0,y));if(_===0)return ag.every(Math.max(Fb(h,m,y),1));const[E,S]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return E.every(S)}return[c,d]}const[NH,IH]=SD(Qa,z_,tp,TD,V_,j_),[RH,DH]=SD(Xa,U_,ep,hd,L_,M_);function D0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function P0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function PH(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,h=uf(a),m=cf(a),y=uf(o),v=cf(o),_=uf(l),E=cf(l),S=uf(c),T=cf(c),I=uf(d),P=cf(d),L={a:ue,A:ge,b:Ee,B:H,c:null,d:H2,e:H2,f:rK,g:hK,G:gK,H:eK,I:tK,j:nK,L:AD,m:iK,M:aK,p:ie,q:ae,Q:Y2,s:W2,S:sK,u:oK,U:lK,V:uK,w:cK,W:fK,x:null,X:null,y:dK,Y:mK,Z:pK,"%":G2},B={a:de,A:we,b:Ne,B:Ie,c:null,d:K2,e:K2,f:xK,g:NK,G:RK,H:yK,I:vK,j:bK,L:CD,m:_K,M:wK,p:Kt,q:st,Q:Y2,s:W2,S:EK,u:TK,U:SK,V:AK,w:kK,W:CK,x:null,X:null,y:OK,Y:IK,Z:DK,"%":G2},q={a:U,A:j,b:z,B:V,c:pe,d:$2,e:$2,f:XH,g:q2,G:B2,H:F2,I:F2,j:KH,L:WH,m:HH,M:GH,p:D,q:FH,Q:ZH,s:JH,S:YH,u:UH,U:zH,V:BH,w:VH,W:qH,x:ye,X:Z,y:q2,Y:B2,Z:$H,"%":QH};L.x=F(n,L),L.X=F(r,L),L.c=F(e,L),B.x=F(n,B),B.X=F(r,B),B.c=F(e,B);function F(me,Be){return function(He){var ce=[],Dt=-1,Je=0,Gt=me.length,Jt,Tt,bi;for(He instanceof Date||(He=new Date(+He));++Dt<Gt;)me.charCodeAt(Dt)===37&&(ce.push(me.slice(Je,Dt)),(Tt=z2[Jt=me.charAt(++Dt)])!=null?Jt=me.charAt(++Dt):Tt=Jt==="e"?" ":"0",(bi=Be[Jt])&&(Jt=bi(He,Tt)),ce.push(Jt),Je=Dt+1);return ce.push(me.slice(Je,Dt)),ce.join("")}}function R(me,Be){return function(He){var ce=lf(1900,void 0,1),Dt=O(ce,me,He+="",0),Je,Gt;if(Dt!=He.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Be&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Je=P0(lf(ce.y,0,1)),Gt=Je.getUTCDay(),Je=Gt>4||Gt===0?og.ceil(Je):og(Je),Je=Jg.offset(Je,(ce.V-1)*7),ce.y=Je.getUTCFullYear(),ce.m=Je.getUTCMonth(),ce.d=Je.getUTCDate()+(ce.w+6)%7):(Je=D0(lf(ce.y,0,1)),Gt=Je.getDay(),Je=Gt>4||Gt===0?sg.ceil(Je):sg(Je),Je=hd.offset(Je,(ce.V-1)*7),ce.y=Je.getFullYear(),ce.m=Je.getMonth(),ce.d=Je.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Gt="Z"in ce?P0(lf(ce.y,0,1)).getUTCDay():D0(lf(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Gt+5)%7:ce.w+ce.U*7-(Gt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,P0(ce)):D0(ce)}}function O(me,Be,He,ce){for(var Dt=0,Je=Be.length,Gt=He.length,Jt,Tt;Dt<Je;){if(ce>=Gt)return-1;if(Jt=Be.charCodeAt(Dt++),Jt===37){if(Jt=Be.charAt(Dt++),Tt=q[Jt in z2?Be.charAt(Dt++):Jt],!Tt||(ce=Tt(me,He,ce))<0)return-1}else if(Jt!=He.charCodeAt(ce++))return-1}return ce}function D(me,Be,He){var ce=h.exec(Be.slice(He));return ce?(me.p=m.get(ce[0].toLowerCase()),He+ce[0].length):-1}function U(me,Be,He){var ce=_.exec(Be.slice(He));return ce?(me.w=E.get(ce[0].toLowerCase()),He+ce[0].length):-1}function j(me,Be,He){var ce=y.exec(Be.slice(He));return ce?(me.w=v.get(ce[0].toLowerCase()),He+ce[0].length):-1}function z(me,Be,He){var ce=I.exec(Be.slice(He));return ce?(me.m=P.get(ce[0].toLowerCase()),He+ce[0].length):-1}function V(me,Be,He){var ce=S.exec(Be.slice(He));return ce?(me.m=T.get(ce[0].toLowerCase()),He+ce[0].length):-1}function pe(me,Be,He){return O(me,e,Be,He)}function ye(me,Be,He){return O(me,n,Be,He)}function Z(me,Be,He){return O(me,r,Be,He)}function ue(me){return l[me.getDay()]}function ge(me){return o[me.getDay()]}function Ee(me){return d[me.getMonth()]}function H(me){return c[me.getMonth()]}function ie(me){return a[+(me.getHours()>=12)]}function ae(me){return 1+~~(me.getMonth()/3)}function de(me){return l[me.getUTCDay()]}function we(me){return o[me.getUTCDay()]}function Ne(me){return d[me.getUTCMonth()]}function Ie(me){return c[me.getUTCMonth()]}function Kt(me){return a[+(me.getUTCHours()>=12)]}function st(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Be=F(me+="",L);return Be.toString=function(){return me},Be},parse:function(me){var Be=R(me+="",!1);return Be.toString=function(){return me},Be},utcFormat:function(me){var Be=F(me+="",B);return Be.toString=function(){return me},Be},utcParse:function(me){var Be=R(me+="",!0);return Be.toString=function(){return me},Be}}}var z2={"-":"",_:" ",0:"0"},Pn=/^\s*\d+/,MH=/^%/,jH=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(e)+a:a)}function LH(t){return t.replace(jH,"\\$&")}function uf(t){return new RegExp("^(?:"+t.map(LH).join("|")+")","i")}function cf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function VH(t,e,n){var r=Pn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function UH(t,e,n){var r=Pn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function zH(t,e,n){var r=Pn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function BH(t,e,n){var r=Pn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function qH(t,e,n){var r=Pn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function B2(t,e,n){var r=Pn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function q2(t,e,n){var r=Pn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $H(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function FH(t,e,n){var r=Pn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function HH(t,e,n){var r=Pn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $2(t,e,n){var r=Pn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function KH(t,e,n){var r=Pn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function F2(t,e,n){var r=Pn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function GH(t,e,n){var r=Pn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function YH(t,e,n){var r=Pn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function WH(t,e,n){var r=Pn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function XH(t,e,n){var r=Pn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function QH(t,e,n){var r=MH.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ZH(t,e,n){var r=Pn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function JH(t,e,n){var r=Pn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function H2(t,e){return lt(t.getDate(),e,2)}function eK(t,e){return lt(t.getHours(),e,2)}function tK(t,e){return lt(t.getHours()%12||12,e,2)}function nK(t,e){return lt(1+hd.count(Xa(t),t),e,3)}function AD(t,e){return lt(t.getMilliseconds(),e,3)}function rK(t,e){return AD(t,e)+"000"}function iK(t,e){return lt(t.getMonth()+1,e,2)}function aK(t,e){return lt(t.getMinutes(),e,2)}function sK(t,e){return lt(t.getSeconds(),e,2)}function oK(t){var e=t.getDay();return e===0?7:e}function lK(t,e){return lt(ep.count(Xa(t)-1,t),e,2)}function kD(t){var e=t.getDay();return e>=4||e===0?Iu(t):Iu.ceil(t)}function uK(t,e){return t=kD(t),lt(Iu.count(Xa(t),t)+(Xa(t).getDay()===4),e,2)}function cK(t){return t.getDay()}function fK(t,e){return lt(sg.count(Xa(t)-1,t),e,2)}function dK(t,e){return lt(t.getFullYear()%100,e,2)}function hK(t,e){return t=kD(t),lt(t.getFullYear()%100,e,2)}function mK(t,e){return lt(t.getFullYear()%1e4,e,4)}function gK(t,e){var n=t.getDay();return t=n>=4||n===0?Iu(t):Iu.ceil(t),lt(t.getFullYear()%1e4,e,4)}function pK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function K2(t,e){return lt(t.getUTCDate(),e,2)}function yK(t,e){return lt(t.getUTCHours(),e,2)}function vK(t,e){return lt(t.getUTCHours()%12||12,e,2)}function bK(t,e){return lt(1+Jg.count(Qa(t),t),e,3)}function CD(t,e){return lt(t.getUTCMilliseconds(),e,3)}function xK(t,e){return CD(t,e)+"000"}function _K(t,e){return lt(t.getUTCMonth()+1,e,2)}function wK(t,e){return lt(t.getUTCMinutes(),e,2)}function EK(t,e){return lt(t.getUTCSeconds(),e,2)}function TK(t){var e=t.getUTCDay();return e===0?7:e}function SK(t,e){return lt(tp.count(Qa(t)-1,t),e,2)}function OD(t){var e=t.getUTCDay();return e>=4||e===0?Ru(t):Ru.ceil(t)}function AK(t,e){return t=OD(t),lt(Ru.count(Qa(t),t)+(Qa(t).getUTCDay()===4),e,2)}function kK(t){return t.getUTCDay()}function CK(t,e){return lt(og.count(Qa(t)-1,t),e,2)}function OK(t,e){return lt(t.getUTCFullYear()%100,e,2)}function NK(t,e){return t=OD(t),lt(t.getUTCFullYear()%100,e,2)}function IK(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function RK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ru(t):Ru.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function DK(){return"+0000"}function G2(){return"%"}function Y2(t){return+t}function W2(t){return Math.floor(+t/1e3)}var ou,ND,ID;PK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PK(t){return ou=PH(t),ND=ou.format,ou.parse,ID=ou.utcFormat,ou.utcParse,ou}function MK(t){return new Date(t)}function jK(t){return t instanceof Date?+t:+new Date(+t)}function B_(t,e,n,r,a,o,l,c,d,h){var m=k_(),y=m.invert,v=m.domain,_=h(".%L"),E=h(":%S"),S=h("%I:%M"),T=h("%I %p"),I=h("%a %d"),P=h("%b %d"),L=h("%B"),B=h("%Y");function q(F){return(d(F)<F?_:c(F)<F?E:l(F)<F?S:o(F)<F?T:r(F)<F?a(F)<F?I:P:n(F)<F?L:B)(F)}return m.invert=function(F){return new Date(y(F))},m.domain=function(F){return arguments.length?v(Array.from(F,jK)):v().map(MK)},m.ticks=function(F){var R=v();return t(R[0],R[R.length-1],F??10)},m.tickFormat=function(F,R){return R==null?q:h(R)},m.nice=function(F){var R=v();return(!F||typeof F.range!="function")&&(F=e(R[0],R[R.length-1],F??10)),F?v(yD(R,F)):m},m.copy=function(){return dd(m,B_(t,e,n,r,a,o,l,c,d,h))},m}function LK(){return vi.apply(B_(RH,DH,Xa,U_,ep,hd,L_,M_,el,ND).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VK(){return vi.apply(B_(NH,IH,Qa,z_,tp,Jg,V_,j_,el,ID).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function np(){var t=0,e=1,n,r,a,o,l=dr,c=!1,d;function h(y){return y==null||isNaN(y=+y)?d:l(a===0?.5:(y=(o(y)-n)*a,c?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(y){return arguments.length?(c=!!y,h):c},h.interpolator=function(y){return arguments.length?(l=y,h):l};function m(y){return function(v){var _,E;return arguments.length?([_,E]=v,l=y(_,E),h):[l(0),l(1)]}}return h.range=m(Hu),h.rangeRound=m(A_),h.unknown=function(y){return arguments.length?(d=y,h):d},function(y){return o=y,n=y(t),r=y(e),a=n===r?0:1/(r-n),h}}function fo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function RD(){var t=co(np()(dr));return t.copy=function(){return fo(t,RD())},ns.apply(t,arguments)}function DD(){var t=N_(np()).domain([1,10]);return t.copy=function(){return fo(t,DD()).base(t.base())},ns.apply(t,arguments)}function PD(){var t=I_(np());return t.copy=function(){return fo(t,PD()).constant(t.constant())},ns.apply(t,arguments)}function q_(){var t=R_(np());return t.copy=function(){return fo(t,q_()).exponent(t.exponent())},ns.apply(t,arguments)}function UK(){return q_.apply(null,arguments).exponent(.5)}function MD(){var t=[],e=dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((cd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Qs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>TF(t,o/r))},n.copy=function(){return MD(e).domain(t)},ns.apply(n,arguments)}function rp(){var t=0,e=.5,n=1,r=1,a,o,l,c,d,h=dr,m,y=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+m(S))-o)*(r*S<r*o?c:d),h(y?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,a=m(t=+t),o=m(e=+e),l=m(n=+n),c=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),r=o<a?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(y=!!S,_):y},_.interpolator=function(S){return arguments.length?(h=S,_):h};function E(S){return function(T){var I,P,L;return arguments.length?([I,P,L]=T,h=QF(S,[I,P,L]),_):[h(0),h(.5),h(1)]}}return _.range=E(Hu),_.rangeRound=E(A_),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return m=S,a=S(t),o=S(e),l=S(n),c=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),r=o<a?-1:1,_}}function jD(){var t=co(rp()(dr));return t.copy=function(){return fo(t,jD())},ns.apply(t,arguments)}function LD(){var t=N_(rp()).domain([.1,1,10]);return t.copy=function(){return fo(t,LD()).base(t.base())},ns.apply(t,arguments)}function VD(){var t=I_(rp());return t.copy=function(){return fo(t,VD()).constant(t.constant())},ns.apply(t,arguments)}function $_(){var t=R_(rp());return t.copy=function(){return fo(t,$_()).exponent(t.exponent())},ns.apply(t,arguments)}function zK(){return $_.apply(null,arguments).exponent(.5)}const vf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:E_,scaleDiverging:jD,scaleDivergingLog:LD,scaleDivergingPow:$_,scaleDivergingSqrt:zK,scaleDivergingSymlog:VD,scaleIdentity:pD,scaleImplicit:Hb,scaleLinear:gD,scaleLog:vD,scaleOrdinal:w_,scalePoint:kF,scalePow:D_,scaleQuantile:_D,scaleQuantize:wD,scaleRadial:xD,scaleSequential:RD,scaleSequentialLog:DD,scaleSequentialPow:q_,scaleSequentialQuantile:MD,scaleSequentialSqrt:UK,scaleSequentialSymlog:PD,scaleSqrt:xH,scaleSymlog:bD,scaleThreshold:ED,scaleTime:LK,scaleUtc:VK,tickFormat:mD},Symbol.toStringTag,{value:"Module"}));var ho=t=>t.chartData,BK=te([ho],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),F_=(t,e,n,r)=>r?BK(t):ho(t);function Du(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(gr(e)&&gr(n))return!0}return!1}function X2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function qK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,o;if(gr(n))a=n;else if(typeof n=="function")return;if(gr(r))o=r;else if(typeof r=="function")return;var l=[a,o];if(Du(l))return l}}function $K(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Du(r))return X2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,o]=t,l,c;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Oe(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[0]))}catch{}else if(typeof a=="string"&&qk.test(a)){var d=qk.exec(a);if(d==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e?.[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(Oe(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e?.[1]))}catch{}else if(typeof o=="string"&&$k.test(o)){var m=$k.exec(o);if(m==null||e==null)c=void 0;else{var y=+m[1];c=e[1]+y}}else c=e?.[1];var v=[l,c];if(Du(v))return e==null?v:X2(v,e,n)}}}var Ku=1e9,FK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K_,Ut=!0,pi="[DecimalError] ",sl=pi+"Invalid argument: ",H_=pi+"Exponent out of range: ",Gu=Math.floor,Wo=Math.pow,HK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fr,Rn=1e7,Mt=7,UD=9007199254740991,lg=Gu(UD/Mt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,a,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return qa(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return kt(qa(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return mn(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,a=r.precision,o=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fr))throw Error(pi+"NaN");if(n.s<1)throw Error(pi+(n.s?"NaN":"-Infinity"));return n.eq(Fr)?new r(0):(Ut=!1,e=qa(Yf(n,o),Yf(t,o),o),Ut=!0,kt(e,a))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qD(e,t):zD(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(pi+"NaN");return n.s?(Ut=!1,e=qa(n,t,0,1).times(t),Ut=!0,n.minus(e)):kt(new r(n),a)};xe.naturalExponential=xe.exp=function(){return BD(this)};xe.naturalLogarithm=xe.ln=function(){return Yf(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zD(e,t):qD(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sl+t);if(e=mn(a)+1,r=a.d.length-1,n=r*Mt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,a,o,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(pi+"NaN")}for(t=mn(c),Ut=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=Wi(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Gu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(a.toString()),n=d.precision,a=l=n+3;;)if(o=r,r=o.plus(qa(c,o,l+2)).times(.5),Wi(o.d).slice(0,l)===(e=Wi(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(kt(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return Ut=!0,kt(r,n)};xe.times=xe.mul=function(t){var e,n,r,a,o,l,c,d,h,m=this,y=m.constructor,v=m.d,_=(t=new y(t)).d;if(!m.s||!t.s)return new y(0);for(t.s*=m.s,n=m.e+t.e,d=v.length,h=_.length,d<h&&(o=v,v=_,_=o,l=d,d=h,h=l),o=[],l=d+h,r=l;r--;)o.push(0);for(r=h;--r>=0;){for(e=0,a=d+r;a>r;)c=o[a]+_[r]*v[a-r-1]+e,o[a--]=c%Rn|0,e=c/Rn|0;o[a]=(o[a]+e)%Rn|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ut?kt(t,y.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(sa(t,0,Ku),e===void 0?e=r.rounding:sa(e,0,8),kt(n,t+mn(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=ml(r,!0):(sa(t,0,Ku),e===void 0?e=a.rounding:sa(e,0,8),r=kt(new a(r),t+1,e),n=ml(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?ml(a):(sa(t,0,Ku),e===void 0?e=o.rounding:sa(e,0,8),r=kt(new o(a),t+mn(a)+1,e),n=ml(r.abs(),!1,t+mn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return kt(new e(t),mn(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,a,o,l,c=this,d=c.constructor,h=12,m=+(t=new d(t));if(!t.s)return new d(Fr);if(c=new d(c),!c.s){if(t.s<1)throw Error(pi+"Infinity");return c}if(c.eq(Fr))return c;if(r=d.precision,t.eq(Fr))return kt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=m<0?-m:m)<=UD){for(a=new d(Fr),e=Math.ceil(r/Mt+4),Ut=!1;n%2&&(a=a.times(c),Z2(a.d,e)),n=Gu(n/2),n!==0;)c=c.times(c),Z2(c.d,e);return Ut=!0,t.s<0?new d(Fr).div(a):kt(a,r)}}else if(o<0)throw Error(pi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Ut=!1,a=t.times(Yf(c,r+h)),Ut=!0,a=BD(a),a.s=o,a};xe.toPrecision=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?(n=mn(a),r=ml(a,n<=o.toExpNeg||n>=o.toExpPos)):(sa(t,1,Ku),e===void 0?e=o.rounding:sa(e,0,8),a=kt(new o(a),t,e),n=mn(a),r=ml(a,t<=n||n<=o.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(sa(t,1,Ku),e===void 0?e=r.rounding:sa(e,0,8)),kt(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mn(t),n=t.constructor;return ml(t,e<=n.toExpNeg||e>=n.toExpPos)};function zD(t,e){var n,r,a,o,l,c,d,h,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ut?kt(e,y):e;if(d=t.d,h=e.d,l=t.e,a=e.e,d=d.slice(),o=l-a,o){for(o<0?(r=d,o=-o,c=h.length):(r=h,a=l,c=d.length),l=Math.ceil(y/Mt),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=d.length,o=h.length,c-o<0&&(o=c,r=h,h=d,d=r),n=0;o;)n=(d[--o]=d[o]+h[o]+n)/Rn|0,d[o]%=Rn;for(n&&(d.unshift(n),++a),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=a,Ut?kt(e,y):e}function sa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(sl+t)}function Wi(t){var e,n,r,a=t.length-1,o="",l=t[0];if(a>0){for(o+=l,e=1;e<a;e++)r=t[e]+"",n=Mt-r.length,n&&(o+=Ls(n)),o+=r;l=t[e],r=l+"",n=Mt-r.length,n&&(o+=Ls(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var qa=(function(){function t(r,a){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*a+l,r[c]=o%Rn|0,l=o/Rn|0;return l&&r.unshift(l),r}function e(r,a,o,l){var c,d;if(o!=l)d=o>l?1:-1;else for(c=d=0;c<o;c++)if(r[c]!=a[c]){d=r[c]>a[c]?1:-1;break}return d}function n(r,a,o){for(var l=0;o--;)r[o]-=l,l=r[o]<a[o]?1:0,r[o]=l*Rn+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,l){var c,d,h,m,y,v,_,E,S,T,I,P,L,B,q,F,R,O,D=r.constructor,U=r.s==a.s?1:-1,j=r.d,z=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(pi+"Division by zero");for(d=r.e-a.e,R=z.length,q=j.length,_=new D(U),E=_.d=[],h=0;z[h]==(j[h]||0);)++h;if(z[h]>(j[h]||0)&&--d,o==null?P=o=D.precision:l?P=o+(mn(r)-mn(a))+1:P=o,P<0)return new D(0);if(P=P/Mt+2|0,h=0,R==1)for(m=0,z=z[0],P++;(h<q||m)&&P--;h++)L=m*Rn+(j[h]||0),E[h]=L/z|0,m=L%z|0;else{for(m=Rn/(z[0]+1)|0,m>1&&(z=t(z,m),j=t(j,m),R=z.length,q=j.length),B=R,S=j.slice(0,R),T=S.length;T<R;)S[T++]=0;O=z.slice(),O.unshift(0),F=z[0],z[1]>=Rn/2&&++F;do m=0,c=e(z,S,R,T),c<0?(I=S[0],R!=T&&(I=I*Rn+(S[1]||0)),m=I/F|0,m>1?(m>=Rn&&(m=Rn-1),y=t(z,m),v=y.length,T=S.length,c=e(y,S,v,T),c==1&&(m--,n(y,R<v?O:z,v))):(m==0&&(c=m=1),y=z.slice()),v=y.length,v<T&&y.unshift(0),n(S,y,T),c==-1&&(T=S.length,c=e(z,S,R,T),c<1&&(m++,n(S,R<T?O:z,T))),T=S.length):c===0&&(m++,S=[0]),E[h++]=m,c&&S[0]?S[T++]=j[B]||0:(S=[j[B]],T=1);while((B++<q||S[0]!==void 0)&&P--)}return E[0]||E.shift(),_.e=d,kt(_,l?o+mn(_)+1:o)}})();function BD(t,e){var n,r,a,o,l,c,d=0,h=0,m=t.constructor,y=m.precision;if(mn(t)>16)throw Error(H_+mn(t));if(!t.s)return new m(Fr);for(Ut=!1,c=y,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Wo(2,h))/Math.LN10*2+5|0,c+=r,n=a=o=new m(Fr),m.precision=c;;){if(a=kt(a.times(t),c),n=n.times(++d),l=o.plus(qa(a,n,c)),Wi(l.d).slice(0,c)===Wi(o.d).slice(0,c)){for(;h--;)o=kt(o.times(o),c);return m.precision=y,e==null?(Ut=!0,kt(o,y)):o}o=l}}function mn(t){for(var e=t.e*Mt,n=t.d[0];n>=10;n/=10)e++;return e}function M0(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(pi+"LN10 precision limit exceeded");return kt(new t(t.LN10),e)}function Ls(t){for(var e="";t--;)e+="0";return e}function Yf(t,e){var n,r,a,o,l,c,d,h,m,y=1,v=10,_=t,E=_.d,S=_.constructor,T=S.precision;if(_.s<1)throw Error(pi+(_.s?"NaN":"-Infinity"));if(_.eq(Fr))return new S(0);if(e==null?(Ut=!1,h=T):h=e,_.eq(10))return e==null&&(Ut=!0),M0(S,h);if(h+=v,S.precision=h,n=Wi(E),r=n.charAt(0),o=mn(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Wi(_.d),r=n.charAt(0),y++;o=mn(_),r>1?(_=new S("0."+n),o++):_=new S(r+"."+n.slice(1))}else return d=M0(S,h+2,T).times(o+""),_=Yf(new S(r+"."+n.slice(1)),h-v).plus(d),S.precision=T,e==null?(Ut=!0,kt(_,T)):_;for(c=l=_=qa(_.minus(Fr),_.plus(Fr),h),m=kt(_.times(_),h),a=3;;){if(l=kt(l.times(m),h),d=c.plus(qa(l,new S(a),h)),Wi(d.d).slice(0,h)===Wi(c.d).slice(0,h))return c=c.times(2),o!==0&&(c=c.plus(M0(S,h+2,T).times(o+""))),c=qa(c,new S(y),h),S.precision=T,e==null?(Ut=!0,kt(c,T)):c;c=d,a+=2}}function Q2(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Gu(n/Mt),t.d=[],r=(n+1)%Mt,n<0&&(r+=Mt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Mt;r<a;)t.d.push(+e.slice(r,r+=Mt));e=e.slice(r),r=Mt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>lg||t.e<-lg))throw Error(H_+n)}else t.s=0,t.e=0,t.d=[0];return t}function kt(t,e,n){var r,a,o,l,c,d,h,m,y=t.d;for(l=1,o=y[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=Mt,a=e,h=y[m=0];else{if(m=Math.ceil((r+1)/Mt),o=y.length,m>=o)return t;for(h=o=y[m],l=1;o>=10;o/=10)l++;r%=Mt,a=r-Mt+l}if(n!==void 0&&(o=Wo(10,l-a-1),c=h/o%10|0,d=e<0||y[m+1]!==void 0||h%o,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?a>0?h/Wo(10,l-a):0:y[m-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return d?(o=mn(t),y.length=1,e=e-o-1,y[0]=Wo(10,(Mt-e%Mt)%Mt),t.e=Gu(-e/Mt)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=m,o=1,m--):(y.length=m+1,o=Wo(10,Mt-r),y[m]=a>0?(h/Wo(10,l-a)%Wo(10,a)|0)*o:0),d)for(;;)if(m==0){(y[0]+=o)==Rn&&(y[0]=1,++t.e);break}else{if(y[m]+=o,y[m]!=Rn)break;y[m--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Ut&&(t.e>lg||t.e<-lg))throw Error(H_+mn(t));return t}function qD(t,e){var n,r,a,o,l,c,d,h,m,y,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ut?kt(e,_):e;if(d=t.d,y=e.d,r=e.e,h=t.e,d=d.slice(),l=h-r,l){for(m=l<0,m?(n=d,l=-l,c=y.length):(n=y,r=h,c=d.length),a=Math.max(Math.ceil(_/Mt),c)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=d.length,c=y.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(d[a]!=y[a]){m=d[a]<y[a];break}l=0}for(m&&(n=d,d=y,y=n,e.s=-e.s),c=d.length,a=y.length-c;a>0;--a)d[c++]=0;for(a=y.length;a>l;){if(d[--a]<y[a]){for(o=a;o&&d[--o]===0;)d[o]=Rn-1;--d[o],d[a]+=Rn}d[a]-=y[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Ut?kt(e,_):e):new v(0)}function ml(t,e,n){var r,a=mn(t),o=Wi(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Ls(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Ls(-a-1)+o,n&&(r=n-l)>0&&(o+=Ls(r))):a>=l?(o+=Ls(a+1-l),n&&(r=n-a-1)>0&&(o=o+"."+Ls(r))):((r=a+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(o+="."),o+=Ls(r))),t.s<0?"-"+o:o}function Z2(t,e){if(t.length>e)return t.length=e,!0}function $D(t){var e,n,r;function a(o){var l=this;if(!(l instanceof a))return new a(o);if(l.constructor=a,o instanceof a){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(sl+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return Q2(l,o.toString())}else if(typeof o!="string")throw Error(sl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,HK.test(o))Q2(l,o);else throw Error(sl+o)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$D,a.config=a.set=KK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function KK(t){if(!t||typeof t!="object")throw Error(pi+"Object expected");var e,n,r,a=["precision",1,Ku,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Gu(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(sl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sl+n+": "+r);return this}var K_=$D(FK);Fr=new K_(1);const vt=K_;var GK=t=>t,FD={},HD=t=>t===FD,J2=t=>function e(){return arguments.length===0||arguments.length===1&&HD(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},KD=(t,e)=>t===1?e:J2(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.filter(l=>l!==FD).length;return o>=t?e(...r):KD(t-o,J2(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=r.map(m=>HD(m)?c.shift():m);return e(...h,...c)}))}),ip=t=>KD(t.length,t),Wb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},YK=ip((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),WK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return GK;var a=n.reverse(),o=a[0],l=a.slice(1);return function(){return l.reduce((c,d)=>d(c),o(...arguments))}},Xb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),GD=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e&&a.every((l,c)=>{var d;return l===((d=e)===null||d===void 0?void 0:d[c])})||(e=a,n=t(...a)),n}};function YD(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function WD(t,e,n){for(var r=new vt(t),a=0,o=[];r.lt(e)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}ip((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});ip((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});ip((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var XD=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},QD=(t,e,n)=>{if(t.lte(0))return new vt(0);var r=YD(t.toNumber()),a=new vt(10).pow(r),o=t.div(a),l=r!==1?.05:.1,c=new vt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=c.mul(a);return e?new vt(d.toNumber()):new vt(Math.ceil(d.toNumber()))},XK=(t,e,n)=>{var r=new vt(1),a=new vt(t);if(!a.isint()&&n){var o=Math.abs(t);o<1?(r=new vt(10).pow(YD(t)-1),a=new vt(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new vt(Math.floor(t)))}else t===0?a=new vt(Math.floor((e-1)/2)):n||(a=new vt(Math.floor(t)));var l=Math.floor((e-1)/2),c=WK(YK(d=>a.add(new vt(d-l).mul(r)).toNumber()),Wb);return c(0,e)},ZD=function(e,n,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var l=QD(new vt(n).sub(e).div(r-1),a,o),c;e<=0&&n>=0?c=new vt(0):(c=new vt(e).add(n).div(2),c=c.sub(new vt(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),h=Math.ceil(new vt(n).sub(c).div(l).toNumber()),m=d+h+1;return m>r?ZD(e,n,r,a,o+1):(m<r&&(h=n>0?h+(r-m):h,d=n>0?d:d+(r-m)),{step:l,tickMin:c.sub(new vt(d).mul(l)),tickMax:c.add(new vt(h).mul(l))})};function QK(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,c]=XD([e,n]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...Wb(0,r-1).map(()=>1/0)]:[...Wb(0,r-1).map(()=>-1/0),c];return e>n?Xb(d):d}if(l===c)return XK(l,r,a);var{step:h,tickMin:m,tickMax:y}=ZD(l,c,o,a,0),v=WD(m,y.add(new vt(.1).mul(h)),h);return e>n?Xb(v):v}function ZK(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=XD([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var c=Math.max(e,2),d=QD(new vt(l).sub(o).div(c-1),a,0),h=[...WD(new vt(o),new vt(l),d),l];return a===!1&&(h=h.map(m=>Math.round(m))),n>r?Xb(h):h}var JK=GD(QK),eG=GD(ZK),tG=t=>t.rootProps.barCategoryGap,ap=t=>t.rootProps.stackOffset,G_=t=>t.options.chartName,Y_=t=>t.rootProps.syncId,JD=t=>t.rootProps.syncMethod,W_=t=>t.options.eventEmitter,Da={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$r={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},sp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},nG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:Da.type,unit:void 0},rG={allowDataOverflow:$r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$r.scale,tick:$r.tick,tickCount:$r.tickCount,ticks:void 0,type:$r.type,unit:void 0},iG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aG={allowDataOverflow:$r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$r.scale,tick:$r.tick,tickCount:$r.tickCount,ticks:void 0,type:"category",unit:void 0},X_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?iG:nG,Q_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?aG:rG,op=t=>t.polarOptions,Z_=te([es,ts,Gn],fq),eP=te([op,Z_],(t,e)=>{if(t!=null)return ao(t.innerRadius,e,0)}),tP=te([op,Z_],(t,e)=>{if(t!=null)return ao(t.outerRadius,e,e*.8)}),sG=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},nP=te([op],sG);te([X_,nP],sp);var rP=te([Z_,eP,tP],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});te([Q_,rP],sp);var iP=te([Rt,op,eP,tP,es,ts],(t,e,n,r,a,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:h}=e;return{cx:ao(l,a,a/2),cy:ao(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),gn=(t,e)=>e,lp=(t,e,n)=>n;function J_(t){return t?.id}var Sn=t=>{var e=Rt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Yu=t=>t.tooltip.settings.axisId,Mn=t=>{var e=Sn(t),n=Yu(t);return md(t,e,n)},aP=te([Mn],t=>t?.dataKey);function sP(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:o}=n,l=new Map;return t.forEach(c=>{var d,h=(d=c.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var m=J_(c);h.forEach((y,v)=>{var _=o==null||a?v:String(hr(y,o,null)),E=hr(y,c.dataKey,0),S;l.has(_)?S=l.get(_):S={},Object.assign(S,{[m]:E}),l.set(_,S)})}}),Array.from(l.values())}function e1(t){return t.stackId!=null&&t.dataKey!=null}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){oG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oG(t,e,n){return(e=lG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lG(t){var e=uG(t,"string");return typeof e=="symbol"?e:e+""}function uG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qb=[0,"auto"],Br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},oP=(t,e)=>t.cartesianAxis.xAxis[e],oa=(t,e)=>{var n=oP(t,e);return n??Br},qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Qb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ud},lP=(t,e)=>t.cartesianAxis.yAxis[e],la=(t,e)=>{var n=lP(t,e);return n??qr},cG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},t1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??cG},kr=(t,e,n)=>{switch(e){case"xAxis":return oa(t,n);case"yAxis":return la(t,n);case"zAxis":return t1(t,n);case"angleAxis":return X_(t,n);case"radiusAxis":return Q_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fG=(t,e,n)=>{switch(e){case"xAxis":return oa(t,n);case"yAxis":return la(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},md=(t,e,n)=>{switch(e){case"xAxis":return oa(t,n);case"yAxis":return la(t,n);case"angleAxis":return X_(t,n);case"radiusAxis":return Q_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uP=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function cP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var fP=t=>t.graphicalItems.cartesianItems,dG=te([gn,lp],cP),dP=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),gd=te([fP,kr,dG],dP),hP=te([gd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(e1)),mP=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),gP=te([gd],mP),pP=t=>t.map(e=>e.data).filter(Boolean).flat(1),hG=te([gd],pP),yP=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},n1=te([hG,F_],yP),vP=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:hr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:hr(a,r)}))):t.map(r=>({value:r})),up=te([n1,kr,gd],vP);function bP(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Tl(t){return t.filter(e=>mi(e)||e instanceof Date).map(Number).filter(e=>mr(e)===!1)}function mG(t,e,n){return!n||typeof e!="number"||mr(e)?[]:n.length?Tl(n.flatMap(r=>{var a=hr(t,r.dataKey),o,l;if(Array.isArray(a)?[o,l]=a:o=l=a,!(!gr(o)||!gr(l)))return[e-o,e+l]})):[]}var gG=te([hP,F_,Mn],sP),xP=(t,e,n)=>{var r={},a=e.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(a).map(o=>{var[l,c]=o,d=c.map(J_);return[l,{stackedData:Aq(t,d,n),graphicalItems:c}]}))},Zb=te([gG,hP,ap],xP),_P=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(n!=="zAxis"){var o=Nq(t,r,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},pG=te([Zb,ho,gn],_P),wP=(t,e,n,r,a)=>n.length>0?t.flatMap(o=>n.flatMap(l=>{var c,d,h=(c=r[l.id])===null||c===void 0?void 0:c.filter(y=>bP(a,y)),m=hr(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:m,errorDomain:mG(o,m,h)}})).filter(Boolean):e?.dataKey!=null?t.map(o=>({value:hr(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),cp=t=>t.errorBars,EP=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>bP(n,r));te([gP,cp,gn],EP);var yG=te([n1,kr,gP,cp,gn],wP);function vG(t){var{value:e}=t;if(mi(e)||e instanceof Date)return e}var tC=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Tl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bG=(t,e,n)=>{var r=t.map(vG).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&UI(r))?iD(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},r1=t=>{var e;if(t==null||!("domain"in t))return Qb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Tl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Qb},cg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var o=a.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},TP=t=>t.referenceElements.dots,Wu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),xG=te([TP,gn,lp],Wu),SP=t=>t.referenceElements.areas,_G=te([SP,gn,lp],Wu),AP=t=>t.referenceElements.lines,wG=te([AP,gn,lp],Wu),kP=(t,e)=>{var n=Tl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},EG=te(xG,gn,kP),CP=(t,e)=>{var n=Tl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},TG=te([_G,gn],CP),OP=(t,e)=>{var n=Tl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},SG=te(wG,gn,OP),AG=te(EG,SG,TG,(t,e,n)=>cg(t,n,e)),kG=te([kr],r1),NP=(t,e,n,r,a,o,l)=>{var c=qK(e,t.allowDataOverflow);if(c!=null)return c;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",h=d?cg(n,a,tC(r)):cg(a,tC(r));return $K(e,h,t.allowDataOverflow)},CG=te([kr,kG,pG,yG,AG,Rt,gn],NP),OG=[0,1],IP=(t,e,n,r,a,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,h=Ja(e,o);return h&&c==null?iD(0,n.length):d==="category"?bG(r,t,h):a==="expand"?OG:l}},i1=te([kr,Rt,n1,up,ap,gn,CG],IP),RP=(t,e,n,r,a)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(l_(o));return c in vf?c:"point"}}},pd=te([kr,Rt,uP,G_,gn],RP);function NG(t){if(t!=null){if(t in vf)return vf[t]();var e="scale".concat(l_(t));if(e in vf)return vf[e]()}}function a1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=NG(e);if(a!=null){var o=a.domain(n).range(r);return wq(o),o}}}var DP=(t,e,n)=>{var r=r1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Du(t))return JK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Du(t))return eG(t,e.tickCount,e.allowDecimals)}},s1=te([i1,md,pd],DP),PP=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Du(e)&&Array.isArray(n)&&n.length>0){var a=e[0],o=n[0],l=e[1],c=n[n.length-1];return[Math.min(a,o),Math.max(l,c)]}return e},IG=te([kr,i1,s1,gn],PP),RG=te(up,kr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Tl(t.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/a}}),MP=te(RG,Rt,tG,Gn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!gr(t))return 0;var o=e==="vertical"?r.height:r.width;if(a==="gap")return t*o/2;if(a==="no-gap"){var l=ao(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),DG=(t,e)=>{var n=oa(t,e);return n==null||typeof n.padding!="string"?0:MP(t,"xAxis",e,n.padding)},PG=(t,e)=>{var n=la(t,e);return n==null||typeof n.padding!="string"?0:MP(t,"yAxis",e,n.padding)},MG=te(oa,DG,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),jG=te(la,PG,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),LG=te([Gn,MG,Xg,Wg,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:o}=r;return a?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),VG=te([Gn,Rt,jG,Xg,Wg,(t,e,n)=>n],(t,e,n,r,a,o)=>{var{padding:l}=a;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),yd=(t,e,n,r)=>{var a;switch(e){case"xAxis":return LG(t,n,r);case"yAxis":return VG(t,n,r);case"zAxis":return(a=t1(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return nP(t);case"radiusAxis":return rP(t,n);default:return}},jP=te([kr,yd],sp),so=te([kr,pd,IG,jP],a1);te([gd,cp,gn],EP);function LP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var fp=(t,e)=>e,dp=(t,e,n)=>n,UG=te(Gg,fp,dp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LP)),zG=te(Yg,fp,dp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LP)),VP=(t,e)=>({width:t.width,height:e.height}),BG=(t,e)=>{var n=typeof e.width=="number"?e.width:ud;return{width:n,height:t.height}},qG=te(Gn,oa,VP),$G=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},FG=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},HG=te(ts,Gn,UG,fp,dp,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var d=VP(e,c);l==null&&(l=$G(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;o[c.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),o}),KG=te(es,Gn,zG,fp,dp,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var d=BG(e,c);l==null&&(l=FG(e,r,t));var h=r==="left"&&!a||r==="right"&&a;o[c.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),o}),GG=(t,e)=>{var n=oa(t,e);if(n!=null)return HG(t,n.orientation,n.mirror)},YG=te([Gn,oa,GG,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),WG=(t,e)=>{var n=la(t,e);if(n!=null)return KG(t,n.orientation,n.mirror)},XG=te([Gn,la,WG,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),QG=te(Gn,la,(t,e)=>{var n=typeof e.width=="number"?e.width:ud;return{width:n,height:t.height}}),UP=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:o,dataKey:l}=n,c=Ja(t,r),d=e.map(h=>h.value);if(l&&c&&o==="category"&&a&&UI(d))return d}},o1=te([Rt,up,kr,gn],UP),zP=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:o}=n,l=Ja(t,r);if(l&&(a==="number"||o!=="auto"))return e.map(c=>c.value)}},l1=te([Rt,up,md,gn],zP),nC=te([Rt,fG,pd,so,o1,l1,yd,s1,gn],(t,e,n,r,a,o,l,c,d)=>{if(e==null)return null;var h=Ja(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:o,duplicateDomain:a,isCategorical:h,niceTicks:c,range:l,realScaleType:n,scale:r}}),ZG=(t,e,n,r,a,o,l,c,d)=>{if(!(e==null||r==null)){var h=Ja(t,d),{type:m,ticks:y,tickCount:v}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/_:0;E=d==="angleAxis"&&o!=null&&o.length>=2?di(o[0]-o[1])*2*E:E;var S=y||a;if(S){var T=S.map((I,P)=>{var L=l?l.indexOf(I):I;return{index:P,coordinate:r(L)+E,value:I,offset:E}});return T.filter(I=>!mr(I.coordinate))}return h&&c?c.map((I,P)=>({coordinate:r(I)+E,value:I,index:P,offset:E})):r.ticks?r.ticks(v).map(I=>({coordinate:r(I)+E,value:I,offset:E})):r.domain().map((I,P)=>({coordinate:r(I)+E,value:l?l[I]:I,index:P,offset:E}))}},BP=te([Rt,md,pd,so,s1,yd,o1,l1,gn],ZG),JG=(t,e,n,r,a,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Ja(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?di(r[0]-r[1])*2*h:h,c&&o?o.map((m,y)=>({coordinate:n(m)+h,value:m,index:y,offset:h})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,y)=>({coordinate:n(m)+h,value:a?a[m]:m,index:y,offset:h}))}},qP=te([Rt,md,so,yd,o1,l1,gn],JG),$P=te(kr,so,(t,e)=>{if(!(t==null||e==null))return ug(ug({},t),{},{scale:e})}),eY=te([kr,pd,i1,jP],a1);te((t,e,n)=>t1(t,n),eY,(t,e)=>{if(!(t==null||e==null))return ug(ug({},t),{},{scale:e})});var tY=te([Rt,Gg,Yg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FP=t=>t.options.defaultTooltipEventType,HP=t=>t.options.validateTooltipEventTypes;function KP(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function u1(t,e){var n=FP(t),r=HP(t);return KP(e,n,r)}function nY(t){return Ae(e=>u1(e,t))}var GP=(t,e)=>{var n,r=Number(e);if(!(mr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},rY=t=>t.tooltip.settings,$s={active:!1,index:null,dataKey:void 0,coordinate:void 0},iY={itemInteraction:{click:$s,hover:$s},axisInteraction:{click:$s,hover:$s},keyboardInteraction:$s,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},YP=Yr({name:"tooltip",initialState:iY,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ba(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:aY,removeTooltipEntrySettings:sY,setTooltipSettingsState:oY,setActiveMouseOverItemIndex:lY,mouseLeaveItem:fte,mouseLeaveChart:WP,setActiveClickItemIndex:dte,setMouseOverAxisIndex:XP,setMouseClickAxisIndex:uY,setSyncInteraction:Jb,setKeyboardInteraction:ex}=YP.actions,cY=YP.reducer;function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){fY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fY(t,e,n){return(e=dY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dY(t){var e=hY(t,"string");return typeof e=="symbol"?e:e+""}function hY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mY(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function gY(t){return t.index!=null}var QP=(t,e,n,r)=>{if(e==null)return $s;var a=mY(t,e,n);if(a==null)return $s;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(gY(a)){if(o)return Jh(Jh({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Jh(Jh({},$s),{},{coordinate:a.coordinate})},c1=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!gr(r))return n;var a=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(a,Math.min(r,o)))},ZP=(t,e,n,r,a,o,l,c)=>{if(!(o==null||c==null)){var d=l[0],h=d==null?void 0:c(d.positions,o);if(h!=null)return h;var m=a?.[Number(o)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},JP=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===a})},vd=t=>t.options.tooltipPayloadSearcher,Xu=t=>t.tooltip;function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){pY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pY(t,e,n){return(e=yY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yY(t){var e=vY(t,"string");return typeof e=="symbol"?e:e+""}function vY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bY(t,e){return t??e}var eM=(t,e,n,r,a,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:m}=n,y=[];return t.reduce((v,_)=>{var E,{dataDefinedOnItem:S,settings:T}=_,I=bY(S,c),P=Array.isArray(I)?zR(I,h,m):I,L=(E=T?.dataKey)!==null&&E!==void 0?E:r,B=T?.nameKey,q;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?q=zI(P,r,a):q=o(P,e,d,B),Array.isArray(q))q.forEach(R=>{var O=aC(aC({},T),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(Fk({tooltipEntrySettings:O,dataKey:R.dataKey,payload:R.payload,value:hr(R.payload,R.dataKey),name:R.name}))});else{var F;v.push(Fk({tooltipEntrySettings:T,dataKey:L,payload:q,value:hr(q,L),name:(F=hr(q,B))!==null&&F!==void 0?F:T?.name}))}return v},y)}},f1=te([Mn,Rt,uP,G_,Sn],RP),xY=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),_Y=te([Sn,Yu],cP),bd=te([xY,Mn,_Y],dP),wY=te([bd],t=>t.filter(e1)),EY=te([bd],pP),Qu=te([EY,ho],yP),TY=te([wY,ho,Mn],sP),d1=te([Qu,Mn,bd],vP),SY=te([Mn],r1),AY=te([bd],t=>t.filter(e1)),kY=te([TY,AY,ap],xP),CY=te([kY,ho,Sn],_P),OY=te([bd],mP),NY=te([Qu,Mn,OY,cp,Sn],wP),IY=te([TP,Sn,Yu],Wu),RY=te([IY,Sn],kP),DY=te([SP,Sn,Yu],Wu),PY=te([DY,Sn],CP),MY=te([AP,Sn,Yu],Wu),jY=te([MY,Sn],OP),LY=te([RY,jY,PY],cg),VY=te([Mn,SY,CY,NY,LY,Rt,Sn],NP),tM=te([Mn,Rt,Qu,d1,ap,Sn,VY],IP),UY=te([tM,Mn,f1],DP),zY=te([Mn,tM,UY,Sn],PP),nM=t=>{var e=Sn(t),n=Yu(t),r=!1;return yd(t,e,n,r)},rM=te([Mn,nM],sp),iM=te([Mn,f1,zY,rM],a1),BY=te([Rt,d1,Mn,Sn],UP),qY=te([Rt,d1,Mn,Sn],zP),$Y=(t,e,n,r,a,o,l,c)=>{if(e){var{type:d}=e,h=Ja(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return y=c==="angleAxis"&&a!=null&&a?.length>=2?di(a[0]-a[1])*2*y:y,h&&l?l.map((v,_)=>({coordinate:r(v)+y,value:v,index:_,offset:y})):r.domain().map((v,_)=>({coordinate:r(v)+y,value:o?o[v]:v,index:_,offset:y}))}}},rs=te([Rt,Mn,f1,iM,nM,BY,qY,Sn],$Y),h1=te([FP,HP,rY],(t,e,n)=>KP(n.shared,t,e)),aM=t=>t.tooltip.settings.trigger,m1=t=>t.tooltip.settings.defaultIndex,hp=te([Xu,h1,aM,m1],QP),Wf=te([hp,Qu],c1),sM=te([rs,Wf],GP),FY=te([hp],t=>{if(t)return t.dataKey}),oM=te([Xu,h1,aM,m1],JP),HY=te([es,ts,Rt,Gn,rs,m1,oM,vd],ZP),KY=te([hp,HY],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),GY=te([hp],t=>t.active),YY=te([oM,Wf,ho,aP,sM,vd,h1],eM),WY=te([YY],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){XY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XY(t,e,n){return(e=QY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QY(t){var e=ZY(t,"string");return typeof e=="symbol"?e:e+""}function ZY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JY=()=>Ae(Mn),eW=()=>{var t=JY(),e=Ae(rs),n=Ae(iM);return Mb(oC(oC({},t),{},{scale:n}),e)},lM=()=>Ae(G_),g1=(t,e)=>e,uM=(t,e,n)=>n,p1=(t,e,n,r)=>r,tW=te(rs,t=>Bg(t,e=>e.coordinate)),y1=te([Xu,g1,uM,p1],QP),cM=te([y1,Qu],c1),nW=(t,e,n)=>{if(e!=null){var r=Xu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},fM=te([Xu,g1,uM,p1],JP),fg=te([es,ts,Rt,Gn,rs,p1,fM,vd],ZP),rW=te([y1,fg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),dM=te(rs,cM,GP),iW=te([fM,cM,ho,aP,dM,vd,g1],eM),aW=te([y1],t=>({isActive:t.active,activeIndex:t.index})),sW=(t,e,n,r,a,o,l,c)=>{if(!(!t||!e||!r||!a||!o)){var d=Iq(t.chartX,t.chartY,e,n,c);if(d){var h=Dq(d,e),m=xq(h,l,o,r,a),y=Rq(e,o,m,d);return{activeIndex:String(m),activeCoordinate:y}}}};function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(null,arguments)}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){oW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e,n){return(e=lW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=uW(t,"string");return typeof e=="symbol"?e:e+""}function uW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cW(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:d,chartName:h}=t,m=e,y=n,v=r;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var _,E;if(h==="ScatterChart")_=m,E=T$;else if(h==="BarChart")_=S$(l,m,a,o),E=nF;else if(l==="radial"){var{cx:S,cy:T,radius:I,startAngle:P,endAngle:L}=nD(m);_={cx:S,cy:T,startAngle:P,endAngle:L,innerRadius:I,outerRadius:I},E=sF}else _={points:oF(l,m,a)},E=gm;var B=typeof c=="object"&&"className"in c?c.className:void 0,q=em(em(em(em({stroke:"#ccc",pointerEvents:"none"},a),_),Kn(c,!1)),{},{payload:y,payloadIndex:v,className:It("recharts-tooltip-cursor",B)});return C.isValidElement(c)?C.cloneElement(c,q):C.createElement(E,q)}function fW(t){var e=eW(),n=KR(),r=x_(),a=lM();return C.createElement(cW,tx({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var hM=C.createContext(null),dW=()=>C.useContext(hM),j0={exports:{}},uC;function hW(){return uC||(uC=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function o(d,h,m,y,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new a(m,y||d,v),E=n?n+h:h;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],_]:d._events[E].push(_):(d._events[E]=_,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,y;if(this._eventsCount===0)return h;for(y in m=this._events)e.call(m,y)&&h.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=n?n+h:h,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,_=y.length,E=new Array(_);v<_;v++)E[v]=y[v].fn;return E},c.prototype.listenerCount=function(h){var m=n?n+h:h,y=this._events[m];return y?y.fn?1:y.length:0},c.prototype.emit=function(h,m,y,v,_,E){var S=n?n+h:h;if(!this._events[S])return!1;var T=this._events[S],I=arguments.length,P,L;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),I){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,y),!0;case 4:return T.fn.call(T.context,m,y,v),!0;case 5:return T.fn.call(T.context,m,y,v,_),!0;case 6:return T.fn.call(T.context,m,y,v,_,E),!0}for(L=1,P=new Array(I-1);L<I;L++)P[L-1]=arguments[L];T.fn.apply(T.context,P)}else{var B=T.length,q;for(L=0;L<B;L++)switch(T[L].once&&this.removeListener(h,T[L].fn,void 0,!0),I){case 1:T[L].fn.call(T[L].context);break;case 2:T[L].fn.call(T[L].context,m);break;case 3:T[L].fn.call(T[L].context,m,y);break;case 4:T[L].fn.call(T[L].context,m,y,v);break;default:if(!P)for(q=1,P=new Array(I-1);q<I;q++)P[q-1]=arguments[q];T[L].fn.apply(T[L].context,P)}}return!0},c.prototype.on=function(h,m,y){return o(this,h,m,y,!1)},c.prototype.once=function(h,m,y){return o(this,h,m,y,!0)},c.prototype.removeListener=function(h,m,y,v){var _=n?n+h:h;if(!this._events[_])return this;if(!m)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===m&&(!v||E.once)&&(!y||E.context===y)&&l(this,_);else{for(var S=0,T=[],I=E.length;S<I;S++)(E[S].fn!==m||v&&!E[S].once||y&&E[S].context!==y)&&T.push(E[S]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(j0)),j0.exports}var mW=hW();const gW=oo(mW);var Xf=new gW,nx="recharts.syncEvent.tooltip",cC="recharts.syncEvent.brush";function pW(t,e){if(e){var n=Number.parseInt(e,10);if(!mr(n))return t?.[n]}}var yW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mM=Yr({name:"options",initialState:yW,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vW=mM.reducer,{createEventEmitter:bW}=mM.actions;function xW(t){return t.tooltip.syncInteraction}var _W={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gM=Yr({name:"chartData",initialState:_W,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:fC,setDataStartEndIndexes:wW,setComputedData:hte}=gM.actions,EW=gM.reducer,TW=["x","y"];function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){SW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SW(t,e,n){return(e=AW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AW(t){var e=kW(t,"string");return typeof e=="symbol"?e:e+""}function kW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CW(t,e){if(t==null)return{};var n,r,a=OW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function OW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pM=()=>{};function NW(){var t=Ae(Y_),e=Ae(W_),n=ir(),r=Ae(JD),a=Ae(rs),o=x_(),l=Qg(),c=Ae(d=>d.rootProps.className);C.useEffect(()=>{if(t==null)return pM;var d=(h,m,y)=>{if(e!==y&&t===h){if(r==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate){var _=m.payload.coordinate,{x:E,y:S}=_,T=CW(_,TW),I=Ho(Ho(Ho({},T),typeof E=="number"&&{x:Math.max(l.x,Math.min(E,l.x+l.width))}),typeof S=="number"&&{y:Math.max(l.y,Math.min(S,l.y+l.height))}),P=Ho(Ho({},m),{},{payload:Ho(Ho({},m.payload),{},{coordinate:I})});n(P)}else n(m);return}if(a!=null){var L;if(typeof r=="function"){var B={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},q=r(a,B);L=a[q]}else r==="value"&&(L=a.find(V=>String(V.value)===m.payload.label));var{coordinate:F}=m.payload;if(L==null||m.payload.active===!1||F==null||l==null){n(Jb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:O}=F,D=Math.min(R,l.x+l.width),U=Math.min(O,l.y+l.height),j={x:o==="horizontal"?L.coordinate:D,y:o==="horizontal"?U:L.coordinate},z=Jb({active:m.payload.active,coordinate:j,dataKey:m.payload.dataKey,index:String(L.index),label:m.payload.label});n(z)}}};return Xf.on(nx,d),()=>{Xf.off(nx,d)}},[c,n,e,t,r,a,o,l])}function IW(){var t=Ae(Y_),e=Ae(W_),n=ir();C.useEffect(()=>{if(t==null)return pM;var r=(a,o,l)=>{e!==l&&t===a&&n(wW(o))};return Xf.on(cC,r),()=>{Xf.off(cC,r)}},[n,e,t])}function RW(){var t=ir();C.useEffect(()=>{t(bW())},[t]),NW(),IW()}function DW(t,e,n,r,a,o){var l=Ae(v=>nW(v,t,e)),c=Ae(W_),d=Ae(Y_),h=Ae(JD),m=Ae(xW),y=m?.active;C.useEffect(()=>{if(!y&&d!=null&&c!=null){var v=Jb({active:o,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r});Xf.emit(nx,d,v,c)}},[y,n,l,a,r,c,d,h,o])}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return(e=MW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MW(t){var e=jW(t,"string");return typeof e=="symbol"?e:e+""}function jW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LW(t){return t.dataKey}function VW(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(n$,e)}var gC=[],UW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Fu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function zW(t){var e=yi(t,UW),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:h,payloadUniqBy:m,position:y,reverseDirection:v,useTranslate3d:_,wrapperStyle:E,cursor:S,shared:T,trigger:I,defaultIndex:P,portal:L,axisId:B}=e,q=ir(),F=typeof P=="number"?String(P):P;C.useEffect(()=>{q(oY({shared:T,trigger:I,axisId:B,active:n,defaultIndex:F}))},[q,T,I,B,n,F]);var R=Qg(),O=XR(),D=nY(T),{activeIndex:U,isActive:j}=Ae(Ne=>aW(Ne,D,I,F)),z=Ae(Ne=>iW(Ne,D,I,F)),V=Ae(Ne=>dM(Ne,D,I,F)),pe=Ae(Ne=>rW(Ne,D,I,F)),ye=z,Z=dW(),ue=n??j,[ge,Ee]=uB([ye,ue]),H=D==="axis"?V:void 0;DW(D,I,pe,H,U,ue);var ie=L??Z;if(ie==null)return null;var ae=ye??gC;ue||(ae=gC),c&&ae.length&&(ae=M8(ye.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||e.includeHidden)),m,LW));var de=ae.length>0,we=C.createElement(u$,{allowEscapeViewBox:r,animationDuration:a,animationEasing:o,isAnimationActive:d,active:ue,coordinate:pe,hasPayload:de,offset:h,position:y,reverseDirection:v,useTranslate3d:_,viewBox:R,wrapperStyle:E,lastBoundingBox:ge,innerRef:Ee,hasPortalFromProps:!!L},VW(l,mC(mC({},e),{},{payload:ae,label:H,active:ue,coordinate:pe,accessibilityLayer:O})));return C.createElement(C.Fragment,null,G7.createPortal(we,ie),ue&&C.createElement(fW,{cursor:S,tooltipEventType:D,coordinate:pe,payload:ye,index:U}))}var L0={},V0={},U0={},pC;function BW(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:o}={}){let l,c=null;const d=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},y=()=>{h&&m(),S()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,y()},r)},E=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{E(),l=void 0,c=null},T=()=>{m()},I=function(...P){if(a?.aborted)return;l=this,c=P;const L=v==null;_(),d&&L&&m()};return I.schedule=_,I.cancel=S,I.flush=T,a?.addEventListener("abort",S,{once:!0}),I}t.debounce=e})(U0)),U0}var yC;function qW(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BW();function n(r,a=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:d}=o,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let m,y=null;const v=e.debounce(function(...S){m=r.apply(this,S),y=null},a,{edges:h}),_=function(...S){return d!=null&&(y===null&&(y=Date.now()),Date.now()-y>=d)?(m=r.apply(this,S),y=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,S),m)},E=()=>(v.flush(),m);return _.cancel=v.cancel,_.flush=E,_}t.debounce=n})(V0)),V0}var vC;function $W(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qW();function n(r,a=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(r,a,{leading:l,maxWait:a,trailing:c})}t.throttle=n})(L0)),L0}var z0,bC;function FW(){return bC||(bC=1,z0=$W().throttle),z0}var HW=FW();const KW=oo(HW);var Af=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]};function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function B0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){GW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GW(t,e,n){return(e=YW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YW(t){var e=WW(t,"string");return typeof e=="symbol"?e:e+""}function WW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XW=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:l=0,minHeight:c,maxHeight:d,children:h,debounce:m=0,id:y,className:v,onResize:_,style:E={}}=t,S=C.useRef(null),T=C.useRef();T.current=_,C.useImperativeHandle(e,()=>S.current);var[I,P]=C.useState({containerWidth:r.width,containerHeight:r.height}),L=C.useCallback((q,F)=>{P(R=>{var O=Math.round(q),D=Math.round(F);return R.containerWidth===O&&R.containerHeight===D?R:{containerWidth:O,containerHeight:D}})},[]);C.useEffect(()=>{var q=D=>{var U,{width:j,height:z}=D[0].contentRect;L(j,z),(U=T.current)===null||U===void 0||U.call(T,j,z)};m>0&&(q=KW(q,m,{trailing:!0,leading:!1}));var F=new ResizeObserver(q),{width:R,height:O}=S.current.getBoundingClientRect();return L(R,O),F.observe(S.current),()=>{F.disconnect()}},[L,m]);var B=C.useMemo(()=>{var{containerWidth:q,containerHeight:F}=I;if(q<0||F<0)return null;Af(Zo(a)||Zo(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,o),Af(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Zo(a)?q:a,O=Zo(o)?F:o;return n&&n>0&&(R?O=R/n:O&&(R=O*n),d&&O>d&&(O=d)),Af(R>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,O,a,o,l,c,n),C.Children.map(h,D=>C.cloneElement(D,{width:R,height:O,style:B0({width:R,height:O},D.props.style)}))},[n,h,o,d,c,l,I,a]);return C.createElement("div",{id:y?"".concat(y):void 0,className:It("recharts-responsive-container",v),style:B0(B0({},E),{},{width:a,height:o,minWidth:l,minHeight:c,maxHeight:d}),ref:S},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},B))});function QW(t,e,n){return(e=ZW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=JW(t,"string");return typeof e=="symbol"?e:e+""}function JW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class eX{constructor(e){QW(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aX={cacheSize:2e3,enableCache:!0},yM=tX({},aX),wC=new eX(yM.cacheSize),sX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EC="recharts_measurement_span";function oX(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(l,"|").concat(c)}var TC=(t,e)=>{try{var n=document.getElementById(EC);n||(n=document.createElement("span"),n.setAttribute("id",EC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,sX,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},kf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fu.isSsr)return{width:0,height:0};if(!yM.enableCache)return TC(e,n);var r=oX(e,n),a=wC.get(r);if(a)return a;var o=TC(e,n);return wC.set(r,o),o},SC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cX=Object.keys(vM),hu="NaN";function fX(t,e){return t*vM[e]}class Tr{static parse(e){var n,[,r,a]=(n=uX.exec(e))!==null&&n!==void 0?n:[];return new Tr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,mr(e)&&(this.unit=""),n!==""&&!lX.test(n)&&(this.num=NaN,this.unit=""),cX.includes(n)&&(this.num=fX(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mr(this.num)}}function bM(t){if(t.includes(hu))return hu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,o]=(n=SC.exec(e))!==null&&n!==void 0?n:[],l=Tr.parse(r??""),c=Tr.parse(o??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return hu;e=e.replace(SC,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,y,v]=(h=AC.exec(e))!==null&&h!==void 0?h:[],_=Tr.parse(m??""),E=Tr.parse(v??""),S=y==="+"?_.add(E):_.subtract(E);if(S.isNaN())return hu;e=e.replace(AC,S.toString())}return e}var kC=/\(([^()]*)\)/;function dX(t){for(var e=t,n;(n=kC.exec(e))!=null;){var[,r]=n;e=e.replace(kC,bM(r))}return e}function hX(t){var e=t.replace(/\s+/g,"");return e=dX(e),e=bM(e),e}function mX(t){try{return hX(t)}catch{return hu}}function q0(t){var e=mX(t.slice(5,-1));return e===hu?"":e}var gX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pX=["dx","dy","angle","className","breakAll"];function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(null,arguments)}function CC(t,e){if(t==null)return{};var n,r,a=yX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xM=/[ \f\n\r\t\v\u2028\u2029]+/,_M=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];Fn(e)||(n?a=e.toString().split(""):a=e.toString().split(xM));var o=a.map(c=>({word:c,width:kf(c,r).width})),l=n?0:kf(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},vX=(t,e,n,r,a)=>{var{maxLines:o,children:l,style:c,breakAll:d}=t,h=Oe(o),m=l,y=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((z,V)=>{var{word:pe,width:ye}=V,Z=z[z.length-1];if(Z&&(r==null||a||Z.width+ye+n<Number(r)))Z.words.push(pe),Z.width+=ye+n;else{var ue={words:[pe],width:ye};z.push(ue)}return z},[])},v=y(e),_=U=>U.reduce((j,z)=>j.width>z.width?j:z);if(!h||a)return v;var E=v.length>o||_(v).width>Number(r);if(!E)return v;for(var S="…",T=U=>{var j=m.slice(0,U),z=_M({breakAll:d,style:c,children:j+S}).wordsWithComputedWidth,V=y(z),pe=V.length>o||_(V).width>Number(r);return[pe,V]},I=0,P=m.length-1,L=0,B;I<=P&&L<=m.length-1;){var q=Math.floor((I+P)/2),F=q-1,[R,O]=T(F),[D]=T(q);if(!R&&!D&&(I=q+1),R&&D&&(P=q-1),!R&&D){B=O;break}L++}return B||v},OC=t=>{var e=Fn(t)?[]:t.toString().split(xM);return[{words:e}]},bX=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:o,maxLines:l}=t;if((e||n)&&!Fu.isSsr){var c,d,h=_M({breakAll:o,children:r,style:a});if(h){var{wordsWithComputedWidth:m,spaceWidth:y}=h;c=m,d=y}else return OC(r);return vX({breakAll:o,children:r,maxLines:l,style:a},c,d,e,n)}return OC(r)},NC="#808080",v1=C.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:d="end",fill:h=NC}=t,m=CC(t,gX),y=C.useMemo(()=>bX({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:v,dy:_,angle:E,className:S,breakAll:T}=m,I=CC(m,pX);if(!mi(n)||!mi(r)||y.length===0)return null;var P=n+(Oe(v)?v:0),L=r+(Oe(_)?_:0),B;switch(d){case"start":B=q0("calc(".concat(o,")"));break;case"middle":B=q0("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:B=q0("calc(".concat(y.length-1," * -").concat(a,")"));break}var q=[];if(l){var F=y[0].width,{width:R}=m;q.push("scale(".concat(Oe(R)?R/F:1,")"))}return E&&q.push("rotate(".concat(E,", ").concat(P,", ").concat(L,")")),q.length&&(I.transform=q.join(" ")),C.createElement("text",rx({},Kn(I,!0),{ref:e,x:P,y:L,className:It("recharts-text",S),textAnchor:c,fill:h.includes("url")?NC:h}),y.map((O,D)=>{var U=O.words.join(T?"":" ");return C.createElement("tspan",{x:P,dy:D===0?B:a,key:"".concat(U,"-").concat(D)},U)}))});v1.displayName="Text";var xX=["labelRef"];function _X(t,e){if(t==null)return{};var n,r,a=wX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function wX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){EX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EX(t,e,n){return(e=TX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=SX(t,"string");return typeof e=="symbol"?e:e+""}function SX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(null,arguments)}var wM=C.createContext(null),EM=t=>{var{x:e,y:n,width:r,height:a,children:o}=t,l=C.useMemo(()=>({x:e,y:n,width:r,height:a}),[e,n,r,a]);return C.createElement(wM.Provider,{value:l},o)},TM=()=>{var t=C.useContext(wM),e=Qg();return t||e},AX=C.createContext(null),kX=()=>{var t=C.useContext(AX),e=Ae(iP);return t||e},CX=t=>{var{value:e,formatter:n}=t,r=Fn(t.children)?e:t.children;return typeof n=="function"?n(r):r},b1=t=>t!=null&&typeof t=="function",OX=(t,e)=>{var n=di(e-t),r=Math.min(Math.abs(e-t),360);return n*r},NX=(t,e,n,r,a)=>{var{offset:o,className:l}=t,{cx:c,cy:d,innerRadius:h,outerRadius:m,startAngle:y,endAngle:v,clockWise:_}=a,E=(h+m)/2,S=OX(y,v),T=S>=0?1:-1,I,P;switch(e){case"insideStart":I=y+T*o,P=_;break;case"insideEnd":I=v-T*o,P=!_;break;case"end":I=v+T*o,P=_;break;default:throw new Error("Unsupported position ".concat(e))}P=S<=0?P:!P;var L=$n(c,d,E,I),B=$n(c,d,E,I+(P?1:-1)*359),q="M".concat(L.x,",").concat(L.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(P?0:1,`,
    `).concat(B.x,",").concat(B.y),F=Fn(t.id)?zf("recharts-radial-line-"):t.id;return C.createElement("text",Pa({},r,{dominantBaseline:"central",className:It("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:F,d:q})),C.createElement("textPath",{xlinkHref:"#".concat(F)},n))},IX=(t,e,n)=>{var{cx:r,cy:a,innerRadius:o,outerRadius:l,startAngle:c,endAngle:d}=t,h=(c+d)/2;if(n==="outside"){var{x:m,y}=$n(r,a,l+e,h);return{x:m,y,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:_,y:E}=$n(r,a,v,h);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},SM=t=>"cx"in t&&Oe(t.cx),RX=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,o;n!=null&&!SM(n)&&(o=n);var{x:l,y:c,width:d,height:h}=e,m=h>=0?1:-1,y=m*r,v=m>0?"end":"start",_=m>0?"start":"end",E=d>=0?1:-1,S=E*r,T=E>0?"end":"start",I=E>0?"start":"end";if(a==="top"){var P={x:l+d/2,y:c-m*r,textAnchor:"middle",verticalAnchor:v};return an(an({},P),o?{height:Math.max(c-o.y,0),width:d}:{})}if(a==="bottom"){var L={x:l+d/2,y:c+h+y,textAnchor:"middle",verticalAnchor:_};return an(an({},L),o?{height:Math.max(o.y+o.height-(c+h),0),width:d}:{})}if(a==="left"){var B={x:l-S,y:c+h/2,textAnchor:T,verticalAnchor:"middle"};return an(an({},B),o?{width:Math.max(B.x-o.x,0),height:h}:{})}if(a==="right"){var q={x:l+d+S,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return an(an({},q),o?{width:Math.max(o.x+o.width-q.x,0),height:h}:{})}var F=o?{width:d,height:h}:{};return a==="insideLeft"?an({x:l+S,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},F):a==="insideRight"?an({x:l+d-S,y:c+h/2,textAnchor:T,verticalAnchor:"middle"},F):a==="insideTop"?an({x:l+d/2,y:c+y,textAnchor:"middle",verticalAnchor:_},F):a==="insideBottom"?an({x:l+d/2,y:c+h-y,textAnchor:"middle",verticalAnchor:v},F):a==="insideTopLeft"?an({x:l+S,y:c+y,textAnchor:I,verticalAnchor:_},F):a==="insideTopRight"?an({x:l+d-S,y:c+y,textAnchor:T,verticalAnchor:_},F):a==="insideBottomLeft"?an({x:l+S,y:c+h-y,textAnchor:I,verticalAnchor:v},F):a==="insideBottomRight"?an({x:l+d-S,y:c+h-y,textAnchor:T,verticalAnchor:v},F):a&&typeof a=="object"&&(Oe(a.x)||Zo(a.x))&&(Oe(a.y)||Zo(a.y))?an({x:l+ao(a.x,d),y:c+ao(a.y,h),textAnchor:"end",verticalAnchor:"end"},F):an({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},DX={offset:5};function Vs(t){var e=yi(t,DX),{viewBox:n,position:r,value:a,children:o,content:l,className:c="",textBreakAll:d,labelRef:h}=e,m=kX(),y=TM(),v=r==="center"?y:m??y,_=n||v;if(!_||Fn(a)&&Fn(o)&&!C.isValidElement(l)&&typeof l!="function")return null;var E=an(an({},e),{},{viewBox:_});if(C.isValidElement(l)){var{labelRef:S}=E,T=_X(E,xX);return C.cloneElement(l,T)}var I;if(typeof l=="function"){if(I=C.createElement(l,E),C.isValidElement(I))return I}else I=CX(e);var P=SM(_),L=Kn(e,!0);if(P&&(r==="insideStart"||r==="insideEnd"||r==="end"))return NX(e,r,I,L,_);var B=P?IX(_,e.offset,e.position):RX(e,_);return C.createElement(v1,Pa({ref:h,className:It("recharts-label",c)},L,B,{breakAll:d}),I)}Vs.displayName="Label";var PX=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(Vs,Pa({key:"label-implicit"},r)):mi(t)?C.createElement(Vs,Pa({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===Vs?C.cloneElement(t,an({key:"label-implicit"},r)):C.createElement(Vs,Pa({key:"label-implicit",content:t},r)):b1(t)?C.createElement(Vs,Pa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(Vs,Pa({},t,{key:"label-implicit"},r)):null};function AM(t){var{label:e}=t,n=TM();return PX(e,n)||null}var $0={},F0={},RC;function MX(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(F0)),F0}var H0={},DC;function jX(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(H0)),H0}var PC;function LX(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MX(),n=jX(),r=d_();function a(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=a})($0)),$0}var K0,MC;function VX(){return MC||(MC=1,K0=LX().last),K0}var UX=VX();const zX=oo(UX);var BX=["valueAccessor"],qX=["dataKey","clockWise","id","textBreakAll"];function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(null,arguments)}function jC(t,e){if(t==null)return{};var n,r,a=$X(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $X(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FX=t=>Array.isArray(t.value)?zX(t.value):t.value,kM=C.createContext(void 0),HX=kM.Provider,CM=C.createContext(void 0);CM.Provider;function KX(){return C.useContext(kM)}function GX(){return C.useContext(CM)}function pm(t){var{valueAccessor:e=FX}=t,n=jC(t,BX),{dataKey:r,clockWise:a,id:o,textBreakAll:l}=n,c=jC(n,qX),d=KX(),h=GX(),m=d||h;return!m||!m.length?null:C.createElement(aa,{className:"recharts-label-list"},m.map((y,v)=>{var _,E=Fn(r)?e(y,v):hr(y&&y.payload,r),S=Fn(o)?{}:{id:"".concat(o,"-").concat(v)};return C.createElement(Vs,dg({},Kn(y,!0),c,S,{fill:(_=n.fill)!==null&&_!==void 0?_:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,key:"label-".concat(v),index:v}))}))}pm.displayName="LabelList";function YX(t){var{label:e}=t;return e?e===!0?C.createElement(pm,{key:"labelList-implicit"}):C.isValidElement(e)||b1(e)?C.createElement(pm,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(pm,dg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}var OM=t=>{var{cx:e,cy:n,r,className:a}=t,o=It("recharts-dot",a);return e===+e&&n===+n&&r===+r?C.createElement("circle",ix({},uo(t),c_(t),{className:o,cx:e,cy:n,r})):null},WX={radiusAxis:{},angleAxis:{}},NM=Yr({name:"polarAxis",initialState:WX,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:mte,removeRadiusAxis:gte,addAngleAxis:pte,removeAngleAxis:yte}=NM.actions,XX=NM.reducer;function QX(t){var{fn:e,args:n}=t,r=ir(),a=Wr();return C.useEffect(()=>{if(!a){var o=e(n);return r(aY(o)),()=>{r(sY(o))}}},[e,n,r,a]),null}var ZX=()=>{};function JX(t){var{legendPayload:e}=t,n=ir(),r=Wr();return C.useEffect(()=>r?ZX:(n(Wq(e)),()=>{n(Xq(e))}),[n,r,e]),null}var G0,eQ=()=>{var[t]=C.useState(()=>zf("uid-"));return t},tQ=(G0=G4.useId)!==null&&G0!==void 0?G0:eQ;function nQ(t,e){var n=tQ();return e||(t?"".concat(t,"-").concat(n):n)}var rQ=C.createContext(void 0),iQ=t=>{var{id:e,type:n,children:r}=t,a=nQ("recharts-".concat(n),e);return C.createElement(rQ.Provider,{value:a},r(a))},aQ={cartesianItems:[],polarItems:[]},IM=Yr({name:"graphicalItems",initialState:aQ,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,a=Ba(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},removeCartesianGraphicalItem(t,e){var n=Ba(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ba(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:sQ,replaceCartesianGraphicalItem:oQ,removeCartesianGraphicalItem:lQ,addPolarGraphicalItem:vte,removePolarGraphicalItem:bte}=IM.actions,uQ=IM.reducer;function cQ(t){var e=ir(),n=C.useRef(null);return C.useEffect(()=>{n.current===null?e(sQ(t)):n.current!==t&&e(oQ({prev:n.current,next:t})),n.current=t},[e,t]),C.useEffect(()=>()=>{n.current&&(e(lQ(n.current)),n.current=null)},[e]),null}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){fQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e,n){return(e=dQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dQ(t){var e=hQ(t,"string");return typeof e=="symbol"?e:e+""}function hQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mQ={xAxis:{},yAxis:{},zAxis:{}},RM=Yr({name:"cartesianAxis",initialState:mQ,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=VC(VC({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:gQ,removeXAxis:pQ,addYAxis:yQ,removeYAxis:vQ,addZAxis:xte,removeZAxis:_te,updateYAxisWidth:bQ}=RM.actions,xQ=RM.reducer,_Q=te([Gn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),wQ=te([_Q,es,ts],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),x1=()=>Ae(wQ),EQ=()=>Ae(WY);function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){TQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TQ(t,e,n){return(e=SQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SQ(t){var e=AQ(t,"string");return typeof e=="symbol"?e:e+""}function AQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kQ=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:o}=t;if(a===!1||e.x==null||e.y==null)return null;var l=zC(zC({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Kn(a,!1)),c_(a)),c;return C.isValidElement(a)?c=C.cloneElement(a,l):typeof a=="function"?c=a(l):c=C.createElement(OM,l),C.createElement(aa,{className:"recharts-active-dot"},c)};function BC(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a}=t,o=Ae(Wf),l=EQ();if(e==null||l==null)return null;var c=e.find(d=>l.includes(d.payload));return Fn(c)?null:kQ({point:c,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:r})}var CQ={},DM=Yr({name:"errorBars",initialState:CQ,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?a:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:wte,replaceErrorBar:Ete,removeErrorBar:Tte}=DM.actions,OQ=DM.reducer;function PM(t,e){var n,r,a=Ae(h=>oa(h,t)),o=Ae(h=>la(h,e)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Br.allowDataOverflow,c=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:qr.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function NQ(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=x1(),{needClipX:o,needClipY:l,needClip:c}=PM(e,n);if(!c)return null;var{x:d,y:h,width:m,height:y}=a;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?d:d-m/2,y:l?h:h-y/2,width:o?m:m*2,height:l?y:y*2}))}var IQ=t=>{var{chartData:e}=t,n=ir(),r=Wr();return C.useEffect(()=>r?()=>{}:(n(fC(e)),()=>{n(fC(void 0))}),[e,n,r]),null},qC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MM=Yr({name:"brush",initialState:qC,reducers:{setBrushSettings(t,e){return e.payload==null?qC:e.payload}}}),{setBrushSettings:Ste}=MM.actions,RQ=MM.reducer;function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){jM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jM(t,e,n){return(e=DQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MQ=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return{x:Math.min(n,a),y:Math.min(r,o),width:Math.abs(a-n),height:Math.abs(o-r)}},jQ=t=>{var{x1:e,y1:n,x2:r,y2:a}=t;return MQ({x:e,y:n},{x:r,y:a})};class mp{static create(e){return new mp(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}jM(mp,"EPS",1e-4);var LQ=t=>{var e=Object.keys(t).reduce((n,r)=>tm(tm({},n),{},{[r]:mp.create(t[r])}),{});return tm(tm({},e),{},{apply(n){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(o=>{var[l,c]=o;return[l,e[l].apply(c,{bandAware:r,position:a})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function VQ(t){return(t%180+180)%180}var UQ=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=VQ(a),l=o*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},zQ={dots:[],areas:[],lines:[]},LM=Yr({name:"referenceElements",initialState:zQ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ba(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ba(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ba(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Ate,removeDot:kte,addArea:Cte,removeArea:Ote,addLine:BQ,removeLine:qQ}=LM.actions,$Q=LM.reducer,VM=C.createContext(void 0),FQ=t=>{var{children:e}=t,[n]=C.useState("".concat(zf("recharts"),"-clip")),r=x1();if(r==null)return null;var{x:a,y:o,width:l,height:c}=r;return C.createElement(VM.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:a,y:o,height:c,width:l}))),e)},HQ=()=>C.useContext(VM);function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function HC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){_1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _1(t,e,n){return(e=KQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KQ(t){var e=GQ(t,"string");return typeof e=="symbol"?e:e+""}function GQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(null,arguments)}var YQ=(t,e)=>{var n;return C.isValidElement(t)?n=C.cloneElement(t,e):typeof t=="function"?n=t(e):n=C.createElement("line",ax({},e,{className:"recharts-reference-line-line"})),n},WQ=(t,e,n,r,a,o,l,c,d)=>{var{x:h,y:m,width:y,height:v}=a;if(n){var{y:_}=d,E=t.y.apply(_,{position:o});if(mr(E)||d.ifOverflow==="discard"&&!t.y.isInRange(E))return null;var S=[{x:h+y,y:E},{x:h,y:E}];return c==="left"?S.reverse():S}if(e){var{x:T}=d,I=t.x.apply(T,{position:o});if(mr(I)||d.ifOverflow==="discard"&&!t.x.isInRange(I))return null;var P=[{x:I,y:m+v},{x:I,y:m}];return l==="top"?P.reverse():P}if(r){var{segment:L}=d,B=L.map(q=>t.apply(q,{position:o}));return d.ifOverflow==="discard"&&B.some(q=>!t.isInRange(q))?null:B}return null};function XQ(t){var e=ir();return C.useEffect(()=>(e(BQ(t)),()=>{e(qQ(t))})),null}function QQ(t){var{x:e,y:n,segment:r,xAxisId:a,yAxisId:o,shape:l,className:c,ifOverflow:d}=t,h=Wr(),m=HQ(),y=Ae(j=>oa(j,a)),v=Ae(j=>la(j,o)),_=Ae(j=>so(j,"xAxis",a,h)),E=Ae(j=>so(j,"yAxis",o,h)),S=Qg(),T=mi(e),I=mi(n);if(!m||!S||y==null||v==null||_==null||E==null)return null;var P=LQ({x:_,y:E}),L=r&&r.length===2,B=WQ(P,T,I,L,S,t.position,y.orientation,v.orientation,t);if(!B)return null;var[{x:q,y:F},{x:R,y:O}]=B,D=d==="hidden"?"url(#".concat(m,")"):void 0,U=HC(HC({clipPath:D},Kn(t,!0)),{},{x1:q,y1:F,x2:R,y2:O});return C.createElement(aa,{className:It("recharts-reference-line",c)},YQ(l,U),C.createElement(EM,jQ({x1:q,y1:F,x2:R,y2:O}),C.createElement(AM,{label:t.label}),t.children))}function ZQ(t){return C.createElement(C.Fragment,null,C.createElement(XQ,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y}),C.createElement(QQ,t))}class w1 extends C.Component{render(){return C.createElement(ZQ,this.props)}}_1(w1,"displayName","ReferenceLine");_1(w1,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Pu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function UM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function JQ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return UQ(r,n)}function eZ(t,e,n){var r=n==="width",{x:a,y:o,width:l,height:c}=t;return e===1?{start:r?a:o,end:r?a+l:o+c}:{start:r?a+l:o+c,end:r?a:o}}function hg(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-a)<=0}function tZ(t,e){return UM(t,e+1)}function nZ(t,e,n,r,a){for(var o=(r||[]).slice(),{start:l,end:c}=e,d=0,h=1,m=l,y=function(){var E=r?.[d];if(E===void 0)return{v:UM(r,h)};var S=d,T,I=()=>(T===void 0&&(T=n(E,S)),T),P=E.coordinate,L=d===0||hg(t,P,I,m,c);L||(d=0,m=l,h+=1),L&&(m=P+t*(I()/2+a),d+=h)},v;h<=o.length;)if(v=y(),v)return v.v;return[]}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){rZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rZ(t,e,n){return(e=iZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=aZ(t,"string");return typeof e=="symbol"?e:e+""}function aZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sZ(t,e,n,r,a){for(var o=(r||[]).slice(),l=o.length,{start:c}=e,{end:d}=e,h=function(v){var _=o[v],E,S=()=>(E===void 0&&(E=n(_,v)),E);if(v===l-1){var T=t*(_.coordinate+t*S()/2-d);o[v]=_=Jn(Jn({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else o[v]=_=Jn(Jn({},_),{},{tickCoord:_.coordinate});var I=hg(t,_.tickCoord,S,c,d);I&&(d=_.tickCoord-t*(S()/2+a),o[v]=Jn(Jn({},_),{},{isShow:!0}))},m=l-1;m>=0;m--)h(m);return o}function oZ(t,e,n,r,a,o){var l=(r||[]).slice(),c=l.length,{start:d,end:h}=e;if(o){var m=r[c-1],y=n(m,c-1),v=t*(m.coordinate+t*y/2-h);l[c-1]=m=Jn(Jn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var _=hg(t,m.tickCoord,()=>y,d,h);_&&(h=m.tickCoord-t*(y/2+a),l[c-1]=Jn(Jn({},m),{},{isShow:!0}))}for(var E=o?c-1:c,S=function(P){var L=l[P],B,q=()=>(B===void 0&&(B=n(L,P)),B);if(P===0){var F=t*(L.coordinate-t*q()/2-d);l[P]=L=Jn(Jn({},L),{},{tickCoord:F<0?L.coordinate-F*t:L.coordinate})}else l[P]=L=Jn(Jn({},L),{},{tickCoord:L.coordinate});var R=hg(t,L.tickCoord,q,d,h);R&&(d=L.tickCoord+t*(q()/2+a),l[P]=Jn(Jn({},L),{},{isShow:!0}))},T=0;T<E;T++)S(T);return l}function E1(t,e,n){var{tick:r,ticks:a,viewBox:o,minTickGap:l,orientation:c,interval:d,tickFormatter:h,unit:m,angle:y}=t;if(!a||!a.length||!r)return[];if(Oe(d)||Fu.isSsr){var v;return(v=tZ(a,Oe(d)?d:0))!==null&&v!==void 0?v:[]}var _=[],E=c==="top"||c==="bottom"?"width":"height",S=m&&E==="width"?kf(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(L,B)=>{var q=typeof h=="function"?h(L.value,B):L.value;return E==="width"?JQ(kf(q,{fontSize:e,letterSpacing:n}),S,y):kf(q,{fontSize:e,letterSpacing:n})[E]},I=a.length>=2?di(a[1].coordinate-a[0].coordinate):1,P=eZ(o,I,E);return d==="equidistantPreserveStart"?nZ(I,P,T,a,l):(d==="preserveStart"||d==="preserveStartEnd"?_=oZ(I,P,T,a,l,d==="preserveStartEnd"):_=sZ(I,P,T,a,l),_.filter(L=>L.isShow))}var lZ=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:o=0}=t,l=0;if(e){e.forEach(m=>{if(m){var y=m.getBoundingClientRect();y.width>l&&(l=y.width)}});var c=n?n.getBoundingClientRect().width:0,d=a+o,h=l+d+c+(n?r:0);return Math.round(h)}return 0},uZ=["axisLine","width","height","className","hide","ticks"],cZ=["viewBox"],fZ=["viewBox"];function sx(t,e){if(t==null)return{};var n,r,a=dZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function dZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(null,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return(e=mZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mZ(t){var e=gZ(t,"string");return typeof e=="symbol"?e:e+""}function gZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T1={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function pZ(t){var{x:e,y:n,width:r,height:a,orientation:o,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var h=_n(_n(_n({},d),Kn(c,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!l||o==="bottom"&&l);h=_n(_n({},h),{},{x1:e,y1:n+m*a,x2:e+r,y2:n+m*a})}else{var y=+(o==="left"&&!l||o==="right"&&l);h=_n(_n({},h),{},{x1:e+y*r,y1:n,x2:e+y*r,y2:n+a})}return C.createElement("line",gl({},h,{className:It("recharts-cartesian-axis-line",Vg(c,"className"))}))}function yZ(t,e,n,r,a,o,l,c,d){var h,m,y,v,_,E,S=c?-1:1,T=t.tickSize||l,I=Oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":h=m=t.coordinate,v=n+ +!c*a,y=v-S*T,E=y-S*d,_=I;break;case"left":y=v=t.coordinate,m=e+ +!c*r,h=m-S*T,_=h-S*d,E=I;break;case"right":y=v=t.coordinate,m=e+ +c*r,h=m+S*T,_=h+S*d,E=I;break;default:h=m=t.coordinate,v=n+ +c*a,y=v+S*T,E=y+S*d,_=I;break}return{line:{x1:h,y1:y,x2:m,y2:v},tick:{x:_,y:E}}}function vZ(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function bZ(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function xZ(t){var{option:e,tickProps:n,value:r}=t,a,o=It(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))a=C.cloneElement(e,_n(_n({},n),{},{className:o}));else if(typeof e=="function")a=e(_n(_n({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=It(l,e?.className)),a=C.createElement(v1,gl({},n,{className:l}),r)}return a}function _Z(t){var{ticks:e=[],tick:n,tickLine:r,stroke:a,tickFormatter:o,unit:l,padding:c,tickTextProps:d,orientation:h,mirror:m,x:y,y:v,width:_,height:E,tickSize:S,tickMargin:T,fontSize:I,letterSpacing:P,getTicksConfig:L,events:B}=t,q=E1(_n(_n({},L),{},{ticks:e}),I,P),F=vZ(h,m),R=bZ(h,m),O=uo(L),D=Kn(n,!1),U=_n(_n({},O),{},{fill:"none"},Kn(r,!1)),j=q.map((z,V)=>{var{line:pe,tick:ye}=yZ(z,y,v,_,E,h,S,m,T),Z=_n(_n(_n(_n({textAnchor:F,verticalAnchor:R},O),{},{stroke:"none",fill:a},D),ye),{},{index:V,payload:z,visibleTicksCount:q.length,tickFormatter:o,padding:c},d);return C.createElement(aa,gl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},V7(B,z,V)),r&&C.createElement("line",gl({},U,pe,{className:It("recharts-cartesian-axis-tick-line",Vg(r,"className"))})),n&&C.createElement(xZ,{option:n,tickProps:Z,value:"".concat(typeof o=="function"?o(z.value,V):z.value).concat(l||"")}))});return j.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},j):null}var wZ=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:o,hide:l,ticks:c}=t,d=sx(t,uZ),[h,m]=C.useState(""),[y,v]=C.useState(""),_=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return lZ({ticks:_.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=C.useCallback(S=>{if(S){var T=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=Array.from(T);var I=T[0];if(I){var P=window.getComputedStyle(I),L=P.fontSize,B=P.letterSpacing;(L!==h||B!==y)&&(m(L),v(B))}}},[h,y]);return l||r!=null&&r<=0||a!=null&&a<=0?null:C.createElement(aa,{className:It("recharts-cartesian-axis",o),ref:E},C.createElement(pZ,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:uo(t)}),C.createElement(_Z,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:h,letterSpacing:y,getTicksConfig:t,events:d}),C.createElement(EM,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(AM,{label:t.label}),t.children))}),EZ=C.memo(wZ,(t,e)=>{var{viewBox:n}=t,r=sx(t,cZ),{viewBox:a}=e,o=sx(e,fZ);return Pu(n,a)&&Pu(r,o)}),S1=C.forwardRef((t,e)=>{var n=yi(t,T1);return C.createElement(EZ,gl({},n,{ref:e}))});S1.displayName="CartesianAxis";var TZ=["x1","y1","x2","y2","key"],SZ=["offset"],AZ=["xAxisId","yAxisId"],kZ=["xAxisId","yAxisId"];function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){CZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e,n){return(e=OZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OZ(t){var e=NZ(t,"string");return typeof e=="symbol"?e:e+""}function NZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(null,arguments)}function mg(t,e){if(t==null)return{};var n,r,a=IZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function IZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RZ=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:o,height:l,ry:c}=t;return C.createElement("rect",{x:r,y:a,ry:c,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zM(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:a,x2:o,y2:l,key:c}=e,d=mg(e,TZ),h=uo(d),{offset:m}=h,y=mg(h,SZ);n=C.createElement("line",tl({},y,{x1:r,y1:a,x2:o,y2:l,fill:"none",key:c}))}return n}function DZ(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=mg(t,AZ),d=a.map((h,m)=>{var y=nr(nr({},c),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(m),index:m});return zM(r,y)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function PZ(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=mg(t,kZ),d=a.map((h,m)=>{var y=nr(nr({},c),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(m),index:m});return zM(r,y)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function MZ(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:o,height:l,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var h=c.map(y=>Math.round(y+a-a)).sort((y,v)=>y-v);a!==h[0]&&h.unshift(0);var m=h.map((y,v)=>{var _=!h[v+1],E=_?a+l-y:h[v+1]-y;if(E<=0)return null;var S=v%e.length;return C.createElement("rect",{key:"react-".concat(v),y,x:r,height:E,width:o,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function jZ(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:o,width:l,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(y=>Math.round(y+a-a)).sort((y,v)=>y-v);a!==h[0]&&h.unshift(0);var m=h.map((y,v)=>{var _=!h[v+1],E=_?a+l-y:h[v+1]-y;if(E<=0)return null;var S=v%n.length;return C.createElement("rect",{key:"react-".concat(v),x:y,y:o,width:E,height:c,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var LZ=(t,e)=>{var{xAxis:n,width:r,height:a,offset:o}=t;return BR(E1(nr(nr(nr({},T1),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,e)},VZ=(t,e)=>{var{yAxis:n,width:r,height:a,offset:o}=t;return BR(E1(nr(nr(nr({},T1),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,e)},UZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function BM(t){var e=GR(),n=YR(),r=KR(),a=nr(nr({},yi(t,UZ)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:c,y:d,width:h,height:m,syncWithTicks:y,horizontalValues:v,verticalValues:_}=a,E=Wr(),S=Ae(D=>nC(D,"xAxis",o,E)),T=Ae(D=>nC(D,"yAxis",l,E));if(!Oe(h)||h<=0||!Oe(m)||m<=0||!Oe(c)||c!==+c||!Oe(d)||d!==+d)return null;var I=a.verticalCoordinatesGenerator||LZ,P=a.horizontalCoordinatesGenerator||VZ,{horizontalPoints:L,verticalPoints:B}=a;if((!L||!L.length)&&typeof P=="function"){var q=v&&v.length,F=P({yAxis:T?nr(nr({},T),{},{ticks:q?v:T.ticks}):void 0,width:e,height:n,offset:r},q?!0:y);Af(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(L=F)}if((!B||!B.length)&&typeof I=="function"){var R=_&&_.length,O=I({xAxis:S?nr(nr({},S),{},{ticks:R?_:S.ticks}):void 0,width:e,height:n,offset:r},R?!0:y);Af(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(B=O)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(RZ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(MZ,tl({},a,{horizontalPoints:L})),C.createElement(jZ,tl({},a,{verticalPoints:B})),C.createElement(DZ,tl({},a,{offset:r,horizontalPoints:L,xAxis:S,yAxis:T})),C.createElement(PZ,tl({},a,{offset:r,verticalPoints:B,xAxis:S,yAxis:T})))}BM.displayName="CartesianGrid";var qM=(t,e,n,r)=>$P(t,"xAxis",e,r),$M=(t,e,n,r)=>qP(t,"xAxis",e,r),FM=(t,e,n,r)=>$P(t,"yAxis",n,r),HM=(t,e,n,r)=>qP(t,"yAxis",n,r),zZ=te([Rt,qM,FM,$M,HM],(t,e,n,r,a)=>Ja(t,"xAxis")?Mb(e,r,!1):Mb(n,a,!1)),BZ=(t,e,n,r,a)=>a,KM=te([fP,BZ],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),qZ=(t,e,n,r,a)=>{var o,l=KM(t,e,n,r,a);if(l!=null){var c=Rt(t),d=Ja(c,"xAxis"),h;if(d?h=Zb(t,"yAxis",n,r):h=Zb(t,"xAxis",e,r),h!=null){var{stackId:m}=l,y=J_(l);if(!(m==null||y==null)){var v=(o=h[m])===null||o===void 0?void 0:o.stackedData;return v?.find(_=>_.key===y)}}}},$Z=te([Rt,qM,FM,$M,HM,qZ,F_,zZ,KM],(t,e,n,r,a,o,l,c,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:y}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null)){var{data:v}=d,_;if(v&&v.length>0?_=v:_=h?.slice(m,y+1),_!=null){var E=void 0;return cJ({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:m,areaSettings:d,stackedData:o,displayedData:_,chartBaseValue:E,bandSize:c})}}}),FZ=["id"],HZ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function GM(t,e){if(t==null)return{};var n,r,a=KZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function KZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){GZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GZ(t,e,n){return(e=YZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YZ(t){var e=WZ(t,"string");return typeof e=="symbol"?e:e+""}function WZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(null,arguments)}function gg(t,e){return t&&t!=="none"?t:e}var XZ=t=>{var{dataKey:e,name:n,stroke:r,fill:a,legendType:o,hide:l}=t;return[{inactive:l,dataKey:e,type:o,color:gg(r,a),value:$R(n,e),payload:t}]};function QZ(t){var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:o,name:l,hide:c,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:o,dataKey:e,nameKey:void 0,name:$R(l,e),hide:c,type:t.tooltipType,color:gg(r,o),unit:d}}}var ZZ=(t,e)=>{var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=It("recharts-area-dot",typeof t!="boolean"?t.className:"");n=C.createElement(OM,$a({},e,{className:r}))}return n};function JZ(t,e){return t==null?!1:e?!0:t.length===1}function eJ(t){var{clipPathId:e,points:n,props:r}=t,{needClip:a,dot:o,dataKey:l}=r;if(!JZ(n,o))return null;var c=qI(o),d=uo(r),h=Kn(o,!0),m=n.map((v,_)=>{var E=Ua(Ua(Ua({key:"dot-".concat(_),r:3},d),h),{},{index:_,cx:v.x,cy:v.y,dataKey:l,value:v.value,payload:v.payload,points:n});return ZZ(o,E)}),y={clipPath:a?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return C.createElement(aa,$a({className:"recharts-area-dots"},y),m)}function tJ(t){var{showLabels:e,children:n,points:r}=t,a=r.map(o=>{var l={x:o.x,y:o.y,width:0,height:0};return Ua(Ua({},l),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return C.createElement(HX,{value:e?a:null},n)}function XC(t){var{points:e,baseLine:n,needClip:r,clipPathId:a,props:o}=t,{layout:l,type:c,stroke:d,connectNulls:h,isRange:m}=o,{id:y}=o,v=GM(o,FZ),_=uo(v);return C.createElement(C.Fragment,null,e?.length>1&&C.createElement(aa,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},C.createElement(gm,$a({},_,{id:y,points:e,connectNulls:h,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&C.createElement(gm,$a({},_,{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:e})),d!=="none"&&m&&C.createElement(gm,$a({},_,{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:n}))),C.createElement(eJ,{points:e,props:v,clipPathId:a}))}function nJ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,o=r[0].y,l=r[r.length-1].y;if(!gr(o)||!gr(l))return null;var c=e*Math.abs(o-l),d=Math.max(...r.map(h=>h.x||0));return Oe(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(h=>h.x||0),d)),Oe(d)?C.createElement("rect",{x:0,y:o<l?o:o-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function rJ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,o=r[0].x,l=r[r.length-1].x;if(!gr(o)||!gr(l))return null;var c=e*Math.abs(o-l),d=Math.max(...r.map(h=>h.y||0));return Oe(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(h=>h.y||0),d)),Oe(d)?C.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function iJ(t){var{alpha:e,layout:n,points:r,baseLine:a,strokeWidth:o}=t;return n==="vertical"?C.createElement(nJ,{alpha:e,points:r,baseLine:a,strokeWidth:o}):C.createElement(rJ,{alpha:e,points:r,baseLine:a,strokeWidth:o})}function aJ(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:o}=t,{points:l,baseLine:c,isAnimationActive:d,animationBegin:h,animationDuration:m,animationEasing:y,onAnimationStart:v,onAnimationEnd:_}=r,E=tD(r,"recharts-area-"),[S,T]=C.useState(!1),I=!S,P=C.useCallback(()=>{typeof _=="function"&&_(),T(!1)},[_]),L=C.useCallback(()=>{typeof v=="function"&&v(),T(!0)},[v]),B=a.current,q=o.current;return C.createElement(tJ,{showLabels:I,points:l},r.children,C.createElement(eD,{animationId:E,begin:h,duration:m,isActive:d,easing:y,onAnimationEnd:P,onAnimationStart:L,key:E},F=>{if(B){var R=B.length/l.length,O=F===1?l:l.map((U,j)=>{var z=Math.floor(j*R);if(B[z]){var V=B[z];return Ua(Ua({},U),{},{x:Yi(V.x,U.x,F),y:Yi(V.y,U.y,F)})}return U}),D;return Oe(c)?D=Yi(q,c,F):Fn(c)||mr(c)?D=Yi(q,0,F):D=c.map((U,j)=>{var z=Math.floor(j*R);if(Array.isArray(q)&&q[z]){var V=q[z];return Ua(Ua({},U),{},{x:Yi(V.x,U.x,F),y:Yi(V.y,U.y,F)})}return U}),F>0&&(a.current=O,o.current=D),C.createElement(XC,{points:O,baseLine:D,needClip:e,clipPathId:n,props:r})}return F>0&&(a.current=l,o.current=c),C.createElement(aa,null,d&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(n)},C.createElement(iJ,{alpha:F,points:l,baseLine:c,layout:r.layout,strokeWidth:r.strokeWidth}))),C.createElement(aa,{clipPath:"url(#animationClipPath-".concat(n,")")},C.createElement(XC,{points:l,baseLine:c,needClip:e,clipPathId:n,props:r})))}),C.createElement(YX,{label:r.label}))}function sJ(t){var{needClip:e,clipPathId:n,props:r}=t,a=C.useRef(null),o=C.useRef();return C.createElement(aJ,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:o})}class oJ extends C.PureComponent{render(){var e,{hide:n,dot:r,points:a,className:o,top:l,left:c,needClip:d,xAxisId:h,yAxisId:m,width:y,height:v,id:_,baseLine:E}=this.props;if(n)return null;var S=It("recharts-area",o),T=_,{r:I=3,strokeWidth:P=2}=(e=Kn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},L=qI(r),B=I*2+P;return C.createElement(C.Fragment,null,C.createElement(aa,{className:S},d&&C.createElement("defs",null,C.createElement(NQ,{clipPathId:T,xAxisId:h,yAxisId:m}),!L&&C.createElement("clipPath",{id:"clipPath-dots-".concat(T)},C.createElement("rect",{x:c-B/2,y:l-B/2,width:y+B,height:v+B}))),C.createElement(sJ,{needClip:d,clipPathId:T,props:this.props})),C.createElement(BC,{points:a,mainColor:gg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(E)&&C.createElement(BC,{points:E,mainColor:gg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var YM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Fu.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function lJ(t){var e,n=yi(t,YM),{activeDot:r,animationBegin:a,animationDuration:o,animationEasing:l,connectNulls:c,dot:d,fill:h,fillOpacity:m,hide:y,isAnimationActive:v,legendType:_,stroke:E,xAxisId:S,yAxisId:T}=n,I=GM(n,HZ),P=x_(),L=lM(),{needClip:B}=PM(S,T),q=Wr(),{points:F,isRange:R,baseLine:O}=(e=Ae(pe=>$Z(pe,S,T,q,t.id)))!==null&&e!==void 0?e:{},D=x1();if(P!=="horizontal"&&P!=="vertical"||D==null||L!=="AreaChart"&&L!=="ComposedChart")return null;var{height:U,width:j,x:z,y:V}=D;return!F||!F.length?null:C.createElement(oJ,$a({},I,{activeDot:r,animationBegin:a,animationDuration:o,animationEasing:l,baseLine:O,connectNulls:c,dot:d,fill:h,fillOpacity:m,height:U,hide:y,layout:P,isAnimationActive:v,isRange:R,legendType:_,needClip:B,points:F,stroke:E,width:j,left:z,top:V,xAxisId:S,yAxisId:T}))}var uJ=(t,e,n,r,a)=>{var o=n??e;if(Oe(o))return o;var l=t==="horizontal"?a:r,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return o==="dataMin"?h:o==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]};function cJ(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:a,layout:o,chartBaseValue:l,xAxis:c,yAxis:d,displayedData:h,dataStartIndex:m,xAxisTicks:y,yAxisTicks:v,bandSize:_}=t,E=a&&a.length,S=uJ(o,l,n,c,d),T=o==="horizontal",I=!1,P=h.map((B,q)=>{var F;E?F=a[m+q]:(F=hr(B,r),Array.isArray(F)?I=!0:F=[S,F]);var R=F[1]==null||E&&!e&&hr(B,r)==null;return T?{x:Bk({axis:c,ticks:y,bandSize:_,entry:B,index:q}),y:R?null:d.scale(F[1]),value:F,payload:B}:{x:R?null:c.scale(F[1]),y:Bk({axis:d,ticks:v,bandSize:_,entry:B,index:q}),value:F,payload:B}}),L;return E||I?L=P.map(B=>{var q=Array.isArray(B.value)?B.value[0]:null;return T?{x:B.x,y:q!=null&&B.y!=null?d.scale(q):null,payload:B.payload}:{x:q!=null?c.scale(q):null,y:B.y,payload:B.payload}}):L=T?d.scale(S):c.scale(S),{points:P,baseLine:L,isRange:I}}function fJ(t){var e=yi(t,YM),n=Wr();return C.createElement(iQ,{id:e.id,type:"area"},r=>C.createElement(C.Fragment,null,C.createElement(JX,{legendPayload:XZ(e)}),C.createElement(QX,{fn:QZ,args:e}),C.createElement(cQ,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:kq(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),C.createElement(lJ,$a({},e,{id:r}))))}var WM=C.memo(fJ);WM.displayName="Area";var dJ=["dangerouslySetInnerHTML","ticks"],hJ=["id"],mJ=["domain"],gJ=["domain"];function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(null,arguments)}function pg(t,e){if(t==null)return{};var n,r,a=pJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function pJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yJ(t){var e=ir();return C.useEffect(()=>(e(gQ(t)),()=>{e(pQ(t))}),[t,e]),null}var vJ=t=>{var{xAxisId:e,className:n}=t,r=Ae(HR),a=Wr(),o="xAxis",l=Ae(T=>so(T,o,e,a)),c=Ae(T=>BP(T,o,e,a)),d=Ae(T=>qG(T,e)),h=Ae(T=>YG(T,e)),m=Ae(T=>oP(T,e));if(d==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=t,_=pg(t,dJ),{id:E}=m,S=pg(m,hJ);return C.createElement(S1,ox({},_,S,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:It("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:c}))},bJ={allowDataOverflow:Br.allowDataOverflow,allowDecimals:Br.allowDecimals,allowDuplicatedCategory:Br.allowDuplicatedCategory,height:Br.height,hide:!1,mirror:Br.mirror,orientation:Br.orientation,padding:Br.padding,reversed:Br.reversed,scale:Br.scale,tickCount:Br.tickCount,type:Br.type,xAxisId:0},xJ=t=>{var e,n,r,a,o,l=yi(t,bJ);return C.createElement(C.Fragment,null,C.createElement(yJ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),C.createElement(vJ,l))},_J=(t,e)=>{var{domain:n}=t,r=pg(t,mJ),{domain:a}=e,o=pg(e,gJ);return Pu(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Pu({domain:n},{domain:a}):!1},XM=C.memo(xJ,_J);XM.displayName="XAxis";var wJ=["dangerouslySetInnerHTML","ticks"],EJ=["id"],TJ=["domain"],SJ=["domain"];function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(null,arguments)}function yg(t,e){if(t==null)return{};var n,r,a=AJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function AJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kJ(t){var e=ir();return C.useEffect(()=>(e(yQ(t)),()=>{e(vQ(t))}),[t,e]),null}var CJ=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,o=C.useRef(null),l=C.useRef(null),c=Ae(HR),d=Wr(),h=ir(),m="yAxis",y=Ae(q=>so(q,m,e,d)),v=Ae(q=>QG(q,e)),_=Ae(q=>XG(q,e)),E=Ae(q=>BP(q,m,e,d)),S=Ae(q=>lP(q,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!v||b1(a)||C.isValidElement(a)||S==null)){var q=o.current;if(q){var F=q.getCalculatedWidth();Math.round(v.width)!==Math.round(F)&&h(bQ({id:e,width:F}))}}},[E,v,h,a,e,r,S]),v==null||_==null||S==null)return null;var{dangerouslySetInnerHTML:T,ticks:I}=t,P=yg(t,wJ),{id:L}=S,B=yg(S,EJ);return C.createElement(S1,lx({},P,B,{ref:o,labelRef:l,scale:y,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:It("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:E}))},OJ={allowDataOverflow:qr.allowDataOverflow,allowDecimals:qr.allowDecimals,allowDuplicatedCategory:qr.allowDuplicatedCategory,hide:!1,mirror:qr.mirror,orientation:qr.orientation,padding:qr.padding,reversed:qr.reversed,scale:qr.scale,tickCount:qr.tickCount,type:qr.type,width:qr.width,yAxisId:0},NJ=t=>{var e,n,r,a,o,l=yi(t,OJ);return C.createElement(C.Fragment,null,C.createElement(kJ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),C.createElement(CJ,l))},IJ=(t,e)=>{var{domain:n}=t,r=yg(t,TJ),{domain:a}=e,o=yg(e,SJ);return Pu(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Pu({domain:n},{domain:a}):!1},QM=C.memo(NJ,IJ);QM.displayName="YAxis";var Y0={exports:{}},W0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function RJ(){if(QC)return W0;QC=1;var t=Mu();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return W0.useSyncExternalStoreWithSelector=function(d,h,m,y,v){var _=a(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function T(q){if(!I){if(I=!0,P=q,q=y(q),v!==void 0&&E.hasValue){var F=E.value;if(v(F,q))return L=F}return L=q}if(F=L,n(P,q))return F;var R=y(q);return v!==void 0&&v(F,R)?(P=q,F):(P=q,L=R)}var I=!1,P,L,B=m===void 0?null:m;return[function(){return T(h())},B===null?void 0:function(){return T(B())}]},[h,m,y,v]);var S=r(d,_[0],_[1]);return o(function(){E.hasValue=!0,E.value=S},[S]),c(S),S},W0}var ZC;function DJ(){return ZC||(ZC=1,Y0.exports=RJ()),Y0.exports}DJ();function PJ(t){t()}function MJ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){PJ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var JC={notify(){},get:()=>[]};function jJ(t,e){let n,r=JC,a=0,o=!1;function l(S){m();const T=r.subscribe(S);let I=!1;return()=>{I||(I=!0,T(),y())}}function c(){r.notify()}function d(){E.onStateChange&&E.onStateChange()}function h(){return o}function m(){a++,n||(n=t.subscribe(d),r=MJ())}function y(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=JC)}function v(){o||(o=!0,m())}function _(){o&&(o=!1,y())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return E}var LJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VJ=LJ(),UJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zJ=UJ(),BJ=()=>VJ||zJ?C.useLayoutEffect:C.useEffect,qJ=BJ(),$J=Symbol.for("react-redux-context"),FJ=typeof globalThis<"u"?globalThis:{};function HJ(){if(!C.createContext)return{};const t=FJ[$J]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var KJ=HJ();function GJ(t){const{children:e,context:n,serverState:r,store:a}=t,o=C.useMemo(()=>{const d=jJ(a);return{store:a,subscription:d,getServerState:r?()=>r:void 0}},[a,r]),l=C.useMemo(()=>a.getState(),[a]);qJ(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=n||KJ;return C.createElement(c.Provider,{value:o},e)}var YJ=GJ,WJ=(t,e)=>e,A1=te([WJ,Rt,iP,Sn,rM,rs,tW,Gn],sW),k1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},ZM=gi("mouseClick"),JM=ld();JM.startListening({actionCreator:ZM,effect:(t,e)=>{var n=t.payload,r=A1(e.getState(),k1(n));r?.activeIndex!=null&&e.dispatch(uY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ux=gi("mouseMove"),ej=ld();ej.startListening({actionCreator:ux,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=u1(r,r.tooltip.settings.shared),o=A1(r,k1(n));a==="axis"&&(o?.activeIndex!=null?e.dispatch(XP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(WP()))}});var eO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},tj=Yr({name:"rootProps",initialState:eO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:eO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),XJ=tj.reducer,{updateOptions:QJ}=tj.actions,nj=Yr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Nte}=nj.actions,ZJ=nj.reducer,rj=gi("keyDown"),ij=gi("focus"),C1=ld();C1.startListening({actionCreator:rj,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(c1(a,Qu(n))),c=rs(n);if(o==="Enter"){var d=fg(n,"axis","hover",String(a.index));e.dispatch(ex({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var h=tY(n),m=h==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,v=l+y*m;if(!(c==null||v>=c.length||v<0)){var _=fg(n,"axis","hover",String(v));e.dispatch(ex({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});C1.startListening({actionCreator:ij,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var o="0",l=fg(n,"axis","hover",String(o));e.dispatch(ex({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var li=gi("externalEvent"),aj=ld();aj.startListening({actionCreator:li,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:KY(n),activeDataKey:FY(n),activeIndex:Wf(n),activeLabel:sM(n),activeTooltipIndex:Wf(n),isTooltipActive:GY(n)};t.payload.handler(r,t.payload.reactEvent)}}});var JJ=te([Xu],t=>t.tooltipItemPayloads),eee=te([JJ,vd,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:o}=a;if(o!=null){var l=e(o,n);return l}}}),sj=gi("touchMove"),oj=ld();oj.startListening({actionCreator:sj,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=u1(r,r.tooltip.settings.shared);if(a==="axis"){var o=A1(r,k1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(XP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(Mq),m=(l=d.getAttribute(jq))!==null&&l!==void 0?l:void 0,y=eee(e.getState(),h,m);e.dispatch(lY({activeDataKey:m,activeIndex:h,activeCoordinate:y}))}}});var tee=yR({brush:RQ,cartesianAxis:xQ,chartData:EW,errorBars:OQ,graphicalItems:uQ,layout:sq,legend:Qq,options:vW,polarAxis:XX,polarOptions:ZJ,referenceElements:$Q,rootProps:XJ,tooltip:cY}),nee=function(e){return IB({reducer:tee,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([JM.middleware,ej.middleware,C1.middleware,aj.middleware,oj.middleware]),devTools:Fu.devToolsEnabled})};function ree(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Wr(),o=C.useRef(null);if(a)return n;o.current==null&&(o.current=nee(e));var l=m_;return C.createElement(YJ,{context:l,store:o.current},n)}function iee(t){var{layout:e,width:n,height:r,margin:a}=t,o=ir(),l=Wr();return C.useEffect(()=>{l||(o(rq(e)),o(iq({width:n,height:r})),o(nq(a)))},[o,l,e,n,r,a]),null}function aee(t){var e=ir();return C.useEffect(()=>{e(QJ(t))},[e,t]),null}var see=["children"];function oee(t,e){if(t==null)return{};var n,r,a=lee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(null,arguments)}var uee={width:"100%",height:"100%"},cee=C.forwardRef((t,e)=>{var n=GR(),r=YR(),a=XR();if(!Wm(n)||!Wm(r))return null;var{children:o,otherAttributes:l,title:c,desc:d}=t,h,m;return typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0,C.createElement($I,vg({},l,{title:c,desc:d,role:m,tabIndex:h,width:n,height:r,style:uee,ref:e}),o)}),fee=t=>{var{children:e}=t,n=Ae(Xg);if(!n)return null;var{width:r,height:a,y:o,x:l}=n;return C.createElement($I,{width:r,height:a,x:l,y:o},e)},tO=C.forwardRef((t,e)=>{var{children:n}=t,r=oee(t,see),a=Wr();return a?C.createElement(fee,null,n):C.createElement(cee,vg({ref:e},r),n)});function dee(){var t=ir(),[e,n]=C.useState(null),r=Ae(Pq);return C.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),o=a.width/e.offsetWidth;gr(o)&&o!==r&&t(aq(o))}},[e,t,r]),n}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mee(t,e,n){return(e=gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=pee(t,"string");return typeof e=="symbol"?e:e+""}function pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yee=C.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:m,onMouseMove:y,onMouseUp:v,onTouchEnd:_,onTouchMove:E,onTouchStart:S,style:T,width:I}=t,P=ir(),[L,B]=C.useState(null),[q,F]=C.useState(null);RW();var R=dee(),O=C.useCallback(ae=>{R(ae),typeof e=="function"&&e(ae),B(ae),F(ae)},[R,e,B,F]),D=C.useCallback(ae=>{P(ZM(ae)),P(li({handler:o,reactEvent:ae}))},[P,o]),U=C.useCallback(ae=>{P(ux(ae)),P(li({handler:h,reactEvent:ae}))},[P,h]),j=C.useCallback(ae=>{P(WP()),P(li({handler:m,reactEvent:ae}))},[P,m]),z=C.useCallback(ae=>{P(ux(ae)),P(li({handler:y,reactEvent:ae}))},[P,y]),V=C.useCallback(()=>{P(ij())},[P]),pe=C.useCallback(ae=>{P(rj(ae.key))},[P]),ye=C.useCallback(ae=>{P(li({handler:l,reactEvent:ae}))},[P,l]),Z=C.useCallback(ae=>{P(li({handler:c,reactEvent:ae}))},[P,c]),ue=C.useCallback(ae=>{P(li({handler:d,reactEvent:ae}))},[P,d]),ge=C.useCallback(ae=>{P(li({handler:v,reactEvent:ae}))},[P,v]),Ee=C.useCallback(ae=>{P(li({handler:S,reactEvent:ae}))},[P,S]),H=C.useCallback(ae=>{P(sj(ae)),P(li({handler:E,reactEvent:ae}))},[P,E]),ie=C.useCallback(ae=>{P(li({handler:_,reactEvent:ae}))},[P,_]);return C.createElement(hM.Provider,{value:L},C.createElement(Y7.Provider,{value:q},C.createElement("div",{className:It("recharts-wrapper",r),style:hee({position:"relative",cursor:"default",width:I,height:a},T),onClick:D,onContextMenu:ye,onDoubleClick:Z,onFocus:V,onKeyDown:pe,onMouseDown:ue,onMouseEnter:U,onMouseLeave:j,onMouseMove:z,onMouseUp:ge,onTouchEnd:ie,onTouchMove:H,onTouchStart:Ee,ref:O},n)))}),vee=["children","className","width","height","style","compact","title","desc"];function bee(t,e){if(t==null)return{};var n,r,a=xee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ee=C.forwardRef((t,e)=>{var{children:n,className:r,width:a,height:o,style:l,compact:c,title:d,desc:h}=t,m=bee(t,vee),y=uo(m);return c?C.createElement(tO,{otherAttributes:y,title:d,desc:h},n):C.createElement(yee,{className:r,style:l,width:a,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(tO,{otherAttributes:y,title:d,desc:h,ref:e},C.createElement(FQ,null,n)))}),wee=["width","height"];function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(null,arguments)}function Eee(t,e){if(t==null)return{};var n,r,a=Tee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Tee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var See={top:5,right:5,bottom:5,left:5},Aee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:See,reverseStackOrder:!1,syncMethod:"index"},kee=C.forwardRef(function(e,n){var r,a=yi(e.categoricalChartProps,Aee),{width:o,height:l}=a,c=Eee(a,wee);if(!Wm(o)||!Wm(l))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,categoricalChartProps:v}=e,_={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,eventEmitter:void 0};return C.createElement(ree,{preloadedState:{options:_},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:d},C.createElement(IQ,{chartData:v.data}),C.createElement(iee,{width:o,height:l,layout:a.layout,margin:a.margin}),C.createElement(aee,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(_ee,cx({},c,{width:o,height:l,ref:n})))}),Cee=["axis"],Oee=C.forwardRef((t,e)=>C.createElement(kee,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cee,tooltipPayloadSearcher:pW,categoricalChartProps:t,ref:e}));const Nee={apiKey:"AIzaSyB_YYYPlskKtC_LEed63_ZGlSJeA_1UhuI",authDomain:"trading-jurnal-deo.firebaseapp.com",projectId:"trading-jurnal-deo",storageBucket:"trading-jurnal-deo.firebasestorage.app",messagingSenderId:"1085442544675",appId:"1:1085442544675:web:2bad6464f7be4673de8d96",measurementId:"G-NR89QZDXEE"},lj=vO(Nee),nm=XV(lj),Iee=tz(lj);const Ree="WzGoldTradingJournalDB",Dee=1;let rm=null;const Pee=["profiles","trades","balance_transactions","pairs","templates","custom_fields","goals","trade_images"],uj=()=>new Promise((t,e)=>{if(rm)return t(rm);const n=indexedDB.open(Ree,Dee);n.onupgradeneeded=r=>{const a=r.target.result;Pee.forEach(o=>{if(!a.objectStoreNames.contains(o)){const l=a.createObjectStore(o,{keyPath:"id"});["trades","balance_transactions","pairs","templates","custom_fields","goals"].includes(o)&&l.createIndex("profileId","profileId",{unique:!1})}})},n.onsuccess=r=>{rm=r.target.result,t(rm)},n.onerror=r=>{console.error("IndexedDB error:",r.target.errorCode),e("IndexedDB error")}}),Zu=(t,e,n)=>uj().then(r=>new Promise((a,o)=>{try{const c=r.transaction(t,e).objectStore(t);n(c,a,o)}catch(l){o(l)}})),Zs=(t,e)=>Zu(t,"readwrite",(n,r)=>{const a=n.add(e);a.onsuccess=()=>r(a.result)}),O1=(t,e)=>Zu(t,"readwrite",(n,r)=>{const a=n.put(e);a.onsuccess=()=>r(a.result)}),Ki=(t,e)=>Zu(t,"readwrite",(n,r)=>{n.delete(e).onsuccess=()=>r(!0)}),cj=(t,e)=>Zu(t,"readonly",(n,r)=>{n.get(e).onsuccess=a=>r(a.target.result)}),Mee=t=>Zu(t,"readonly",(e,n)=>{e.getAll().onsuccess=r=>n(r.target.result)}),Ia=(t,e)=>Zu(t,"readonly",(n,r)=>{const a=n.index("profileId");a.getAll(e).onsuccess=o=>r(o.target.result)}),jee=async()=>{const t={userAgent:navigator.userAgent,language:navigator.language,screenWidth:window.screen.width,screenHeight:window.screen.height,timezone:new Date().getTimezoneOffset(),platform:navigator.platform},e=JSON.stringify(t),n=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")},bg=t=>{const[e,n]=C.useState(null);return C.useEffect(()=>{let r=null;return t?cj("trade_images",t).then(a=>{a&&a.file?(r=URL.createObjectURL(a.file),n(r)):n(null)}).catch(a=>{console.error("Failed to load image from DB",a),n(null)}):n(null),()=>{r&&URL.revokeObjectURL(r)}},[t]),e},Ra=t=>t?(t instanceof Date?t:new Date(t)).toLocaleDateString("en-CA"):"N/A",gp=t=>{if(!t)return"N/A";const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Invalid Date":e.toLocaleString("id-ID",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},xg=t=>{if(!t)return"";const e=t instanceof Date?t:new Date(t);if(isNaN(e.getTime()))return"";const n=r=>(r<10?"0":"")+r;return`${e.getFullYear()}-${n(e.getMonth()+1)}-${n(e.getDate())}T${n(e.getHours())}:${n(e.getMinutes())}`},on=(t,e="USD")=>{const n=e==="IDR"?"id-ID":"en-US",r={style:"currency",currency:e,minimumFractionDigits:e==="IDR"?0:2,maximumFractionDigits:e==="IDR"?0:2};return typeof t!="number"||isNaN(t)?new Intl.NumberFormat(n,r).format(0):new Intl.NumberFormat(n,r).format(t)},fj=t=>typeof t!="number"?"0.00 LOT":`${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} LOT`,Xo=(...t)=>t.filter(Boolean).join(" "),rO=({message:t,type:e,onClose:n})=>{if(!t)return null;let r;switch(e){case"success":r={bg:"bg-green-600",icon:x.jsx(Lm,{})};break;case"error":r={bg:"bg-red-600",icon:x.jsx(i_,{})};break;case"info":r={bg:"bg-blue-600",icon:x.jsx(Uf,{})};break;default:r={bg:"bg-gray-700",icon:x.jsx(Uf,{})};break}return x.jsxs("div",{className:`fixed top-5 right-5 ${r.bg} text-white p-4 rounded-lg shadow-xl flex items-center z-[100] animate-fadeIn`,children:[x.jsx("div",{className:"mr-3",children:r.icon}),x.jsx("span",{children:t}),x.jsx("button",{onClick:n,className:"ml-4 text-2xl font-semibold leading-none hover:text-gray-200",children:"×"})]})},Lee=({isOpen:t,onClose:e,onConfirm:n,title:r,message:a})=>t?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[90] p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl max-w-md w-full",children:[x.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:r}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:a}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Batal"}),x.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Konfirmasi"})]})]})}):null,X0=({icon:t,text:e,active:n,onClick:r})=>x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:r,className:`flex items-center p-3 rounded-lg transition-colors ${n?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[t,x.jsx("span",{className:"ml-3",children:e})]})}),dj=({theme:t,onToggle:e})=>x.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:`Ganti ke mode ${t==="dark"?"terang":"gelap"}`,children:t==="dark"?x.jsx(w7,{size:20}):x.jsx(p7,{size:20})}),Vee=({onLogin:t,error:e,theme:n,onToggleTheme:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState(""),[d,h]=C.useState(!1),[m,y]=C.useState(!1),v=async _=>{_.preventDefault(),h(!0),await t(a,l),h(!1)};return x.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center font-sans relative",children:[x.jsx("div",{className:"absolute top-5 right-5",children:x.jsx(dj,{theme:n,onToggle:r})}),x.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Wz",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"Gold"})," Trading Jurnal"]}),x.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Silakan masuk untuk melanjutkan"})]}),x.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[x.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[x.jsx("div",{children:x.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:_=>o(_.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Alamat email"})}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:l,onChange:_=>c(_.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 pr-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Kata sandi"}),x.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",title:m?"Sembunyikan password":"Tampilkan password",children:m?x.jsx(Qz,{size:20}):x.jsx(Jz,{size:20})})]})]}),e&&x.jsxs("div",{className:"flex items-center text-sm text-red-500 dark:text-red-400 bg-red-500/10 p-3 rounded-lg",children:[x.jsx(i_,{size:16,className:"mr-2"}),x.jsx("span",{children:e})]}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 dark:disabled:bg-blue-800 disabled:cursor-not-allowed",children:d?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"animate-spin h-5 w-5 mr-3 border-2 border-white border-t-transparent rounded-full"}),x.jsx("span",{children:"Memproses..."})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:x.jsx(l7,{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400","aria-hidden":"true"})}),"Masuk"]})})})]}),x.jsxs("p",{className:"mt-4 text-center text-xs text-gray-500 dark:text-gray-400 px-4",children:[x.jsx("span",{className:"font-bold text-yellow-500 dark:text-yellow-400",children:"Penting:"})," Aplikasi ini menerapkan sistem keamanan ",x.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"satu akun untuk satu perangkat"}),". Untuk pembelian atau informasi lebih lanjut, silakan hubungi saya di Instagram: ",x.jsx("a",{href:"https://www.instagram.com/deolukow_",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-500 hover:underline",children:"@deolukow_"}),"."]})]})]})},Uee=({imageUrl:t,onClose:e})=>t?x.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-[100] p-4 animate-fadeIn",children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white text-4xl font-light z-[101] p-3 rounded-full hover:bg-gray-800 transition-colors",title:"Tutup (Esc)",children:"×"}),x.jsx("div",{className:"w-full h-full flex items-center justify-center",children:x.jsx("img",{src:t,alt:"Fullscreen Trade Screenshot",className:"max-w-full max-h-full object-contain",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/1200x800/374151/ffffff?text=Image+Gagal+Load"}})})]}):null,zee=({trade:t,onClose:e,customFields:n,currency:r})=>{const[a,o]=C.useState(null);if(!t)return null;const l=({title:y,imageId:v,icon:_})=>{const E=bg(v);return x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 flex items-center",children:[_," ",x.jsx("span",{className:"ml-1",children:y})]}),E?x.jsxs("div",{className:"relative aspect-[4/3] bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600 cursor-pointer group",onClick:()=>o(E),children:[x.jsx("img",{src:E,alt:y,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-80"}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx(d7,{size:32,className:"text-white"})})]}):x.jsx("div",{className:"aspect-[4/3] bg-gray-200 dark:bg-gray-700 flex items-center justify-center rounded-lg text-gray-400 dark:text-gray-500 text-center text-sm p-4",children:"Tidak Ada Gambar"})]})},d=t.pnl>0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400",h=t.type==="long"?x.jsx(NI,{size:20,className:"text-green-500"}):x.jsx(OI,{size:20,className:"text-red-500"}),m=n.filter(y=>t.customData&&t.customData[y.name]);return x.jsxs(x.Fragment,{children:[x.jsx(Uee,{imageUrl:a,onClose:()=>o(null)}),x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-200 dark:border-gray-700 pb-4",children:[x.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[h," ",x.jsx("span",{className:"ml-2",children:t.pair})]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"space-y-4 lg:col-span-1",children:[x.jsxs("div",{className:"flex items-center space-x-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[x.jsx(Bz,{size:20,className:"text-gray-400 dark:text-gray-500"}),x.jsx("span",{className:"text-lg text-gray-700 dark:text-gray-300 font-medium",children:gp(t.tradeDate)})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-2xl font-extrabold ${d}`,children:on(t.pnl,r)})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lot Size"}),x.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:fj(t.lotSize)})]})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Risk/Reward Ratio"}),x.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.riskRewardRatio>0?`1 : ${t.riskRewardRatio.toFixed(2)}`:"N/A"})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Setup / Strategi"}),x.jsx("p",{className:"text-gray-800 dark:text-white font-medium",children:t.setup||"Tidak Ada Setup Dicatat"})]})," ",(t.entryPrice>0||t.takeProfit>0||t.stopLoss>0)&&x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg space-y-2",children:[x.jsx("h4",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 font-semibold",children:"Detail Harga"}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Entry Price:"}),x.jsx("span",{className:"text-gray-800 dark:text-white font-medium",children:t.entryPrice>0?t.entryPrice.toLocaleString():"N/A"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Take Profit:"}),x.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:t.takeProfit>0?t.takeProfit.toLocaleString():"N/A"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Stop Loss:"}),x.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:t.stopLoss>0?t.stopLoss.toLocaleString():"N/A"})]})]})," ",m.length>0&&x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg space-y-2",children:[x.jsx("h4",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 font-semibold border-b border-gray-300 dark:border-gray-600 pb-2",children:"Field Tambahan"}),m.map(y=>x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{className:"text-gray-500 dark:text-gray-400 capitalize",children:[y.name,":"]}),x.jsx("span",{className:"text-gray-800 dark:text-white font-medium text-right",children:t.customData[y.name]})]},y.id))]})," "]}),x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[x.jsx(l,{title:"Screenshot Sebelum Trade",imageId:t.screenshotBeforeId,icon:x.jsx(DI,{size:18,className:"text-blue-500 dark:text-blue-400"})}),x.jsx(l,{title:"Screenshot Sesudah Trade",imageId:t.screenshotAfterId,icon:x.jsx(Jx,{size:18,className:"text-green-500 dark:text-green-400"})})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Catatan Trade"}),x.jsx("p",{className:"text-gray-800 dark:text-white text-sm whitespace-pre-wrap",children:t.notes||"Tidak ada catatan."})]})]})]}),x.jsx("div",{className:"flex justify-end mt-6 border-t border-gray-200 dark:border-gray-700 pt-4",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})]})},Bee=({isOpen:t,onClose:e,currentBalance:n,currency:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState("1"),[d,h]=C.useState("20"),[m,y]=C.useState("1"),[v,_]=C.useState("");C.useEffect(()=>{t&&n&&o(n.toFixed(2))},[t,n]);const E=C.useMemo(()=>{const T=parseFloat(a),I=parseFloat(l),P=parseFloat(d),L=parseFloat(m);if(isNaN(T)||isNaN(I)||isNaN(P)||isNaN(L)||T<=0||P<=0||L<=0)return{riskAmount:0,lotSize:0,isValid:!1};const B=T*(I/100),q=P*L,F=q>0?B/q:0;return{riskAmount:B,lotSize:F,isValid:!0}},[a,l,d,m]),S=()=>{if(E.isValid&&E.lotSize>0){const T=E.lotSize.toFixed(2);navigator.clipboard.writeText(T).then(()=>{_("Lot Size disalin!"),setTimeout(()=>_(""),2e3)}).catch(I=>{console.error("Failed to copy: ",I);try{const P=document.createElement("textarea");P.value=T,P.style.position="fixed",P.style.left="-9999px",document.body.appendChild(P),P.focus(),P.select(),document.execCommand("copy"),document.body.removeChild(P),_("Lot Size disalin!"),setTimeout(()=>_(""),2e3)}catch{_("Gagal menyalin."),setTimeout(()=>_(""),2e3)}})}};return t?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md relative",children:[v&&x.jsx("div",{className:"absolute top-4 right-4 bg-green-600 text-white text-xs px-3 py-1 rounded-full animate-fadeIn z-10",children:v}),x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[x.jsx(II,{size:24,className:"mr-2 text-blue-500 dark:text-blue-400"})," Kalkulator Lot Size"]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:["Saldo Akun (",r,")"]}),x.jsx("input",{type:"number",step:"any",value:a,onChange:T=>o(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Risiko per Trade (%)"}),x.jsx("input",{type:"number",step:"any",value:l,onChange:T=>c(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Jarak Stop Loss (Poin/Pips)"}),x.jsx("input",{type:"number",step:"any",value:d,onChange:T=>h(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:["Nilai per Poin/Pip per Lot (",r,")",x.jsx(Uf,{size:14,className:"ml-1 text-gray-400 dark:text-gray-500 cursor-help",title:"Nilai profit/loss dalam Dolar jika harga bergerak 1 poin/pip dengan ukuran 1.00 Lot. Contoh: XAU/USD = $1, EUR/USD = $10."})]}),x.jsx("input",{type:"number",step:"any",value:m,onChange:T=>y(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]})]}),x.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-center text-lg",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Risiko Maksimal:"}),x.jsx("span",{className:"font-bold text-red-500 dark:text-red-400",children:on(E.riskAmount,r)})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg text-center",children:[x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rekomendasi Lot Size"}),x.jsxs("div",{className:"flex items-center justify-center mt-1",children:[x.jsx("p",{className:"text-3xl font-extrabold text-blue-600 dark:text-blue-400",children:E.isValid?E.lotSize.toFixed(2):"0.00"}),x.jsx("button",{onClick:S,className:"ml-3 p-2 text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors",title:"Salin Lot Size",children:x.jsx(Hz,{size:20})})]})]})]}),x.jsx("div",{className:"flex justify-end mt-6",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})}):null},qee=({activeProfileId:t,showToast:e,onClose:n,currentGoal:r,currency:a})=>{const[o,l]=C.useState("weekly"),[c,d]=C.useState(""),[h,m]=C.useState(""),[y,v]=C.useState("");C.useEffect(()=>{r?(l(r.type||"weekly"),d(r.amount||""),m(r.dailyProfitTarget||""),v(r.dailyLossTarget||"")):(l("weekly"),d(""),m(""),v(""))},[r]);const _=async()=>{const S=parseFloat(c)||0,T=parseFloat(h)||0,I=parseFloat(y)||0;if(S<0||T<0||I<0){e("Target tidak boleh angka negatif.","error");return}if(S===0&&T===0&&I===0){e("Mohon isi setidaknya satu target.","info");return}const P={id:t,profileId:t,type:o,amount:S,dailyProfitTarget:T,dailyLossTarget:I,updatedAt:new Date};try{await O1("goals",P),e("Target berhasil disimpan!","success"),n()}catch(L){console.error("Error saving goal:",L),e("Gagal menyimpan target.","error")}},E=async()=>{try{await Ki("goals",t),e("Target berhasil dihapus.","success"),d(""),m(""),v(""),n()}catch(S){console.error("Error deleting goal:",S),e("Gagal menghapus target.","error")}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2 flex items-center",children:[x.jsx(r_,{size:24,className:"mr-2 text-yellow-400"})," Tetapkan Target"]}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Target harian hanya tampil di periode 'Harian'. Target mingguan/bulanan tampil di periode masing-masing."}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Target Mingguan/Bulanan"}),x.jsxs("div",{className:"flex space-x-2 p-1 bg-gray-100 dark:bg-gray-900 rounded-lg",children:[x.jsx("button",{onClick:()=>l("weekly"),className:`flex-1 py-2 text-sm rounded-md transition-colors ${o==="weekly"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Mingguan"}),x.jsx("button",{onClick:()=>l("monthly"),className:`flex-1 py-2 text-sm rounded-md transition-colors ${o==="monthly"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Bulanan"})]}),x.jsx("input",{id:"goalAmount",type:"number",step:"any",value:c,onChange:S=>d(S.target.value),placeholder:`Jumlah Target ${o==="weekly"?"Mingguan":"Bulanan"}`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded mt-2"})]}),x.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Target Harian"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx("input",{id:"dailyProfitTarget",type:"number",step:"any",value:h,onChange:S=>m(S.target.value),placeholder:`Profit Harian (${a})`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{id:"dailyLossTarget",type:"number",step:"any",value:y,onChange:S=>v(S.target.value),placeholder:`Batas Loss Harian (${a})`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]})]})]}),x.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[x.jsx(t_,{size:18,className:"inline mr-1"})," Simpan"]}),r&&(r.amount>0||r.dailyProfitTarget>0||r.dailyLossTarget>0)&&x.jsxs("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[x.jsx(_l,{size:18,className:"inline mr-1"})," Hapus"]})]}),x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})]})]})})},iO=({showToast:t,onClose:e,profiles:n,openDeleteModal:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState(""),[d,h]=C.useState("USD"),m=async y=>{y.preventDefault();const v=a.trim(),_=l.trim();if(!v){t("Nama profil tidak boleh kosong.","error");return}try{const E={id:crypto.randomUUID(),name:v,description:_,currency:d,createdAt:new Date};await Zs("profiles",E),t(`Profil '${v}' berhasil ditambahkan.`,"success"),e()}catch(E){console.error("Error adding profile:",E),t("Gagal menambah profil.","error")}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(MI,{size:24,className:"mr-2 text-blue-500 dark:text-blue-400"})," Kelola Profil Trading"]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:m,className:"flex-shrink-0 mb-6 p-4 bg-gray-100/50 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Tambah Profil Baru"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{type:"text",placeholder:"Nama Profil (e.g., Akun Pro)",value:a,onChange:y=>o(y.target.value),className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("textarea",{placeholder:"Deskripsi (e.g., Akun di broker XM, leverage 1:500)",value:l,onChange:y=>c(y.target.value),rows:"2",className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsxs("select",{value:d,onChange:y=>h(y.target.value),className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"USD",children:"USD ($)"}),x.jsx("option",{value:"IDR",children:"IDR (Rp)"})]})]}),x.jsx("div",{className:"flex justify-end mt-4",children:x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[x.jsx(_b,{size:18,className:"inline mr-1"})," Tambah Profil"]})})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Profil (",n.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:n.map(y=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[y.name," ",x.jsxs("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400",children:["(",y.currency,")"]})]}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:y.description||"Tidak ada deskripsi"})]}),x.jsx("button",{onClick:()=>r("profile",y),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Profil ${y.name}`,children:x.jsx(_l,{size:16})})]},y.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},$ee=({activeProfileId:t,showToast:e,onClose:n,customFields:r,openDeleteModal:a})=>{const[o,l]=C.useState(""),c=async d=>{d.preventDefault();const h=o.trim();if(!h){e("Nama field tidak boleh kosong.","error");return}if(r.some(m=>m.name.toLowerCase()===h.toLowerCase())){e(`Field '${h}' sudah ada.`,"error"),l("");return}try{const m={id:crypto.randomUUID(),profileId:t,name:h,createdAt:new Date};await Zs("custom_fields",m),e(`Field '${h}' berhasil ditambahkan.`,"success"),l("")}catch(m){e("Gagal menambah field.","error"),console.error("Error adding custom field:",m)}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(PI,{size:24,className:"mr-2 text-green-500 dark:text-green-400"})," Kelola Field Tambahan"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:c,className:"flex-shrink-0 mb-6 flex space-x-2",children:[x.jsx("input",{type:"text",placeholder:"Nama Field Baru (e.g., Sesi)",value:o,onChange:d=>l(d.target.value),className:"flex-grow bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tambah"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Field (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Anda belum menambahkan field tambahan."}):r.map(d=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:d.name}),x.jsx("button",{onClick:()=>a("custom_field",d),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Field ${d.name}`,children:x.jsx(_l,{size:16})})]},d.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},hj=({startDate:t,endDate:e,onStartDateChange:n,onEndDateChange:r})=>x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn flex flex-col sm:flex-row items-center justify-center gap-4 border border-gray-200 dark:border-gray-700",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex-shrink-0",children:"Pilih Rentang Tanggal:"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{htmlFor:"startDate",className:"text-sm text-gray-500 dark:text-gray-400",children:"Dari:"}),x.jsx("input",{type:"date",id:"startDate",value:t,onChange:a=>n(a.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{htmlFor:"endDate",className:"text-sm text-gray-500 dark:text-gray-400",children:"Hingga:"}),x.jsx("input",{type:"date",id:"endDate",value:e,onChange:a=>r(a.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"})]})]}),Fee=({trades:t,activePeriod:e,setActivePeriod:n,periods:r,onShowTradeDetail:a,currency:o,customStartDate:l,customEndDate:c,setCustomStartDate:d,setCustomEndDate:h})=>{const m=({trade:v})=>{const _=bg(v.screenshotAfterId),S=v.pnl>0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400";return _?x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden cursor-pointer transition-transform hover:scale-[1.02] border border-gray-200 dark:border-gray-700 relative group",onClick:()=>a(v),children:[x.jsxs("div",{className:"aspect-video w-full overflow-hidden bg-gray-100 dark:bg-gray-700",children:[x.jsx("img",{src:_,alt:`Trade ${v.pair}`,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-80"}),x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx("button",{className:"text-white bg-blue-600 p-3 rounded-full hover:bg-blue-700",children:x.jsx(Uf,{size:24})})})]}),x.jsxs("div",{className:"p-3",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 flex justify-between items-center",children:[v.pair,x.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${v.type==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:v.type.toUpperCase()})]}),x.jsxs("div",{className:"flex justify-between items-end mt-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-lg font-bold ${S}`,children:on(v.pnl,o)})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"R:R"}),x.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate max-w-[120px]",title:v.riskRewardRatio>0?`${v.riskRewardRatio.toFixed(2)}R`:"N/A",children:v.riskRewardRatio>0?`${v.riskRewardRatio.toFixed(2)}R`:"N/A"})]})]}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2 border-t border-gray-200 dark:border-gray-700 pt-2",children:gp(v.tradeDate)})]})]}):x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 relative aspect-video flex flex-col justify-between p-3",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 flex justify-between items-center",children:v.pair}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Memuat gambar..."})]}),x.jsxs("div",{className:"flex justify-between items-end mt-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-lg font-bold ${S}`,children:on(v.pnl,o)})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"R:R"}),x.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:v.riskRewardRatio>0?`${v.riskRewardRatio.toFixed(2)}R`:"N/A"})]})]})]})},y=t.filter(v=>v.screenshotAfterId).sort((v,_)=>new Date(_.tradeDate)-new Date(v.tradeDate));return x.jsxs("div",{className:"animate-fadeIn",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Galeri Visual Trade"}),x.jsx("div",{className:"flex space-x-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-xl mb-6",children:r.map(v=>x.jsx("button",{onClick:()=>n(v.key),className:Xo("px-4 py-2 text-sm font-medium rounded-lg transition-colors flex-grow",e===v.key?"bg-blue-600 text-white shadow-lg":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),children:v.label},v.key))}),e==="custom"&&x.jsx(hj,{startDate:l,endDate:c,onStartDateChange:d,onEndDateChange:h}),y.length===0?x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-10 rounded-xl text-center text-gray-500 mt-10",children:[x.jsx(Jx,{size:48,className:"mx-auto mb-3 text-gray-400 dark:text-gray-600"}),x.jsx("p",{className:"text-lg",children:"Tidak ada trade dengan gambar pada periode ini."}),x.jsx("p",{className:"text-sm mt-1",children:"Pastikan Anda mengupload gambar saat menambahkan trade."})]}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(v=>x.jsx(m,{trade:v},v.id))})]})},aO=({value:t,size:e=80,strokeWidth:n=8})=>{const r=e/2,a=r-n,o=2*Math.PI*a,l=o-t/100*o;return x.jsxs("div",{className:"relative",style:{width:e,height:e},children:[x.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[x.jsx("circle",{cx:r,cy:r,r:a,strokeWidth:n,className:"stroke-gray-200 dark:stroke-gray-700",fill:"transparent"}),x.jsx("circle",{cx:r,cy:r,r:a,strokeWidth:n,className:"stroke-blue-500 transition-all duration-500 ease-out",fill:"transparent",strokeDasharray:o,strokeDashoffset:l,strokeLinecap:"round"})]}),x.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-gray-900 dark:text-white font-bold text-lg",children:`${Math.round(t)}%`})]})},Hee=({winValue:t,lossValue:e})=>{const n=t+e;if(n===0)return x.jsx("div",{className:"h-2 w-full bg-gray-300 dark:bg-gray-600 rounded-full"});const r=t/n*100;return x.jsx("div",{className:"w-full bg-red-500/50 rounded-full h-2.5 flex overflow-hidden",children:x.jsx("div",{className:"bg-green-500 h-2.5",style:{width:`${r}%`}})})},js=({title:t,value:e,children:n,footer:r,icon:a})=>x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg flex flex-col justify-between min-h-[160px]",children:[x.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm mb-2",children:[a,x.jsx("span",{className:"ml-2",children:t})]}),x.jsxs("div",{className:"flex-grow flex items-center justify-center",children:[e&&x.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white my-2",children:e}),n]}),x.jsx("div",{className:"text-center text-xs text-gray-400 dark:text-gray-500 mt-2 h-8 flex items-center justify-center",children:r})]}),Kee=({goal:t,currentPnl:e,period:n,currency:r})=>{if(!t||!t.type||!t.amount||t.type!=="weekly"&&t.type!=="monthly"||t.type!==n)return null;const{amount:a,type:o}=t,l=e>0?e/a*100:0,c=Math.min(l,100),d=e>=a;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[x.jsx(r_,{size:20,className:"mr-2 text-yellow-400"}),"Target Profit ",o==="weekly"?"Mingguan":"Bulanan"]}),d&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-green-500/20 text-green-300 px-3 py-1 rounded-full",children:[x.jsx(Lm,{size:16,className:"mr-1.5"}),"Target Tercapai!"]})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("div",{className:"flex-grow",children:x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 relative overflow-hidden",children:x.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ease-out ${d?"bg-green-500":"bg-blue-500"}`,style:{width:`${c}%`}})})}),x.jsxs("div",{className:"flex-shrink-0 w-40 text-right",children:[x.jsx("span",{className:`font-bold text-lg ${d?"text-green-400 dark:text-green-300":"text-gray-900 dark:text-white"}`,children:on(e,r)}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" / ",on(a,r)]})]})]}),x.jsxs("p",{className:"text-right text-sm text-gray-500 dark:text-gray-400 mt-1",children:[l.toFixed(1),"%"]})]})},Gee=({goal:t,currentPnl:e,currency:n})=>{if(!t||t.dailyProfitTarget<=0&&t.dailyLossTarget<=0)return null;const{dailyProfitTarget:r,dailyLossTarget:a}=t,o=r>0&&e>0?e/r*100:0,l=Math.min(o,100),c=r>0&&e>=r,d=a>0&&e<0?Math.abs(e)/a*100:0,h=Math.min(d,100),m=a>0&&Math.abs(e)>=a;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[x.jsx(Lm,{size:20,className:"mr-2 text-cyan-400"}),"Target Harian"]}),c&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-green-500/20 text-green-300 px-3 py-1 rounded-full",children:[x.jsx(Lm,{size:16,className:"mr-1.5"}),"Profit Tercapai!"]}),m&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-red-500/20 text-red-300 px-3 py-1 rounded-full",children:[x.jsx(i_,{size:16,className:"mr-1.5"}),"Batas Loss Tercapai!"]})]}),r>0&&x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Target Profit"}),x.jsxs("div",{children:[x.jsx("span",{className:`font-bold ${c?"text-green-400":"text-gray-900 dark:text-white"}`,children:on(e>0?e:0,n)}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" / ",on(r,n)]})]})]}),x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ease-out ${c?"bg-green-500":"bg-cyan-500"}`,style:{width:`${l}%`}})})]}),a>0&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Batas Loss"}),x.jsxs("div",{children:[x.jsx("span",{className:`font-bold ${m?"text-red-400":"text-gray-900 dark:text-white"}`,children:on(e<0?e:0,n)}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" / ",on(-a,n)]})]})]}),x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:"h-3 rounded-full transition-all duration-500 ease-out bg-red-500",style:{width:`${h}%`}})})]})]})},Yee=({stats:t,currency:e})=>{if(!t)return null;const n=isFinite(t.profitFactor)?t.profitFactor.toFixed(2):"∞",r=isFinite(t.avgWinLossRatio)?t.avgWinLossRatio.toFixed(2):"∞";return x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6 animate-fadeIn",children:[x.jsx(js,{title:"Net P&L",value:on(t.netPnl,e),icon:x.jsx(Wz,{size:16}),footer:x.jsxs("span",{className:t.netPnl>=0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400",children:[" ",t.netPnl>=0?"Profit":"Loss"," "]})}),x.jsxs(js,{title:"Trade Win %",icon:x.jsx(n_,{size:16}),footer:x.jsxs("span",{children:[x.jsxs("span",{className:"text-green-500 dark:text-green-400",children:[t.wins," menang"]})," / ",x.jsxs("span",{className:"text-red-500 dark:text-red-400",children:[t.losses," kalah"]})]}),children:[" ",x.jsx(aO,{value:t.tradeWinRate})," "]}),x.jsx(js,{title:"Streak W/L",icon:x.jsx(a_,{size:16}),footer:x.jsx("span",{children:"Kemenangan / Kekalahan beruntun"}),children:x.jsxs("div",{className:"flex items-center justify-center space-x-6 text-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-3xl font-bold text-green-500 dark:text-green-400",children:t.consecutiveWins}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Menang"})]}),x.jsx("div",{className:"h-10 w-px bg-gray-200 dark:bg-gray-700"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-3xl font-bold text-red-500 dark:text-red-400",children:t.consecutiveLosses}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Kalah"})]})]})}),x.jsx(js,{title:"Profit Factor",value:n,icon:x.jsx(Gz,{size:16}),footer:x.jsxs("div",{className:"w-full flex flex-col items-center",children:[x.jsx("span",{className:"text-green-500",children:on(t.grossProfit,e)}),x.jsx("span",{className:"text-gray-500 mx-1",children:"/"}),x.jsx("span",{className:"text-red-500",children:on(t.grossLoss,e)})]})}),x.jsxs(js,{title:"Day Win %",icon:x.jsx(RI,{size:16}),footer:x.jsxs("span",{children:[x.jsxs("span",{className:"text-green-500 dark:text-green-400",children:[t.profitableDays," hari"]})," / ",x.jsxs("span",{className:"text-red-500 dark:text-red-400",children:[t.losingDays," hari"]})]}),children:[" ",x.jsx(aO,{value:t.dayWinRate})," "]}),x.jsx(js,{title:"Avg Win/Loss",icon:x.jsx(Iz,{size:16}),footer:x.jsxs("div",{className:"w-full flex flex-col items-center",children:[x.jsx(Hee,{winValue:t.avgWin,lossValue:Math.abs(t.avgLoss)}),x.jsxs("div",{className:"w-full flex justify-between mt-1",children:[x.jsx("span",{className:"text-green-500 dark:text-green-400",children:on(t.avgWin,e)}),x.jsx("span",{className:"text-red-500 dark:text-red-400",children:on(t.avgLoss,e)})]})]}),value:r}),x.jsx(js,{title:"Avg R:R Ratio",value:`${t.avgRiskReward.toFixed(2)}R`,icon:x.jsx(b7,{size:16}),footer:x.jsx("span",{children:"Rata-rata Risk to Reward"})}),x.jsx(js,{title:"Total Lot Digunakan",value:fj(t.totalLotUsed),icon:x.jsx(t7,{size:16}),footer:x.jsx("span",{children:"Volum Trading Akumulatif"})})]})},Wee=({data:t,period:e,currency:n,theme:r,chartType:a})=>{const o=r==="dark"?"#A0AEC0":"#4A5568",l=r==="dark"?"#4A5568":"#E2E8F0",c=a==="balance"?"Saldo":"P&L",d=m=>{if(m==="Start")return"Awal";const y=new Date(m);return isNaN(y)?m:e==="monthly"||e==="custom"?y.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="weekly"?y.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="daily"?y.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="yearly"?y.getFullYear():y.toLocaleDateString("id-ID")},h=({active:m,payload:y,label:v})=>{if(m&&y&&y.length){const _=v==="Start"?"Awal Periode":`Tanggal: ${v}`;return x.jsxs("div",{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm p-3 rounded-lg border border-gray-300 dark:border-gray-600",children:[x.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:_}),x.jsx("p",{className:"text-gray-900 dark:text-white font-bold",children:`${c}: ${on(y[0].value,n)}`})]})}return null};return x.jsx(XW,{width:"100%",height:"100%",children:x.jsxs(Oee,{data:t,margin:{top:5,right:20,left:-10,bottom:20},children:[x.jsx(BM,{strokeDasharray:"3 3",stroke:l}),x.jsx(XM,{dataKey:"name",stroke:o,tickFormatter:d,tick:{fontSize:12}}),x.jsx(QM,{stroke:o,tickFormatter:m=>n==="IDR"?`${m/1e6}jt`:`$${m/1e3}k`,tick:{fontSize:12},domain:["dataMin","dataMax"]}),x.jsx(zW,{content:x.jsx(h,{})}),a==="pnl"&&x.jsx(w1,{y:0,stroke:o,strokeDasharray:"4 4"}),x.jsx("defs",{children:x.jsxs("linearGradient",{id:"colorChart",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),x.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),x.jsx(WM,{type:"monotone",dataKey:"value",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorChart)",strokeWidth:2})]})})},Xee=({activeProfileId:t,showToast:e,onClose:n,templates:r,openDeleteModal:a})=>{const o={name:"",pair:"",type:"long",lotSize:"0.01",setup:"",pnl:"0",riskRewardRatio:"0"},[l,c]=C.useState(o),[d,h]=C.useState(null),m=E=>{const{name:S,value:T}=E.target;c(I=>({...I,[S]:T}))},y=E=>{h(E),c({...E,lotSize:String(E.lotSize),pnl:String(E.pnl),riskRewardRatio:String(E.riskRewardRatio||"0")})},v=async E=>{E.preventDefault();const S={...l,lotSize:parseFloat(l.lotSize)||0,pnl:parseFloat(l.pnl)||0,riskRewardRatio:parseFloat(l.riskRewardRatio)||0};if(!S.name.trim()){e("Nama Template wajib diisi.","error");return}try{if(d)await O1("templates",{...S,id:d.id,profileId:t,updatedAt:new Date}),e(`Template '${S.name}' berhasil diupdate.`,"success");else{const T=crypto.randomUUID();await Zs("templates",{...S,id:T,profileId:t,createdAt:new Date}),e(`Template '${S.name}' berhasil ditambahkan.`,"success")}c(o),h(null)}catch(T){e("Gagal menyimpan Template.","error"),console.error("Error saving template:",T)}},_=()=>{h(null),c(o)};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(a_,{size:24,className:"mr-2 text-yellow-400"})," Kelola Template Trade"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:v,className:"flex-shrink-0 mb-6 p-4 bg-gray-100/50 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:d?`Edit Template: ${d.name}`:"Buat Template Baru"}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[x.jsx("input",{type:"text",name:"name",placeholder:"Nama Template (Wajib)",value:l.name,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-4",required:!0}),x.jsx("input",{type:"text",name:"pair",placeholder:"Pair Default (e.g., XAU/USD)",value:l.pair,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsxs("select",{name:"type",value:l.type,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1",children:[x.jsx("option",{value:"long",children:"Long (Buy)"}),x.jsx("option",{value:"short",children:"Short (Sell)"})]}),x.jsx("input",{type:"number",step:"any",name:"lotSize",placeholder:"Lot Size Default",value:l.lotSize,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsx("input",{type:"number",step:"any",name:"pnl",placeholder:"P&L Default (0 jika kosong)",value:l.pnl,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsx("input",{type:"number",step:"any",name:"riskRewardRatio",placeholder:"R:R Ratio (e.g., 2)",value:l.riskRewardRatio,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-2"}),x.jsx("input",{type:"text",name:"setup",placeholder:"Setup/Strategi Default",value:l.setup,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-4"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[d&&x.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Batal Edit"}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[x.jsx(t_,{size:18,className:"inline mr-1"})," ",d?"Update Template":"Simpan Template"]})]})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Template (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Buat template pertama Anda di atas."}):r.map(E=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center transition-shadow hover:shadow-md hover:shadow-gray-700/50",children:[x.jsxs("div",{className:"flex flex-col text-sm",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:E.name}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[E.pair||"-"," | ",E.type," | Lot: ",E.lotSize.toFixed(2)," | R:R: ",parseFloat(E.riskRewardRatio||0)>0?`${E.riskRewardRatio}R`:"N/A"]})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>y(E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-yellow-400 transition-colors",title:`Edit Template ${E.name}`,children:x.jsx(e_,{size:16})}),x.jsx("button",{onClick:()=>a("template",E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Template ${E.name}`,children:x.jsx(_l,{size:16})})]})]},E.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},Qee=({activeProfileId:t,showToast:e,onClose:n,pairs:r,openDeleteModal:a})=>{const[o,l]=C.useState(""),c=async d=>{d.preventDefault();const h=o.trim().toUpperCase();if(!h){e("Nama Pair tidak boleh kosong.","error");return}if(r.some(m=>m.name?.toUpperCase()===h)){e(`Pair '${h}' sudah ada.`,"error"),l("");return}try{const m={id:crypto.randomUUID(),profileId:t,name:h,createdAt:new Date};await Zs("pairs",m),e(`Pair ${h} berhasil ditambahkan.`,"success"),l("")}catch(m){e("Gagal menambah Pair.","error"),console.error("Error adding pair:",m)}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(n_,{size:24,className:"mr-2 text-yellow-400"})," Kelola Pair Trading"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:c,className:"flex-shrink-0 mb-6 flex space-x-2",children:[x.jsx("input",{type:"text",placeholder:"Nama Pair (e.g., EUR/USD)",value:o,onChange:d=>l(d.target.value.toUpperCase()),className:"flex-grow bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0,maxLength:10}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tambah"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Pair (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Tambahkan pair trading yang sering Anda gunakan di atas."}):r.map(d=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center transition-shadow hover:shadow-md hover:shadow-gray-700/50",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:d.name}),x.jsx("button",{onClick:()=>a("pair",d),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Pair ${d.name}`,children:x.jsx(_l,{size:16})})]},d.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},Zee=({onSaveTrade:t,editingTrade:e,onCancelEdit:n,pairs:r,templates:a,customFields:o,activeProfileId:l})=>{const c=C.useMemo(()=>{const O={tradeDate:xg(new Date),pair:"",type:"long",lotSize:"0.01",pnl:"0",setup:"",notes:"",screenshotBeforeId:null,screenshotAfterId:null,entryPrice:"",takeProfit:"",stopLoss:"",riskRewardRatio:"0",customData:{}};return o.forEach(D=>{O.customData[D.name]=""}),O},[o]),[d,h]=C.useState(c),[m,y]=C.useState(""),[v,_]=C.useState(null),[E,S]=C.useState(null),T=bg(d.screenshotBeforeId),I=bg(d.screenshotAfterId);C.useEffect(()=>{let O=e?{...c,...e,tradeDate:xg(e.tradeDate),pnl:String(e.pnl||"0"),lotSize:String(e.lotSize||"0.01"),riskRewardRatio:String(e.riskRewardRatio||"0"),entryPrice:String(e.entryPrice||""),takeProfit:String(e.takeProfit||""),stopLoss:String(e.stopLoss||"")}:c;O.customData=O.customData||{},o.forEach(D=>{O.customData.hasOwnProperty(D.name)||(O.customData[D.name]="")}),e&&e.pair&&!r.some(D=>D.name===e.pair)?h({...O,pair:e.pair}):r.length>0&&!O.pair?h({...O,pair:r[0].name}):h(O),y(""),_(null),S(null)},[e,r,c,o]),C.useEffect(()=>{const O=parseFloat(d.entryPrice),D=parseFloat(d.takeProfit),U=parseFloat(d.stopLoss),j=d.type;if(O>0&&D>0&&U>0){let z,V;if(j==="long"?(V=D-O,z=O-U):(V=O-D,z=U-O),z>0&&V>0){const pe=V/z;h(ye=>({...ye,riskRewardRatio:pe.toFixed(2)}))}else h(pe=>({...pe,riskRewardRatio:"0"}))}},[d.entryPrice,d.takeProfit,d.stopLoss,d.type]);const P=O=>{const{name:D,value:U}=O.target;h(j=>({...j,[D]:U})),y("")},L=O=>{const{name:D,value:U}=O.target;h(j=>({...j,customData:{...j.customData,[D]:U}}))},B=(O,D)=>{const U=O.target.files[0];U&&(D==="before"?(_(U),h(j=>({...j,screenshotBeforeId:null}))):(S(U),h(j=>({...j,screenshotAfterId:null}))))},q=O=>{const D=O.target.value;if(y(D),D){const U=a.find(j=>j.id===D);U&&h(j=>({...j,pair:U.pair||"",type:U.type||"long",lotSize:String(U.lotSize||"0.01"),pnl:String(U.pnl||"0"),setup:U.setup||"",riskRewardRatio:String(U.riskRewardRatio||"0"),notes:"",screenshotBeforeId:null,screenshotAfterId:null}))}else h(U=>({...c,tradeDate:U.tradeDate,pair:r.length>0?r[0].name:""}))},F=O=>{O.preventDefault();const D={...d,id:e?e.id:crypto.randomUUID(),profileId:l,pnl:parseFloat(d.pnl)||0,lotSize:parseFloat(d.lotSize)||0,riskRewardRatio:parseFloat(d.riskRewardRatio)||0,entryPrice:parseFloat(d.entryPrice)||0,takeProfit:parseFloat(d.takeProfit)||0,stopLoss:parseFloat(d.stopLoss)||0,tradeDate:new Date(d.tradeDate)};t(D,v,E)},R=({id:O,label:D,file:U,onChange:j,existingImageUrl:z})=>{const[V,pe]=C.useState(null);C.useEffect(()=>{if(!U){pe(null);return}const Z=URL.createObjectURL(U);return pe(Z),()=>URL.revokeObjectURL(Z)},[U]);const ye=V||z;return x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:D}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-24 h-24 flex-shrink-0",children:ye?x.jsxs("div",{className:"relative group w-full h-full",children:[x.jsx("img",{src:ye,alt:"Preview",className:"h-full w-full object-cover rounded-lg"}),x.jsx("label",{htmlFor:O,className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg cursor-pointer",children:x.jsx(e_,{size:24,className:"text-white"})})]}):x.jsx("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:x.jsx(DI,{size:32,className:"text-gray-400 dark:text-gray-500"})})}),x.jsxs("label",{htmlFor:O,className:"cursor-pointer bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white py-2 px-4 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 text-sm w-full",children:[x.jsx($z,{size:16,className:"mr-2"}),x.jsx("span",{className:"truncate",children:U?U.name:"Upload Gambar"})]}),x.jsx("input",{id:O,type:"file",onChange:j,className:"hidden",accept:"image/*"})]})]})};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("form",{onSubmit:F,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e?"Edit Trade":"Tambah Trade Baru"}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Pilih Template (Opsional)"}),x.jsxs("select",{value:m,onChange:q,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"",children:"-- Tanpa Template --"}),a.map(O=>x.jsx("option",{value:O.id,children:O.name},O.id))]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.length>0?x.jsxs("select",{name:"pair",value:d.pair||"",onChange:P,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0,children:[x.jsx("option",{value:"",disabled:!0,children:"Pilih Pair"}),r.map(O=>x.jsx("option",{value:O.name,children:O.name},O.id)),e&&e.pair&&!r.some(O=>O.name===e.pair)&&x.jsxs("option",{value:e.pair,className:"text-gray-400 bg-gray-800",children:[e.pair," (Lama)"]})]}):x.jsx("input",{name:"pair",value:d.pair||"",onChange:P,placeholder:"Pair (e.g., BTC/USD)",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("input",{type:"datetime-local",name:"tradeDate",value:d.tradeDate||"",onChange:P,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsxs("select",{name:"type",value:d.type||"long",onChange:P,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"long",children:"Long"}),x.jsx("option",{value:"short",children:"Short"})]}),x.jsx("input",{type:"number",step:"any",name:"pnl",value:d.pnl||"",onChange:P,placeholder:"P&L (Hasil Trade)",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded font-bold",required:!0}),x.jsx("input",{type:"number",step:"any",name:"lotSize",value:d.lotSize||"",onChange:P,placeholder:"Lot Size",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("input",{name:"setup",value:d.setup||"",onChange:P,placeholder:"Setup/Strategi Trade",className:"md:col-span-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"entryPrice",value:d.entryPrice||"",onChange:P,placeholder:"Harga Entry",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"takeProfit",value:d.takeProfit||"",onChange:P,placeholder:"Harga Take Profit",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"stopLoss",value:d.stopLoss||"",onChange:P,placeholder:"Harga Stop Loss",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"R:R Ratio"}),x.jsx("input",{type:"number",step:"any",name:"riskRewardRatio",value:d.riskRewardRatio||"",onChange:P,placeholder:"R:R Ratio (Otomatis)",className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),o.map(O=>x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:O.name}),x.jsx("input",{name:O.name,value:d.customData?.[O.name]||"",onChange:L,placeholder:`Input untuk ${O.name}`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]},O.id)),x.jsx(R,{id:"ss-before",label:"Screenshot (Sebelum)",file:v,onChange:O=>B(O,"before"),existingImageUrl:T}),x.jsx(R,{id:"ss-after",label:"Screenshot (Sesudah)",file:E,onChange:O=>B(O,"after"),existingImageUrl:I}),x.jsx("textarea",{name:"notes",value:d.notes||"",onChange:P,placeholder:"Catatan...",rows:"3",className:"md:col-span-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Batal"}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[x.jsx(t_,{size:18,className:"mr-2"}),e?"Update":"Simpan"]})]})]})})},Jee=({activeProfileId:t,showToast:e,onClose:n,openDeleteModal:r,currency:a})=>{const[o,l]=C.useState([]),[c,d]=C.useState("deposit"),[h,m]=C.useState(""),[y,v]=C.useState(xg(new Date));C.useEffect(()=>{t&&Ia("balance_transactions",t).then(E=>{l(E.sort((S,T)=>T.date-S.date))})},[t]);const _=async E=>{if(E.preventDefault(),!h||parseFloat(h)<=0){e("Jumlah harus lebih dari nol","error");return}try{const S={id:crypto.randomUUID(),profileId:t,type:c,amount:parseFloat(h),date:new Date(y)};await Zs("balance_transactions",S),e("Transaksi berhasil ditambahkan!","success"),m(""),v(xg(new Date)),Ia("balance_transactions",t).then(T=>{l(T.sort((I,P)=>P.date-I.date))})}catch(S){e("Error menambah transaksi","error"),console.error(S)}};return x.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:[" ",x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[" ",x.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex-shrink-0",children:"Kelola Saldo"})," ",x.jsxs("form",{onSubmit:_,className:"flex-shrink-0 mb-6",children:[" ",x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[" ",x.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"deposit",children:"Deposit"}),x.jsx("option",{value:"withdrawal",children:"Withdrawal"})]})," ",x.jsx("input",{type:"number",placeholder:"Jumlah",value:h,onChange:E=>m(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0})," ",x.jsx("input",{type:"datetime-local",value:y,onChange:E=>v(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0})," "]})," ",x.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:"Tambah Transaksi"})," "]})," ",x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:"Riwayat"})," ",x.jsxs("div",{className:"overflow-y-auto flex-grow",children:[" ",x.jsxs("ul",{className:"space-y-2",children:[" ",o.map(E=>x.jsxs("li",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[" ",x.jsxs("div",{className:"flex items-center",children:[" ",E.type==="deposit"?x.jsx(NI,{className:"text-green-500 dark:text-green-400 mr-3"}):x.jsx(OI,{className:"text-red-500 dark:text-red-400 mr-3"})," ",x.jsxs("div",{children:[" ",x.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:[E.type,": ",on(E.amount,a)]})," ",x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:gp(E.date)})," "]})," "]})," ",x.jsx("button",{onClick:()=>r("transaction",E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500",children:x.jsx(_l,{size:16})})," "]},E.id))," "]})," "]})," ",x.jsxs("div",{className:"flex justify-end mt-6 flex-shrink-0",children:[" ",x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Tutup"})," "]})," "]})," "]})},mj=({trades:t,onEdit:e,onDelete:n,onView:r,title:a="Riwayat Trade",requestSort:o,sortConfig:l,customFields:c,currency:d})=>{const h=v=>l&&l.key===v?l.direction==="ascending"?"▲":"▼":null,m=v=>{o&&o(v)},y=(v,_=!1)=>{let E="p-3";return _&&(E+=" text-right"),o&&(E+=" cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"),{scope:"col",className:E,onClick:()=>m(v)}};return x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg animate-fadeIn overflow-hidden mt-6",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white p-4",children:a}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[x.jsx("thead",{className:"text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-700",children:x.jsxs("tr",{children:[x.jsxs("th",{...y("tradeDate"),children:["Tanggal ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("tradeDate")})]}),x.jsxs("th",{...y("pair"),children:["Pair ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("pair")})]}),x.jsxs("th",{...y("type"),children:["Tipe ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("type")})]}),x.jsxs("th",{...y("lotSize",!0),children:["Lot ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("lotSize")})]}),x.jsxs("th",{...y("pnl",!0),children:["P&L ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("pnl")})]}),x.jsxs("th",{...y("riskRewardRatio",!0),children:["R:R ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("riskRewardRatio")})]}),x.jsxs("th",{...y("setup"),children:["Setup ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("setup")})]}),c.map(v=>x.jsxs("th",{...y(v.name),children:[v.name," ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h(v.name)})]},v.id)),x.jsx("th",{scope:"col",className:"p-3 text-center",children:"Aksi"})]})}),x.jsx("tbody",{children:t.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:8+c.length,className:"text-center p-6 text-gray-500",children:"Tidak ada trade untuk ditampilkan."})}):t.map(v=>x.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[x.jsx("td",{className:"p-3",children:gp(v.tradeDate)}),x.jsx("td",{className:"p-3 font-medium text-gray-900 dark:text-white",children:v.pair}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${v.type==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:v.type})}),x.jsx("td",{className:"p-3 text-right",children:v.lotSize.toFixed(2)}),x.jsx("td",{className:`p-3 text-right font-bold ${v.pnl>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:on(v.pnl,d)}),x.jsx("td",{className:"p-3 text-right",children:v.riskRewardRatio>0?`${v.riskRewardRatio.toFixed(2)}R`:"-"}),x.jsx("td",{className:"p-3",children:v.setup||"-"}),c.map(_=>x.jsx("td",{className:"p-3",children:v.customData?.[_.name]||"-"},_.id)),x.jsx("td",{className:"p-3 text-center",children:x.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[x.jsx("button",{onClick:()=>r(v),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400",title:"Lihat Rincian",children:x.jsx(Uf,{size:16})}),x.jsx("button",{onClick:()=>e(v),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-yellow-500 dark:hover:text-yellow-400",title:"Edit Trade",children:x.jsx(e_,{size:16})}),x.jsx("button",{onClick:()=>n("trade",v),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-red-500",title:"Delete Trade",children:x.jsx(_l,{size:16})})]})})]},v.id))})]})})]})},ete=({trades:t,onEdit:e,onDelete:n,onView:r,customFields:a,currency:o})=>{const[l,c]=C.useState(new Date),[d,h]=C.useState(null),m=C.useMemo(()=>{const S=new Map;return t.forEach(T=>{const I=Ra(T.tradeDate);S.has(I)||S.set(I,{pnl:0,trades:[],wins:0,losses:0});const P=S.get(I);P.pnl+=T.pnl,P.trades.push(T),T.pnl>0?P.wins++:T.pnl<0&&P.losses++}),S},[t]),y=S=>{const T=Ra(S);m.has(T)&&h(S)},v=()=>{const S=l.getFullYear(),T=l.getMonth(),I=new Date().getFullYear(),P=I-5,L=I+5,B=Array.from({length:L-P+1},(F,R)=>P+R),q=[{value:0,label:"Januari"},{value:1,label:"Februari"},{value:2,label:"Maret"},{value:3,label:"April"},{value:4,label:"Mei"},{value:5,label:"Juni"},{value:6,label:"Juli"},{value:7,label:"Agustus"},{value:8,label:"September"},{value:9,label:"Oktober"},{value:10,label:"November"},{value:11,label:"Desember"}];return x.jsxs("div",{className:"flex justify-between items-center p-4",children:[x.jsx("button",{onClick:()=>c(F=>new Date(F.getFullYear(),F.getMonth()-1,1)),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600",children:x.jsx(Mz,{})}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("select",{value:T,onChange:F=>c(R=>new Date(R.getFullYear(),parseInt(F.target.value),1)),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white font-semibold py-2 px-3 rounded-lg appearance-none cursor-pointer",children:q.map(F=>x.jsx("option",{value:F.value,children:F.label},F.value))}),x.jsx("select",{value:S,onChange:F=>c(R=>new Date(parseInt(F.target.value),R.getMonth(),1)),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white font-semibold py-2 px-3 rounded-lg appearance-none cursor-pointer",children:B.map(F=>x.jsx("option",{value:F,children:F},F))})]}),x.jsx("button",{onClick:()=>c(F=>new Date(F.getFullYear(),F.getMonth()+1,1)),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600",children:x.jsx(Lz,{})})]})},_=()=>{const S=new Date(l.getFullYear(),l.getMonth(),1),T=new Date(S);T.setDate(T.getDate()-S.getDay());const I=[];let P=new Date(T);for(let L=0;L<6;L++){const B=[];let q=0,F=0;for(let R=0;R<7;R++){const O=new Date(P),D=Ra(O),U=m.get(D);U&&(q+=U.pnl,F++);const j=U?U.wins/(U.wins+U.losses)*100:0;B.push(x.jsxs("div",{className:Xo("relative p-2 h-28 md:h-32 border-t border-l border-gray-200 dark:border-gray-700 flex flex-col",P.getMonth()!==l.getMonth()?"text-gray-500 dark:text-gray-600 bg-gray-50 dark:bg-gray-900/50":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800",U?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700":"",Ra(d)===D?"bg-blue-600/20 dark:bg-blue-600/50 ring-2 ring-blue-400":""),onClick:()=>y(O),children:[x.jsx("span",{className:Xo("font-medium",Ra(new Date)===D?"text-blue-500 dark:text-blue-400 font-bold":""),children:O.getDate()}),U&&x.jsxs("div",{className:"mt-1 text-xs flex-grow flex flex-col justify-end",children:[x.jsx("p",{className:Xo("font-bold",U.pnl>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:on(U.pnl,o)}),x.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[U.trades.length," trade",U.trades.length>1?"s":""]}),x.jsx("p",{className:Xo(U.wins>U.losses?"text-green-500":"text-red-500"),children:isNaN(j)?"N/A":`${j.toFixed(0)}% win`})]})]},P)),P.setDate(P.getDate()+1)}I.push(x.jsxs("div",{className:"grid grid-cols-8",children:[B,x.jsx("div",{className:"p-2 h-28 md:h-32 border-t border-l border-r border-gray-200 dark:border-gray-700 flex flex-col justify-center items-center text-center bg-white dark:bg-gray-800",children:F>0?x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Week ",L+1]}),x.jsx("p",{className:Xo("font-bold text-sm",q>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:on(q,o)}),x.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:[F," hari"]})]}):x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-600",children:["Week ",L+1]})})]},`week-${L}`))}return x.jsx("div",{children:I})},E=d?(m.get(Ra(d))?.trades||[]).sort((S,T)=>(T.tradeDate?.getTime()||0)-(S.tradeDate?.getTime()||0)):[];return x.jsxs("div",{className:"animate-fadeIn",children:[x.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[v(),x.jsxs("div",{className:"grid grid-cols-8 text-center font-semibold text-gray-500 dark:text-gray-400 text-xs px-2 pb-2",children:[["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(S=>x.jsx("div",{children:S},S)),x.jsx("div",{className:"text-blue-500 dark:text-blue-400",children:"Mingguan"})]}),_()]}),d&&x.jsx(mj,{trades:E,onEdit:e,onView:r,onDelete:n,title:`Trade untuk ${d.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,customFields:a,currency:o})]})},tte=({profiles:t,activeProfile:e,onSelectProfile:n,onManageProfiles:r})=>{const[a,o]=C.useState(!1),l=c=>{n(c),o(!1)};return e?x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>o(!a),className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 w-full text-left",children:[x.jsx(MI,{size:20,className:"text-blue-500 dark:text-blue-400"}),x.jsxs("div",{className:"flex-grow",children:[x.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate",children:e.name}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.description||"Tidak ada deskripsi"})]}),x.jsx(Dz,{size:16,className:`transition-transform text-gray-600 dark:text-gray-400 ${a?"rotate-180":""}`})]}),a&&x.jsx("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-20",children:x.jsxs("ul",{children:[t.map(c=>x.jsx("li",{children:x.jsxs("a",{href:"#",onClick:()=>l(c),className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[c.name," ",x.jsxs("span",{className:"text-xs text-gray-500",children:["(",c.currency,")"]})]})},c.id)),x.jsx("li",{children:x.jsx("button",{onClick:()=>{r(),o(!1)},className:"w-full text-left px-4 py-2 text-sm text-blue-500 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 border-t border-gray-200 dark:border-gray-700",children:"Tambah/Kelola Akun..."})})]})})]}):x.jsx("div",{className:"text-gray-900 dark:text-white",children:"Memuat profil..."})};function nte(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState([]),[d,h]=C.useState([]),[m,y]=C.useState(0),[v,_]=C.useState(null),[E,S]=C.useState(null),[T,I]=C.useState(!1),[P,L]=C.useState([]),[B,q]=C.useState(null),[F,R]=C.useState(!0),[O,D]=C.useState(""),[U,j]=C.useState(()=>localStorage.getItem("appTheme")||"dark"),[z,V]=C.useState({message:"",type:""}),[pe,ye]=C.useState(!1),[Z,ue]=C.useState(!1),[ge,Ee]=C.useState(null),[H,ie]=C.useState(null),[ae,de]=C.useState(!1),[we,Ne]=C.useState(!1),[Ie,Kt]=C.useState(!1),[st,me]=C.useState(!1),[Be,He]=C.useState(!1),[ce,Dt]=C.useState(!1),[Je,Gt]=C.useState(!1),[Jt,Tt]=C.useState(!1),[bi,zt]=C.useState(null),[St,Cr]=C.useState("dashboard"),[pn,ua]=C.useState("all"),[ar,ca]=C.useState({key:"tradeDate",direction:"descending"}),[sr,yn]=C.useState("balance"),[Yt,An]=C.useState(new Date().toLocaleDateString("en-CA")),[Or,mo]=C.useState(new Date().toLocaleDateString("en-CA")),is=C.useMemo(()=>[{key:"all",label:"Semua"},{key:"daily",label:"Harian"},{key:"weekly",label:"Mingguan"},{key:"monthly",label:"Bulanan"},{key:"yearly",label:"Tahunan"},{key:"custom",label:"Kustom"}],[]);C.useEffect(()=>{U==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("appTheme",U)},[U]);const Nr=()=>{j(he=>he==="dark"?"light":"dark")},pr=C.useCallback(async()=>{const ve=(await Mee("profiles")).sort((Ce,ke)=>Ce.createdAt-ke.createdAt);if(L(ve),B&&!ve.some(Ce=>Ce.id===B.id)){const Ce=ve.length>0?ve[0]:null;q(Ce),Ce?localStorage.setItem("activeProfileId",Ce.id):localStorage.removeItem("activeProfileId")}else if(!B&&ve.length>0){const Ce=localStorage.getItem("activeProfileId"),ke=ve.find(Re=>Re.id===Ce);q(ke||ve[0])}},[B]),Lt=C.useCallback(async he=>{if(!he){e([]),r([]),o([]),c([]),h([]),_(null),y(0);return}const[ve,Ce,ke,Re,Ke,at]=await Promise.all([Ia("trades",he),Ia("pairs",he),Ia("templates",he),Ia("custom_fields",he),Ia("balance_transactions",he),cj("goals",he)]);e(ve),r(Ce.sort((ze,dt)=>ze.createdAt-dt.createdAt)),o(ke.sort((ze,dt)=>ze.name.localeCompare(dt.name))),c(Re.sort((ze,dt)=>ze.createdAt-dt.createdAt)),h(Ke.sort((ze,dt)=>dt.date-ze.date)),_(at);const bt=Ke.filter(ze=>ze.type==="deposit").reduce((ze,dt)=>ze+dt.amount,0),Ue=Ke.filter(ze=>ze.type==="withdrawal").reduce((ze,dt)=>ze+dt.amount,0);y(bt-Ue)},[]);C.useEffect(()=>{uj().then(()=>{console.log("Database initialized")});const he=UL(nm,ve=>{S(ve),I(!0),ve?pr().then(()=>R(!1)):(q(null),L([]),Lt(null),R(!1))});return()=>he()},[pr,Lt]),C.useEffect(()=>{B?Lt(B.id):!F&&E&&Lt(null)},[B,F,E,Lt]);const yr=he=>{q(he),localStorage.setItem("activeProfileId",he.id)},Pi=async(he,ve)=>{try{const ke=(await jL(nm,he,ve)).user,Re=await jee(),Ke=ez(Iee,"device_auths",ke.uid),at=await gz(Ke);if(at.exists()){if(at.data().fingerprint!==Re){D("Akun ini sudah terdaftar di perangkat lain. Silakan login di perangkat pertama Anda."),await xS(nm);return}}else await yz(Ke,{fingerprint:Re,createdAt:new Date,email:ke.email,userAgent:navigator.userAgent});D("")}catch(Ce){console.error("Login failed:",Ce),Ce.code==="auth/invalid-credential"||Ce.code==="auth/wrong-password"||Ce.code==="auth/user-not-found"?D("Email atau kata sandi yang Anda masukkan salah."):D("Terjadi kesalahan. Silakan coba lagi.")}},as=async()=>{try{await xS(nm),Wt("Anda telah berhasil keluar.","success")}catch(he){console.error("Logout failed:",he),Wt("Gagal keluar.","error")}},Wt=(he,ve)=>{V({message:he,type:ve}),setTimeout(()=>V({message:"",type:""}),3e3)},Xr=he=>{ie(he)},ss=async(he,ve,Ce)=>{if(!B)return;const ke=!!ge?.id,Re={...he};try{if(ke&&(ve&&ge.screenshotBeforeId&&await Ki("trade_images",ge.screenshotBeforeId),Ce&&ge.screenshotAfterId&&await Ki("trade_images",ge.screenshotAfterId)),ve){const Ke=crypto.randomUUID();await Zs("trade_images",{id:Ke,file:ve}),Re.screenshotBeforeId=Ke}if(Ce){const Ke=crypto.randomUUID();await Zs("trade_images",{id:Ke,file:Ce}),Re.screenshotAfterId=Ke}ke?await O1("trades",{...Re,updatedAt:new Date}):await Zs("trades",{...Re,createdAt:new Date,updatedAt:new Date}),Wt(ke?"Trade berhasil diupdate!":"Trade berhasil ditambah!","success"),Ee(null),ue(!1),Lt(B.id)}catch(Ke){console.error(Ke),Wt("Gagal menyimpan trade.","error")}},ct=(he,ve)=>{zt({type:he,data:ve}),Tt(!0)},Sl=async()=>{if(!bi)return;const{type:he,data:ve}=bi;try{if(he==="profile"){await Mi(ve);return}if(he==="trade"&&(ve.screenshotBeforeId&&await Ki("trade_images",ve.screenshotBeforeId),ve.screenshotAfterId&&await Ki("trade_images",ve.screenshotAfterId)),!B)return;let Ce="",ke="";switch(he){case"trade":Ce="trades",ke="Trade";break;case"transaction":Ce="balance_transactions",ke="Transaksi";break;case"pair":Ce="pairs",ke="Pair";break;case"template":Ce="templates",ke="Template";break;case"custom_field":Ce="custom_fields",ke="Field";break;default:return}await Ki(Ce,ve.id),Wt(`${ke} berhasil dihapus.`,"success"),Lt(B.id)}catch(Ce){console.error(`Error deleting ${he}:`,Ce),Wt("Gagal menghapus item.","error")}finally{zt(null),Tt(!1)}},Mi=async he=>{if(he){Wt(`Menghapus profil '${he.name}'...`,"info");try{const ve=["trades","balance_transactions","pairs","templates","custom_fields","goals"],Ce=await Ia("trades",he.id);for(const ke of Ce)ke.screenshotBeforeId&&await Ki("trade_images",ke.screenshotBeforeId),ke.screenshotAfterId&&await Ki("trade_images",ke.screenshotAfterId);for(const ke of ve){const Re=await Ia(ke,he.id);for(const Ke of Re)await Ki(ke,Ke.id)}await Ki("profiles",he.id),Wt(`Profil '${he.name}' dan semua datanya berhasil dihapus.`,"success"),pr()}catch(ve){console.error("Error deleting profile and its data:",ve),Wt("Gagal menghapus profil secara lengkap.","error")}finally{zt(null),Tt(!1)}}},vr=C.useMemo(()=>{if(!B)return[];const he=ke=>{const Re=new Date(ke);return Re.setHours(0,0,0,0),Re},ve=ke=>{const Re=new Date(ke);return Re.setHours(23,59,59,999),Re};return((ke,Re)=>{if(Re==="all")return ke;if(Re==="custom"){if(!Yt||!Or)return[];const bt=he(Yt),Ue=ve(Or);return ke.filter(ze=>{const dt=ze.tradeDate||new Date(0);return dt>=bt&&dt<=Ue})}const Ke=new Date,at=new Date(Ke);switch(Re){case"daily":at.setHours(0,0,0,0);break;case"weekly":const bt=Ke.getDay();at.setDate(Ke.getDate()-bt+(bt===0?-6:1)),at.setHours(0,0,0,0);break;case"monthly":at.setDate(1),at.setHours(0,0,0,0);break;case"yearly":at.setMonth(0,1),at.setHours(0,0,0,0);break}return ke.filter(bt=>(bt.tradeDate||new Date(0))>=at)})(t,pn)},[t,pn,B,Yt,Or]),go=he=>{let ve="ascending";ar.key===he&&ar.direction==="ascending"&&(ve="descending"),ca({key:he,direction:ve})},po=C.useMemo(()=>{let he=[...vr];return ar.key!==null&&he.sort((ve,Ce)=>{const ke=l.some(bt=>bt.name===ar.key),Re=ke?ve.customData?.[ar.key]??"":ve[ar.key]??"",Ke=ke?Ce.customData?.[ar.key]??"":Ce[ar.key]??"";let at=0;return Re instanceof Date&&Ke instanceof Date?at=Re.getTime()-Ke.getTime():typeof Re=="number"&&typeof Ke=="number"?at=Re-Ke:at=String(Re).localeCompare(String(Ke),void 0,{numeric:!0,sensitivity:"base"}),at===0?(Ce.tradeDate?.getTime()||0)-(ve.tradeDate?.getTime()||0):ar.direction==="ascending"?at:-at}),he},[vr,ar,l]),Ir=C.useMemo(()=>{const he={netPnl:0,tradeWinRate:0,wins:0,losses:0,profitFactor:0,dayWinRate:0,profitableDays:0,losingDays:0,avgWinLossRatio:0,avgWin:0,avgLoss:0,grossProfit:0,grossLoss:0,avgRiskReward:0,totalLotUsed:0,consecutiveWins:0,consecutiveLosses:0};if(!B)return he;const ve=[...vr].sort((ht,mt)=>(ht.tradeDate?.getTime()||0)-(mt.tradeDate?.getTime()||0));if(ve.length===0)return he;const Ce=ve.filter(ht=>parseFloat(ht.pnl)>0),ke=ve.filter(ht=>parseFloat(ht.pnl)<0),Re=Ce.length,Ke=ke.length,at=ve.length,bt=Ce.reduce((ht,mt)=>ht+parseFloat(mt.pnl),0),Ue=Math.abs(ke.reduce((ht,mt)=>ht+parseFloat(mt.pnl),0)),ze=bt-Ue,dt=at>0?Re/at*100:0,Ct=Ue>0?bt/Ue:1/0,ji=Re>0?bt/Re:0,Yn=Ke>0?-Ue/Ke:0,un=Yn!==0?Math.abs(ji/Yn):1/0,en=new Map;ve.forEach(ht=>{const mt=Ra(ht.tradeDate);mt&&mt!=="N/A"&&en.set(mt,(en.get(mt)||0)+(parseFloat(ht.pnl)||0))});let Qr=0,br=0;en.forEach(ht=>{ht>0?Qr++:ht<0&&br++});const fa=Qr+br,ec=fa>0?Qr/fa*100:0,xi=ve.map(ht=>parseFloat(ht.riskRewardRatio)||0).filter(ht=>ht>0),da=xi.reduce((ht,mt)=>ht+mt,0),xr=xi.length>0?da/xi.length:0,ha=ve.reduce((ht,mt)=>ht+(parseFloat(mt.lotSize)||0),0);let Li=0,or=0,Vi=0,Zr=0;for(const ht of ve){const mt=parseFloat(ht.pnl)||0;mt>0?(or++,Zr=0,or>Li&&(Li=or)):mt<0?(Zr++,or=0,Zr>Vi&&(Vi=Zr)):(or=0,Zr=0)}return{netPnl:ze,tradeWinRate:dt,wins:Re,losses:Ke,profitFactor:Ct,dayWinRate:ec,profitableDays:Qr,losingDays:br,avgWinLossRatio:un,avgWin:ji,avgLoss:Yn,grossProfit:bt,grossLoss:Ue,avgRiskReward:xr,totalLotUsed:ha,consecutiveWins:Li,consecutiveLosses:Vi}},[vr,B]),Ju=C.useMemo(()=>{if(!B)return{chartData:[]};const he=t,ve=d,Ce=[...he.map(Ue=>({type:"trade",date:Ue.tradeDate,pnl:Ue.pnl})),...ve.map(Ue=>({type:Ue.type,date:Ue.date,amount:Ue.amount}))].sort((Ue,ze)=>(Ue.date?.getTime()||0)-(ze.date?.getTime()||0));let ke=0;const Re=[];Ce.forEach(Ue=>{Ue.type==="trade"?ke+=parseFloat(Ue.pnl)||0:Ue.type==="deposit"?ke+=parseFloat(Ue.amount)||0:Ue.type==="withdrawal"&&(ke-=parseFloat(Ue.amount)||0),Re.push({name:Ra(Ue.date),value:ke})});let Ke=0;const at=[];return he.sort((Ue,ze)=>(Ue.tradeDate?.getTime()||0)-(ze.tradeDate?.getTime()||0)).forEach(Ue=>{Ke+=parseFloat(Ue.pnl)||0,at.push({name:Ra(Ue.tradeDate),value:Ke})}),{chartData:(()=>{const Ue=sr==="balance"?Re:at;if(Ue.length===0)return[];if(pn==="all")return Ue;let ze,dt=new Date;if(pn==="custom"){if(!Yt||!Or)return[];ze=new Date(Yt),ze.setHours(0,0,0,0),dt=new Date(Or),dt.setHours(23,59,59,999)}else{const un=new Date;switch(ze=new Date(un),pn){case"daily":ze.setHours(0,0,0,0);break;case"weekly":const en=un.getDay();ze.setDate(un.getDate()-en+(en===0?-6:1)),ze.setHours(0,0,0,0);break;case"monthly":ze.setDate(1),ze.setHours(0,0,0,0);break;case"yearly":ze.setMonth(0,1),ze.setHours(0,0,0,0);break}}const Ct=[...Ue].reverse().find(un=>new Date(un.name).getTime()<ze.getTime()),ji=Ct?Ct.value:0,Yn=Ue.filter(un=>{const en=new Date(un.name).getTime();return pn==="custom"?en>=ze.getTime()&&en<=dt.getTime():en>=ze.getTime()});return Yn.length>0?new Date(Yn[0].name).getTime()>ze.getTime()?[{name:"Start",value:ji},...Yn]:Yn:[{name:"Start",value:ji}]})()}},[t,d,B,pn,sr,Yt,Or]),Rr=C.useMemo(()=>{if(!B)return 0;const he=t.reduce((Ce,ke)=>Ce+(parseFloat(ke.pnl)||0),0);return d.reduce((Ce,ke)=>{const Re=parseFloat(ke.amount)||0;return Ce+(ke.type==="deposit"?Re:-Re)},0)+he},[t,d,B]),Bt=()=>{if(pn==="custom"){const he=new Date(Yt).toLocaleDateString("id-ID",{day:"numeric",month:"short"}),ve=new Date(Or).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});return`${he} - ${ve}`}return is.find(he=>he.key===pn)?.label};if(!T||F)return x.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center text-gray-900 dark:text-white",children:"Memuat Autentikasi..."});if(!E)return x.jsx(Vee,{onLogin:Pi,error:O,theme:U,onToggleTheme:Nr});if(T&&!F&&P.length===0)return x.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center text-gray-900 dark:text-white",children:[Je&&x.jsx(iO,{showToast:Wt,onClose:()=>{Gt(!1),pr()},profiles:P,openDeleteModal:ct}),x.jsx(rO,{message:z.message,type:z.type,onClose:()=>V({message:"",type:""})}),x.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Selamat Datang, ",E.email,"!"]}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Untuk memulai, silakan buat profil trading pertama Anda."}),x.jsxs("button",{onClick:()=>Gt(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[x.jsx(_b,{size:20,className:"mr-2"})," Buat Profil Trading"]})]});const ln=()=>x.jsxs(x.Fragment,{children:[x.jsxs("a",{href:"https://www.instagram.com/deolukow_",target:"_blank",rel:"noopener noreferrer",className:"block mb-4 hover:opacity-80 transition-opacity",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Wz",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"Gold"})," Trading Jurnal"]}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"created by Deo Lukow (2025)"})]}),x.jsx("div",{className:"mb-4",children:x.jsx(tte,{profiles:P,activeProfile:B,onSelectProfile:yr,onManageProfiles:()=>{Gt(!0),ye(!1)}})}),x.jsxs("button",{onClick:()=>{Ee(null),ue(!0),ye(!1)},className:"w-full px-4 py-3 mb-6 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg flex items-center justify-center text-sm font-semibold",children:[x.jsx(_b,{size:18,className:"mr-2"})," Tambah Trade"]}),x.jsxs("nav",{className:"flex-grow",children:[x.jsxs("ul",{children:[x.jsx(X0,{icon:x.jsx(a7,{size:20}),text:"Dashboard",active:St==="dashboard",onClick:()=>{Cr("dashboard"),ye(!1)}}),x.jsx(X0,{icon:x.jsx(RI,{size:20}),text:"Kalender",active:St==="calendar",onClick:()=>{Cr("calendar"),ye(!1)}}),x.jsx(X0,{icon:x.jsx(Jx,{size:20}),text:"Galeri Trade",active:St==="gallery",onClick:()=>{Cr("gallery"),ua("all"),ye(!1)}})]}),x.jsxs("ul",{className:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[x.jsx("li",{className:"px-3 pb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Alat Bantu"}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Dt(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(r_,{size:20,className:"text-yellow-500 dark:text-yellow-400"}),x.jsx("span",{className:"ml-3",children:"Tetapkan Target"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{He(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(II,{size:20,className:"text-green-500 dark:text-green-400"}),x.jsx("span",{className:"ml-3",children:"Kalkulator Lot Size"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Ne(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(n_,{size:20,className:"text-yellow-500 dark:text-yellow-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Pair"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Kt(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(a_,{size:20,className:"text-blue-500 dark:text-blue-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Template"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{me(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(PI,{size:20,className:"text-indigo-500 dark:text-indigo-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Field Tambahan"})]})})]})]}),x.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-2 truncate",title:E.email,children:["Masuk sebagai: ",E.email]}),x.jsxs("button",{onClick:as,className:"w-full flex items-center p-3 rounded-lg text-red-500 dark:text-red-400 hover:bg-red-500/10 dark:hover:bg-red-500/20",children:[x.jsx(c7,{size:20}),x.jsx("span",{className:"ml-3",children:"Keluar"})]})]})]});return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:`
                @keyframes slideIn {
                    from { transform: translateX(-100%); }
                    to { transform: translateX(0); }
                }
                .animate-slideIn {
                    animation: slideIn 0.3s ease-out forwards;
                }
            `}),x.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-300 font-sans",children:[x.jsx(rO,{message:z.message,type:z.type,onClose:()=>V({message:"",type:""})}),x.jsx(Lee,{isOpen:Jt,onClose:()=>Tt(!1),onConfirm:Sl,title:"Konfirmasi Hapus",message:`Yakin ingin menghapus ${bi?.type} ini? Aksi ini tidak dapat dibatalkan.`}),B&&Z&&x.jsx(Zee,{onSaveTrade:ss,editingTrade:ge,onCancelEdit:()=>{Ee(null),ue(!1)},pairs:n,templates:a,customFields:l,activeProfileId:B.id}),H&&x.jsx(zee,{trade:H,onClose:()=>ie(null),customFields:l,currency:B?.currency}),B&&Be&&x.jsx(Bee,{isOpen:Be,onClose:()=>He(!1),currentBalance:Rr,currency:B?.currency}),B&&ce&&x.jsx(qee,{activeProfileId:B.id,showToast:Wt,onClose:()=>{Dt(!1),Lt(B.id)},currentGoal:v,currency:B?.currency}),B&&ae&&x.jsx(Jee,{activeProfileId:B.id,showToast:Wt,onClose:()=>{de(!1),Lt(B.id)},openDeleteModal:ct,currency:B?.currency}),B&&we&&x.jsx(Qee,{activeProfileId:B.id,showToast:Wt,onClose:()=>{Ne(!1),Lt(B.id)},pairs:n,openDeleteModal:ct}),B&&Ie&&x.jsx(Xee,{activeProfileId:B.id,showToast:Wt,onClose:()=>{Kt(!1),Lt(B.id)},templates:a,openDeleteModal:ct}),B&&st&&x.jsx($ee,{activeProfileId:B.id,showToast:Wt,onClose:()=>{me(!1),Lt(B.id)},customFields:l,openDeleteModal:ct}),Je&&x.jsx(iO,{showToast:Wt,onClose:()=>{Gt(!1),pr()},profiles:P,openDeleteModal:ct}),pe&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-40 md:hidden",onClick:()=>ye(!1)}),x.jsx("aside",{className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 p-4 z-50 flex flex-col md:hidden animate-slideIn overflow-y-auto",children:x.jsx(ln,{})})]}),x.jsx("aside",{className:"w-64 bg-white dark:bg-gray-800 p-4 flex-shrink-0 flex-col hidden md:flex overflow-y-auto",children:x.jsx(ln,{})}),x.jsxs("main",{className:"flex-1 flex flex-col p-4 md:p-6 lg:p-8 overflow-y-auto",children:[x.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{className:"md:hidden text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",onClick:()=>ye(!0),children:x.jsx(m7,{size:28})}),x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white truncate",children:St==="dashboard"?"Dashboard":St==="calendar"?"Kalender Trade":"Galeri Trade"})]}),x.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto justify-end",children:[x.jsx(dj,{theme:U,onToggle:Nr}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg text-center border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Saldo Saat Ini"}),x.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:on(Rr,B?.currency)})]}),x.jsxs("button",{onClick:()=>de(!0),className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg flex items-center text-sm font-semibold",children:[x.jsx(O7,{size:16,className:"mr-2"})," Kelola Saldo"]})]})]}),x.jsxs("div",{className:"flex-grow",children:[St==="dashboard"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex space-x-1 sm:space-x-2 p-1 bg-gray-200 dark:bg-gray-800 rounded-xl mb-6",children:is.map(he=>x.jsx("button",{onClick:()=>ua(he.key),className:Xo("px-2 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors flex-grow",pn===he.key?"bg-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-700"),children:he.label},he.key))}),pn==="custom"&&x.jsx(hj,{startDate:Yt,endDate:Or,onStartDateChange:An,onEndDateChange:mo}),x.jsx(Kee,{goal:v,currentPnl:Ir.netPnl,period:pn,currency:B?.currency}),pn==="daily"&&x.jsx(Gee,{goal:v,currentPnl:Ir.netPnl,currency:B?.currency}),x.jsx(Yee,{stats:Ir,currency:B?.currency}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 sm:mb-0",children:sr==="balance"?"Riwayat Saldo Akun":"Riwayat P&L Kumulatif"}),x.jsxs("div",{className:"flex space-x-1 p-1 bg-gray-200 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("button",{onClick:()=>yn("balance"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${sr==="balance"?"bg-blue-600 text-white shadow":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Grafik Saldo"}),x.jsx("button",{onClick:()=>yn("pnl"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${sr==="pnl"?"bg-blue-600 text-white shadow":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Grafik P&L"})]})]}),x.jsx("div",{className:"h-80",children:x.jsx(Wee,{data:Ju.chartData,period:pn,currency:B?.currency,theme:U,chartType:sr})})]}),x.jsx(mj,{trades:po,onView:Xr,onEdit:he=>{Ee(he),ue(!0)},onDelete:(he,ve)=>ct(he,ve),title:`Riwayat Trade (${Bt()})`,requestSort:go,sortConfig:ar,customFields:l,currency:B?.currency})]}),St==="calendar"&&x.jsx(ete,{trades:t,onView:Xr,onEdit:he=>{Ee(he),ue(!0)},onDelete:(he,ve)=>ct(he,ve),customFields:l,currency:B?.currency}),St==="gallery"&&x.jsx(Fee,{trades:vr,activePeriod:pn,setActivePeriod:ua,periods:is,onShowTradeDetail:Xr,currency:B?.currency,customStartDate:Yt,customEndDate:Or,setCustomStartDate:An,setCustomEndDate:mo})]})]})]})]})}const rte="modulepreload",ite=function(t){return"/trading-jurnal/"+t},sO={},ate=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let h=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=h;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=h(n.map(m=>{if(m=ite(m),m in sO)return;sO[m]=!0;const y=m.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":rte,y||(_.as="script"),_.crossOrigin="",_.href=m,d&&_.setAttribute("nonce",d),document.head.appendChild(_),y)return new Promise((E,S)=>{_.addEventListener("load",E),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function ste(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:a,onRegisteredSW:o,onRegisterError:l}=t;let c,d;const h=async(y=!0)=>{await d};async function m(){if("serviceWorker"in navigator){if(c=await ate(async()=>{const{Workbox:y}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:y}},[]).then(({Workbox:y})=>new y("/trading-jurnal/sw.js",{scope:"/trading-jurnal/",type:"classic"})).catch(y=>{l?.(y)}),!c)return;c.addEventListener("activated",y=>{(y.isUpdate||y.isExternal)&&window.location.reload()}),c.addEventListener("installed",y=>{y.isUpdate||r?.()}),c.register({immediate:e}).then(y=>{o?o("/trading-jurnal/sw.js",y):a?.(y)}).catch(y=>{l?.(y)})}}return d=m(),h}J4.createRoot(document.getElementById("root")).render(x.jsx(C.StrictMode,{children:x.jsx(nte,{})}));ste({immediate:!0});
