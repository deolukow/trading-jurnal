function O4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Zs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iv={exports:{}},Jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function N4(){if(LT)return Jc;LT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Jc.Fragment=e,Jc.jsx=n,Jc.jsxs=n,Jc}var VT;function I4(){return VT||(VT=1,iv.exports=N4()),iv.exports}var x=I4(),av={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function R4(){if(UT)return Ke;UT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(H,ie,ae){this.props=H,this.context=ie,this.refs=S,this.updater=ae||_}T.prototype.isReactComponent={},T.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=T.prototype;function M(H,ie,ae){this.props=H,this.context=ie,this.refs=S,this.updater=ae||_}var L=M.prototype=new I;L.constructor=M,E(L,T.prototype),L.isPureReactComponent=!0;var B=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function R(H,ie,ae,he,we,Ne){return ae=Ne.ref,{$$typeof:t,type:H,key:ie,ref:ae!==void 0?ae:null,props:Ne}}function O(H,ie){return R(H.type,ie,void 0,void 0,void 0,H.props)}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ae){return ie[ae]})}var j=/\/+/g;function z(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ie.toString(36)}function V(){}function pe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(V,V):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ye(H,ie,ae,he,we){var Ne=typeof H;(Ne==="undefined"||Ne==="boolean")&&(H=null);var Ie=!1;if(H===null)Ie=!0;else switch(Ne){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(H.$$typeof){case t:case e:Ie=!0;break;case m:return Ie=H._init,ye(Ie(H._payload),ie,ae,he,we)}}if(Ie)return we=we(H),Ie=he===""?"."+z(H,0):he,B(we)?(ae="",Ie!=null&&(ae=Ie.replace(j,"$&/")+"/"),ye(we,ie,ae,"",function(de){return de})):we!=null&&(D(we)&&(we=O(we,ae+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(j,"$&/")+"/")+Ie)),ie.push(we)),1;Ie=0;var $t=he===""?".":he+":";if(B(H))for(var it=0;it<H.length;it++)he=H[it],Ne=$t+z(he,it),Ie+=ye(he,ie,ae,Ne,we);else if(it=b(H),typeof it=="function")for(H=it.call(H),it=0;!(he=H.next()).done;)he=he.value,Ne=$t+z(he,it++),Ie+=ye(he,ie,ae,Ne,we);else if(Ne==="object"){if(typeof H.then=="function")return ye(pe(H),ie,ae,he,we);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Z(H,ie,ae){if(H==null)return H;var he=[],we=0;return ye(H,he,"","",function(Ne){return ie.call(ae,Ne,we++)}),he}function ue(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ae){(H._status===0||H._status===-1)&&(H._status=1,H._result=ae)},function(ae){(H._status===0||H._status===-1)&&(H._status=2,H._result=ae)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var me=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Ee(){}return Ke.Children={map:Z,forEach:function(H,ie,ae){Z(H,function(){ie.apply(this,arguments)},ae)},count:function(H){var ie=0;return Z(H,function(){ie++}),ie},toArray:function(H){return Z(H,function(ie){return ie})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ke.Component=T,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=M,Ke.StrictMode=r,Ke.Suspense=h,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(H){return F.H.useMemoCache(H)}},Ke.cache=function(H){return function(){return H.apply(null,arguments)}},Ke.cloneElement=function(H,ie,ae){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var he=E({},H.props),we=H.key,Ne=void 0;if(ie!=null)for(Ie in ie.ref!==void 0&&(Ne=void 0),ie.key!==void 0&&(we=""+ie.key),ie)!$.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(he[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=ae;else if(1<Ie){for(var $t=Array(Ie),it=0;it<Ie;it++)$t[it]=arguments[it+2];he.children=$t}return R(H.type,we,void 0,void 0,Ne,he)},Ke.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Ke.createElement=function(H,ie,ae){var he,we={},Ne=null;if(ie!=null)for(he in ie.key!==void 0&&(Ne=""+ie.key),ie)$.call(ie,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=ie[he]);var Ie=arguments.length-2;if(Ie===1)we.children=ae;else if(1<Ie){for(var $t=Array(Ie),it=0;it<Ie;it++)$t[it]=arguments[it+2];we.children=$t}if(H&&H.defaultProps)for(he in Ie=H.defaultProps,Ie)we[he]===void 0&&(we[he]=Ie[he]);return R(H,Ne,void 0,void 0,null,we)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(H){return{$$typeof:c,render:H}},Ke.isValidElement=D,Ke.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ue}},Ke.memo=function(H,ie){return{$$typeof:d,type:H,compare:ie===void 0?null:ie}},Ke.startTransition=function(H){var ie=F.T,ae={};F.T=ae;try{var he=H(),we=F.S;we!==null&&we(ae,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Ee,me)}catch(Ne){me(Ne)}finally{F.T=ie}},Ke.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ke.use=function(H){return F.H.use(H)},Ke.useActionState=function(H,ie,ae){return F.H.useActionState(H,ie,ae)},Ke.useCallback=function(H,ie){return F.H.useCallback(H,ie)},Ke.useContext=function(H){return F.H.useContext(H)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(H,ie){return F.H.useDeferredValue(H,ie)},Ke.useEffect=function(H,ie,ae){var he=F.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(H,ie)},Ke.useId=function(){return F.H.useId()},Ke.useImperativeHandle=function(H,ie,ae){return F.H.useImperativeHandle(H,ie,ae)},Ke.useInsertionEffect=function(H,ie){return F.H.useInsertionEffect(H,ie)},Ke.useLayoutEffect=function(H,ie){return F.H.useLayoutEffect(H,ie)},Ke.useMemo=function(H,ie){return F.H.useMemo(H,ie)},Ke.useOptimistic=function(H,ie){return F.H.useOptimistic(H,ie)},Ke.useReducer=function(H,ie,ae){return F.H.useReducer(H,ie,ae)},Ke.useRef=function(H){return F.H.useRef(H)},Ke.useState=function(H){return F.H.useState(H)},Ke.useSyncExternalStore=function(H,ie,ae){return F.H.useSyncExternalStore(H,ie,ae)},Ke.useTransition=function(){return F.H.useTransition()},Ke.version="19.1.1",Ke}var zT;function Du(){return zT||(zT=1,av.exports=R4()),av.exports}var C=Du();const D4=Zs(C),P4=O4({__proto__:null,default:D4},[C]);var sv={exports:{}},ef={},ov={exports:{}},lv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function M4(){return BT||(BT=1,(function(t){function e(Z,ue){var me=Z.length;Z.push(ue);e:for(;0<me;){var Ee=me-1>>>1,H=Z[Ee];if(0<a(H,ue))Z[Ee]=ue,Z[me]=H,me=Ee;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],me=Z.pop();if(me!==ue){Z[0]=me;e:for(var Ee=0,H=Z.length,ie=H>>>1;Ee<ie;){var ae=2*(Ee+1)-1,he=Z[ae],we=ae+1,Ne=Z[we];if(0>a(he,me))we<H&&0>a(Ne,he)?(Z[Ee]=Ne,Z[we]=me,Ee=we):(Z[Ee]=he,Z[ae]=me,Ee=ae);else if(we<H&&0>a(Ne,me))Z[Ee]=Ne,Z[we]=me,Ee=we;else break e}}return ue}function a(Z,ue){var me=Z.sortIndex-ue.sortIndex;return me!==0?me:Z.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],d=[],m=1,y=null,b=3,_=!1,E=!1,S=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function B(Z){for(var ue=n(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=Z)r(d),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=n(d)}}function F(Z){if(S=!1,B(Z),!E)if(n(h)!==null)E=!0,$||($=!0,z());else{var ue=n(d);ue!==null&&ye(F,ue.startTime-Z)}}var $=!1,R=-1,O=5,D=-1;function U(){return T?!0:!(t.unstable_now()-D<O)}function j(){if(T=!1,$){var Z=t.unstable_now();D=Z;var ue=!0;try{e:{E=!1,S&&(S=!1,M(R),R=-1),_=!0;var me=b;try{t:{for(B(Z),y=n(h);y!==null&&!(y.expirationTime>Z&&U());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,b=y.priorityLevel;var H=Ee(y.expirationTime<=Z);if(Z=t.unstable_now(),typeof H=="function"){y.callback=H,B(Z),ue=!0;break t}y===n(h)&&r(h),B(Z)}else r(h);y=n(h)}if(y!==null)ue=!0;else{var ie=n(d);ie!==null&&ye(F,ie.startTime-Z),ue=!1}}break e}finally{y=null,b=me,_=!1}ue=void 0}}finally{ue?z():$=!1}}}var z;if(typeof L=="function")z=function(){L(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,pe=V.port2;V.port1.onmessage=j,z=function(){pe.postMessage(null)}}else z=function(){I(j,0)};function ye(Z,ue){R=I(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var me=b;b=ue;try{return Z()}finally{b=me}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var me=b;b=Z;try{return ue()}finally{b=me}},t.unstable_scheduleCallback=function(Z,ue,me){var Ee=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ee+me:Ee):me=Ee,Z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=me+H,Z={id:m++,callback:ue,priorityLevel:Z,startTime:me,expirationTime:H,sortIndex:-1},me>Ee?(Z.sortIndex=me,e(d,Z),n(h)===null&&Z===n(d)&&(S?(M(R),R=-1):S=!0,ye(F,me-Ee))):(Z.sortIndex=H,e(h,Z),E||_||(E=!0,$||($=!0,z()))),Z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Z){var ue=b;return function(){var me=b;b=ue;try{return Z.apply(this,arguments)}finally{b=me}}}})(lv)),lv}var qT;function j4(){return qT||(qT=1,ov.exports=M4()),ov.exports}var uv={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function L4(){if($T)return Hn;$T=1;var t=Du();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,m)},Hn.flushSync=function(h){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=d,r.p=m,r.d.f()}},Hn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Hn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Hn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):m==="script"&&r.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Hn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hn.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Hn.requestFormReset=function(h){r.d.r(h)},Hn.unstable_batchedUpdates=function(h,d){return h(d)},Hn.useFormState=function(h,d,m){return l.H.useFormState(h,d,m)},Hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Hn.version="19.1.1",Hn}var FT;function ZC(){if(FT)return uv.exports;FT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uv.exports=L4(),uv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function V4(){if(HT)return ef;HT=1;var t=j4(),e=Du(),n=ZC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,f=s;;){var p=u.return;if(p===null)break;var v=p.alternate;if(v===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===u)return c(p),i;if(v===f)return c(p),s;v=v.sibling}throw Error(r(188))}if(u.return!==f.return)u=p,f=v;else{for(var k=!1,N=p.child;N;){if(N===u){k=!0,u=p,f=v;break}if(N===f){k=!0,f=p,u=v;break}N=N.sibling}if(!k){for(N=v.child;N;){if(N===u){k=!0,u=v,f=p;break}if(N===f){k=!0,f=v,u=p;break}N=N.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case $:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case L:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:pe(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return pe(i(s))}catch{}}return null}var ye=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ee=[],H=-1;function ie(i){return{current:i}}function ae(i){0>H||(i.current=Ee[H],Ee[H]=null,H--)}function he(i,s){H++,Ee[H]=i.current,i.current=s}var we=ie(null),Ne=ie(null),Ie=ie(null),$t=ie(null);function it(i,s){switch(he(Ie,s),he(Ne,i),he(we,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?fT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=fT(s),i=hT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(we),he(we,i)}function de(){ae(we),ae(Ne),ae(Ie)}function Be(i){i.memoizedState!==null&&he($t,i);var s=we.current,u=hT(s,i.type);s!==u&&(he(Ne,i),he(we,u))}function He(i){Ne.current===i&&(ae(we),ae(Ne)),$t.current===i&&(ae($t),Yc._currentValue=me)}var ce=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,Ze=t.unstable_cancelCallback,Ft=t.unstable_shouldYield,Yt=t.unstable_requestPaint,xt=t.unstable_now,ci=t.unstable_getCurrentPriorityLevel,Vt=t.unstable_ImmediatePriority,_t=t.unstable_UserBlockingPriority,yr=t.unstable_NormalPriority,Jn=t.unstable_LowPriority,ta=t.unstable_IdlePriority,er=t.log,na=t.unstable_setDisableYieldValue,Lr=null,cn=null;function _n(i){if(typeof er=="function"&&na(i),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Lr,i)}catch{}}var gt=Math.clz32?Math.clz32:bl,Zu=Math.log,vl=Math.LN2;function bl(i){return i>>>=0,i===0?32:31-(Zu(i)/vl|0)|0}var wt=256,Vr=4194304;function vr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wt(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var p=0,v=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var N=f&134217727;return N!==0?(f=N&~v,f!==0?p=vr(f):(k&=N,k!==0?p=vr(k):u||(u=N&~i,u!==0&&(p=vr(u))))):(N=f&~v,N!==0?p=vr(N):k!==0?p=vr(k):u||(u=f&~i,u!==0&&(p=vr(u)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,u=s&-s,v>=u||v===32&&(u&4194048)!==0)?s:p}function Ni(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Qa(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(){var i=wt;return wt<<=1,(wt&4194048)===0&&(wt=256),i}function Ii(){var i=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),i}function Za(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Nt(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function io(i,s,u,f,p,v){var k=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var N=i.entanglements,q=i.expirationTimes,X=i.hiddenUpdates;for(u=k&~u;0<u;){var ne=31-gt(u),se=1<<ne;N[ne]=0,q[ne]=-1;var Q=X[ne];if(Q!==null)for(X[ne]=null,ne=0;ne<Q.length;ne++){var J=Q[ne];J!==null&&(J.lane&=-536870913)}u&=~se}f!==0&&hi(i,f,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(k&~s))}function hi(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-gt(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function di(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-gt(u),p=1<<f;p&s|i[f]&s&&(i[f]|=s),u&=~p}}function ge(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _e(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Se(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:IT(i.type))}function ze(i,s){var u=ue.p;try{return ue.p=i,s()}finally{ue.p=u}}var je=Math.random().toString(36).slice(2),ke="__reactFiber$"+je,Ce="__reactProps$"+je,lt="__reactContainer$"+je,wn="__reactEvents$"+je,Et="__reactListeners$"+je,fn="__reactHandles$"+je,nn="__reactResources$"+je,mi="__reactMarker$"+je;function Ri(i){delete i[ke],delete i[Ce],delete i[wn],delete i[Et],delete i[fn]}function Ur(i){var s=i[ke];if(s)return s;for(var u=i.parentNode;u;){if(s=u[lt]||u[ke]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=pT(i);i!==null;){if(u=i[ke])return u;i=pT(i)}return s}i=u,u=i.parentNode}return null}function ur(i){if(i=i[ke]||i[lt]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function br(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function zr(i){var s=i[nn];return s||(s=i[nn]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(i){i[mi]=!0}var xl=new Set,gi={};function Br(i,s){qr(i,s),qr(i+"Capture",s)}function qr(i,s){for(gi[i]=s,i=0;i<s.length;i++)xl.add(s[i])}var ra=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},hn={};function fp(i){return ce.call(hn,i)?!0:ce.call(at,i)?!1:ra.test(i)?hn[i]=!0:(at[i]=!0,!1)}function ao(i,s,u){if(fp(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function so(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function $r(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}var oo,_l;function ia(i){if(oo===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);oo=s&&s[1]||"",_l=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oo+i+_l}var wl=!1;function El(i,s){if(!i||wl)return"";wl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(i,[],se)}else{try{se.call()}catch(J){Q=J}i.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),k=v[0],N=v[1];if(k&&N){var q=k.split(`
`),X=N.split(`
`);for(p=f=0;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(f===q.length||p===X.length)for(f=q.length-1,p=X.length-1;1<=f&&0<=p&&q[f]!==X[p];)p--;for(;1<=f&&0<=p;f--,p--)if(q[f]!==X[p]){if(f!==1||p!==1)do if(f--,p--,0>p||q[f]!==X[p]){var ne=`
`+q[f].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=f&&0<=p);break}}}finally{wl=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?ia(u):""}function hp(i){switch(i.tag){case 26:case 27:case 5:return ia(i.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 15:return El(i.type,!1);case 11:return El(i.type.render,!1);case 1:return El(i.type,!0);case 31:return ia("Activity");default:return""}}function pi(i){try{var s="";do s+=hp(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ut(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ja(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function lo(i){var s=Ja(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(k){f=""+k,v.call(this,k)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function es(i){i._valueTracker||(i._valueTracker=lo(i))}function pt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=Ja(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function aa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var uo=/[\n"\\]/g;function En(i){return i.replace(uo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ju(i,s,u,f,p,v,k,N){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),s!=null?k==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ut(s)):i.value!==""+Ut(s)&&(i.value=""+Ut(s)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),s!=null?tc(i,k,Ut(s)):u!=null?tc(i,k,Ut(u)):f!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+Ut(N):i.removeAttribute("name")}function ec(i,s,u,f,p,v,k,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;u=u!=null?""+Ut(u):"",s=s!=null?""+Ut(s):u,N||s===i.value||(i.value=s),i.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=N?i.checked:!!f,i.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k)}function tc(i,s,u){s==="number"&&aa(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ts(i,s,u,f){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Ut(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function vh(i,s,u){if(s!=null&&(s=""+Ut(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+Ut(u):""}function bh(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(ye(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=Ut(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function Fr(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nc(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||sa.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function rc(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&u[p]!==f&&nc(i,p,f)}else for(var v in s)s.hasOwnProperty(v)&&nc(i,v,s[v])}function Tl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(i){return _h.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ic=null;function ac(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ns=null,tr=null;function wh(i){var s=ur(i);if(s&&(i=s.stateNode)){var u=i[Ce]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ju(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+En(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var p=f[Ce]||null;if(!p)throw Error(r(90));Ju(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&pt(f)}break e;case"textarea":vh(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&ts(i,!!u.multiple,s,!1)}}}var co=!1;function fo(i,s,u){if(co)return i(s,u);co=!0;try{var f=i(s);return f}finally{if(co=!1,(ns!==null||tr!==null)&&(fd(),ns&&(s=ns,i=tr,tr=ns=null,wh(s),i)))for(s=0;s<i.length;s++)wh(i[s])}}function rs(i,s){var u=i.stateNode;if(u===null)return null;var f=u[Ce]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(nr)try{var is={};Object.defineProperty(is,"passive",{get:function(){oa=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{oa=!1}var Hr=null,St=null,Al=null;function Eh(){if(Al)return Al;var i,s=St,u=s.length,f,p="value"in Hr?Hr.value:Hr.textContent,v=p.length;for(i=0;i<u&&s[i]===p[i];i++);var k=u-i;for(f=1;f<=k&&s[u-f]===p[v-f];f++);return Al=p.slice(i,1<f?1-f:void 0)}function ho(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function mo(){return!0}function sc(){return!1}function dn(i){function s(u,f,p,v,k){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=v,this.target=k,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?mo:sc,this.isPropagationStopped=sc,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),s}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=dn($n),po=m({},$n,{view:0,detail:0}),yo=dn(po),Sl,vo,Di,bo=m({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Di&&(Di&&i.type==="mousemove"?(Sl=i.screenX-Di.screenX,vo=i.screenY-Di.screenY):vo=Sl=0,Di=i),Sl)},movementY:function(i){return"movementY"in i?i.movementY:vo}}),xo=dn(bo),dp=m({},bo,{dataTransfer:0}),Th=dn(dp),_o=m({},po,{relatedTarget:0}),kl=dn(_o),Ah=m({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),oc=dn(Ah),lc=m({},$n,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Sh=dn(lc),Cl=m({},$n,{data:0}),uc=dn(Cl),kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},la={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ch[i])?!!s[i]:!1}function Ol(){return Oh}var Nh=m({},po,{key:function(i){if(i.key){var s=kh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ho(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?la[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(i){return i.type==="keypress"?ho(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ho(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Nl=dn(Nh),rr=m({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=dn(rr),Ih=m({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),as=dn(Ih),g=m({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=dn(g),A=m({},bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),P=dn(A),W=m({},$n,{newState:0,oldState:0}),ee=dn(W),fe=[9,13,27,32],$e=nr&&"CompositionEvent"in window,It=null;nr&&"documentMode"in document&&(It=document.documentMode);var ft=nr&&"TextEvent"in window&&!It,Xt=nr&&(!$e||It&&8<It&&11>=It),xr=" ",Pi=!1;function vi(i,s){switch(i){case"keyup":return fe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bi(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xi=!1;function fc(i,s){switch(i){case"compositionend":return bi(s);case"keypress":return s.which!==32?null:(Pi=!0,xr);case"textInput":return i=s.data,i===xr&&Pi?null:i;default:return null}}function nj(i,s){if(xi)return i==="compositionend"||!$e&&vi(i,s)?(i=Eh(),Al=St=Hr=null,xi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xt&&s.locale!=="ko"?null:s.data;default:return null}}var rj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A1(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!rj[i.type]:s==="textarea"}function S1(i,s,u,f){ns?tr?tr.push(f):tr=[f]:ns=f,s=yd(s,"onChange"),0<s.length&&(u=new go("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var hc=null,dc=null;function ij(i){sT(i,0)}function Rh(i){var s=br(i);if(pt(s))return i}function k1(i,s){if(i==="change")return s}var C1=!1;if(nr){var mp;if(nr){var gp="oninput"in document;if(!gp){var O1=document.createElement("div");O1.setAttribute("oninput","return;"),gp=typeof O1.oninput=="function"}mp=gp}else mp=!1;C1=mp&&(!document.documentMode||9<document.documentMode)}function N1(){hc&&(hc.detachEvent("onpropertychange",I1),dc=hc=null)}function I1(i){if(i.propertyName==="value"&&Rh(dc)){var s=[];S1(s,dc,i,ac(i)),fo(ij,s)}}function aj(i,s,u){i==="focusin"?(N1(),hc=s,dc=u,hc.attachEvent("onpropertychange",I1)):i==="focusout"&&N1()}function sj(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rh(dc)}function oj(i,s){if(i==="click")return Rh(s)}function lj(i,s){if(i==="input"||i==="change")return Rh(s)}function uj(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var _r=typeof Object.is=="function"?Object.is:uj;function mc(i,s){if(_r(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!ce.call(s,p)||!_r(i[p],s[p]))return!1}return!0}function R1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function D1(i,s){var u=R1(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=R1(u)}}function P1(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?P1(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function M1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=aa(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=aa(i.document)}return s}function pp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var cj=nr&&"documentMode"in document&&11>=document.documentMode,Il=null,yp=null,gc=null,vp=!1;function j1(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;vp||Il==null||Il!==aa(f)||(f=Il,"selectionStart"in f&&pp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),gc&&mc(gc,f)||(gc=f,f=yd(yp,"onSelect"),0<f.length&&(s=new go("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Il)))}function wo(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Rl={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},bp={},L1={};nr&&(L1=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Eo(i){if(bp[i])return bp[i];if(!Rl[i])return i;var s=Rl[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in L1)return bp[i]=s[u];return i}var V1=Eo("animationend"),U1=Eo("animationiteration"),z1=Eo("animationstart"),fj=Eo("transitionrun"),hj=Eo("transitionstart"),dj=Eo("transitioncancel"),B1=Eo("transitionend"),q1=new Map,xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xp.push("scrollEnd");function _i(i,s){q1.set(i,s),Br(s,[i])}var $1=new WeakMap;function Kr(i,s){if(typeof i=="object"&&i!==null){var u=$1.get(i);return u!==void 0?u:(s={value:i,source:s,stack:pi(s)},$1.set(i,s),s)}return{value:i,source:s,stack:pi(s)}}var Gr=[],Dl=0,_p=0;function Dh(){for(var i=Dl,s=_p=Dl=0;s<i;){var u=Gr[s];Gr[s++]=null;var f=Gr[s];Gr[s++]=null;var p=Gr[s];Gr[s++]=null;var v=Gr[s];if(Gr[s++]=null,f!==null&&p!==null){var k=f.pending;k===null?p.next=p:(p.next=k.next,k.next=p),f.pending=p}v!==0&&F1(u,p,v)}}function Ph(i,s,u,f){Gr[Dl++]=i,Gr[Dl++]=s,Gr[Dl++]=u,Gr[Dl++]=f,_p|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function wp(i,s,u,f){return Ph(i,s,u,f),Mh(i)}function Pl(i,s){return Ph(i,null,null,s),Mh(i)}function F1(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var p=!1,v=i.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&s!==null&&(p=31-gt(u),i=v.hiddenUpdates,f=i[p],f===null?i[p]=[s]:f.push(s),s.lane=u|536870912),v):null}function Mh(i){if(50<zc)throw zc=0,Cy=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ml={};function mj(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(i,s,u,f){return new mj(i,s,u,f)}function Ep(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ua(i,s){var u=i.alternate;return u===null?(u=wr(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function H1(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function jh(i,s,u,f,p,v){var k=0;if(f=i,typeof i=="function")Ep(i)&&(k=1);else if(typeof i=="string")k=p4(i,u,we.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=wr(31,u,s,p),i.elementType=D,i.lanes=v,i;case E:return To(u.children,p,v,s);case S:k=8,p|=24;break;case T:return i=wr(12,u,s,p|2),i.elementType=T,i.lanes=v,i;case F:return i=wr(13,u,s,p),i.elementType=F,i.lanes=v,i;case $:return i=wr(19,u,s,p),i.elementType=$,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case L:k=10;break e;case M:k=9;break e;case B:k=11;break e;case R:k=14;break e;case O:k=16,f=null;break e}k=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=wr(k,u,s,p),s.elementType=i,s.type=f,s.lanes=v,s}function To(i,s,u,f){return i=wr(7,i,f,s),i.lanes=u,i}function Tp(i,s,u){return i=wr(6,i,null,s),i.lanes=u,i}function Ap(i,s,u){return s=wr(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var jl=[],Ll=0,Lh=null,Vh=0,Yr=[],Wr=0,Ao=null,ca=1,fa="";function So(i,s){jl[Ll++]=Vh,jl[Ll++]=Lh,Lh=i,Vh=s}function K1(i,s,u){Yr[Wr++]=ca,Yr[Wr++]=fa,Yr[Wr++]=Ao,Ao=i;var f=ca;i=fa;var p=32-gt(f)-1;f&=~(1<<p),u+=1;var v=32-gt(s)+p;if(30<v){var k=p-p%5;v=(f&(1<<k)-1).toString(32),f>>=k,p-=k,ca=1<<32-gt(s)+p|u<<p|f,fa=v+i}else ca=1<<v|u<<p|f,fa=i}function Sp(i){i.return!==null&&(So(i,1),K1(i,1,0))}function kp(i){for(;i===Lh;)Lh=jl[--Ll],jl[Ll]=null,Vh=jl[--Ll],jl[Ll]=null;for(;i===Ao;)Ao=Yr[--Wr],Yr[Wr]=null,fa=Yr[--Wr],Yr[Wr]=null,ca=Yr[--Wr],Yr[Wr]=null}var ir=null,Ht=null,ut=!1,ko=null,Mi=!1,Cp=Error(r(519));function Co(i){var s=Error(r(418,""));throw vc(Kr(s,i)),Cp}function G1(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[ke]=i,s[Ce]=f,u){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(u=0;u<qc.length;u++)Xe(qc[u],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),ec(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),es(s);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),bh(s,f.value,f.defaultValue,f.children),es(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||cT(s.textContent,u)?(f.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),f.onScroll!=null&&Xe("scroll",s),f.onScrollEnd!=null&&Xe("scrollend",s),f.onClick!=null&&(s.onclick=vd),s=!0):s=!1,s||Co(i)}function Y1(i){for(ir=i.return;ir;)switch(ir.tag){case 5:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:ir=ir.return}}function pc(i){if(i!==ir)return!1;if(!ut)return Y1(i),ut=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Fy(i.type,i.memoizedProps)),u=!u),u&&Ht&&Co(i),Y1(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){Ht=Ei(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}Ht=null}}else s===27?(s=Ht,_s(i.type)?(i=Yy,Yy=null,Ht=i):Ht=s):Ht=ir?Ei(i.stateNode.nextSibling):null;return!0}function yc(){Ht=ir=null,ut=!1}function W1(){var i=ko;return i!==null&&(hr===null?hr=i:hr.push.apply(hr,i),ko=null),i}function vc(i){ko===null?ko=[i]:ko.push(i)}var Op=ie(null),Oo=null,ha=null;function ss(i,s,u){he(Op,s._currentValue),s._currentValue=u}function da(i){i._currentValue=Op.current,ae(Op)}function Np(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function Ip(i,s,u,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var k=p.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=p;for(var q=0;q<s.length;q++)if(N.context===s[q]){v.lanes|=u,N=v.alternate,N!==null&&(N.lanes|=u),Np(v.return,u,i),f||(k=null);break e}v=N.next}}else if(p.tag===18){if(k=p.return,k===null)throw Error(r(341));k.lanes|=u,v=k.alternate,v!==null&&(v.lanes|=u),Np(k,u,i),k=null}else k=p.child;if(k!==null)k.return=p;else for(k=p;k!==null;){if(k===i){k=null;break}if(p=k.sibling,p!==null){p.return=k.return,k=p;break}k=k.return}p=k}}function bc(i,s,u,f){i=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var k=p.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var N=p.type;_r(p.pendingProps.value,k.value)||(i!==null?i.push(N):i=[N])}}else if(p===$t.current){if(k=p.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Yc):i=[Yc])}p=p.return}i!==null&&Ip(s,i,u,f),s.flags|=262144}function Uh(i){for(i=i.firstContext;i!==null;){if(!_r(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function No(i){Oo=i,ha=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Fn(i){return X1(Oo,i)}function zh(i,s){return Oo===null&&No(i),X1(i,s)}function X1(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},ha===null){if(i===null)throw Error(r(308));ha=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ha=ha.next=s;return u}var gj=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},pj=t.unstable_scheduleCallback,yj=t.unstable_NormalPriority,mn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rp(){return{controller:new gj,data:new Map,refCount:0}}function xc(i){i.refCount--,i.refCount===0&&pj(yj,function(){i.controller.abort()})}var _c=null,Dp=0,Vl=0,Ul=null;function vj(i,s){if(_c===null){var u=_c=[];Dp=0,Vl=My(),Ul={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Dp++,s.then(Q1,Q1),s}function Q1(){if(--Dp===0&&_c!==null){Ul!==null&&(Ul.status="fulfilled");var i=_c;_c=null,Vl=0,Ul=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function bj(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<u.length;p++)(0,u[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),f}var Z1=Z.S;Z.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&vj(i,s),Z1!==null&&Z1(i,s)};var Io=ie(null);function Pp(){var i=Io.current;return i!==null?i:kt.pooledCache}function Bh(i,s){s===null?he(Io,Io.current):he(Io,s.pool)}function J1(){var i=Pp();return i===null?null:{parent:mn._currentValue,pool:i}}var wc=Error(r(460)),ew=Error(r(474)),qh=Error(r(542)),Mp={then:function(){}};function tw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $h(){}function nw(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then($h,$h),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,iw(i),i;default:if(typeof s.status=="string")s.then($h,$h);else{if(i=kt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,iw(i),i}throw Ec=s,wc}}var Ec=null;function rw(){if(Ec===null)throw Error(r(459));var i=Ec;return Ec=null,i}function iw(i){if(i===wc||i===qh)throw Error(r(483))}var os=!1;function jp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ls(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function us(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(ht&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=Mh(i),F1(i,null,u),s}return Ph(i,f,s,u),Mh(i)}function Tc(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,di(i,u)}}function Vp(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?p=v=k:v=v.next=k,u=u.next}while(u!==null);v===null?p=v=s:v=v.next=s}else p=v=s;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Up=!1;function Ac(){if(Up){var i=Ul;if(i!==null)throw i}}function Sc(i,s,u,f){Up=!1;var p=i.updateQueue;os=!1;var v=p.firstBaseUpdate,k=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var q=N,X=q.next;q.next=null,k===null?v=X:k.next=X,k=q;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==k&&(N===null?ne.firstBaseUpdate=X:N.next=X,ne.lastBaseUpdate=q))}if(v!==null){var se=p.baseState;k=0,ne=X=q=null,N=v;do{var Q=N.lane&-536870913,J=Q!==N.lane;if(J?(nt&Q)===Q:(f&Q)===Q){Q!==0&&Q===Vl&&(Up=!0),ne!==null&&(ne=ne.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ue=i,Pe=N;Q=s;var bt=u;switch(Pe.tag){case 1:if(Ue=Pe.payload,typeof Ue=="function"){se=Ue.call(bt,se,Q);break e}se=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Pe.payload,Q=typeof Ue=="function"?Ue.call(bt,se,Q):Ue,Q==null)break e;se=m({},se,Q);break e;case 2:os=!0}}Q=N.callback,Q!==null&&(i.flags|=64,J&&(i.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(X=ne=J,q=se):ne=ne.next=J,k|=Q;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;J=N,N=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);ne===null&&(q=se),p.baseState=q,p.firstBaseUpdate=X,p.lastBaseUpdate=ne,v===null&&(p.shared.lanes=0),ys|=k,i.lanes=k,i.memoizedState=se}}function aw(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function sw(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)aw(u[i],s)}var zl=ie(null),Fh=ie(0);function ow(i,s){i=xa,he(Fh,i),he(zl,s),xa=i|s.baseLanes}function zp(){he(Fh,xa),he(zl,zl.current)}function Bp(){xa=Fh.current,ae(zl),ae(Fh)}var cs=0,Ge=null,yt=null,rn=null,Hh=!1,Bl=!1,Ro=!1,Kh=0,kc=0,ql=null,xj=0;function Qt(){throw Error(r(321))}function qp(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!_r(i[u],s[u]))return!1;return!0}function $p(i,s,u,f,p,v){return cs=v,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?Fw:Hw,Ro=!1,v=u(f,p),Ro=!1,Bl&&(v=uw(s,u,f,p)),lw(i),v}function lw(i){Z.H=Zh;var s=yt!==null&&yt.next!==null;if(cs=0,rn=yt=Ge=null,Hh=!1,kc=0,ql=null,s)throw Error(r(300));i===null||Tn||(i=i.dependencies,i!==null&&Uh(i)&&(Tn=!0))}function uw(i,s,u,f){Ge=i;var p=0;do{if(Bl&&(ql=null),kc=0,Bl=!1,25<=p)throw Error(r(301));if(p+=1,rn=yt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=kj,v=s(u,f)}while(Bl);return v}function _j(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Cc(s):s,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(Ge.flags|=1024),s}function Fp(){var i=Kh!==0;return Kh=0,i}function Hp(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Kp(i){if(Hh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Hh=!1}cs=0,rn=yt=Ge=null,Bl=!1,kc=Kh=0,ql=null}function cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ge.memoizedState=rn=i:rn=rn.next=i,rn}function an(){if(yt===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var s=rn===null?Ge.memoizedState:rn.next;if(s!==null)rn=s,yt=i;else{if(i===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},rn===null?Ge.memoizedState=rn=i:rn=rn.next=i}return rn}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cc(i){var s=kc;return kc+=1,ql===null&&(ql=[]),i=nw(ql,i,s),s=Ge,(rn===null?s.memoizedState:rn.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?Fw:Hw),i}function Gh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cc(i);if(i.$$typeof===L)return Fn(i)}throw Error(r(438,String(i)))}function Yp(i){var s=null,u=Ge.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Ge.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Gp(),Ge.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=U;return s.index++,u}function ma(i,s){return typeof s=="function"?s(i):s}function Yh(i){var s=an();return Wp(s,yt,i)}function Wp(i,s,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var p=i.baseQueue,v=f.pending;if(v!==null){if(p!==null){var k=p.next;p.next=v.next,v.next=k}s.baseQueue=p=v,f.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{s=p.next;var N=k=null,q=null,X=s,ne=!1;do{var se=X.lane&-536870913;if(se!==X.lane?(nt&se)===se:(cs&se)===se){var Q=X.revertLane;if(Q===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),se===Vl&&(ne=!0);else if((cs&Q)===Q){X=X.next,Q===Vl&&(ne=!0);continue}else se={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},q===null?(N=q=se,k=v):q=q.next=se,Ge.lanes|=Q,ys|=Q;se=X.action,Ro&&u(v,se),v=X.hasEagerState?X.eagerState:u(v,se)}else Q={lane:se,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},q===null?(N=q=Q,k=v):q=q.next=Q,Ge.lanes|=se,ys|=se;X=X.next}while(X!==null&&X!==s);if(q===null?k=v:q.next=N,!_r(v,i.memoizedState)&&(Tn=!0,ne&&(u=Ul,u!==null)))throw u;i.memoizedState=v,i.baseState=k,i.baseQueue=q,f.lastRenderedState=v}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Xp(i){var s=an(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,p=u.pending,v=s.memoizedState;if(p!==null){u.pending=null;var k=p=p.next;do v=i(v,k.action),k=k.next;while(k!==p);_r(v,s.memoizedState)||(Tn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),u.lastRenderedState=v}return[v,f]}function cw(i,s,u){var f=Ge,p=an(),v=ut;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=s();var k=!_r((yt||p).memoizedState,u);k&&(p.memoizedState=u,Tn=!0),p=p.queue;var N=dw.bind(null,f,p,i);if(Oc(2048,8,N,[i]),p.getSnapshot!==s||k||rn!==null&&rn.memoizedState.tag&1){if(f.flags|=2048,$l(9,Wh(),hw.bind(null,f,p,u,s),null),kt===null)throw Error(r(349));v||(cs&124)!==0||fw(f,s,u)}return u}function fw(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ge.updateQueue,s===null?(s=Gp(),Ge.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function hw(i,s,u,f){s.value=u,s.getSnapshot=f,mw(s)&&gw(i)}function dw(i,s,u){return u(function(){mw(s)&&gw(i)})}function mw(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!_r(i,u)}catch{return!0}}function gw(i){var s=Pl(i,2);s!==null&&kr(s,i,2)}function Qp(i){var s=cr();if(typeof i=="function"){var u=i;if(i=u(),Ro){_n(!0);try{u()}finally{_n(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:i},s}function pw(i,s,u,f){return i.baseState=u,Wp(i,yt,typeof f=="function"?f:ma)}function wj(i,s,u,f,p){if(Qh(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){v.listeners.push(k)}};Z.T!==null?u(!0):v.isTransition=!1,f(v),u=s.pending,u===null?(v.next=s.pending=v,yw(s,v)):(v.next=u.next,s.pending=u.next=v)}}function yw(i,s){var u=s.action,f=s.payload,p=i.state;if(s.isTransition){var v=Z.T,k={};Z.T=k;try{var N=u(p,f),q=Z.S;q!==null&&q(k,N),vw(i,s,N)}catch(X){Zp(i,s,X)}finally{Z.T=v}}else try{v=u(p,f),vw(i,s,v)}catch(X){Zp(i,s,X)}}function vw(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){bw(i,s,f)},function(f){return Zp(i,s,f)}):bw(i,s,u)}function bw(i,s,u){s.status="fulfilled",s.value=u,xw(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,yw(i,u)))}function Zp(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,xw(s),s=s.next;while(s!==f)}i.action=null}function xw(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function _w(i,s){return s}function ww(i,s){if(ut){var u=kt.formState;if(u!==null){e:{var f=Ge;if(ut){if(Ht){t:{for(var p=Ht,v=Mi;p.nodeType!==8;){if(!v){p=null;break t}if(p=Ei(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Ht=Ei(p.nextSibling),f=p.data==="F!";break e}}Co(f)}f=!1}f&&(s=u[0])}}return u=cr(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_w,lastRenderedState:s},u.queue=f,u=Bw.bind(null,Ge,f),f.dispatch=u,f=Qp(!1),v=ry.bind(null,Ge,!1,f.queue),f=cr(),p={state:s,dispatch:null,action:i,pending:null},f.queue=p,u=wj.bind(null,Ge,p,v,u),p.dispatch=u,f.memoizedState=i,[s,u,!1]}function Ew(i){var s=an();return Tw(s,yt,i)}function Tw(i,s,u){if(s=Wp(i,s,_w)[0],i=Yh(ma)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Cc(s)}catch(k){throw k===wc?qh:k}else f=s;s=an();var p=s.queue,v=p.dispatch;return u!==s.memoizedState&&(Ge.flags|=2048,$l(9,Wh(),Ej.bind(null,p,u),null)),[f,v,i]}function Ej(i,s){i.action=s}function Aw(i){var s=an(),u=yt;if(u!==null)return Tw(s,u,i);an(),s=s.memoizedState,u=an();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function $l(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=Gp(),Ge.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function Wh(){return{destroy:void 0,resource:void 0}}function Sw(){return an().memoizedState}function Xh(i,s,u,f){var p=cr();f=f===void 0?null:f,Ge.flags|=i,p.memoizedState=$l(1|s,Wh(),u,f)}function Oc(i,s,u,f){var p=an();f=f===void 0?null:f;var v=p.memoizedState.inst;yt!==null&&f!==null&&qp(f,yt.memoizedState.deps)?p.memoizedState=$l(s,v,u,f):(Ge.flags|=i,p.memoizedState=$l(1|s,v,u,f))}function kw(i,s){Xh(8390656,8,i,s)}function Cw(i,s){Oc(2048,8,i,s)}function Ow(i,s){return Oc(4,2,i,s)}function Nw(i,s){return Oc(4,4,i,s)}function Iw(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Rw(i,s,u){u=u!=null?u.concat([i]):null,Oc(4,4,Iw.bind(null,s,i),u)}function Jp(){}function Dw(i,s){var u=an();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&qp(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function Pw(i,s){var u=an();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&qp(s,f[1]))return f[0];if(f=i(),Ro){_n(!0);try{i()}finally{_n(!1)}}return u.memoizedState=[f,s],f}function ey(i,s,u){return u===void 0||(cs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=LE(),Ge.lanes|=i,ys|=i,u)}function Mw(i,s,u,f){return _r(u,s)?u:zl.current!==null?(i=ey(i,u,f),_r(i,s)||(Tn=!0),i):(cs&42)===0?(Tn=!0,i.memoizedState=u):(i=LE(),Ge.lanes|=i,ys|=i,s)}function jw(i,s,u,f,p){var v=ue.p;ue.p=v!==0&&8>v?v:8;var k=Z.T,N={};Z.T=N,ry(i,!1,s,u);try{var q=p(),X=Z.S;if(X!==null&&X(N,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ne=bj(q,f);Nc(i,s,ne,Sr(i))}else Nc(i,s,f,Sr(i))}catch(se){Nc(i,s,{then:function(){},status:"rejected",reason:se},Sr())}finally{ue.p=v,Z.T=k}}function Tj(){}function ty(i,s,u,f){if(i.tag!==5)throw Error(r(476));var p=Lw(i).queue;jw(i,p,s,me,u===null?Tj:function(){return Vw(i),u(f)})}function Lw(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:me},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Vw(i){var s=Lw(i).next.queue;Nc(i,s,{},Sr())}function ny(){return Fn(Yc)}function Uw(){return an().memoizedState}function zw(){return an().memoizedState}function Aj(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Sr();i=ls(u);var f=us(s,i,u);f!==null&&(kr(f,s,u),Tc(f,s,u)),s={cache:Rp()},i.payload=s;return}s=s.return}}function Sj(i,s,u){var f=Sr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Qh(i)?qw(s,u):(u=wp(i,s,u,f),u!==null&&(kr(u,i,f),$w(u,s,f)))}function Bw(i,s,u){var f=Sr();Nc(i,s,u,f)}function Nc(i,s,u,f){var p={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Qh(i))qw(s,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var k=s.lastRenderedState,N=v(k,u);if(p.hasEagerState=!0,p.eagerState=N,_r(N,k))return Ph(i,s,p,0),kt===null&&Dh(),!1}catch{}finally{}if(u=wp(i,s,p,f),u!==null)return kr(u,i,f),$w(u,s,f),!0}return!1}function ry(i,s,u,f){if(f={lane:2,revertLane:My(),action:f,hasEagerState:!1,eagerState:null,next:null},Qh(i)){if(s)throw Error(r(479))}else s=wp(i,u,f,2),s!==null&&kr(s,i,2)}function Qh(i){var s=i.alternate;return i===Ge||s!==null&&s===Ge}function qw(i,s){Bl=Hh=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function $w(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,di(i,u)}}var Zh={readContext:Fn,use:Gh,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},Fw={readContext:Fn,use:Gh,useCallback:function(i,s){return cr().memoizedState=[i,s===void 0?null:s],i},useContext:Fn,useEffect:kw,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Xh(4194308,4,Iw.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Xh(4194308,4,i,s)},useInsertionEffect:function(i,s){Xh(4,2,i,s)},useMemo:function(i,s){var u=cr();s=s===void 0?null:s;var f=i();if(Ro){_n(!0);try{i()}finally{_n(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=cr();if(u!==void 0){var p=u(s);if(Ro){_n(!0);try{u(s)}finally{_n(!1)}}}else p=s;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=Sj.bind(null,Ge,i),[f.memoizedState,i]},useRef:function(i){var s=cr();return i={current:i},s.memoizedState=i},useState:function(i){i=Qp(i);var s=i.queue,u=Bw.bind(null,Ge,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:Jp,useDeferredValue:function(i,s){var u=cr();return ey(u,i,s)},useTransition:function(){var i=Qp(!1);return i=jw.bind(null,Ge,i.queue,!0,!1),cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=Ge,p=cr();if(ut){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),kt===null)throw Error(r(349));(nt&124)!==0||fw(f,s,u)}p.memoizedState=u;var v={value:u,getSnapshot:s};return p.queue=v,kw(dw.bind(null,f,v,i),[i]),f.flags|=2048,$l(9,Wh(),hw.bind(null,f,v,u,s),null),u},useId:function(){var i=cr(),s=kt.identifierPrefix;if(ut){var u=fa,f=ca;u=(f&~(1<<32-gt(f)-1)).toString(32)+u,s="«"+s+"R"+u,u=Kh++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=xj++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:ny,useFormState:ww,useActionState:ww,useOptimistic:function(i){var s=cr();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=ry.bind(null,Ge,!0,u),u.dispatch=s,[i,s]},useMemoCache:Yp,useCacheRefresh:function(){return cr().memoizedState=Aj.bind(null,Ge)}},Hw={readContext:Fn,use:Gh,useCallback:Dw,useContext:Fn,useEffect:Cw,useImperativeHandle:Rw,useInsertionEffect:Ow,useLayoutEffect:Nw,useMemo:Pw,useReducer:Yh,useRef:Sw,useState:function(){return Yh(ma)},useDebugValue:Jp,useDeferredValue:function(i,s){var u=an();return Mw(u,yt.memoizedState,i,s)},useTransition:function(){var i=Yh(ma)[0],s=an().memoizedState;return[typeof i=="boolean"?i:Cc(i),s]},useSyncExternalStore:cw,useId:Uw,useHostTransitionStatus:ny,useFormState:Ew,useActionState:Ew,useOptimistic:function(i,s){var u=an();return pw(u,yt,i,s)},useMemoCache:Yp,useCacheRefresh:zw},kj={readContext:Fn,use:Gh,useCallback:Dw,useContext:Fn,useEffect:Cw,useImperativeHandle:Rw,useInsertionEffect:Ow,useLayoutEffect:Nw,useMemo:Pw,useReducer:Xp,useRef:Sw,useState:function(){return Xp(ma)},useDebugValue:Jp,useDeferredValue:function(i,s){var u=an();return yt===null?ey(u,i,s):Mw(u,yt.memoizedState,i,s)},useTransition:function(){var i=Xp(ma)[0],s=an().memoizedState;return[typeof i=="boolean"?i:Cc(i),s]},useSyncExternalStore:cw,useId:Uw,useHostTransitionStatus:ny,useFormState:Aw,useActionState:Aw,useOptimistic:function(i,s){var u=an();return yt!==null?pw(u,yt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Yp,useCacheRefresh:zw},Fl=null,Ic=0;function Jh(i){var s=Ic;return Ic+=1,Fl===null&&(Fl=[]),nw(Fl,i,s)}function Rc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ed(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Kw(i){var s=i._init;return s(i._payload)}function Gw(i){function s(G,K){if(i){var Y=G.deletions;Y===null?(G.deletions=[K],G.flags|=16):Y.push(K)}}function u(G,K){if(!i)return null;for(;K!==null;)s(G,K),K=K.sibling;return null}function f(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function p(G,K){return G=ua(G,K),G.index=0,G.sibling=null,G}function v(G,K,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<K?(G.flags|=67108866,K):Y):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function k(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function N(G,K,Y,re){return K===null||K.tag!==6?(K=Tp(Y,G.mode,re),K.return=G,K):(K=p(K,Y),K.return=G,K)}function q(G,K,Y,re){var xe=Y.type;return xe===E?ne(G,K,Y.props.children,re,Y.key):K!==null&&(K.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===O&&Kw(xe)===K.type)?(K=p(K,Y.props),Rc(K,Y),K.return=G,K):(K=jh(Y.type,Y.key,Y.props,null,G.mode,re),Rc(K,Y),K.return=G,K)}function X(G,K,Y,re){return K===null||K.tag!==4||K.stateNode.containerInfo!==Y.containerInfo||K.stateNode.implementation!==Y.implementation?(K=Ap(Y,G.mode,re),K.return=G,K):(K=p(K,Y.children||[]),K.return=G,K)}function ne(G,K,Y,re,xe){return K===null||K.tag!==7?(K=To(Y,G.mode,re,xe),K.return=G,K):(K=p(K,Y),K.return=G,K)}function se(G,K,Y){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Tp(""+K,G.mode,Y),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return Y=jh(K.type,K.key,K.props,null,G.mode,Y),Rc(Y,K),Y.return=G,Y;case _:return K=Ap(K,G.mode,Y),K.return=G,K;case O:var re=K._init;return K=re(K._payload),se(G,K,Y)}if(ye(K)||z(K))return K=To(K,G.mode,Y,null),K.return=G,K;if(typeof K.then=="function")return se(G,Jh(K),Y);if(K.$$typeof===L)return se(G,zh(G,K),Y);ed(G,K)}return null}function Q(G,K,Y,re){var xe=K!==null?K.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:N(G,K,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===xe?q(G,K,Y,re):null;case _:return Y.key===xe?X(G,K,Y,re):null;case O:return xe=Y._init,Y=xe(Y._payload),Q(G,K,Y,re)}if(ye(Y)||z(Y))return xe!==null?null:ne(G,K,Y,re,null);if(typeof Y.then=="function")return Q(G,K,Jh(Y),re);if(Y.$$typeof===L)return Q(G,K,zh(G,Y),re);ed(G,Y)}return null}function J(G,K,Y,re,xe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Y)||null,N(K,G,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return G=G.get(re.key===null?Y:re.key)||null,q(K,G,re,xe);case _:return G=G.get(re.key===null?Y:re.key)||null,X(K,G,re,xe);case O:var Ye=re._init;return re=Ye(re._payload),J(G,K,Y,re,xe)}if(ye(re)||z(re))return G=G.get(Y)||null,ne(K,G,re,xe,null);if(typeof re.then=="function")return J(G,K,Y,Jh(re),xe);if(re.$$typeof===L)return J(G,K,Y,zh(K,re),xe);ed(K,re)}return null}function Ue(G,K,Y,re){for(var xe=null,Ye=null,Te=K,Me=K=0,Sn=null;Te!==null&&Me<Y.length;Me++){Te.index>Me?(Sn=Te,Te=null):Sn=Te.sibling;var st=Q(G,Te,Y[Me],re);if(st===null){Te===null&&(Te=Sn);break}i&&Te&&st.alternate===null&&s(G,Te),K=v(st,K,Me),Ye===null?xe=st:Ye.sibling=st,Ye=st,Te=Sn}if(Me===Y.length)return u(G,Te),ut&&So(G,Me),xe;if(Te===null){for(;Me<Y.length;Me++)Te=se(G,Y[Me],re),Te!==null&&(K=v(Te,K,Me),Ye===null?xe=Te:Ye.sibling=Te,Ye=Te);return ut&&So(G,Me),xe}for(Te=f(Te);Me<Y.length;Me++)Sn=J(Te,G,Me,Y[Me],re),Sn!==null&&(i&&Sn.alternate!==null&&Te.delete(Sn.key===null?Me:Sn.key),K=v(Sn,K,Me),Ye===null?xe=Sn:Ye.sibling=Sn,Ye=Sn);return i&&Te.forEach(function(Ss){return s(G,Ss)}),ut&&So(G,Me),xe}function Pe(G,K,Y,re){if(Y==null)throw Error(r(151));for(var xe=null,Ye=null,Te=K,Me=K=0,Sn=null,st=Y.next();Te!==null&&!st.done;Me++,st=Y.next()){Te.index>Me?(Sn=Te,Te=null):Sn=Te.sibling;var Ss=Q(G,Te,st.value,re);if(Ss===null){Te===null&&(Te=Sn);break}i&&Te&&Ss.alternate===null&&s(G,Te),K=v(Ss,K,Me),Ye===null?xe=Ss:Ye.sibling=Ss,Ye=Ss,Te=Sn}if(st.done)return u(G,Te),ut&&So(G,Me),xe;if(Te===null){for(;!st.done;Me++,st=Y.next())st=se(G,st.value,re),st!==null&&(K=v(st,K,Me),Ye===null?xe=st:Ye.sibling=st,Ye=st);return ut&&So(G,Me),xe}for(Te=f(Te);!st.done;Me++,st=Y.next())st=J(Te,G,Me,st.value,re),st!==null&&(i&&st.alternate!==null&&Te.delete(st.key===null?Me:st.key),K=v(st,K,Me),Ye===null?xe=st:Ye.sibling=st,Ye=st);return i&&Te.forEach(function(C4){return s(G,C4)}),ut&&So(G,Me),xe}function bt(G,K,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===E&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:e:{for(var xe=Y.key;K!==null;){if(K.key===xe){if(xe=Y.type,xe===E){if(K.tag===7){u(G,K.sibling),re=p(K,Y.props.children),re.return=G,G=re;break e}}else if(K.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===O&&Kw(xe)===K.type){u(G,K.sibling),re=p(K,Y.props),Rc(re,Y),re.return=G,G=re;break e}u(G,K);break}else s(G,K);K=K.sibling}Y.type===E?(re=To(Y.props.children,G.mode,re,Y.key),re.return=G,G=re):(re=jh(Y.type,Y.key,Y.props,null,G.mode,re),Rc(re,Y),re.return=G,G=re)}return k(G);case _:e:{for(xe=Y.key;K!==null;){if(K.key===xe)if(K.tag===4&&K.stateNode.containerInfo===Y.containerInfo&&K.stateNode.implementation===Y.implementation){u(G,K.sibling),re=p(K,Y.children||[]),re.return=G,G=re;break e}else{u(G,K);break}else s(G,K);K=K.sibling}re=Ap(Y,G.mode,re),re.return=G,G=re}return k(G);case O:return xe=Y._init,Y=xe(Y._payload),bt(G,K,Y,re)}if(ye(Y))return Ue(G,K,Y,re);if(z(Y)){if(xe=z(Y),typeof xe!="function")throw Error(r(150));return Y=xe.call(Y),Pe(G,K,Y,re)}if(typeof Y.then=="function")return bt(G,K,Jh(Y),re);if(Y.$$typeof===L)return bt(G,K,zh(G,Y),re);ed(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,K!==null&&K.tag===6?(u(G,K.sibling),re=p(K,Y),re.return=G,G=re):(u(G,K),re=Tp(Y,G.mode,re),re.return=G,G=re),k(G)):u(G,K)}return function(G,K,Y,re){try{Ic=0;var xe=bt(G,K,Y,re);return Fl=null,xe}catch(Te){if(Te===wc||Te===qh)throw Te;var Ye=wr(29,Te,null,G.mode);return Ye.lanes=re,Ye.return=G,Ye}finally{}}}var Hl=Gw(!0),Yw=Gw(!1),Xr=ie(null),ji=null;function fs(i){var s=i.alternate;he(gn,gn.current&1),he(Xr,i),ji===null&&(s===null||zl.current!==null||s.memoizedState!==null)&&(ji=i)}function Ww(i){if(i.tag===22){if(he(gn,gn.current),he(Xr,i),ji===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(ji=i)}}else hs()}function hs(){he(gn,gn.current),he(Xr,Xr.current)}function ga(i){ae(Xr),ji===i&&(ji=null),ae(gn)}var gn=ie(0);function td(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Gy(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function iy(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:m({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ay={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=Sr(),p=ls(f);p.payload=s,u!=null&&(p.callback=u),s=us(i,p,f),s!==null&&(kr(s,i,f),Tc(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=Sr(),p=ls(f);p.tag=1,p.payload=s,u!=null&&(p.callback=u),s=us(i,p,f),s!==null&&(kr(s,i,f),Tc(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Sr(),f=ls(u);f.tag=2,s!=null&&(f.callback=s),s=us(i,f,u),s!==null&&(kr(s,i,u),Tc(s,i,u))}};function Xw(i,s,u,f,p,v,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,k):s.prototype&&s.prototype.isPureReactComponent?!mc(u,f)||!mc(p,v):!0}function Qw(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&ay.enqueueReplaceState(s,s.state,null)}function Do(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=m({},u));for(var p in i)u[p]===void 0&&(u[p]=i[p])}return u}var nd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Zw(i){nd(i)}function Jw(i){console.error(i)}function eE(i){nd(i)}function rd(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function tE(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sy(i,s,u){return u=ls(u),u.tag=3,u.payload={element:null},u.callback=function(){rd(i,s)},u}function nE(i){return i=ls(i),i.tag=3,i}function rE(i,s,u,f){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var v=f.value;i.payload=function(){return p(v)},i.callback=function(){tE(s,u,f)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){tE(s,u,f),typeof p!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function Cj(i,s,u,f,p){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&bc(s,u,p,!0),u=Xr.current,u!==null){switch(u.tag){case 13:return ji===null?Ny():u.alternate===null&&Kt===0&&(Kt=3),u.flags&=-257,u.flags|=65536,u.lanes=p,f===Mp?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),Ry(i,f,p)),!1;case 22:return u.flags|=65536,f===Mp?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),Ry(i,f,p)),!1}throw Error(r(435,u.tag))}return Ry(i,f,p),Ny(),!1}if(ut)return s=Xr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==Cp&&(i=Error(r(422),{cause:f}),vc(Kr(i,u)))):(f!==Cp&&(s=Error(r(423),{cause:f}),vc(Kr(s,u))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=Kr(f,u),p=sy(i.stateNode,f,p),Vp(i,p),Kt!==4&&(Kt=2)),!1;var v=Error(r(520),{cause:f});if(v=Kr(v,u),Uc===null?Uc=[v]:Uc.push(v),Kt!==4&&(Kt=2),s===null)return!0;f=Kr(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=p&-p,u.lanes|=i,i=sy(u.stateNode,f,i),Vp(u,i),!1;case 1:if(s=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(vs===null||!vs.has(v))))return u.flags|=65536,p&=-p,u.lanes|=p,p=nE(p),rE(p,i,u,f),Vp(u,p),!1}u=u.return}while(u!==null);return!1}var iE=Error(r(461)),Tn=!1;function Rn(i,s,u,f){s.child=i===null?Yw(s,null,u,f):Hl(s,i.child,u,f)}function aE(i,s,u,f,p){u=u.render;var v=s.ref;if("ref"in f){var k={};for(var N in f)N!=="ref"&&(k[N]=f[N])}else k=f;return No(s),f=$p(i,s,u,k,v,p),N=Fp(),i!==null&&!Tn?(Hp(i,s,p),pa(i,s,p)):(ut&&N&&Sp(s),s.flags|=1,Rn(i,s,f,p),s.child)}function sE(i,s,u,f,p){if(i===null){var v=u.type;return typeof v=="function"&&!Ep(v)&&v.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=v,oE(i,s,v,f,p)):(i=jh(u.type,null,f,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!my(i,p)){var k=v.memoizedProps;if(u=u.compare,u=u!==null?u:mc,u(k,f)&&i.ref===s.ref)return pa(i,s,p)}return s.flags|=1,i=ua(v,f),i.ref=s.ref,i.return=s,s.child=i}function oE(i,s,u,f,p){if(i!==null){var v=i.memoizedProps;if(mc(v,f)&&i.ref===s.ref)if(Tn=!1,s.pendingProps=f=v,my(i,p))(i.flags&131072)!==0&&(Tn=!0);else return s.lanes=i.lanes,pa(i,s,p)}return oy(i,s,u,f,p)}function lE(i,s,u){var f=s.pendingProps,p=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=v!==null?v.baseLanes|u:u,i!==null){for(p=s.child=i.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;s.childLanes=v&~f}else s.childLanes=0,s.child=null;return uE(i,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bh(s,v!==null?v.cachePool:null),v!==null?ow(s,v):zp(),Ww(s);else return s.lanes=s.childLanes=536870912,uE(i,s,v!==null?v.baseLanes|u:u,u)}else v!==null?(Bh(s,v.cachePool),ow(s,v),hs(),s.memoizedState=null):(i!==null&&Bh(s,null),zp(),hs());return Rn(i,s,p,u),s.child}function uE(i,s,u,f){var p=Pp();return p=p===null?null:{parent:mn._currentValue,pool:p},s.memoizedState={baseLanes:u,cachePool:p},i!==null&&Bh(s,null),zp(),Ww(s),i!==null&&bc(i,s,f,!0),null}function id(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function oy(i,s,u,f,p){return No(s),u=$p(i,s,u,f,void 0,p),f=Fp(),i!==null&&!Tn?(Hp(i,s,p),pa(i,s,p)):(ut&&f&&Sp(s),s.flags|=1,Rn(i,s,u,p),s.child)}function cE(i,s,u,f,p,v){return No(s),s.updateQueue=null,u=uw(s,f,u,p),lw(i),f=Fp(),i!==null&&!Tn?(Hp(i,s,v),pa(i,s,v)):(ut&&f&&Sp(s),s.flags|=1,Rn(i,s,u,v),s.child)}function fE(i,s,u,f,p){if(No(s),s.stateNode===null){var v=Ml,k=u.contextType;typeof k=="object"&&k!==null&&(v=Fn(k)),v=new u(f,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ay,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=f,v.state=s.memoizedState,v.refs={},jp(s),k=u.contextType,v.context=typeof k=="object"&&k!==null?Fn(k):Ml,v.state=s.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(iy(s,u,k,f),v.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(k=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),k!==v.state&&ay.enqueueReplaceState(v,v.state,null),Sc(s,f,v,p),Ac(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){v=s.stateNode;var N=s.memoizedProps,q=Do(u,N);v.props=q;var X=v.context,ne=u.contextType;k=Ml,typeof ne=="object"&&ne!==null&&(k=Fn(ne));var se=u.getDerivedStateFromProps;ne=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||X!==k)&&Qw(s,v,f,k),os=!1;var Q=s.memoizedState;v.state=Q,Sc(s,f,v,p),Ac(),X=s.memoizedState,N||Q!==X||os?(typeof se=="function"&&(iy(s,u,se,f),X=s.memoizedState),(q=os||Xw(s,u,q,f,Q,X,k))?(ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=X),v.props=f,v.state=X,v.context=k,f=q):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{v=s.stateNode,Lp(i,s),k=s.memoizedProps,ne=Do(u,k),v.props=ne,se=s.pendingProps,Q=v.context,X=u.contextType,q=Ml,typeof X=="object"&&X!==null&&(q=Fn(X)),N=u.getDerivedStateFromProps,(X=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==se||Q!==q)&&Qw(s,v,f,q),os=!1,Q=s.memoizedState,v.state=Q,Sc(s,f,v,p),Ac();var J=s.memoizedState;k!==se||Q!==J||os||i!==null&&i.dependencies!==null&&Uh(i.dependencies)?(typeof N=="function"&&(iy(s,u,N,f),J=s.memoizedState),(ne=os||Xw(s,u,ne,f,Q,J,q)||i!==null&&i.dependencies!==null&&Uh(i.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,J,q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,J,q)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=J),v.props=f,v.state=J,v.context=q,f=ne):(typeof v.componentDidUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),f=!1)}return v=f,id(i,s),f=(s.flags&128)!==0,v||f?(v=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&f?(s.child=Hl(s,i.child,null,p),s.child=Hl(s,null,u,p)):Rn(i,s,u,p),s.memoizedState=v.state,i=s.child):i=pa(i,s,p),i}function hE(i,s,u,f){return yc(),s.flags|=256,Rn(i,s,u,f),s.child}var ly={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uy(i){return{baseLanes:i,cachePool:J1()}}function cy(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=Qr),i}function dE(i,s,u){var f=s.pendingProps,p=!1,v=(s.flags&128)!==0,k;if((k=v)||(k=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),k&&(p=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,i===null){if(ut){if(p?fs(s):hs(),ut){var N=Ht,q;if(q=N){e:{for(q=N,N=Mi;q.nodeType!==8;){if(!N){N=null;break e}if(q=Ei(q.nextSibling),q===null){N=null;break e}}N=q}N!==null?(s.memoizedState={dehydrated:N,treeContext:Ao!==null?{id:ca,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},q=wr(18,null,null,0),q.stateNode=N,q.return=s,s.child=q,ir=s,Ht=null,q=!0):q=!1}q||Co(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Gy(N)?s.lanes=32:s.lanes=536870912,null;ga(s)}return N=f.children,f=f.fallback,p?(hs(),p=s.mode,N=ad({mode:"hidden",children:N},p),f=To(f,p,u,null),N.return=s,f.return=s,N.sibling=f,s.child=N,p=s.child,p.memoizedState=uy(u),p.childLanes=cy(i,k,u),s.memoizedState=ly,f):(fs(s),fy(s,N))}if(q=i.memoizedState,q!==null&&(N=q.dehydrated,N!==null)){if(v)s.flags&256?(fs(s),s.flags&=-257,s=hy(i,s,u)):s.memoizedState!==null?(hs(),s.child=i.child,s.flags|=128,s=null):(hs(),p=f.fallback,N=s.mode,f=ad({mode:"visible",children:f.children},N),p=To(p,N,u,null),p.flags|=2,f.return=s,p.return=s,f.sibling=p,s.child=f,Hl(s,i.child,null,u),f=s.child,f.memoizedState=uy(u),f.childLanes=cy(i,k,u),s.memoizedState=ly,s=p);else if(fs(s),Gy(N)){if(k=N.nextSibling&&N.nextSibling.dataset,k)var X=k.dgst;k=X,f=Error(r(419)),f.stack="",f.digest=k,vc({value:f,source:null,stack:null}),s=hy(i,s,u)}else if(Tn||bc(i,s,u,!1),k=(u&i.childLanes)!==0,Tn||k){if(k=kt,k!==null&&(f=u&-u,f=(f&42)!==0?1:ge(f),f=(f&(k.suspendedLanes|u))!==0?0:f,f!==0&&f!==q.retryLane))throw q.retryLane=f,Pl(i,f),kr(k,i,f),iE;N.data==="$?"||Ny(),s=hy(i,s,u)}else N.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=q.treeContext,Ht=Ei(N.nextSibling),ir=s,ut=!0,ko=null,Mi=!1,i!==null&&(Yr[Wr++]=ca,Yr[Wr++]=fa,Yr[Wr++]=Ao,ca=i.id,fa=i.overflow,Ao=s),s=fy(s,f.children),s.flags|=4096);return s}return p?(hs(),p=f.fallback,N=s.mode,q=i.child,X=q.sibling,f=ua(q,{mode:"hidden",children:f.children}),f.subtreeFlags=q.subtreeFlags&65011712,X!==null?p=ua(X,p):(p=To(p,N,u,null),p.flags|=2),p.return=s,f.return=s,f.sibling=p,s.child=f,f=p,p=s.child,N=i.child.memoizedState,N===null?N=uy(u):(q=N.cachePool,q!==null?(X=mn._currentValue,q=q.parent!==X?{parent:X,pool:X}:q):q=J1(),N={baseLanes:N.baseLanes|u,cachePool:q}),p.memoizedState=N,p.childLanes=cy(i,k,u),s.memoizedState=ly,f):(fs(s),u=i.child,i=u.sibling,u=ua(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(k=s.deletions,k===null?(s.deletions=[i],s.flags|=16):k.push(i)),s.child=u,s.memoizedState=null,u)}function fy(i,s){return s=ad({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ad(i,s){return i=wr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function hy(i,s,u){return Hl(s,i.child,null,u),i=fy(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function mE(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Np(i.return,s,u)}function dy(i,s,u,f,p){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=p)}function gE(i,s,u){var f=s.pendingProps,p=f.revealOrder,v=f.tail;if(Rn(i,s,f.children,u),f=gn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mE(i,u,s);else if(i.tag===19)mE(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(he(gn,f),p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&td(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),dy(s,!1,p,u,v);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&td(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}dy(s,!0,u,null,v);break;case"together":dy(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pa(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),ys|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(bc(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=ua(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=ua(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function my(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Uh(i)))}function Oj(i,s,u){switch(s.tag){case 3:it(s,s.stateNode.containerInfo),ss(s,mn,i.memoizedState.cache),yc();break;case 27:case 5:Be(s);break;case 4:it(s,s.stateNode.containerInfo);break;case 10:ss(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(fs(s),s.flags|=128,null):(u&s.child.childLanes)!==0?dE(i,s,u):(fs(s),i=pa(i,s,u),i!==null?i.sibling:null);fs(s);break;case 19:var p=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(bc(i,s,u,!1),f=(u&s.childLanes)!==0),p){if(f)return gE(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),he(gn,gn.current),f)break;return null;case 22:case 23:return s.lanes=0,lE(i,s,u);case 24:ss(s,mn,i.memoizedState.cache)}return pa(i,s,u)}function pE(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Tn=!0;else{if(!my(i,u)&&(s.flags&128)===0)return Tn=!1,Oj(i,s,u);Tn=(i.flags&131072)!==0}else Tn=!1,ut&&(s.flags&1048576)!==0&&K1(s,Vh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,p=f._init;if(f=p(f._payload),s.type=f,typeof f=="function")Ep(f)?(i=Do(f,i),s.tag=1,s=fE(null,s,f,i,u)):(s.tag=0,s=oy(null,s,f,i,u));else{if(f!=null){if(p=f.$$typeof,p===B){s.tag=11,s=aE(null,s,f,i,u);break e}else if(p===R){s.tag=14,s=sE(null,s,f,i,u);break e}}throw s=pe(f)||f,Error(r(306,s,""))}}return s;case 0:return oy(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,p=Do(f,s.pendingProps),fE(i,s,f,p,u);case 3:e:{if(it(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var v=s.memoizedState;p=v.element,Lp(i,s),Sc(s,f,null,u);var k=s.memoizedState;if(f=k.cache,ss(s,mn,f),f!==v.cache&&Ip(s,[mn],u,!0),Ac(),f=k.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=hE(i,s,f,u);break e}else if(f!==p){p=Kr(Error(r(424)),s),vc(p),s=hE(i,s,f,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ht=Ei(i.firstChild),ir=s,ut=!0,ko=null,Mi=!0,u=Yw(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(yc(),f===p){s=pa(i,s,u);break e}Rn(i,s,f,u)}s=s.child}return s;case 26:return id(i,s),i===null?(u=xT(s.type,null,s.pendingProps,null))?s.memoizedState=u:ut||(u=s.type,i=s.pendingProps,f=bd(Ie.current).createElement(u),f[ke]=s,f[Ce]=i,Pn(f,u,i),Mt(f),s.stateNode=f):s.memoizedState=xT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Be(s),i===null&&ut&&(f=s.stateNode=yT(s.type,s.pendingProps,Ie.current),ir=s,Mi=!0,p=Ht,_s(s.type)?(Yy=p,Ht=Ei(f.firstChild)):Ht=p),Rn(i,s,s.pendingProps.children,u),id(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ut&&((p=f=Ht)&&(f=r4(f,s.type,s.pendingProps,Mi),f!==null?(s.stateNode=f,ir=s,Ht=Ei(f.firstChild),Mi=!1,p=!0):p=!1),p||Co(s)),Be(s),p=s.type,v=s.pendingProps,k=i!==null?i.memoizedProps:null,f=v.children,Fy(p,v)?f=null:k!==null&&Fy(p,k)&&(s.flags|=32),s.memoizedState!==null&&(p=$p(i,s,_j,null,null,u),Yc._currentValue=p),id(i,s),Rn(i,s,f,u),s.child;case 6:return i===null&&ut&&((i=u=Ht)&&(u=i4(u,s.pendingProps,Mi),u!==null?(s.stateNode=u,ir=s,Ht=null,i=!0):i=!1),i||Co(s)),null;case 13:return dE(i,s,u);case 4:return it(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Hl(s,null,f,u):Rn(i,s,f,u),s.child;case 11:return aE(i,s,s.type,s.pendingProps,u);case 7:return Rn(i,s,s.pendingProps,u),s.child;case 8:return Rn(i,s,s.pendingProps.children,u),s.child;case 12:return Rn(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,ss(s,s.type,f.value),Rn(i,s,f.children,u),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,No(s),p=Fn(p),f=f(p),s.flags|=1,Rn(i,s,f,u),s.child;case 14:return sE(i,s,s.type,s.pendingProps,u);case 15:return oE(i,s,s.type,s.pendingProps,u);case 19:return gE(i,s,u);case 31:return f=s.pendingProps,u=s.mode,f={mode:f.mode,children:f.children},i===null?(u=ad(f,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=ua(i.child,f),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return lE(i,s,u);case 24:return No(s),f=Fn(mn),i===null?(p=Pp(),p===null&&(p=kt,v=Rp(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=u),p=v),s.memoizedState={parent:f,cache:p},jp(s),ss(s,mn,p)):((i.lanes&u)!==0&&(Lp(i,s),Sc(s,null,null,u),Ac()),p=i.memoizedState,v=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ss(s,mn,f)):(f=v.cache,ss(s,mn,f),f!==p.cache&&Ip(s,[mn],u,!0))),Rn(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ya(i){i.flags|=4}function yE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!AT(s)){if(s=Xr.current,s!==null&&((nt&4194048)===nt?ji!==null:(nt&62914560)!==nt&&(nt&536870912)===0||s!==ji))throw Ec=Mp,ew;i.flags|=8192}}function sd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ii():536870912,i.lanes|=s,Wl|=s)}function Dc(i,s){if(!ut)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function zt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function Nj(i,s,u){var f=s.pendingProps;switch(kp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return zt(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),da(mn),de(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(pc(s)?ya(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,W1())),zt(s),null;case 26:return u=s.memoizedState,i===null?(ya(s),u!==null?(zt(s),yE(s,u)):(zt(s),s.flags&=-16777217)):u?u!==i.memoizedState?(ya(s),zt(s),yE(s,u)):(zt(s),s.flags&=-16777217):(i.memoizedProps!==f&&ya(s),zt(s),s.flags&=-16777217),null;case 27:He(s),u=Ie.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ya(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return zt(s),null}i=we.current,pc(s)?G1(s):(i=yT(p,f,u),s.stateNode=i,ya(s))}return zt(s),null;case 5:if(He(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ya(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return zt(s),null}if(i=we.current,pc(s))G1(s);else{switch(p=bd(Ie.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(u,{is:f.is}):p.createElement(u)}}i[ke]=s,i[Ce]=f;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Pn(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ya(s)}}return zt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&ya(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ie.current,pc(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,p=ir,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[ke]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||cT(i.nodeValue,u)),i||Co(s)}else i=bd(i).createTextNode(f),i[ke]=s,s.stateNode=i}return zt(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=pc(s),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[ke]=s}else yc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),p=!1}else p=W1(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(ga(s),s):(ga(s),null)}if(ga(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==p&&(f.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),sd(s,s.updateQueue),zt(s),null;case 4:return de(),i===null&&Uy(s.stateNode.containerInfo),zt(s),null;case 10:return da(s.type),zt(s),null;case 19:if(ae(gn),p=s.memoizedState,p===null)return zt(s),null;if(f=(s.flags&128)!==0,v=p.rendering,v===null)if(f)Dc(p,!1);else{if(Kt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=td(i),v!==null){for(s.flags|=128,Dc(p,!1),i=v.updateQueue,s.updateQueue=i,sd(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)H1(u,i),u=u.sibling;return he(gn,gn.current&1|2),s.child}i=i.sibling}p.tail!==null&&xt()>ud&&(s.flags|=128,f=!0,Dc(p,!1),s.lanes=4194304)}else{if(!f)if(i=td(v),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,sd(s,i),Dc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!ut)return zt(s),null}else 2*xt()-p.renderingStartTime>ud&&u!==536870912&&(s.flags|=128,f=!0,Dc(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(i=p.last,i!==null?i.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=xt(),s.sibling=null,i=gn.current,he(gn,f?i&1|2:i&1),s):(zt(s),null);case 22:case 23:return ga(s),Bp(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),u=s.updateQueue,u!==null&&sd(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&ae(Io),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),da(mn),zt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Ij(i,s){switch(kp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return da(mn),de(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return He(s),null;case 13:if(ga(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));yc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(gn),null;case 4:return de(),null;case 10:return da(s.type),null;case 22:case 23:return ga(s),Bp(),i!==null&&ae(Io),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return da(mn),null;case 25:return null;default:return null}}function vE(i,s){switch(kp(s),s.tag){case 3:da(mn),de();break;case 26:case 27:case 5:He(s);break;case 4:de();break;case 13:ga(s);break;case 19:ae(gn);break;case 10:da(s.type);break;case 22:case 23:ga(s),Bp(),i!==null&&ae(Io);break;case 24:da(mn)}}function Pc(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){f=void 0;var v=u.create,k=u.inst;f=v(),k.destroy=f}u=u.next}while(u!==p)}}catch(N){Tt(s,s.return,N)}}function ds(i,s,u){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var v=p.next;f=v;do{if((f.tag&i)===i){var k=f.inst,N=k.destroy;if(N!==void 0){k.destroy=void 0,p=s;var q=u,X=N;try{X()}catch(ne){Tt(p,q,ne)}}}f=f.next}while(f!==v)}}catch(ne){Tt(s,s.return,ne)}}function bE(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{sw(s,u)}catch(f){Tt(i,i.return,f)}}}function xE(i,s,u){u.props=Do(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Tt(i,s,f)}}function Mc(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(p){Tt(i,s,p)}}function Li(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(p){Tt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){Tt(i,s,p)}else u.current=null}function _E(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(p){Tt(i,i.return,p)}}function gy(i,s,u){try{var f=i.stateNode;Zj(f,i.type,u,s),f[Ce]=s}catch(p){Tt(i,i.return,p)}}function wE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_s(i.type)||i.tag===4}function py(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_s(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yy(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=vd));else if(f!==4&&(f===27&&_s(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(yy(i,s,u),i=i.sibling;i!==null;)yy(i,s,u),i=i.sibling}function od(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&_s(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(od(i,s,u),i=i.sibling;i!==null;)od(i,s,u),i=i.sibling}function EE(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Pn(s,f,u),s[ke]=i,s[Ce]=u}catch(v){Tt(i,i.return,v)}}var va=!1,Zt=!1,vy=!1,TE=typeof WeakSet=="function"?WeakSet:Set,An=null;function Rj(i,s){if(i=i.containerInfo,qy=Ad,i=M1(i),pp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var k=0,N=-1,q=-1,X=0,ne=0,se=i,Q=null;t:for(;;){for(var J;se!==u||p!==0&&se.nodeType!==3||(N=k+p),se!==v||f!==0&&se.nodeType!==3||(q=k+f),se.nodeType===3&&(k+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===i)break t;if(Q===u&&++X===p&&(N=k),Q===v&&++ne===f&&(q=k),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}u=N===-1||q===-1?null:{start:N,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for($y={focusedElem:i,selectionRange:u},Ad=!1,An=s;An!==null;)if(s=An,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,An=i;else for(;An!==null;){switch(s=An,v=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,u=s,p=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var Ue=Do(u.type,p,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(Ue,v),f.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){Tt(u,u.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Ky(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ky(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,An=i;break}An=s.return}}function AE(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ms(i,u),f&4&&Pc(5,u);break;case 1:if(ms(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(k){Tt(u,u.return,k)}else{var p=Do(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(k){Tt(u,u.return,k)}}f&64&&bE(u),f&512&&Mc(u,u.return);break;case 3:if(ms(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{sw(i,s)}catch(k){Tt(u,u.return,k)}}break;case 27:s===null&&f&4&&EE(u);case 26:case 5:ms(i,u),s===null&&f&4&&_E(u),f&512&&Mc(u,u.return);break;case 12:ms(i,u);break;case 13:ms(i,u),f&4&&CE(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=Bj.bind(null,u),a4(i,u))));break;case 22:if(f=u.memoizedState!==null||va,!f){s=s!==null&&s.memoizedState!==null||Zt,p=va;var v=Zt;va=f,(Zt=s)&&!v?gs(i,u,(u.subtreeFlags&8772)!==0):ms(i,u),va=p,Zt=v}break;case 30:break;default:ms(i,u)}}function SE(i){var s=i.alternate;s!==null&&(i.alternate=null,SE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ri(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var jt=null,fr=!1;function ba(i,s,u){for(u=u.child;u!==null;)kE(i,s,u),u=u.sibling}function kE(i,s,u){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Lr,u)}catch{}switch(u.tag){case 26:Zt||Li(u,s),ba(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Zt||Li(u,s);var f=jt,p=fr;_s(u.type)&&(jt=u.stateNode,fr=!1),ba(i,s,u),Fc(u.stateNode),jt=f,fr=p;break;case 5:Zt||Li(u,s);case 6:if(f=jt,p=fr,jt=null,ba(i,s,u),jt=f,fr=p,jt!==null)if(fr)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(u.stateNode)}catch(v){Tt(u,s,v)}else try{jt.removeChild(u.stateNode)}catch(v){Tt(u,s,v)}break;case 18:jt!==null&&(fr?(i=jt,gT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Zc(i)):gT(jt,u.stateNode));break;case 4:f=jt,p=fr,jt=u.stateNode.containerInfo,fr=!0,ba(i,s,u),jt=f,fr=p;break;case 0:case 11:case 14:case 15:Zt||ds(2,u,s),Zt||ds(4,u,s),ba(i,s,u);break;case 1:Zt||(Li(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&xE(u,s,f)),ba(i,s,u);break;case 21:ba(i,s,u);break;case 22:Zt=(f=Zt)||u.memoizedState!==null,ba(i,s,u),Zt=f;break;default:ba(i,s,u)}}function CE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Zc(i)}catch(u){Tt(s,s.return,u)}}function Dj(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new TE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new TE),s;default:throw Error(r(435,i.tag))}}function by(i,s){var u=Dj(i);s.forEach(function(f){var p=qj.bind(null,i,f);u.has(f)||(u.add(f),f.then(p,p))})}function Er(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f],v=i,k=s,N=k;e:for(;N!==null;){switch(N.tag){case 27:if(_s(N.type)){jt=N.stateNode,fr=!1;break e}break;case 5:jt=N.stateNode,fr=!1;break e;case 3:case 4:jt=N.stateNode.containerInfo,fr=!0;break e}N=N.return}if(jt===null)throw Error(r(160));kE(v,k,p),jt=null,fr=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)OE(s,i),s=s.sibling}var wi=null;function OE(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Er(s,i),Tr(i),f&4&&(ds(3,i,i.return),Pc(3,i),ds(5,i,i.return));break;case 1:Er(s,i),Tr(i),f&512&&(Zt||u===null||Li(u,u.return)),f&64&&va&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var p=wi;if(Er(s,i),Tr(i),f&512&&(Zt||u===null||Li(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":v=p.getElementsByTagName("title")[0],(!v||v[mi]||v[ke]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(f),p.head.insertBefore(v,p.querySelector("head > title"))),Pn(v,f,u),v[ke]=i,Mt(v),f=v;break e;case"link":var k=ET("link","href",p).get(f+(u.href||""));if(k){for(var N=0;N<k.length;N++)if(v=k[N],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(N,1);break t}}v=p.createElement(f),Pn(v,f,u),p.head.appendChild(v);break;case"meta":if(k=ET("meta","content",p).get(f+(u.content||""))){for(N=0;N<k.length;N++)if(v=k[N],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(N,1);break t}}v=p.createElement(f),Pn(v,f,u),p.head.appendChild(v);break;default:throw Error(r(468,f))}v[ke]=i,Mt(v),f=v}i.stateNode=f}else TT(p,i.type,i.stateNode);else i.stateNode=wT(p,f,i.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?TT(p,i.type,i.stateNode):wT(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&gy(i,i.memoizedProps,u.memoizedProps)}break;case 27:Er(s,i),Tr(i),f&512&&(Zt||u===null||Li(u,u.return)),u!==null&&f&4&&gy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Er(s,i),Tr(i),f&512&&(Zt||u===null||Li(u,u.return)),i.flags&32){p=i.stateNode;try{Fr(p,"")}catch(J){Tt(i,i.return,J)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,gy(i,p,u!==null?u.memoizedProps:p)),f&1024&&(vy=!0);break;case 6:if(Er(s,i),Tr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(J){Tt(i,i.return,J)}}break;case 3:if(wd=null,p=wi,wi=xd(s.containerInfo),Er(s,i),wi=p,Tr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Zc(s.containerInfo)}catch(J){Tt(i,i.return,J)}vy&&(vy=!1,NE(i));break;case 4:f=wi,wi=xd(i.stateNode.containerInfo),Er(s,i),Tr(i),wi=f;break;case 12:Er(s,i),Tr(i);break;case 13:Er(s,i),Tr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ay=xt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,by(i,f)));break;case 22:p=i.memoizedState!==null;var q=u!==null&&u.memoizedState!==null,X=va,ne=Zt;if(va=X||p,Zt=ne||q,Er(s,i),Zt=ne,va=X,Tr(i),f&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(u===null||q||va||Zt||Po(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){q=u=s;try{if(v=q.stateNode,p)k=v.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{N=q.stateNode;var se=q.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;N.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(J){Tt(q,q.return,J)}}}else if(s.tag===6){if(u===null){q=s;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(J){Tt(q,q.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,by(i,u))));break;case 19:Er(s,i),Tr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,by(i,f)));break;case 30:break;case 21:break;default:Er(s,i),Tr(i)}}function Tr(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(wE(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var p=u.stateNode,v=py(i);od(i,v,p);break;case 5:var k=u.stateNode;u.flags&32&&(Fr(k,""),u.flags&=-33);var N=py(i);od(i,N,k);break;case 3:case 4:var q=u.stateNode.containerInfo,X=py(i);yy(i,X,q);break;default:throw Error(r(161))}}catch(ne){Tt(i,i.return,ne)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function NE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;NE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ms(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)AE(i,s.alternate,s),s=s.sibling}function Po(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ds(4,s,s.return),Po(s);break;case 1:Li(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&xE(s,s.return,u),Po(s);break;case 27:Fc(s.stateNode);case 26:case 5:Li(s,s.return),Po(s);break;case 22:s.memoizedState===null&&Po(s);break;case 30:Po(s);break;default:Po(s)}i=i.sibling}}function gs(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=i,v=s,k=v.flags;switch(v.tag){case 0:case 11:case 15:gs(p,v,u),Pc(4,v);break;case 1:if(gs(p,v,u),f=v,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){Tt(f,f.return,X)}if(f=v,p=f.updateQueue,p!==null){var N=f.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)aw(q[p],N)}catch(X){Tt(f,f.return,X)}}u&&k&64&&bE(v),Mc(v,v.return);break;case 27:EE(v);case 26:case 5:gs(p,v,u),u&&f===null&&k&4&&_E(v),Mc(v,v.return);break;case 12:gs(p,v,u);break;case 13:gs(p,v,u),u&&k&4&&CE(p,v);break;case 22:v.memoizedState===null&&gs(p,v,u),Mc(v,v.return);break;case 30:break;default:gs(p,v,u)}s=s.sibling}}function xy(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&xc(u))}function _y(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&xc(i))}function Vi(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)IE(i,s,u,f),s=s.sibling}function IE(i,s,u,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(i,s,u,f),p&2048&&Pc(9,s);break;case 1:Vi(i,s,u,f);break;case 3:Vi(i,s,u,f),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&xc(i)));break;case 12:if(p&2048){Vi(i,s,u,f),i=s.stateNode;try{var v=s.memoizedProps,k=v.id,N=v.onPostCommit;typeof N=="function"&&N(k,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){Tt(s,s.return,q)}}else Vi(i,s,u,f);break;case 13:Vi(i,s,u,f);break;case 23:break;case 22:v=s.stateNode,k=s.alternate,s.memoizedState!==null?v._visibility&2?Vi(i,s,u,f):jc(i,s):v._visibility&2?Vi(i,s,u,f):(v._visibility|=2,Kl(i,s,u,f,(s.subtreeFlags&10256)!==0)),p&2048&&xy(k,s);break;case 24:Vi(i,s,u,f),p&2048&&_y(s.alternate,s);break;default:Vi(i,s,u,f)}}function Kl(i,s,u,f,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=i,k=s,N=u,q=f,X=k.flags;switch(k.tag){case 0:case 11:case 15:Kl(v,k,N,q,p),Pc(8,k);break;case 23:break;case 22:var ne=k.stateNode;k.memoizedState!==null?ne._visibility&2?Kl(v,k,N,q,p):jc(v,k):(ne._visibility|=2,Kl(v,k,N,q,p)),p&&X&2048&&xy(k.alternate,k);break;case 24:Kl(v,k,N,q,p),p&&X&2048&&_y(k.alternate,k);break;default:Kl(v,k,N,q,p)}s=s.sibling}}function jc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,p=f.flags;switch(f.tag){case 22:jc(u,f),p&2048&&xy(f.alternate,f);break;case 24:jc(u,f),p&2048&&_y(f.alternate,f);break;default:jc(u,f)}s=s.sibling}}var Lc=8192;function Gl(i){if(i.subtreeFlags&Lc)for(i=i.child;i!==null;)RE(i),i=i.sibling}function RE(i){switch(i.tag){case 26:Gl(i),i.flags&Lc&&i.memoizedState!==null&&v4(wi,i.memoizedState,i.memoizedProps);break;case 5:Gl(i);break;case 3:case 4:var s=wi;wi=xd(i.stateNode.containerInfo),Gl(i),wi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Lc,Lc=16777216,Gl(i),Lc=s):Gl(i));break;default:Gl(i)}}function DE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Vc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];An=f,ME(f,i)}DE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)PE(i),i=i.sibling}function PE(i){switch(i.tag){case 0:case 11:case 15:Vc(i),i.flags&2048&&ds(9,i,i.return);break;case 3:Vc(i);break;case 12:Vc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ld(i)):Vc(i);break;default:Vc(i)}}function ld(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];An=f,ME(f,i)}DE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ds(8,s,s.return),ld(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,ld(s));break;default:ld(s)}i=i.sibling}}function ME(i,s){for(;An!==null;){var u=An;switch(u.tag){case 0:case 11:case 15:ds(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:xc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,An=f;else e:for(u=i;An!==null;){f=An;var p=f.sibling,v=f.return;if(SE(f),f===u){An=null;break e}if(p!==null){p.return=v,An=p;break e}An=v}}}var Pj={getCacheForType:function(i){var s=Fn(mn),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},Mj=typeof WeakMap=="function"?WeakMap:Map,ht=0,kt=null,We=null,nt=0,dt=0,Ar=null,ps=!1,Yl=!1,wy=!1,xa=0,Kt=0,ys=0,Mo=0,Ey=0,Qr=0,Wl=0,Uc=null,hr=null,Ty=!1,Ay=0,ud=1/0,cd=null,vs=null,Dn=0,bs=null,Xl=null,Ql=0,Sy=0,ky=null,jE=null,zc=0,Cy=null;function Sr(){if((ht&2)!==0&&nt!==0)return nt&-nt;if(Z.T!==null){var i=Vl;return i!==0?i:My()}return Se()}function LE(){Qr===0&&(Qr=(nt&536870912)===0||ut?fi():536870912);var i=Xr.current;return i!==null&&(i.flags|=32),Qr}function kr(i,s,u){(i===kt&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(Zl(i,0),xs(i,nt,Qr,!1)),Nt(i,u),((ht&2)===0||i!==kt)&&(i===kt&&((ht&2)===0&&(Mo|=u),Kt===4&&xs(i,nt,Qr,!1)),Ui(i))}function VE(i,s,u){if((ht&6)!==0)throw Error(r(327));var f=!u&&(s&124)===0&&(s&i.expiredLanes)===0||Ni(i,s),p=f?Vj(i,s):Iy(i,s,!0),v=f;do{if(p===0){Yl&&!f&&xs(i,s,0,!1);break}else{if(u=i.current.alternate,v&&!jj(u)){p=Iy(i,s,!1),v=!1;continue}if(p===2){if(v=s,i.errorRecoveryDisabledLanes&v)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;e:{var N=i;p=Uc;var q=N.current.memoizedState.isDehydrated;if(q&&(Zl(N,k).flags|=256),k=Iy(N,k,!1),k!==2){if(wy&&!q){N.errorRecoveryDisabledLanes|=v,Mo|=v,p=4;break e}v=hr,hr=p,v!==null&&(hr===null?hr=v:hr.push.apply(hr,v))}p=k}if(v=!1,p!==2)continue}}if(p===1){Zl(i,0),xs(i,s,0,!0);break}e:{switch(f=i,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:xs(f,s,Qr,!ps);break e;case 2:hr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Ay+300-xt(),10<p)){if(xs(f,s,Qr,!ps),Wt(f,0,!0)!==0)break e;f.timeoutHandle=dT(UE.bind(null,f,u,hr,cd,Ty,s,Qr,Mo,Wl,ps,v,2,-0,0),p);break e}UE(f,u,hr,cd,Ty,s,Qr,Mo,Wl,ps,v,0,-0,0)}}break}while(!0);Ui(i)}function UE(i,s,u,f,p,v,k,N,q,X,ne,se,Q,J){if(i.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Gc={stylesheets:null,count:0,unsuspend:y4},RE(s),se=b4(),se!==null)){i.cancelPendingCommit=se(KE.bind(null,i,s,v,u,f,p,k,N,q,ne,1,Q,J)),xs(i,v,k,!X);return}KE(i,s,v,u,f,p,k,N,q)}function jj(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var p=u[f],v=p.getSnapshot;p=p.value;try{if(!_r(v(),p))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xs(i,s,u,f){s&=~Ey,s&=~Mo,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var p=s;0<p;){var v=31-gt(p),k=1<<v;f[v]=-1,p&=~k}u!==0&&hi(i,u,s)}function fd(){return(ht&6)===0?(Bc(0),!1):!0}function Oy(){if(We!==null){if(dt===0)var i=We.return;else i=We,ha=Oo=null,Kp(i),Fl=null,Ic=0,i=We;for(;i!==null;)vE(i.alternate,i),i=i.return;We=null}}function Zl(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,e4(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Oy(),kt=i,We=u=ua(i.current,null),nt=s,dt=0,Ar=null,ps=!1,Yl=Ni(i,s),wy=!1,Wl=Qr=Ey=Mo=ys=Kt=0,hr=Uc=null,Ty=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var p=31-gt(f),v=1<<p;s|=i[p],f&=~v}return xa=s,Dh(),u}function zE(i,s){Ge=null,Z.H=Zh,s===wc||s===qh?(s=rw(),dt=3):s===ew?(s=rw(),dt=4):dt=s===iE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ar=s,We===null&&(Kt=1,rd(i,Kr(s,i.current)))}function BE(){var i=Z.H;return Z.H=Zh,i===null?Zh:i}function qE(){var i=Z.A;return Z.A=Pj,i}function Ny(){Kt=4,ps||(nt&4194048)!==nt&&Xr.current!==null||(Yl=!0),(ys&134217727)===0&&(Mo&134217727)===0||kt===null||xs(kt,nt,Qr,!1)}function Iy(i,s,u){var f=ht;ht|=2;var p=BE(),v=qE();(kt!==i||nt!==s)&&(cd=null,Zl(i,s)),s=!1;var k=Kt;e:do try{if(dt!==0&&We!==null){var N=We,q=Ar;switch(dt){case 8:Oy(),k=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(s=!0);var X=dt;if(dt=0,Ar=null,Jl(i,N,q,X),u&&Yl){k=0;break e}break;default:X=dt,dt=0,Ar=null,Jl(i,N,q,X)}}Lj(),k=Kt;break}catch(ne){zE(i,ne)}while(!0);return s&&i.shellSuspendCounter++,ha=Oo=null,ht=f,Z.H=p,Z.A=v,We===null&&(kt=null,nt=0,Dh()),k}function Lj(){for(;We!==null;)$E(We)}function Vj(i,s){var u=ht;ht|=2;var f=BE(),p=qE();kt!==i||nt!==s?(cd=null,ud=xt()+500,Zl(i,s)):Yl=Ni(i,s);e:do try{if(dt!==0&&We!==null){s=We;var v=Ar;t:switch(dt){case 1:dt=0,Ar=null,Jl(i,s,v,1);break;case 2:case 9:if(tw(v)){dt=0,Ar=null,FE(s);break}s=function(){dt!==2&&dt!==9||kt!==i||(dt=7),Ui(i)},v.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:tw(v)?(dt=0,Ar=null,FE(s)):(dt=0,Ar=null,Jl(i,s,v,7));break;case 5:var k=null;switch(We.tag){case 26:k=We.memoizedState;case 5:case 27:var N=We;if(!k||AT(k)){dt=0,Ar=null;var q=N.sibling;if(q!==null)We=q;else{var X=N.return;X!==null?(We=X,hd(X)):We=null}break t}}dt=0,Ar=null,Jl(i,s,v,5);break;case 6:dt=0,Ar=null,Jl(i,s,v,6);break;case 8:Oy(),Kt=6;break e;default:throw Error(r(462))}}Uj();break}catch(ne){zE(i,ne)}while(!0);return ha=Oo=null,Z.H=f,Z.A=p,ht=u,We!==null?0:(kt=null,nt=0,Dh(),Kt)}function Uj(){for(;We!==null&&!Ft();)$E(We)}function $E(i){var s=pE(i.alternate,i,xa);i.memoizedProps=i.pendingProps,s===null?hd(i):We=s}function FE(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=cE(u,s,s.pendingProps,s.type,void 0,nt);break;case 11:s=cE(u,s,s.pendingProps,s.type.render,s.ref,nt);break;case 5:Kp(s);default:vE(u,s),s=We=H1(s,xa),s=pE(u,s,xa)}i.memoizedProps=i.pendingProps,s===null?hd(i):We=s}function Jl(i,s,u,f){ha=Oo=null,Kp(s),Fl=null,Ic=0;var p=s.return;try{if(Cj(i,p,s,u,nt)){Kt=1,rd(i,Kr(u,i.current)),We=null;return}}catch(v){if(p!==null)throw We=p,v;Kt=1,rd(i,Kr(u,i.current)),We=null;return}s.flags&32768?(ut||f===1?i=!0:Yl||(nt&536870912)!==0?i=!1:(ps=i=!0,(f===2||f===9||f===3||f===6)&&(f=Xr.current,f!==null&&f.tag===13&&(f.flags|=16384))),HE(s,i)):hd(s)}function hd(i){var s=i;do{if((s.flags&32768)!==0){HE(s,ps);return}i=s.return;var u=Nj(s.alternate,s,xa);if(u!==null){We=u;return}if(s=s.sibling,s!==null){We=s;return}We=s=i}while(s!==null);Kt===0&&(Kt=5)}function HE(i,s){do{var u=Ij(i.alternate,i);if(u!==null){u.flags&=32767,We=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){We=i;return}We=i=u}while(i!==null);Kt=6,We=null}function KE(i,s,u,f,p,v,k,N,q){i.cancelPendingCommit=null;do dd();while(Dn!==0);if((ht&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=_p,io(i,u,v,k,N,q),i===kt&&(We=kt=null,nt=0),Xl=s,bs=i,Ql=u,Sy=v,ky=p,jE=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$j(yr,function(){return QE(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,p=ue.p,ue.p=2,k=ht,ht|=4;try{Rj(i,s,u)}finally{ht=k,ue.p=p,Z.T=f}}Dn=1,GE(),YE(),WE()}}function GE(){if(Dn===1){Dn=0;var i=bs,s=Xl,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var f=ue.p;ue.p=2;var p=ht;ht|=4;try{OE(s,i);var v=$y,k=M1(i.containerInfo),N=v.focusedElem,q=v.selectionRange;if(k!==N&&N&&N.ownerDocument&&P1(N.ownerDocument.documentElement,N)){if(q!==null&&pp(N)){var X=q.start,ne=q.end;if(ne===void 0&&(ne=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(ne,N.value.length);else{var se=N.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),Ue=N.textContent.length,Pe=Math.min(q.start,Ue),bt=q.end===void 0?Pe:Math.min(q.end,Ue);!J.extend&&Pe>bt&&(k=bt,bt=Pe,Pe=k);var G=D1(N,Pe),K=D1(N,bt);if(G&&K&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==K.node||J.focusOffset!==K.offset)){var Y=se.createRange();Y.setStart(G.node,G.offset),J.removeAllRanges(),Pe>bt?(J.addRange(Y),J.extend(K.node,K.offset)):(Y.setEnd(K.node,K.offset),J.addRange(Y))}}}}for(se=[],J=N;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<se.length;N++){var re=se[N];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ad=!!qy,$y=qy=null}finally{ht=p,ue.p=f,Z.T=u}}i.current=s,Dn=2}}function YE(){if(Dn===2){Dn=0;var i=bs,s=Xl,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var f=ue.p;ue.p=2;var p=ht;ht|=4;try{AE(i,s.alternate,s)}finally{ht=p,ue.p=f,Z.T=u}}Dn=3}}function WE(){if(Dn===4||Dn===3){Dn=0,Yt();var i=bs,s=Xl,u=Ql,f=jE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,Xl=bs=null,XE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(vs=null),_e(u),s=s.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Lr,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=Z.T,p=ue.p,ue.p=2,Z.T=null;try{for(var v=i.onRecoverableError,k=0;k<f.length;k++){var N=f[k];v(N.value,{componentStack:N.stack})}}finally{Z.T=s,ue.p=p}}(Ql&3)!==0&&dd(),Ui(i),p=i.pendingLanes,(u&4194090)!==0&&(p&42)!==0?i===Cy?zc++:(zc=0,Cy=i):zc=0,Bc(0)}}function XE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,xc(s)))}function dd(i){return GE(),YE(),WE(),QE()}function QE(){if(Dn!==5)return!1;var i=bs,s=Sy;Sy=0;var u=_e(Ql),f=Z.T,p=ue.p;try{ue.p=32>u?32:u,Z.T=null,u=ky,ky=null;var v=bs,k=Ql;if(Dn=0,Xl=bs=null,Ql=0,(ht&6)!==0)throw Error(r(331));var N=ht;if(ht|=4,PE(v.current),IE(v,v.current,k,u),ht=N,Bc(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Lr,v)}catch{}return!0}finally{ue.p=p,Z.T=f,XE(i,s)}}function ZE(i,s,u){s=Kr(u,s),s=sy(i.stateNode,s,2),i=us(i,s,2),i!==null&&(Nt(i,2),Ui(i))}function Tt(i,s,u){if(i.tag===3)ZE(i,i,u);else for(;s!==null;){if(s.tag===3){ZE(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(vs===null||!vs.has(f))){i=Kr(u,i),u=nE(2),f=us(s,u,2),f!==null&&(rE(u,f,s,i),Nt(f,2),Ui(f));break}}s=s.return}}function Ry(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Mj;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(u)||(wy=!0,p.add(u),i=zj.bind(null,i,s,u),s.then(i,i))}function zj(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,kt===i&&(nt&u)===u&&(Kt===4||Kt===3&&(nt&62914560)===nt&&300>xt()-Ay?(ht&2)===0&&Zl(i,0):Ey|=u,Wl===nt&&(Wl=0)),Ui(i)}function JE(i,s){s===0&&(s=Ii()),i=Pl(i,s),i!==null&&(Nt(i,s),Ui(i))}function Bj(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),JE(i,u)}function qj(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),JE(i,u)}function $j(i,s){return Ot(i,s)}var md=null,eu=null,Dy=!1,gd=!1,Py=!1,jo=0;function Ui(i){i!==eu&&i.next===null&&(eu===null?md=eu=i:eu=eu.next=i),gd=!0,Dy||(Dy=!0,Hj())}function Bc(i,s){if(!Py&&gd){Py=!0;do for(var u=!1,f=md;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var v=0;else{var k=f.suspendedLanes,N=f.pingedLanes;v=(1<<31-gt(42|i)+1)-1,v&=p&~(k&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,rT(f,v))}else v=nt,v=Wt(f,f===kt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Ni(f,v)||(u=!0,rT(f,v));f=f.next}while(u);Py=!1}}function Fj(){eT()}function eT(){gd=Dy=!1;var i=0;jo!==0&&(Jj()&&(i=jo),jo=0);for(var s=xt(),u=null,f=md;f!==null;){var p=f.next,v=tT(f,s);v===0?(f.next=null,u===null?md=p:u.next=p,p===null&&(eu=u)):(u=f,(i!==0||(v&3)!==0)&&(gd=!0)),f=p}Bc(i)}function tT(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var k=31-gt(v),N=1<<k,q=p[k];q===-1?((N&u)===0||(N&f)!==0)&&(p[k]=Qa(N,s)):q<=s&&(i.expiredLanes|=N),v&=~N}if(s=kt,u=nt,u=Wt(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Ze(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ni(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&Ze(f),_e(u)){case 2:case 8:u=_t;break;case 32:u=yr;break;case 268435456:u=ta;break;default:u=yr}return f=nT.bind(null,i),u=Ot(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&Ze(f),i.callbackPriority=2,i.callbackNode=null,2}function nT(i,s){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(dd()&&i.callbackNode!==u)return null;var f=nt;return f=Wt(i,i===kt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(VE(i,f,s),tT(i,xt()),i.callbackNode!=null&&i.callbackNode===u?nT.bind(null,i):null)}function rT(i,s){if(dd())return null;VE(i,s,!0)}function Hj(){t4(function(){(ht&6)!==0?Ot(Vt,Fj):eT()})}function My(){return jo===0&&(jo=fi()),jo}function iT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:yi(""+i)}function aT(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function Kj(i,s,u,f,p){if(s==="submit"&&u&&u.stateNode===p){var v=iT((p[Ce]||null).action),k=f.submitter;k&&(s=(s=k[Ce]||null)?iT(s.formAction):k.getAttribute("formAction"),s!==null&&(v=s,k=null));var N=new go("action","action",null,f,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(jo!==0){var q=k?aT(p,k):new FormData(p);ty(u,{pending:!0,data:q,method:p.method,action:v},null,q)}}else typeof v=="function"&&(N.preventDefault(),q=k?aT(p,k):new FormData(p),ty(u,{pending:!0,data:q,method:p.method,action:v},v,q))},currentTarget:p}]})}}for(var jy=0;jy<xp.length;jy++){var Ly=xp[jy],Gj=Ly.toLowerCase(),Yj=Ly[0].toUpperCase()+Ly.slice(1);_i(Gj,"on"+Yj)}_i(V1,"onAnimationEnd"),_i(U1,"onAnimationIteration"),_i(z1,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(fj,"onTransitionRun"),_i(hj,"onTransitionStart"),_i(dj,"onTransitionCancel"),_i(B1,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qc));function sT(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],p=f.event;f=f.listeners;e:{var v=void 0;if(s)for(var k=f.length-1;0<=k;k--){var N=f[k],q=N.instance,X=N.currentTarget;if(N=N.listener,q!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=X;try{v(p)}catch(ne){nd(ne)}p.currentTarget=null,v=q}else for(k=0;k<f.length;k++){if(N=f[k],q=N.instance,X=N.currentTarget,N=N.listener,q!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=X;try{v(p)}catch(ne){nd(ne)}p.currentTarget=null,v=q}}}}function Xe(i,s){var u=s[wn];u===void 0&&(u=s[wn]=new Set);var f=i+"__bubble";u.has(f)||(oT(s,i,2,!1),u.add(f))}function Vy(i,s,u){var f=0;s&&(f|=4),oT(u,i,f,s)}var pd="_reactListening"+Math.random().toString(36).slice(2);function Uy(i){if(!i[pd]){i[pd]=!0,xl.forEach(function(u){u!=="selectionchange"&&(Wj.has(u)||Vy(u,!1,i),Vy(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[pd]||(s[pd]=!0,Vy("selectionchange",!1,s))}}function oT(i,s,u,f){switch(IT(s)){case 2:var p=w4;break;case 8:p=E4;break;default:p=Jy}u=p.bind(null,s,u,i),p=void 0,!oa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function zy(i,s,u,f,p){var v=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var N=f.stateNode.containerInfo;if(N===p)break;if(k===4)for(k=f.return;k!==null;){var q=k.tag;if((q===3||q===4)&&k.stateNode.containerInfo===p)return;k=k.return}for(;N!==null;){if(k=Ur(N),k===null)return;if(q=k.tag,q===5||q===6||q===26||q===27){f=v=k;continue e}N=N.parentNode}}f=f.return}fo(function(){var X=v,ne=ac(u),se=[];e:{var Q=q1.get(i);if(Q!==void 0){var J=go,Ue=i;switch(i){case"keypress":if(ho(u)===0)break e;case"keydown":case"keyup":J=Nl;break;case"focusin":Ue="focus",J=kl;break;case"focusout":Ue="blur",J=kl;break;case"beforeblur":case"afterblur":J=kl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=as;break;case V1:case U1:case z1:J=oc;break;case B1:J=w;break;case"scroll":case"scrollend":J=yo;break;case"wheel":J=P;break;case"copy":case"cut":case"paste":J=Sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=cc;break;case"toggle":case"beforetoggle":J=ee}var Pe=(s&4)!==0,bt=!Pe&&(i==="scroll"||i==="scrollend"),G=Pe?Q!==null?Q+"Capture":null:Q;Pe=[];for(var K=X,Y;K!==null;){var re=K;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||G===null||(re=rs(K,G),re!=null&&Pe.push($c(K,re,Y))),bt)break;K=K.return}0<Pe.length&&(Q=new J(Q,Ue,null,u,ne),se.push({event:Q,listeners:Pe}))}}if((s&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Q&&u!==ic&&(Ue=u.relatedTarget||u.fromElement)&&(Ur(Ue)||Ue[lt]))break e;if((J||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Ue=u.relatedTarget||u.toElement,J=X,Ue=Ue?Ur(Ue):null,Ue!==null&&(bt=o(Ue),Pe=Ue.tag,Ue!==bt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ue=null)):(J=null,Ue=X),J!==Ue)){if(Pe=xo,re="onMouseLeave",G="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=cc,re="onPointerLeave",G="onPointerEnter",K="pointer"),bt=J==null?Q:br(J),Y=Ue==null?Q:br(Ue),Q=new Pe(re,K+"leave",J,u,ne),Q.target=bt,Q.relatedTarget=Y,re=null,Ur(ne)===X&&(Pe=new Pe(G,K+"enter",Ue,u,ne),Pe.target=Y,Pe.relatedTarget=bt,re=Pe),bt=re,J&&Ue)t:{for(Pe=J,G=Ue,K=0,Y=Pe;Y;Y=tu(Y))K++;for(Y=0,re=G;re;re=tu(re))Y++;for(;0<K-Y;)Pe=tu(Pe),K--;for(;0<Y-K;)G=tu(G),Y--;for(;K--;){if(Pe===G||G!==null&&Pe===G.alternate)break t;Pe=tu(Pe),G=tu(G)}Pe=null}else Pe=null;J!==null&&lT(se,Q,J,Pe,!1),Ue!==null&&bt!==null&&lT(se,bt,Ue,Pe,!0)}}e:{if(Q=X?br(X):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var xe=k1;else if(A1(Q))if(C1)xe=lj;else{xe=sj;var Ye=aj}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&Tl(X.elementType)&&(xe=k1):xe=oj;if(xe&&(xe=xe(i,X))){S1(se,xe,u,ne);break e}Ye&&Ye(i,Q,X),i==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&tc(Q,"number",Q.value)}switch(Ye=X?br(X):window,i){case"focusin":(A1(Ye)||Ye.contentEditable==="true")&&(Il=Ye,yp=X,gc=null);break;case"focusout":gc=yp=Il=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,j1(se,u,ne);break;case"selectionchange":if(cj)break;case"keydown":case"keyup":j1(se,u,ne)}var Te;if($e)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else xi?vi(i,u)&&(Me="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(Xt&&u.locale!=="ko"&&(xi||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&xi&&(Te=Eh()):(Hr=ne,St="value"in Hr?Hr.value:Hr.textContent,xi=!0)),Ye=yd(X,Me),0<Ye.length&&(Me=new uc(Me,i,null,u,ne),se.push({event:Me,listeners:Ye}),Te?Me.data=Te:(Te=bi(u),Te!==null&&(Me.data=Te)))),(Te=ft?fc(i,u):nj(i,u))&&(Me=yd(X,"onBeforeInput"),0<Me.length&&(Ye=new uc("onBeforeInput","beforeinput",null,u,ne),se.push({event:Ye,listeners:Me}),Ye.data=Te)),Kj(se,i,X,u,ne)}sT(se,s)})}function $c(i,s,u){return{instance:i,listener:s,currentTarget:u}}function yd(i,s){for(var u=s+"Capture",f=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=rs(i,u),p!=null&&f.unshift($c(i,p,v)),p=rs(i,s),p!=null&&f.push($c(i,p,v))),i.tag===3)return f;i=i.return}return[]}function tu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lT(i,s,u,f,p){for(var v=s._reactName,k=[];u!==null&&u!==f;){var N=u,q=N.alternate,X=N.stateNode;if(N=N.tag,q!==null&&q===f)break;N!==5&&N!==26&&N!==27||X===null||(q=X,p?(X=rs(u,v),X!=null&&k.unshift($c(u,X,q))):p||(X=rs(u,v),X!=null&&k.push($c(u,X,q)))),u=u.return}k.length!==0&&i.push({event:s,listeners:k})}var Xj=/\r\n?/g,Qj=/\u0000|\uFFFD/g;function uT(i){return(typeof i=="string"?i:""+i).replace(Xj,`
`).replace(Qj,"")}function cT(i,s){return s=uT(s),uT(i)===s}function vd(){}function vt(i,s,u,f,p,v){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Fr(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Fr(i,""+f);break;case"className":so(i,"class",f);break;case"tabIndex":so(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":so(i,u,f);break;case"style":rc(i,f,v);break;case"data":if(s!=="object"){so(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=yi(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(s!=="input"&&vt(i,s,"name",p.name,p,null),vt(i,s,"formEncType",p.formEncType,p,null),vt(i,s,"formMethod",p.formMethod,p,null),vt(i,s,"formTarget",p.formTarget,p,null)):(vt(i,s,"encType",p.encType,p,null),vt(i,s,"method",p.method,p,null),vt(i,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=yi(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=vd);break;case"onScroll":f!=null&&Xe("scroll",i);break;case"onScrollEnd":f!=null&&Xe("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=yi(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Xe("beforetoggle",i),Xe("toggle",i),ao(i,"popover",f);break;case"xlinkActuate":$r(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":$r(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":$r(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":$r(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":$r(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":$r(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":$r(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":$r(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":$r(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ao(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=xh.get(u)||u,ao(i,u,f))}}function By(i,s,u,f,p,v){switch(u){case"style":rc(i,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Fr(i,f):(typeof f=="number"||typeof f=="bigint")&&Fr(i,""+f);break;case"onScroll":f!=null&&Xe("scroll",i);break;case"onScrollEnd":f!=null&&Xe("scrollend",i);break;case"onClick":f!=null&&(i.onclick=vd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gi.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),s=u.slice(2,p?u.length-7:void 0),v=i[Ce]||null,v=v!=null?v[u]:null,typeof v=="function"&&i.removeEventListener(s,v,p),typeof f=="function")){typeof v!="function"&&v!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,p);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):ao(i,u,f)}}}function Pn(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",i),Xe("load",i);var f=!1,p=!1,v;for(v in u)if(u.hasOwnProperty(v)){var k=u[v];if(k!=null)switch(v){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:vt(i,s,v,k,u,null)}}p&&vt(i,s,"srcSet",u.srcSet,u,null),f&&vt(i,s,"src",u.src,u,null);return;case"input":Xe("invalid",i);var N=v=k=p=null,q=null,X=null;for(f in u)if(u.hasOwnProperty(f)){var ne=u[f];if(ne!=null)switch(f){case"name":p=ne;break;case"type":k=ne;break;case"checked":q=ne;break;case"defaultChecked":X=ne;break;case"value":v=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:vt(i,s,f,ne,u,null)}}ec(i,v,N,q,X,k,p,!1),es(i);return;case"select":Xe("invalid",i),f=k=v=null;for(p in u)if(u.hasOwnProperty(p)&&(N=u[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":k=N;break;case"multiple":f=N;default:vt(i,s,p,N,u,null)}s=v,u=k,i.multiple=!!f,s!=null?ts(i,!!f,s,!1):u!=null&&ts(i,!!f,u,!0);return;case"textarea":Xe("invalid",i),v=p=f=null;for(k in u)if(u.hasOwnProperty(k)&&(N=u[k],N!=null))switch(k){case"value":f=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:vt(i,s,k,N,u,null)}bh(i,f,p,v),es(i);return;case"option":for(q in u)if(u.hasOwnProperty(q)&&(f=u[q],f!=null))switch(q){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:vt(i,s,q,f,u,null)}return;case"dialog":Xe("beforetoggle",i),Xe("toggle",i),Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":Xe("load",i);break;case"video":case"audio":for(f=0;f<qc.length;f++)Xe(qc[f],i);break;case"image":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"embed":case"source":case"link":Xe("error",i),Xe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:vt(i,s,X,f,u,null)}return;default:if(Tl(s)){for(ne in u)u.hasOwnProperty(ne)&&(f=u[ne],f!==void 0&&By(i,s,ne,f,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(f=u[N],f!=null&&vt(i,s,N,f,u,null))}function Zj(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,k=null,N=null,q=null,X=null,ne=null;for(J in u){var se=u[J];if(u.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":q=se;default:f.hasOwnProperty(J)||vt(i,s,J,null,f,se)}}for(var Q in f){var J=f[Q];if(se=u[Q],f.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":v=J;break;case"name":p=J;break;case"checked":X=J;break;case"defaultChecked":ne=J;break;case"value":k=J;break;case"defaultValue":N=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==se&&vt(i,s,Q,J,f,se)}}Ju(i,k,N,q,X,ne,v,p);return;case"select":J=k=N=Q=null;for(v in u)if(q=u[v],u.hasOwnProperty(v)&&q!=null)switch(v){case"value":break;case"multiple":J=q;default:f.hasOwnProperty(v)||vt(i,s,v,null,f,q)}for(p in f)if(v=f[p],q=u[p],f.hasOwnProperty(p)&&(v!=null||q!=null))switch(p){case"value":Q=v;break;case"defaultValue":N=v;break;case"multiple":k=v;default:v!==q&&vt(i,s,p,v,f,q)}s=N,u=k,f=J,Q!=null?ts(i,!!u,Q,!1):!!f!=!!u&&(s!=null?ts(i,!!u,s,!0):ts(i,!!u,u?[]:"",!1));return;case"textarea":J=Q=null;for(N in u)if(p=u[N],u.hasOwnProperty(N)&&p!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:vt(i,s,N,null,f,p)}for(k in f)if(p=f[k],v=u[k],f.hasOwnProperty(k)&&(p!=null||v!=null))switch(k){case"value":Q=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&vt(i,s,k,p,f,v)}vh(i,Q,J);return;case"option":for(var Ue in u)if(Q=u[Ue],u.hasOwnProperty(Ue)&&Q!=null&&!f.hasOwnProperty(Ue))switch(Ue){case"selected":i.selected=!1;break;default:vt(i,s,Ue,null,f,Q)}for(q in f)if(Q=f[q],J=u[q],f.hasOwnProperty(q)&&Q!==J&&(Q!=null||J!=null))switch(q){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:vt(i,s,q,Q,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)Q=u[Pe],u.hasOwnProperty(Pe)&&Q!=null&&!f.hasOwnProperty(Pe)&&vt(i,s,Pe,null,f,Q);for(X in f)if(Q=f[X],J=u[X],f.hasOwnProperty(X)&&Q!==J&&(Q!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:vt(i,s,X,Q,f,J)}return;default:if(Tl(s)){for(var bt in u)Q=u[bt],u.hasOwnProperty(bt)&&Q!==void 0&&!f.hasOwnProperty(bt)&&By(i,s,bt,void 0,f,Q);for(ne in f)Q=f[ne],J=u[ne],!f.hasOwnProperty(ne)||Q===J||Q===void 0&&J===void 0||By(i,s,ne,Q,f,J);return}}for(var G in u)Q=u[G],u.hasOwnProperty(G)&&Q!=null&&!f.hasOwnProperty(G)&&vt(i,s,G,null,f,Q);for(se in f)Q=f[se],J=u[se],!f.hasOwnProperty(se)||Q===J||Q==null&&J==null||vt(i,s,se,Q,f,J)}var qy=null,$y=null;function bd(i){return i.nodeType===9?i:i.ownerDocument}function fT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Fy(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hy=null;function Jj(){var i=window.event;return i&&i.type==="popstate"?i===Hy?!1:(Hy=i,!0):(Hy=null,!1)}var dT=typeof setTimeout=="function"?setTimeout:void 0,e4=typeof clearTimeout=="function"?clearTimeout:void 0,mT=typeof Promise=="function"?Promise:void 0,t4=typeof queueMicrotask=="function"?queueMicrotask:typeof mT<"u"?function(i){return mT.resolve(null).then(i).catch(n4)}:dT;function n4(i){setTimeout(function(){throw i})}function _s(i){return i==="head"}function gT(i,s){var u=s,f=0,p=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<f&&8>f){u=f;var k=i.ownerDocument;if(u&1&&Fc(k.documentElement),u&2&&Fc(k.body),u&4)for(u=k.head,Fc(u),k=u.firstChild;k;){var N=k.nextSibling,q=k.nodeName;k[mi]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=N}}if(p===0){i.removeChild(v),Zc(s);return}p--}else u==="$"||u==="$?"||u==="$!"?p++:f=u.charCodeAt(0)-48;else f=0;u=v}while(u);Zc(s)}function Ky(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ky(u),Ri(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function r4(i,s,u,f){for(;i.nodeType===1;){var p=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[mi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Ei(i.nextSibling),i===null)break}return null}function i4(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ei(i.nextSibling),i===null))return null;return i}function Gy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function a4(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Ei(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Yy=null;function pT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function yT(i,s,u){switch(s=bd(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Fc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ri(i)}var Zr=new Map,vT=new Set;function xd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _a=ue.d;ue.d={f:s4,r:o4,D:l4,C:u4,L:c4,m:f4,X:d4,S:h4,M:m4};function s4(){var i=_a.f(),s=fd();return i||s}function o4(i){var s=ur(i);s!==null&&s.tag===5&&s.type==="form"?Vw(s):_a.r(i)}var nu=typeof document>"u"?null:document;function bT(i,s,u){var f=nu;if(f&&typeof s=="string"&&s){var p=En(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),vT.has(p)||(vT.add(p),i={rel:i,crossOrigin:u,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),Pn(s,"link",i),Mt(s),f.head.appendChild(s)))}}function l4(i){_a.D(i),bT("dns-prefetch",i,null)}function u4(i,s){_a.C(i,s),bT("preconnect",i,s)}function c4(i,s,u){_a.L(i,s,u);var f=nu;if(f&&i&&s){var p='link[rel="preload"][as="'+En(s)+'"]';s==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+En(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+En(u.imageSizes)+'"]')):p+='[href="'+En(i)+'"]';var v=p;switch(s){case"style":v=ru(i);break;case"script":v=iu(i)}Zr.has(v)||(i=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Zr.set(v,i),f.querySelector(p)!==null||s==="style"&&f.querySelector(Hc(v))||s==="script"&&f.querySelector(Kc(v))||(s=f.createElement("link"),Pn(s,"link",i),Mt(s),f.head.appendChild(s)))}}function f4(i,s){_a.m(i,s);var u=nu;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+En(f)+'"][href="'+En(i)+'"]',v=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=iu(i)}if(!Zr.has(v)&&(i=m({rel:"modulepreload",href:i},s),Zr.set(v,i),u.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Kc(v)))return}f=u.createElement("link"),Pn(f,"link",i),Mt(f),u.head.appendChild(f)}}}function h4(i,s,u){_a.S(i,s,u);var f=nu;if(f&&i){var p=zr(f).hoistableStyles,v=ru(i);s=s||"default";var k=p.get(v);if(!k){var N={loading:0,preload:null};if(k=f.querySelector(Hc(v)))N.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Zr.get(v))&&Wy(i,u);var q=k=f.createElement("link");Mt(q),Pn(q,"link",i),q._p=new Promise(function(X,ne){q.onload=X,q.onerror=ne}),q.addEventListener("load",function(){N.loading|=1}),q.addEventListener("error",function(){N.loading|=2}),N.loading|=4,_d(k,s,f)}k={type:"stylesheet",instance:k,count:1,state:N},p.set(v,k)}}}function d4(i,s){_a.X(i,s);var u=nu;if(u&&i){var f=zr(u).hoistableScripts,p=iu(i),v=f.get(p);v||(v=u.querySelector(Kc(p)),v||(i=m({src:i,async:!0},s),(s=Zr.get(p))&&Xy(i,s),v=u.createElement("script"),Mt(v),Pn(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(p,v))}}function m4(i,s){_a.M(i,s);var u=nu;if(u&&i){var f=zr(u).hoistableScripts,p=iu(i),v=f.get(p);v||(v=u.querySelector(Kc(p)),v||(i=m({src:i,async:!0,type:"module"},s),(s=Zr.get(p))&&Xy(i,s),v=u.createElement("script"),Mt(v),Pn(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(p,v))}}function xT(i,s,u,f){var p=(p=Ie.current)?xd(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=ru(u.href),u=zr(p).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=ru(u.href);var v=zr(p).hoistableStyles,k=v.get(i);if(k||(p=p.ownerDocument||p,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,k),(v=p.querySelector(Hc(i)))&&!v._p&&(k.instance=v,k.state.loading=5),Zr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Zr.set(i,u),v||g4(p,i,u,k.state))),s&&f===null)throw Error(r(528,""));return k}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=iu(u),u=zr(p).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ru(i){return'href="'+En(i)+'"'}function Hc(i){return'link[rel="stylesheet"]['+i+"]"}function _T(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function g4(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Pn(s,"link",u),Mt(s),i.head.appendChild(s))}function iu(i){return'[src="'+En(i)+'"]'}function Kc(i){return"script[async]"+i}function wT(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+En(u.href)+'"]');if(f)return s.instance=f,Mt(f),f;var p=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Mt(f),Pn(f,"style",p),_d(f,u.precedence,i),s.instance=f;case"stylesheet":p=ru(u.href);var v=i.querySelector(Hc(p));if(v)return s.state.loading|=4,s.instance=v,Mt(v),v;f=_T(u),(p=Zr.get(p))&&Wy(f,p),v=(i.ownerDocument||i).createElement("link"),Mt(v);var k=v;return k._p=new Promise(function(N,q){k.onload=N,k.onerror=q}),Pn(v,"link",f),s.state.loading|=4,_d(v,u.precedence,i),s.instance=v;case"script":return v=iu(u.src),(p=i.querySelector(Kc(v)))?(s.instance=p,Mt(p),p):(f=u,(p=Zr.get(v))&&(f=m({},u),Xy(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),Mt(p),Pn(p,"link",f),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,_d(f,u.precedence,i));return s.instance}function _d(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,v=p,k=0;k<f.length;k++){var N=f[k];if(N.dataset.precedence===s)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Wy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Xy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var wd=null;function ET(i,s,u){if(wd===null){var f=new Map,p=wd=new Map;p.set(u,f)}else p=wd,f=p.get(u),f||(f=new Map,p.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),p=0;p<u.length;p++){var v=u[p];if(!(v[mi]||v[ke]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var k=v.getAttribute(s)||"";k=i+k;var N=f.get(k);N?N.push(v):f.set(k,[v])}}return f}function TT(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function p4(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function AT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Gc=null;function y4(){}function v4(i,s,u){if(Gc===null)throw Error(r(475));var f=Gc;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=ru(u.href),v=i.querySelector(Hc(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Ed.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=v,Mt(v);return}v=i.ownerDocument||i,u=_T(u),(p=Zr.get(p))&&Wy(u,p),v=v.createElement("link"),Mt(v);var k=v;k._p=new Promise(function(N,q){k.onload=N,k.onerror=q}),Pn(v,"link",u),s.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Ed.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function b4(){if(Gc===null)throw Error(r(475));var i=Gc;return i.stylesheets&&i.count===0&&Qy(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&Qy(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Ed(){if(this.count--,this.count===0){if(this.stylesheets)Qy(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Td=null;function Qy(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Td=new Map,s.forEach(x4,i),Td=null,Ed.call(i))}function x4(i,s){if(!(s.state.loading&4)){var u=Td.get(i);if(u)var f=u.get(null);else{u=new Map,Td.set(i,u);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var k=p[v];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),f=k)}f&&u.set(null,f)}p=s.instance,k=p.getAttribute("data-precedence"),v=u.get(k)||f,v===f&&u.set(null,p),u.set(k,p),this.count++,f=Ed.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Yc={$$typeof:L,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function _4(i,s,u,f,p,v,k,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Za(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.hiddenUpdates=Za(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ST(i,s,u,f,p,v,k,N,q,X,ne,se){return i=new _4(i,s,u,k,N,q,X,se),s=1,v===!0&&(s|=24),v=wr(3,null,null,s),i.current=v,v.stateNode=i,s=Rp(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:s},jp(v),i}function kT(i){return i?(i=Ml,i):Ml}function CT(i,s,u,f,p,v){p=kT(p),f.context===null?f.context=p:f.pendingContext=p,f=ls(s),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=us(i,f,s),u!==null&&(kr(u,i,s),Tc(u,i,s))}function OT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Zy(i,s){OT(i,s),(i=i.alternate)&&OT(i,s)}function NT(i){if(i.tag===13){var s=Pl(i,67108864);s!==null&&kr(s,i,67108864),Zy(i,67108864)}}var Ad=!0;function w4(i,s,u,f){var p=Z.T;Z.T=null;var v=ue.p;try{ue.p=2,Jy(i,s,u,f)}finally{ue.p=v,Z.T=p}}function E4(i,s,u,f){var p=Z.T;Z.T=null;var v=ue.p;try{ue.p=8,Jy(i,s,u,f)}finally{ue.p=v,Z.T=p}}function Jy(i,s,u,f){if(Ad){var p=ev(f);if(p===null)zy(i,s,f,Sd,u),RT(i,f);else if(A4(p,i,s,u,f))f.stopPropagation();else if(RT(i,f),s&4&&-1<T4.indexOf(i)){for(;p!==null;){var v=ur(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var k=vr(v.pendingLanes);if(k!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;k;){var q=1<<31-gt(k);N.entanglements[1]|=q,k&=~q}Ui(v),(ht&6)===0&&(ud=xt()+500,Bc(0))}}break;case 13:N=Pl(v,2),N!==null&&kr(N,v,2),fd(),Zy(v,2)}if(v=ev(f),v===null&&zy(i,s,f,Sd,u),v===p)break;p=v}p!==null&&f.stopPropagation()}else zy(i,s,f,null,u)}}function ev(i){return i=ac(i),tv(i)}var Sd=null;function tv(i){if(Sd=null,i=Ur(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Sd=i,null}function IT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ci()){case Vt:return 2;case _t:return 8;case yr:case Jn:return 32;case ta:return 268435456;default:return 32}default:return 32}}var nv=!1,ws=null,Es=null,Ts=null,Wc=new Map,Xc=new Map,As=[],T4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RT(i,s){switch(i){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Wc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(s.pointerId)}}function Qc(i,s,u,f,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[p]},s!==null&&(s=ur(s),s!==null&&NT(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function A4(i,s,u,f,p){switch(s){case"focusin":return ws=Qc(ws,i,s,u,f,p),!0;case"dragenter":return Es=Qc(Es,i,s,u,f,p),!0;case"mouseover":return Ts=Qc(Ts,i,s,u,f,p),!0;case"pointerover":var v=p.pointerId;return Wc.set(v,Qc(Wc.get(v)||null,i,s,u,f,p)),!0;case"gotpointercapture":return v=p.pointerId,Xc.set(v,Qc(Xc.get(v)||null,i,s,u,f,p)),!0}return!1}function DT(i){var s=Ur(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,ze(i.priority,function(){if(u.tag===13){var f=Sr();f=ge(f);var p=Pl(u,f);p!==null&&kr(p,u,f),Zy(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=ev(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ic=f,u.target.dispatchEvent(f),ic=null}else return s=ur(u),s!==null&&NT(s),i.blockedOn=u,!1;s.shift()}return!0}function PT(i,s,u){kd(i)&&u.delete(s)}function S4(){nv=!1,ws!==null&&kd(ws)&&(ws=null),Es!==null&&kd(Es)&&(Es=null),Ts!==null&&kd(Ts)&&(Ts=null),Wc.forEach(PT),Xc.forEach(PT)}function Cd(i,s){i.blockedOn===s&&(i.blockedOn=null,nv||(nv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,S4)))}var Od=null;function MT(i){Od!==i&&(Od=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Od===i&&(Od=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],p=i[s+2];if(typeof f!="function"){if(tv(f||u)===null)continue;break}var v=ur(u);v!==null&&(i.splice(s,3),s-=3,ty(v,{pending:!0,data:p,method:u.method,action:f},f,p))}}))}function Zc(i){function s(q){return Cd(q,i)}ws!==null&&Cd(ws,i),Es!==null&&Cd(Es,i),Ts!==null&&Cd(Ts,i),Wc.forEach(s),Xc.forEach(s);for(var u=0;u<As.length;u++){var f=As[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<As.length&&(u=As[0],u.blockedOn===null);)DT(u),u.blockedOn===null&&As.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var p=u[f],v=u[f+1],k=p[Ce]||null;if(typeof v=="function")k||MT(u);else if(k){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,k=v[Ce]||null)N=k.formAction;else if(tv(p)!==null)continue}else N=k.action;typeof N=="function"?u[f+1]=N:(u.splice(f,3),f-=3),MT(u)}}}function rv(i){this._internalRoot=i}Nd.prototype.render=rv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=Sr();CT(u,f,i,s,null,null)},Nd.prototype.unmount=rv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;CT(i.current,2,null,i,null,null),fd(),s[lt]=null}};function Nd(i){this._internalRoot=i}Nd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Se();i={blockedOn:null,target:i,priority:s};for(var u=0;u<As.length&&s!==0&&s<As[u].priority;u++);As.splice(u,0,i),u===0&&DT(i)}};var jT=e.version;if(jT!=="19.1.1")throw Error(r(527,jT,"19.1.1"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var k4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{Lr=Id.inject(k4),cn=Id}catch{}}return ef.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,f="",p=Zw,v=Jw,k=eE,N=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=ST(i,1,!1,null,null,u,f,p,v,k,N,null),i[lt]=s.current,Uy(i),new rv(s)},ef.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var f=!1,p="",v=Zw,k=Jw,N=eE,q=null,X=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks),u.formState!==void 0&&(X=u.formState)),s=ST(i,1,!0,s,u??null,f,p,v,k,N,q,X),s.context=kT(null),u=s.current,f=Sr(),f=ge(f),p=ls(f),p.callback=null,us(u,p,f),u=f,s.current.lanes=u,Nt(s,u),Ui(s),i[lt]=s.current,Uy(i),new Nd(s)},ef.version="19.1.1",ef}var KT;function U4(){if(KT)return sv.exports;KT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sv.exports=V4(),sv.exports}var z4=U4();const B4=()=>{};var GT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},q4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],l=t[n++],c=t[n++],h=((a&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},eO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],l=a+1<t.length,c=l?t[a+1]:0,h=a+2<t.length,d=h?t[a+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let b=(c&15)<<2|d>>6,_=d&63;h||(_=64,l||(b=64)),r.push(n[m],n[y],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||c==null||d==null||y==null)throw new $4;const b=o<<2|c>>4;if(r.push(b),d!==64){const _=c<<4&240|d>>2;if(r.push(_),y!==64){const E=d<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F4=function(t){const e=JC(t);return eO.encodeByteArray(e,!0)},mm=function(t){return F4(t).replace(/\./g,"")},tO=function(t){try{return eO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=()=>H4().__FIREBASE_DEFAULTS__,G4=()=>{if(typeof process>"u"||typeof GT>"u")return;const t=GT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tO(t[1]);return e&&JSON.parse(e)},vg=()=>{try{return B4()||K4()||G4()||Y4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nO=t=>vg()?.emulatorHosts?.[t],W4=t=>{const e=nO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rO=()=>vg()?.config,iO=t=>vg()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mm(JSON.stringify(n)),mm(JSON.stringify(l)),""].join(".")}const yf={};function Z4(){const t={prod:[],emulator:[]};for(const e of Object.keys(yf))yf[e]?t.emulator.push(e):t.prod.push(e);return t}function J4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let YT=!1;function sO(t,e){if(typeof window>"u"||typeof document>"u"||!Pu(window.location.host)||yf[t]===e||yf[t]||YT)return;yf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=Z4().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{YT=!0,l()},b}function m(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=J4(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),I=n("preprendIcon"),M=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const L=b.element;c(L),m(T,S);const B=d();h(M,I),L.append(M,E,T,B),document.body.appendChild(L)}o?(E.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function t3(){const t=vg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a3(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s3(){return!t3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o3(){try{return typeof indexedDB=="object"}catch{return!1}}function l3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="FirebaseError";class $a extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u3,Object.setPrototypeOf(this,$a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wf.prototype.create)}}class Wf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?c3(o,r):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new $a(a,c,r)}}function c3(t,e){return t.replace(f3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const f3=/\{\$([^}]+)}/g;function h3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function el(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],l=e[a];if(WT(o)&&WT(l)){if(!el(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function WT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function cf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d3(t,e){const n=new m3(t,e);return n.subscribe.bind(n)}class m3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");g3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=cv),a.error===void 0&&(a.error=cv),a.complete===void 0&&(a.complete=cv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){return t&&t._delegate?t._delegate:t}class tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v3(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function y3(t){return t===Uo?void 0:t}function v3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const x3={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},_3=Je.INFO,w3={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},E3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=w3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ox{constructor(e){this.name=e,this._logLevel=_3,this._logHandler=E3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const T3=(t,e)=>e.some(n=>t instanceof n);let XT,QT;function A3(){return XT||(XT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S3(){return QT||(QT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oO=new WeakMap,Y0=new WeakMap,lO=new WeakMap,fv=new WeakMap,lx=new WeakMap;function k3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Ls(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&oO.set(n,t)}).catch(()=>{}),lx.set(e,t),e}function C3(t){if(Y0.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Y0.set(t,e)}let W0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Y0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O3(t){W0=t(W0)}function N3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hv(this),e,...n);return lO.set(r,e.sort?e.sort():[e]),Ls(r)}:S3().includes(t)?function(...e){return t.apply(hv(this),e),Ls(oO.get(this))}:function(...e){return Ls(t.apply(hv(this),e))}}function I3(t){return typeof t=="function"?N3(t):(t instanceof IDBTransaction&&C3(t),T3(t,A3())?new Proxy(t,W0):t)}function Ls(t){if(t instanceof IDBRequest)return k3(t);if(fv.has(t))return fv.get(t);const e=I3(t);return e!==t&&(fv.set(t,e),lx.set(e,t)),e}const hv=t=>lx.get(t);function R3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(t,e),c=Ls(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ls(l.result),h.oldVersion,h.newVersion,Ls(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const D3=["get","getKey","getAll","getAllKeys","count"],P3=["put","add","delete","clear"],dv=new Map;function ZT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dv.get(e))return dv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=P3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||D3.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,a?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),a&&h.done]))[0]};return dv.set(e,o),o}O3(t=>({...t,get:(e,n,r)=>ZT(e,n)||t.get(e,n,r),has:(e,n)=>!!ZT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j3(t){return t.getComponent()?.type==="VERSION"}const X0="@firebase/app",JT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new ox("@firebase/app"),L3="@firebase/app-compat",V3="@firebase/analytics-compat",U3="@firebase/analytics",z3="@firebase/app-check-compat",B3="@firebase/app-check",q3="@firebase/auth",$3="@firebase/auth-compat",F3="@firebase/database",H3="@firebase/data-connect",K3="@firebase/database-compat",G3="@firebase/functions",Y3="@firebase/functions-compat",W3="@firebase/installations",X3="@firebase/installations-compat",Q3="@firebase/messaging",Z3="@firebase/messaging-compat",J3="@firebase/performance",e6="@firebase/performance-compat",t6="@firebase/remote-config",n6="@firebase/remote-config-compat",r6="@firebase/storage",i6="@firebase/storage-compat",a6="@firebase/firestore",s6="@firebase/ai",o6="@firebase/firestore-compat",l6="firebase",u6="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="[DEFAULT]",c6={[X0]:"fire-core",[L3]:"fire-core-compat",[U3]:"fire-analytics",[V3]:"fire-analytics-compat",[B3]:"fire-app-check",[z3]:"fire-app-check-compat",[q3]:"fire-auth",[$3]:"fire-auth-compat",[F3]:"fire-rtdb",[H3]:"fire-data-connect",[K3]:"fire-rtdb-compat",[G3]:"fire-fn",[Y3]:"fire-fn-compat",[W3]:"fire-iid",[X3]:"fire-iid-compat",[Q3]:"fire-fcm",[Z3]:"fire-fcm-compat",[J3]:"fire-perf",[e6]:"fire-perf-compat",[t6]:"fire-rc",[n6]:"fire-rc-compat",[r6]:"fire-gcs",[i6]:"fire-gcs-compat",[a6]:"fire-fst",[o6]:"fire-fst-compat",[s6]:"fire-vertex","fire-js":"fire-js",[l6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,f6=new Map,Z0=new Map;function eA(t,e){try{t.container.addComponent(e)}catch(n){Pa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vu(t){const e=t.name;if(Z0.has(e))return Pa.debug(`There were multiple attempts to register component ${e}.`),!1;Z0.set(e,t);for(const n of gm.values())eA(n,t);for(const n of f6.values())eA(n,t);return!0}function ux(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new Wf("app","Firebase",h6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=u6;function uO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Q0,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Vs.create("bad-app-name",{appName:String(a)});if(n||(n=rO()),!n)throw Vs.create("no-options");const o=gm.get(a);if(o){if(el(n,o.options)&&el(r,o.config))return o;throw Vs.create("duplicate-app",{appName:a})}const l=new b3(a);for(const h of Z0.values())l.addComponent(h);const c=new d6(n,r,l);return gm.set(a,c),c}function cO(t=Q0){const e=gm.get(t);if(!e&&t===Q0&&rO())return uO();if(!e)throw Vs.create("no-app",{appName:t});return e}function Us(t,e,n){let r=c6[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pa.warn(l.join(" "));return}vu(new tl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="firebase-heartbeat-database",g6=1,Sf="firebase-heartbeat-store";let mv=null;function fO(){return mv||(mv=R3(m6,g6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),mv}async function p6(t){try{const n=(await fO()).transaction(Sf),r=await n.objectStore(Sf).get(hO(t));return await n.done,r}catch(e){if(e instanceof $a)Pa.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e?.message});Pa.warn(n.message)}}}async function tA(t,e){try{const r=(await fO()).transaction(Sf,"readwrite");await r.objectStore(Sf).put(e,hO(t)),await r.done}catch(n){if(n instanceof $a)Pa.warn(n.message);else{const r=Vs.create("idb-set",{originalErrorMessage:n?.message});Pa.warn(r.message)}}}function hO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=1024,v6=30;class b6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>v6){const a=w6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nA(),{heartbeatsToSend:n,unsentEntries:r}=x6(this._heartbeatsCache.heartbeats),a=mm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pa.warn(e),""}}}function nA(){return new Date().toISOString().substring(0,10)}function x6(t,e=y6){const n=[];let r=t.slice();for(const a of t){const o=n.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),rA(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o3()?l3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rA(t){return mm(JSON.stringify({version:2,heartbeats:t})).length}function w6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){vu(new tl("platform-logger",e=>new M3(e),"PRIVATE")),vu(new tl("heartbeat",e=>new b6(e),"PRIVATE")),Us(X0,JT,t),Us(X0,JT,"esm2020"),Us("fire-js","")}E6("");var T6="firebase",A6="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(T6,A6,"app");function dO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S6=dO,mO=new Wf("auth","Firebase",dO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new ox("@firebase/auth");function k6(t,...e){pm.logLevel<=Je.WARN&&pm.warn(`Auth (${Mu}): ${t}`,...e)}function tm(t,...e){pm.logLevel<=Je.ERROR&&pm.error(`Auth (${Mu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,...e){throw cx(t,...e)}function Fi(t,...e){return cx(t,...e)}function gO(t,e,n){const r={...S6(),[e]:n};return new Wf("auth","Firebase",r).create(e,{appName:t.name})}function zs(t){return gO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mO.create(t,...e)}function Le(t,e,...n){if(!t)throw cx(e,...n)}function Aa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tm(e),new Error(e)}function Ma(t,e){t||Aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){return typeof self<"u"&&self.location?.href||""}function C6(){return iA()==="http:"||iA()==="https:"}function iA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C6()||r3()||"connection"in navigator)?navigator.onLine:!0}function N6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ma(n>e,"Short delay should be less than long delay!"),this.isMobile=e3()||i3()}get(){return O6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){Ma(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D6=new Qf(3e4,6e4);function ul(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Js(t,e,n,r,a={}){return yO(t,a,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Xf({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:h,...o};return n3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Pu(t.emulatorConfig.host)&&(d.credentials="include"),pO.fetch()(await vO(t,t.config.apiHost,n,c),d)})}async function yO(t,e,n){t._canInitEmulator=!1;const r={...I6,...e};try{const a=new M6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Rd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Rd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Rd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw gO(t,m,d);Oi(t,m)}}catch(a){if(a instanceof $a)throw a;Oi(t,"network-request-failed",{message:String(a)})}}async function bg(t,e,n,r,a={}){const o=await Js(t,e,n,r,a);return"mfaPendingCredential"in o&&Oi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function vO(t,e,n,r){const a=`${e}${n}?${r}`,o=t,l=o.config.emulator?fx(t.config,a):`${t.config.apiScheme}://${a}`;return R6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function P6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),D6.get())})}}function Rd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Fi(t,e,r);return a.customData._tokenResponse=n,a}function aA(t){return t!==void 0&&t.enterprise!==void 0}class j6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function L6(t,e){return Js(t,"GET","/v2/recaptchaConfig",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e){return Js(t,"POST","/v1/accounts:delete",e)}async function ym(t,e){return Js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U6(t,e=!1){const n=Dr(t),r=await n.getIdToken(e),a=hx(r);Le(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,l=o?.sign_in_provider;return{claims:a,token:r,authTime:vf(gv(a.auth_time)),issuedAtTime:vf(gv(a.iat)),expirationTime:vf(gv(a.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function gv(t){return Number(t)*1e3}function hx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tm("JWT malformed, contained fewer than 3 sections"),null;try{const a=tO(n);return a?JSON.parse(a):(tm("Failed to decode base64 JWT payload"),null)}catch(a){return tm("Caught error parsing JWT payload as JSON",a?.toString()),null}}function sA(t){const e=hx(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $a&&z6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vf(this.lastLoginAt),this.creationTime=vf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(t){const e=t.auth,n=await t.getIdToken(),r=await kf(t,ym(e,{idToken:n}));Le(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?bO(a.providerUserInfo):[],l=$6(t.providerData,o),c=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!l?.length,d=c?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new eb(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function q6(t){const e=Dr(t);await vm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function bO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t,e){const n=await yO(t,{},async()=>{const r=Xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,l=await vO(t,a,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&Pu(t.emulatorConfig.host)&&(h.credentials="include"),pO.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H6(t,e){return Js(t,"POST","/v2/accounts:revokeToken",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=sA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await F6(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,l=new hu;return r&&(Le(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(Le(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),o&&(Le(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hu,this.toJSON())}_performRefresh(){return Aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new B6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new eb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await kf(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U6(this,e)}reload(){return q6(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await kf(this,V6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:_,providerData:E,stsTokenManager:S}=n;Le(y&&S,e,"internal-error");const T=hu.fromJSON(this.name,S);Le(typeof y=="string",e,"internal-error"),ks(r,e.name),ks(a,e.name),Le(typeof b=="boolean",e,"internal-error"),Le(typeof _=="boolean",e,"internal-error"),ks(o,e.name),ks(l,e.name),ks(c,e.name),ks(h,e.name),ks(d,e.name),ks(m,e.name);const I=new ki({uid:y,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:T,createdAt:d,lastLoginAt:m});return E&&Array.isArray(E)&&(I.providerData=E.map(M=>({...M}))),h&&(I._redirectEventId=h),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new hu;a.updateFromServerResponse(n);const o=new ki({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await vm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Le(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?bO(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!o?.length,c=new hu;c.updateFromIdToken(r);const h=new ki({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new eb(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;function Sa(t){Ma(t instanceof Function,"Expected a class definition");let e=oA.get(t);return e?(Ma(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xO.type="NONE";const lA=xO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e,n){return`firebase:${t}:${e}:${n}`}class du{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=nm(this.userKey,a.apiKey,o),this.fullPersistenceKey=nm("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ym(this.auth,{idToken:e}).catch(()=>{});return n?ki._fromGetAccountInfoResponse(this.auth,n,e):null}return ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new du(Sa(lA),e,r);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Sa(lA);const l=nm(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(l);if(m){let y;if(typeof m=="string"){const b=await ym(e,{idToken:m}).catch(()=>{});if(!b)break;y=await ki._fromGetAccountInfoResponse(e,b,m)}else y=ki._fromJSON(e,m);d!==o&&(c=y),o=d;break}}catch{}const h=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new du(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new du(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_O(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SO(e))return"Blackberry";if(kO(e))return"Webos";if(wO(e))return"Safari";if((e.includes("chrome/")||EO(e))&&!e.includes("edge/"))return"Chrome";if(AO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _O(t=Qn()){return/firefox\//i.test(t)}function wO(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EO(t=Qn()){return/crios\//i.test(t)}function TO(t=Qn()){return/iemobile/i.test(t)}function AO(t=Qn()){return/android/i.test(t)}function SO(t=Qn()){return/blackberry/i.test(t)}function kO(t=Qn()){return/webos/i.test(t)}function dx(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K6(t=Qn()){return dx(t)&&!!window.navigator?.standalone}function G6(){return a3()&&document.documentMode===10}function CO(t=Qn()){return dx(t)||AO(t)||kO(t)||SO(t)||/windows phone/i.test(t)||TO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e=[]){let n;switch(t){case"Browser":n=uA(Qn());break;case"Worker":n=`${uA(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e={}){return Js(t,"GET","/v2/passwordPolicy",ul(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=6;class Q6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??X6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cA(this),this.idTokenSubscription=new cA(this),this.beforeStateQueue=new Y6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await du.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ym(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(zs(this));const n=e?Dr(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W6(this),n=new Q6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await H6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sa(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await du.create(this,[Sa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&k6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ju(t){return Dr(t)}class cA{constructor(e){this.auth=e,this.observer=null,this.addObserver=d3(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J6(t){xg=t}function NO(t){return xg.loadJS(t)}function eL(){return xg.recaptchaEnterpriseScript}function tL(){return xg.gapiScript}function nL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rL{constructor(){this.enterprise=new iL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aL="recaptcha-enterprise",IO="NO_RECAPTCHA";class sL{constructor(e){this.type=aL,this.auth=ju(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{L6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new j6(h);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function a(o,l,c){const h=window.grecaptcha;aA(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(d=>{l(d)}).catch(()=>{l(IO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&aA(window.grecaptcha))a(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=eL();h.length!==0&&(h+=c),NO(h).then(()=>{a(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function fA(t,e,n,r=!1,a=!1){const o=new sL(t);let l;if(a)l=IO;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function hA(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await fA(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e){const n=ux(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(el(o,e??{}))return a;Oi(a,"already-initialized")}return n.initialize({options:e})}function lL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Sa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function uL(t,e,n){const r=ju(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=RO(e),{host:l,port:c}=cL(e),h=c===null?"":`:${c}`,d={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(el(d,r.config.emulator)&&el(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Pu(l)?(aO(`${o}//${l}${h}`),sO("Auth",!0)):fL()}function RO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cL(t){const e=RO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:dA(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:dA(l)}}}function dA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Aa("not implemented")}_getIdTokenResponse(e){return Aa("not implemented")}_linkToIdToken(e,n){return Aa("not implemented")}_getReauthenticationResolver(e){return Aa("not implemented")}}async function hL(t,e){return Js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t,e){return bg(t,"POST","/v1/accounts:signInWithPassword",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){return bg(t,"POST","/v1/accounts:signInWithEmailLink",ul(t,e))}async function gL(t,e){return bg(t,"POST","/v1/accounts:signInWithEmailLink",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends mx{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Cf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hA(e,n,"signInWithPassword",dL);case"emailLink":return mL(e,{email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hA(e,r,"signUpPassword",hL);case"emailLink":return gL(e,{idToken:n,email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t,e){return bg(t,"POST","/v1/accounts:signInWithIdp",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="http://localhost";class nl extends mx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const l=new nl(r,a);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return mu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mu(e,n)}buildRequest(){const e={requestUri:pL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vL(t){const e=uf(cf(t)).link,n=e?uf(cf(e)).deep_link_id:null,r=uf(cf(t)).deep_link_id;return(r?uf(cf(r)).link:null)||r||n||e||t}class gx{constructor(e){const n=uf(cf(e)),r=n.apiKey??null,a=n.oobCode??null,o=yL(n.mode??null);Le(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=vL(e);try{return new gx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.providerId=Lu.PROVIDER_ID}static credential(e,n){return Cf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gx.parseLink(n);return Le(r,"argument-error"),Cf._fromEmailAndCode(e,r.code,r.tenantId)}}Lu.PROVIDER_ID="password";Lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends DO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Zf{constructor(){super("facebook.com")}static credential(e){return nl._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Zf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return nl._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Zf{constructor(){super("github.com")}static credential(e){return nl._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Zf{constructor(){super("twitter.com")}static credential(e,n){return nl._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await ki._fromIdTokenResponse(e,r,a),l=mA(r);return new bu({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=mA(r);return new bu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function mA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends $a{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,bm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new bm(e,n,r,a)}}function PO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bm._fromErrorAndOperation(t,o,e,r):o})}async function bL(t,e,n=!1){const r=await kf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e,n=!1){const{auth:r}=t;if(Ti(r.app))return Promise.reject(zs(r));const a="reauthenticate";try{const o=await kf(t,PO(r,a,e,t),n);Le(o.idToken,r,"internal-error");const l=hx(o.idToken);Le(l,r,"internal-error");const{sub:c}=l;return Le(t.uid===c,r,"user-mismatch"),bu._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Oi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t,e,n=!1){if(Ti(t.app))return Promise.reject(zs(t));const r="signIn",a=await PO(t,r,e),o=await bu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function _L(t,e){return MO(ju(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t){const e=ju(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function EL(t,e,n){return Ti(t.app)?Promise.reject(zs(t)):_L(Dr(t),Lu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wL(t),r})}function TL(t,e,n,r){return Dr(t).onIdTokenChanged(e,n,r)}function AL(t,e,n){return Dr(t).beforeAuthStateChanged(e,n)}function SL(t,e,n,r){return Dr(t).onAuthStateChanged(e,n,r)}function gA(t){return Dr(t).signOut()}const xm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xm,"1"),this.storage.removeItem(xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=1e3,CL=10;class LO extends jO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);G6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,CL):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LO.type="LOCAL";const OL=LO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO extends jO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VO.type="SESSION";const UO=VO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new _g(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(l).map(async d=>d(n.origin,o)),h=await NL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_g.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const d=px("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(y){const b=y;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(b.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function RL(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function DL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PL(){return navigator?.serviceWorker?.controller||null}function ML(){return zO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="firebaseLocalStorageDb",jL=1,_m="firebaseLocalStorage",qO="fbase_key";class Jf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wg(t,e){return t.transaction([_m],e?"readwrite":"readonly").objectStore(_m)}function LL(){const t=indexedDB.deleteDatabase(BO);return new Jf(t).toPromise()}function tb(){const t=indexedDB.open(BO,jL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_m,{keyPath:qO})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_m)?e(r):(r.close(),await LL(),e(await tb()))})})}async function pA(t,e,n){const r=wg(t,!0).put({[qO]:e,value:n});return new Jf(r).toPromise()}async function VL(t,e){const n=wg(t,!1).get(e),r=await new Jf(n).toPromise();return r===void 0?null:r.value}function yA(t,e){const n=wg(t,!0).delete(e);return new Jf(n).toPromise()}const UL=800,zL=3;class $O{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_g._getInstance(ML()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DL(),!this.activeServiceWorker)return;this.sender=new IL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tb();return await pA(e,xm,"1"),await yA(e,xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=wg(a,!1).getAll();return new Jf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$O.type="LOCAL";const BL=$O;new Qf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t,e){return e?Sa(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends mx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $L(t){return MO(t.auth,new yx(t),t.bypassAuthState)}function FL(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),xL(n,new yx(t),t.bypassAuthState)}async function HL(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),bL(n,new yx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $L;case"linkViaPopup":case"linkViaRedirect":return HL;case"reauthViaPopup":case"reauthViaRedirect":return FL;default:Oi(this.auth,"internal-error")}}resolve(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new Qf(2e3,1e4);class cu extends FO{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,cu.currentPopupAction&&cu.currentPopupAction.cancel(),cu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Ma(this.filter.length===1,"Popup operations only handle one event");const e=px();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KL.get())};e()}}cu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="pendingRedirect",rm=new Map;class YL extends FO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rm.get(this.auth._key());if(!e){try{const r=await WL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rm.set(this.auth._key(),e)}return this.bypassAuthState||rm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WL(t,e){const n=ZL(e),r=QL(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function XL(t,e){rm.set(t._key(),e)}function QL(t){return Sa(t._redirectPersistence)}function ZL(t){return nm(GL,t.config.apiKey,t.name)}async function JL(t,e,n=!1){if(Ti(t.app))return Promise.reject(zs(t));const r=ju(t),a=qL(r,e),l=await new YL(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=600*1e3;class tV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!HO(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eV&&this.cachedEventUids.clear(),this.cachedEventUids.has(vA(e))}saveEventToCache(e){this.cachedEventUids.add(vA(e)),this.lastProcessedEventTime=Date.now()}}function vA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e={}){return Js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aV=/^https?/;async function sV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rV(t);for(const n of e)try{if(oV(n))return}catch{}Oi(t,"unauthorized-domain")}function oV(t){const e=J0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!aV.test(n))return!1;if(iV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new Qf(3e4,6e4);function bA(){const t=Hi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uV(t){return new Promise((e,n)=>{function r(){bA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bA(),n(Fi(t,"network-request-failed"))},timeout:lV.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const a=nL("iframefcb");return Hi()[a]=()=>{gapi.load?r():n(Fi(t,"network-request-failed"))},NO(`${tL()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw im=null,e})}let im=null;function cV(t){return im=im||uV(t),im}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new Qf(5e3,15e3),hV="__/auth/iframe",dV="emulator/auth/iframe",mV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pV(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fx(e,dV):`https://${t.config.authDomain}/${hV}`,r={apiKey:e.apiKey,appName:t.name,v:Mu},a=gV.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Xf(r).slice(1)}`}async function yV(t){const e=await cV(t),n=Hi().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:pV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mV,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const l=Fi(t,"network-request-failed"),c=Hi().setTimeout(()=>{o(l)},fV.get());function h(){Hi().clearTimeout(c),a(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bV=500,xV=600,_V="_blank",wV="http://localhost";class xA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EV(t,e,n,r=bV,a=xV){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...vV,width:r.toString(),height:a.toString(),top:o,left:l},d=Qn().toLowerCase();n&&(c=EO(d)?_V:n),_O(d)&&(e=e||wV,h.scrollbars="yes");const m=Object.entries(h).reduce((b,[_,E])=>`${b}${_}=${E},`,"");if(K6(d)&&c!=="_self")return TV(e||"",c),new xA(null);const y=window.open(e||"",c,m);Le(y,t,"popup-blocked");try{y.focus()}catch{}return new xA(y)}function TV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="__/auth/handler",SV="emulator/auth/handler",kV=encodeURIComponent("fac");async function _A(t,e,n,r,a,o){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mu,eventId:a};if(e instanceof DO){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",h3(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Zf){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),d=h?`#${kV}=${encodeURIComponent(h)}`:"";return`${CV(t)}?${Xf(c).slice(1)}${d}`}function CV({config:t}){return t.emulator?fx(t,SV):`https://${t.authDomain}/${AV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="webStorageSupport";class OV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UO,this._completeRedirectFn=JL,this._overrideRedirectResult=XL}async _openPopup(e,n,r,a){Ma(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await _A(e,n,r,J0(),a);return EV(e,o,px())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await _A(e,n,r,J0(),a);return RL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ma(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yV(e),r=new tV(e);return n.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pv,{type:pv},a=>{const o=a?.[0]?.[pv];o!==void 0&&n(!!o),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CO()||wO()||dx()}}const NV=OV;var wA="@firebase/auth",EA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DV(t){vu(new tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Le(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OO(t)},d=new Z6(r,a,o,h);return lL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vu(new tl("auth-internal",e=>{const n=ju(e.getProvider("auth").getImmediate());return(r=>new IV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(wA,EA,RV(t)),Us(wA,EA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=300,MV=iO("authIdTokenMaxAge")||PV;let TA=null;const jV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MV)return;const a=n?.token;TA!==a&&(TA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function LV(t=cO()){const e=ux(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oL(t,{popupRedirectResolver:NV,persistence:[BL,OL,UO]}),r=iO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=jV(o.toString());AL(n,l,()=>l(n.currentUser)),TL(n,c=>l(c))}}const a=nO("auth");return a&&uL(n,`http://${a}`),n}function VV(){return document.getElementsByTagName("head")?.[0]??document}J6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Fi("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",VV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DV("Browser");var AA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,KO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,O){function D(){}D.prototype=O.prototype,R.F=O.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(U,j,z){for(var V=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)V[pe-2]=arguments[pe];return O.prototype[j].apply(U,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,O,D){D||(D=0);const U=Array(16);if(typeof O=="string")for(var j=0;j<16;++j)U[j]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(j=0;j<16;++j)U[j]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=R.g[0],D=R.g[1],j=R.g[2];let z=R.g[3],V;V=O+(z^D&(j^z))+U[0]+3614090360&4294967295,O=D+(V<<7&4294967295|V>>>25),V=z+(j^O&(D^j))+U[1]+3905402710&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(D^z&(O^D))+U[2]+606105819&4294967295,j=z+(V<<17&4294967295|V>>>15),V=D+(O^j&(z^O))+U[3]+3250441966&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(z^D&(j^z))+U[4]+4118548399&4294967295,O=D+(V<<7&4294967295|V>>>25),V=z+(j^O&(D^j))+U[5]+1200080426&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(D^z&(O^D))+U[6]+2821735955&4294967295,j=z+(V<<17&4294967295|V>>>15),V=D+(O^j&(z^O))+U[7]+4249261313&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(z^D&(j^z))+U[8]+1770035416&4294967295,O=D+(V<<7&4294967295|V>>>25),V=z+(j^O&(D^j))+U[9]+2336552879&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(D^z&(O^D))+U[10]+4294925233&4294967295,j=z+(V<<17&4294967295|V>>>15),V=D+(O^j&(z^O))+U[11]+2304563134&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(z^D&(j^z))+U[12]+1804603682&4294967295,O=D+(V<<7&4294967295|V>>>25),V=z+(j^O&(D^j))+U[13]+4254626195&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(D^z&(O^D))+U[14]+2792965006&4294967295,j=z+(V<<17&4294967295|V>>>15),V=D+(O^j&(z^O))+U[15]+1236535329&4294967295,D=j+(V<<22&4294967295|V>>>10),V=O+(j^z&(D^j))+U[1]+4129170786&4294967295,O=D+(V<<5&4294967295|V>>>27),V=z+(D^j&(O^D))+U[6]+3225465664&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(z^O))+U[11]+643717713&4294967295,j=z+(V<<14&4294967295|V>>>18),V=D+(z^O&(j^z))+U[0]+3921069994&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(j^z&(D^j))+U[5]+3593408605&4294967295,O=D+(V<<5&4294967295|V>>>27),V=z+(D^j&(O^D))+U[10]+38016083&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(z^O))+U[15]+3634488961&4294967295,j=z+(V<<14&4294967295|V>>>18),V=D+(z^O&(j^z))+U[4]+3889429448&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(j^z&(D^j))+U[9]+568446438&4294967295,O=D+(V<<5&4294967295|V>>>27),V=z+(D^j&(O^D))+U[14]+3275163606&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(z^O))+U[3]+4107603335&4294967295,j=z+(V<<14&4294967295|V>>>18),V=D+(z^O&(j^z))+U[8]+1163531501&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(j^z&(D^j))+U[13]+2850285829&4294967295,O=D+(V<<5&4294967295|V>>>27),V=z+(D^j&(O^D))+U[2]+4243563512&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^D&(z^O))+U[7]+1735328473&4294967295,j=z+(V<<14&4294967295|V>>>18),V=D+(z^O&(j^z))+U[12]+2368359562&4294967295,D=j+(V<<20&4294967295|V>>>12),V=O+(D^j^z)+U[5]+4294588738&4294967295,O=D+(V<<4&4294967295|V>>>28),V=z+(O^D^j)+U[8]+2272392833&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^D)+U[11]+1839030562&4294967295,j=z+(V<<16&4294967295|V>>>16),V=D+(j^z^O)+U[14]+4259657740&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(D^j^z)+U[1]+2763975236&4294967295,O=D+(V<<4&4294967295|V>>>28),V=z+(O^D^j)+U[4]+1272893353&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^D)+U[7]+4139469664&4294967295,j=z+(V<<16&4294967295|V>>>16),V=D+(j^z^O)+U[10]+3200236656&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(D^j^z)+U[13]+681279174&4294967295,O=D+(V<<4&4294967295|V>>>28),V=z+(O^D^j)+U[0]+3936430074&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^D)+U[3]+3572445317&4294967295,j=z+(V<<16&4294967295|V>>>16),V=D+(j^z^O)+U[6]+76029189&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(D^j^z)+U[9]+3654602809&4294967295,O=D+(V<<4&4294967295|V>>>28),V=z+(O^D^j)+U[12]+3873151461&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^D)+U[15]+530742520&4294967295,j=z+(V<<16&4294967295|V>>>16),V=D+(j^z^O)+U[2]+3299628645&4294967295,D=j+(V<<23&4294967295|V>>>9),V=O+(j^(D|~z))+U[0]+4096336452&4294967295,O=D+(V<<6&4294967295|V>>>26),V=z+(D^(O|~j))+U[7]+1126891415&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~D))+U[14]+2878612391&4294967295,j=z+(V<<15&4294967295|V>>>17),V=D+(z^(j|~O))+U[5]+4237533241&4294967295,D=j+(V<<21&4294967295|V>>>11),V=O+(j^(D|~z))+U[12]+1700485571&4294967295,O=D+(V<<6&4294967295|V>>>26),V=z+(D^(O|~j))+U[3]+2399980690&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~D))+U[10]+4293915773&4294967295,j=z+(V<<15&4294967295|V>>>17),V=D+(z^(j|~O))+U[1]+2240044497&4294967295,D=j+(V<<21&4294967295|V>>>11),V=O+(j^(D|~z))+U[8]+1873313359&4294967295,O=D+(V<<6&4294967295|V>>>26),V=z+(D^(O|~j))+U[15]+4264355552&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~D))+U[6]+2734768916&4294967295,j=z+(V<<15&4294967295|V>>>17),V=D+(z^(j|~O))+U[13]+1309151649&4294967295,D=j+(V<<21&4294967295|V>>>11),V=O+(j^(D|~z))+U[4]+4149444226&4294967295,O=D+(V<<6&4294967295|V>>>26),V=z+(D^(O|~j))+U[11]+3174756917&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~D))+U[2]+718787259&4294967295,j=z+(V<<15&4294967295|V>>>17),V=D+(z^(j|~O))+U[9]+3951481745&4294967295,R.g[0]=R.g[0]+O&4294967295,R.g[1]=R.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+j&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,O){O===void 0&&(O=R.length);const D=O-this.blockSize,U=this.C;let j=this.h,z=0;for(;z<O;){if(j==0)for(;z<=D;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<O;)if(U[j++]=R.charCodeAt(z++),j==this.blockSize){a(this,U),j=0;break}}else for(;z<O;)if(U[j++]=R[z++],j==this.blockSize){a(this,U),j=0;break}}this.h=j,this.o+=O},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var O=1;O<R.length-8;++O)R[O]=0;O=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=O&255,O/=256;for(this.v(R),R=Array(16),O=0,D=0;D<4;++D)for(let U=0;U<32;U+=8)R[O++]=this.g[D]>>>U&255;return R};function o(R,O){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=O(R)}function l(R,O){this.h=O;const D=[];let U=!0;for(let j=R.length-1;j>=0;j--){const z=R[j]|0;U&&z==O||(D[j]=z,U=!1)}this.g=D}var c={};function h(R){return-128<=R&&R<128?o(R,function(O){return new l([O|0],O<0?-1:0)}):new l([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return y;if(R<0)return T(d(-R));const O=[];let D=1;for(let U=0;R>=D;U++)O[U]=R/D|0,D*=4294967296;return new l(O,0)}function m(R,O){if(R.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(R.charAt(0)=="-")return T(m(R.substring(1),O));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(O,8));let U=y;for(let z=0;z<R.length;z+=8){var j=Math.min(8,R.length-z);const V=parseInt(R.substring(z,z+j),O);j<8?(j=d(Math.pow(O,j)),U=U.j(j).add(d(V))):(U=U.j(D),U=U.add(d(V)))}return U}var y=h(0),b=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-T(this).m();let R=0,O=1;for(let D=0;D<this.g.length;D++){const U=this.i(D);R+=(U>=0?U:4294967296+U)*O,O*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(E(this))return"0";if(S(this))return"-"+T(this).toString(R);const O=d(Math.pow(R,6));var D=this;let U="";for(;;){const j=B(D,O).g;D=I(D,j.j(O));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=j,E(D))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function E(R){if(R.h!=0)return!1;for(let O=0;O<R.g.length;O++)if(R.g[O]!=0)return!1;return!0}function S(R){return R.h==-1}t.l=function(R){return R=I(this,R),S(R)?-1:E(R)?0:1};function T(R){const O=R.g.length,D=[];for(let U=0;U<O;U++)D[U]=~R.g[U];return new l(D,~R.h).add(b)}t.abs=function(){return S(this)?T(this):this},t.add=function(R){const O=Math.max(this.g.length,R.g.length),D=[];let U=0;for(let j=0;j<=O;j++){let z=U+(this.i(j)&65535)+(R.i(j)&65535),V=(z>>>16)+(this.i(j)>>>16)+(R.i(j)>>>16);U=V>>>16,z&=65535,V&=65535,D[j]=V<<16|z}return new l(D,D[D.length-1]&-2147483648?-1:0)};function I(R,O){return R.add(T(O))}t.j=function(R){if(E(this)||E(R))return y;if(S(this))return S(R)?T(this).j(T(R)):T(T(this).j(R));if(S(R))return T(this.j(T(R)));if(this.l(_)<0&&R.l(_)<0)return d(this.m()*R.m());const O=this.g.length+R.g.length,D=[];for(var U=0;U<2*O;U++)D[U]=0;for(U=0;U<this.g.length;U++)for(let j=0;j<R.g.length;j++){const z=this.i(U)>>>16,V=this.i(U)&65535,pe=R.i(j)>>>16,ye=R.i(j)&65535;D[2*U+2*j]+=V*ye,M(D,2*U+2*j),D[2*U+2*j+1]+=z*ye,M(D,2*U+2*j+1),D[2*U+2*j+1]+=V*pe,M(D,2*U+2*j+1),D[2*U+2*j+2]+=z*pe,M(D,2*U+2*j+2)}for(R=0;R<O;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=O;R<2*O;R++)D[R]=0;return new l(D,0)};function M(R,O){for(;(R[O]&65535)!=R[O];)R[O+1]+=R[O]>>>16,R[O]&=65535,O++}function L(R,O){this.g=R,this.h=O}function B(R,O){if(E(O))throw Error("division by zero");if(E(R))return new L(y,y);if(S(R))return O=B(T(R),O),new L(T(O.g),T(O.h));if(S(O))return O=B(R,T(O)),new L(T(O.g),O.h);if(R.g.length>30){if(S(R)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var D=b,U=O;U.l(R)<=0;)D=F(D),U=F(U);var j=$(D,1),z=$(U,1);for(U=$(U,2),D=$(D,2);!E(U);){var V=z.add(U);V.l(R)<=0&&(j=j.add(D),z=V),U=$(U,1),D=$(D,1)}return O=I(R,j.j(O)),new L(j,O)}for(j=y;R.l(O)>=0;){for(D=Math.max(1,Math.floor(R.m()/O.m())),U=Math.ceil(Math.log(D)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=d(D),V=z.j(O);S(V)||V.l(R)>0;)D-=U,z=d(D),V=z.j(O);E(z)&&(z=b),j=j.add(z),R=I(R,V)}return new L(j,R)}t.B=function(R){return B(this,R).h},t.and=function(R){const O=Math.max(this.g.length,R.g.length),D=[];for(let U=0;U<O;U++)D[U]=this.i(U)&R.i(U);return new l(D,this.h&R.h)},t.or=function(R){const O=Math.max(this.g.length,R.g.length),D=[];for(let U=0;U<O;U++)D[U]=this.i(U)|R.i(U);return new l(D,this.h|R.h)},t.xor=function(R){const O=Math.max(this.g.length,R.g.length),D=[];for(let U=0;U<O;U++)D[U]=this.i(U)^R.i(U);return new l(D,this.h^R.h)};function F(R){const O=R.g.length+1,D=[];for(let U=0;U<O;U++)D[U]=R.i(U)<<1|R.i(U-1)>>>31;return new l(D,R.h)}function $(R,O){const D=O>>5;O%=32;const U=R.g.length-D,j=[];for(let z=0;z<U;z++)j[z]=O>0?R.i(z+D)>>>O|R.i(z+D+1)<<32-O:R.i(z+D);return new l(j,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,KO=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Bs=l}).apply(typeof AA<"u"?AA:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GO,ff,YO,am,nb,WO,XO,QO;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var w=0;w<g.length;++w){var A=g[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function a(g,w){if(w)e:{var A=r;g=g.split(".");for(var P=0;P<g.length-1;P++){var W=g[P];if(!(W in A))break e;A=A[W]}g=g[g.length-1],P=A[g],w=w(P),w!=P&&w!=null&&e(A,g,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(w){var A=[],P;for(P in w)Object.prototype.hasOwnProperty.call(w,P)&&A.push([P,w[P]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function h(g,w,A){return g.call.apply(g.bind,arguments)}function d(g,w,A){return d=h,d.apply(null,arguments)}function m(g,w){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),g.apply(this,P)}}function y(g,w){function A(){}A.prototype=w.prototype,g.Z=w.prototype,g.prototype=new A,g.prototype.constructor=g,g.Ob=function(P,W,ee){for(var fe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)fe[$e-2]=arguments[$e];return w.prototype[W].apply(P,fe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const w=g.length;if(w>0){const A=Array(w);for(let P=0;P<w;P++)A[P]=g[P];return A}return[]}function E(g,w){for(let P=1;P<arguments.length;P++){const W=arguments[P];var A=typeof W;if(A=A!="object"?A:W?Array.isArray(W)?"array":A:"null",A=="array"||A=="object"&&typeof W.length=="number"){A=g.length||0;const ee=W.length||0;g.length=A+ee;for(let fe=0;fe<ee;fe++)g[A+fe]=W[fe]}else g.push(W)}}class S{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(g){l.setTimeout(()=>{throw g},0)}function I(){var g=R;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class M{constructor(){this.h=this.g=null}add(w,A){const P=L.get();P.set(w,A),this.h?this.h.next=P:this.g=P,this.h=P}}var L=new S(()=>new B,g=>g.reset());class B{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let F,$=!1,R=new M,O=()=>{const g=Promise.resolve(void 0);F=()=>{g.then(D)}};function D(){for(var g;g=I();){try{g.h.call(g.g)}catch(A){T(A)}var w=L;w.j(g),w.h<100&&(w.h++,g.next=w.g,w.g=g)}$=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};l.addEventListener("test",A,w),l.removeEventListener("test",A,w)}catch{}return g})();function V(g){return/^[\s\xa0]*$/.test(g)}function pe(g,w){j.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,w)}y(pe,j),pe.prototype.init=function(g,w){const A=this.type=g.type,P=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget,w||(A=="mouseover"?w=g.fromElement:A=="mouseout"&&(w=g.toElement)),this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ue(g,w,A,P,W){this.listener=g,this.proxy=null,this.src=w,this.type=A,this.capture=!!P,this.ha=W,this.key=++Z,this.da=this.fa=!1}function me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ee(g,w,A){for(const P in g)w.call(A,g[P],P,g)}function H(g,w){for(const A in g)w.call(void 0,g[A],A,g)}function ie(g){const w={};for(const A in g)w[A]=g[A];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(g,w){let A,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(A in P)g[A]=P[A];for(let ee=0;ee<ae.length;ee++)A=ae[ee],Object.prototype.hasOwnProperty.call(P,A)&&(g[A]=P[A])}}function we(g){this.src=g,this.g={},this.h=0}we.prototype.add=function(g,w,A,P,W){const ee=g.toString();g=this.g[ee],g||(g=this.g[ee]=[],this.h++);const fe=Ie(g,w,P,W);return fe>-1?(w=g[fe],A||(w.fa=!1)):(w=new ue(w,this.src,ee,!!P,W),w.fa=A,g.push(w)),w};function Ne(g,w){const A=w.type;if(A in g.g){var P=g.g[A],W=Array.prototype.indexOf.call(P,w,void 0),ee;(ee=W>=0)&&Array.prototype.splice.call(P,W,1),ee&&(me(w),g.g[A].length==0&&(delete g.g[A],g.h--))}}function Ie(g,w,A,P){for(let W=0;W<g.length;++W){const ee=g[W];if(!ee.da&&ee.listener==w&&ee.capture==!!A&&ee.ha==P)return W}return-1}var $t="closure_lm_"+(Math.random()*1e6|0),it={};function de(g,w,A,P,W){if(Array.isArray(w)){for(let ee=0;ee<w.length;ee++)de(g,w[ee],A,P,W);return null}return A=ci(A),g&&g[ye]?g.J(w,A,c(P)?!!P.capture:!1,W):Be(g,w,A,!1,P,W)}function Be(g,w,A,P,W,ee){if(!w)throw Error("Invalid event type");const fe=c(W)?!!W.capture:!!W;let $e=Yt(g);if($e||(g[$t]=$e=new we(g)),A=$e.add(w,A,P,fe,ee),A.proxy)return A;if(P=He(),A.proxy=P,P.src=g,P.listener=A,g.addEventListener)z||(W=fe),W===void 0&&(W=!1),g.addEventListener(w.toString(),P,W);else if(g.attachEvent)g.attachEvent(Ze(w.toString()),P);else if(g.addListener&&g.removeListener)g.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}function He(){function g(A){return w.call(g.src,g.listener,A)}const w=Ft;return g}function ce(g,w,A,P,W){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)ce(g,w[ee],A,P,W);else P=c(P)?!!P.capture:!!P,A=ci(A),g&&g[ye]?(g=g.i,ee=String(w).toString(),ee in g.g&&(w=g.g[ee],A=Ie(w,A,P,W),A>-1&&(me(w[A]),Array.prototype.splice.call(w,A,1),w.length==0&&(delete g.g[ee],g.h--)))):g&&(g=Yt(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Ie(w,A,P,W)),(A=g>-1?w[g]:null)&&Ot(A))}function Ot(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[ye])Ne(w.i,g);else{var A=g.type,P=g.proxy;w.removeEventListener?w.removeEventListener(A,P,g.capture):w.detachEvent?w.detachEvent(Ze(A),P):w.addListener&&w.removeListener&&w.removeListener(P),(A=Yt(w))?(Ne(A,g),A.h==0&&(A.src=null,w[$t]=null)):me(g)}}}function Ze(g){return g in it?it[g]:it[g]="on"+g}function Ft(g,w){if(g.da)g=!0;else{w=new pe(w,this);const A=g.listener,P=g.ha||g.src;g.fa&&Ot(g),g=A.call(P,w)}return g}function Yt(g){return g=g[$t],g instanceof we?g:null}var xt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ci(g){return typeof g=="function"?g:(g[xt]||(g[xt]=function(w){return g.handleEvent(w)}),g[xt])}function Vt(){U.call(this),this.i=new we(this),this.M=this,this.G=null}y(Vt,U),Vt.prototype[ye]=!0,Vt.prototype.removeEventListener=function(g,w,A,P){ce(this,g,w,A,P)};function _t(g,w){var A,P=g.G;if(P)for(A=[];P;P=P.G)A.push(P);if(g=g.M,P=w.type||w,typeof w=="string")w=new j(w,g);else if(w instanceof j)w.target=w.target||g;else{var W=w;w=new j(P,g),he(w,W)}W=!0;let ee,fe;if(A)for(fe=A.length-1;fe>=0;fe--)ee=w.g=A[fe],W=yr(ee,P,!0,w)&&W;if(ee=w.g=g,W=yr(ee,P,!0,w)&&W,W=yr(ee,P,!1,w)&&W,A)for(fe=0;fe<A.length;fe++)ee=w.g=A[fe],W=yr(ee,P,!1,w)&&W}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var g=this.i;for(const w in g.g){const A=g.g[w];for(let P=0;P<A.length;P++)me(A[P]);delete g.g[w],g.h--}}this.G=null},Vt.prototype.J=function(g,w,A,P){return this.i.add(String(g),w,!1,A,P)},Vt.prototype.K=function(g,w,A,P){return this.i.add(String(g),w,!0,A,P)};function yr(g,w,A,P){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let ee=0;ee<w.length;++ee){const fe=w[ee];if(fe&&!fe.da&&fe.capture==A){const $e=fe.listener,It=fe.ha||fe.src;fe.fa&&Ne(g.i,fe),W=$e.call(It,P)!==!1&&W}}return W&&!P.defaultPrevented}function Jn(g,w){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(g,w||0)}function ta(g){g.g=Jn(()=>{g.g=null,g.i&&(g.i=!1,ta(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class er extends U{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ta(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(g){U.call(this),this.h=g,this.g={}}y(na,U);var Lr=[];function cn(g){Ee(g.g,function(w,A){this.g.hasOwnProperty(A)&&Ot(w)},g),g.g={}}na.prototype.N=function(){na.Z.N.call(this),cn(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=l.JSON.stringify,gt=l.JSON.parse,Zu=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function vl(){}function bl(){}var wt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vr(){j.call(this,"d")}y(Vr,j);function vr(){j.call(this,"c")}y(vr,j);var Wt={},Ni=null;function Qa(){return Ni=Ni||new Vt}Wt.Ia="serverreachability";function fi(g){j.call(this,Wt.Ia,g)}y(fi,j);function Ii(g){const w=Qa();_t(w,new fi(w))}Wt.STAT_EVENT="statevent";function Za(g,w){j.call(this,Wt.STAT_EVENT,g),this.stat=w}y(Za,j);function Nt(g){const w=Qa();_t(w,new Za(w,g))}Wt.Ja="timingevent";function io(g,w){j.call(this,Wt.Ja,g),this.size=w}y(io,j);function hi(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},w)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function ge(g,w,A,P,W,ee){g.info(function(){if(g.g)if(ee){var fe="",$e=ee.split("&");for(let ft=0;ft<$e.length;ft++){var It=$e[ft].split("=");if(It.length>1){const Xt=It[0];It=It[1];const xr=Xt.split("_");fe=xr.length>=2&&xr[1]=="type"?fe+(Xt+"="+It+"&"):fe+(Xt+"=redacted&")}}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+w+`
`+A+`
`+fe})}function _e(g,w,A,P,W,ee,fe){g.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+w+`
`+A+`
`+ee+" "+fe})}function Se(g,w,A,P){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+je(g,A)+(P?" "+P:"")})}function ze(g,w){g.info(function(){return"TIMEOUT: "+w})}di.prototype.info=function(){};function je(g,w){if(!g.g)return w;if(!w)return null;try{const ee=JSON.parse(w);if(ee){for(g=0;g<ee.length;g++)if(Array.isArray(ee[g])){var A=ee[g];if(!(A.length<2)){var P=A[1];if(Array.isArray(P)&&!(P.length<1)){var W=P[0];if(W!="noop"&&W!="stop"&&W!="close")for(let fe=1;fe<P.length;fe++)P[fe]=""}}}}return _n(ee)}catch{return w}}var ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},lt;function wn(){}y(wn,vl),wn.prototype.g=function(){return new XMLHttpRequest},lt=new wn;function Et(g){return encodeURIComponent(String(g))}function fn(g){var w=1;g=g.split(":");const A=[];for(;w>0&&g.length;)A.push(g.shift()),w--;return g.length&&A.push(g.join(":")),A}function nn(g,w,A,P){this.j=g,this.i=w,this.l=A,this.S=P||1,this.V=new na(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mi}function mi(){this.i=null,this.g="",this.h=!1}var Ri={},Ur={};function ur(g,w,A){g.M=1,g.A=aa(Ut(w)),g.u=A,g.R=!0,br(g,null)}function br(g,w){g.F=Date.now(),gi(g),g.B=Ut(g.A);var A=g.B,P=g.S;Array.isArray(P)||(P=[String(P)]),xh(A.i,"t",P),g.C=0,A=g.j.L,g.h=new mi,g.g=Ol(g.j,A?w:null,!g.u),g.P>0&&(g.O=new er(d(g.Y,g,g.g),g.P)),w=g.V,A=g.g,P=g.ba;var W="readystatechange";Array.isArray(W)||(W&&(Lr[0]=W.toString()),W=Lr);for(let ee=0;ee<W.length;ee++){const fe=de(A,W[ee],P||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=g.J?ie(g.J):{},g.u?(g.v||(g.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,w)):(g.v="GET",g.g.ea(g.B,g.v,null,w)),Ii(),ge(g.i,g.v,g.B,g.l,g.S,g.u)}nn.prototype.ba=function(g){g=g.target;const w=this.O;w&&$n(g)==3?w.j():this.Y(g)},nn.prototype.Y=function(g){try{if(g==this.g)e:{const $e=$n(this.g),It=this.g.ya(),ft=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||go(this.g)))){this.K||$e!=4||It==7||(It==8||ft<=0?Ii(3):Ii(2)),qr(this);var w=this.g.ca();this.X=w;var A=zr(this);if(this.o=w==200,_e(this.i,this.v,this.B,this.l,this.S,$e,w),this.o){if(this.U&&!this.L){t:{if(this.g){var P,W=this.g;if((P=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(P)){var ee=P;break t}}ee=null}if(g=ee)Se(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hn(this,g);else{this.o=!1,this.m=3,Nt(12),at(this),ra(this);break e}}if(this.R){g=!0;let Xt;for(;!this.K&&this.C<A.length;)if(Xt=xl(this,A),Xt==Ur){$e==4&&(this.m=4,Nt(14),g=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Ri){this.m=4,Nt(15),Se(this.i,this.l,A,"[Invalid Chunk]"),g=!1;break}else Se(this.i,this.l,Xt,null),hn(this,Xt);if(Mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||A.length!=0||this.h.h||(this.m=1,Nt(16),g=!1),this.o=this.o&&g,!g)Se(this.i,this.l,A,"[Invalid Chunked Response]"),at(this),ra(this);else if(A.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),lc(fe),fe.P=!0,Nt(11))}}else Se(this.i,this.l,A,null),hn(this,A);$e==4&&at(this),this.o&&!this.K&&($e==4?uc(this.j,this):(this.o=!1,gi(this)))}else po(this.g),w==400&&A.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),at(this),ra(this)}}}catch{}finally{}};function zr(g){if(!Mt(g))return g.g.la();const w=go(g.g);if(w==="")return"";let A="";const P=w.length,W=$n(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return at(g),ra(g),"";g.h.i=new l.TextDecoder}for(let ee=0;ee<P;ee++)g.h.h=!0,A+=g.h.i.decode(w[ee],{stream:!(W&&ee==P-1)});return w.length=0,g.h.g+=A,g.C=0,g.h.g}function Mt(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function xl(g,w){var A=g.C,P=w.indexOf(`
`,A);return P==-1?Ur:(A=Number(w.substring(A,P)),isNaN(A)?Ri:(P+=1,P+A>w.length?Ur:(w=w.slice(P,P+A),g.C=P+A,w)))}nn.prototype.cancel=function(){this.K=!0,at(this)};function gi(g){g.T=Date.now()+g.H,Br(g,g.H)}function Br(g,w){if(g.D!=null)throw Error("WatchDog timer not null");g.D=hi(d(g.aa,g),w)}function qr(g){g.D&&(l.clearTimeout(g.D),g.D=null)}nn.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(ze(this.i,this.B),this.M!=2&&(Ii(),Nt(17)),at(this),this.m=2,ra(this)):Br(this,this.T-g)};function ra(g){g.j.I==0||g.K||uc(g.j,g)}function at(g){qr(g);var w=g.O;w&&typeof w.dispose=="function"&&w.dispose(),g.O=null,cn(g.V),g.g&&(w=g.g,g.g=null,w.abort(),w.dispose())}function hn(g,w){try{var A=g.j;if(A.I!=0&&(A.g==g||oo(A.h,g))){if(!g.L&&oo(A.h,g)&&A.I==3){try{var P=A.Ba.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<g.F)Cl(A),Di(A);else break e;oc(A),Nt(18)}}else A.xa=W[1],0<A.xa-A.K&&W[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=hi(d(A.Va,A),6e3));$r(A.h)<=1&&A.ta&&(A.ta=void 0)}else la(A,11)}else if((g.L||A.g==g)&&Cl(A),!V(w))for(W=A.Ba.g.parse(w),w=0;w<W.length;w++){let ft=W[w];const Xt=ft[0];if(!(Xt<=A.K))if(A.K=Xt,ft=ft[1],A.I==2)if(ft[0]=="c"){A.M=ft[1],A.ba=ft[2];const xr=ft[3];xr!=null&&(A.ka=xr,A.j.info("VER="+A.ka));const Pi=ft[4];Pi!=null&&(A.za=Pi,A.j.info("SVER="+A.za));const vi=ft[5];vi!=null&&typeof vi=="number"&&vi>0&&(P=1.5*vi,A.O=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const bi=g.g;if(bi){const xi=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var ee=P.h;ee.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(_l(ee,ee.h),ee.h=null))}if(P.G){const fc=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;fc&&(P.wa=fc,pt(P.J,P.G,fc))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-g.F,A.j.info("Handshake RTT: "+A.T+"ms")),P=A;var fe=g;if(P.na=Oh(P,P.L?P.ba:null,P.W),fe.L){ia(P.h,fe);var $e=fe,It=P.O;It&&($e.H=It),$e.D&&(qr($e),gi($e)),P.g=fe}else Ah(P);A.i.length>0&&xo(A)}else ft[0]!="stop"&&ft[0]!="close"||la(A,7);else A.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?la(A,7):vo(A):ft[0]!="noop"&&A.l&&A.l.qa(ft),A.A=0)}}Ii(4)}catch{}}var fp=class{constructor(g,w){this.g=g,this.map=w}};function ao(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function so(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function $r(g){return g.h?1:g.g?g.g.size:0}function oo(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function _l(g,w){g.g?g.g.add(w):g.h=w}function ia(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}ao.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function wl(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const A of g.g.values())w=w.concat(A.G);return w}return _(g.i)}var El=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hp(g,w){if(g){g=g.split("&");for(let A=0;A<g.length;A++){const P=g[A].indexOf("=");let W,ee=null;P>=0?(W=g[A].substring(0,P),ee=g[A].substring(P+1)):W=g[A],w(W,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function pi(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;g instanceof pi?(this.l=g.l,Ja(this,g.j),this.o=g.o,this.g=g.g,lo(this,g.u),this.h=g.h,es(this,_h(g.i)),this.m=g.m):g&&(w=String(g).match(El))?(this.l=!1,Ja(this,w[1]||"",!0),this.o=uo(w[2]||""),this.g=uo(w[3]||"",!0),lo(this,w[4]),this.h=uo(w[5]||"",!0),es(this,w[6]||"",!0),this.m=uo(w[7]||"")):(this.l=!1,this.i=new Fr(null,this.l))}pi.prototype.toString=function(){const g=[];var w=this.j;w&&g.push(En(w,ec,!0),":");var A=this.g;return(A||w=="file")&&(g.push("//"),(w=this.o)&&g.push(En(w,ec,!0),"@"),g.push(Et(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&g.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(En(A,A.charAt(0)=="/"?ts:tc,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",En(A,bh)),g.join("")},pi.prototype.resolve=function(g){const w=Ut(this);let A=!!g.j;A?Ja(w,g.j):A=!!g.o,A?w.o=g.o:A=!!g.g,A?w.g=g.g:A=g.u!=null;var P=g.h;if(A)lo(w,g.u);else if(A=!!g.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var W=w.h.lastIndexOf("/");W!=-1&&(P=w.h.slice(0,W+1)+P)}if(W=P,W==".."||W==".")P="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){P=W.lastIndexOf("/",0)==0,W=W.split("/");const ee=[];for(let fe=0;fe<W.length;){const $e=W[fe++];$e=="."?P&&fe==W.length&&ee.push(""):$e==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),P&&fe==W.length&&ee.push("")):(ee.push($e),P=!0)}P=ee.join("/")}else P=W}return A?w.h=P:A=g.i.toString()!=="",A?es(w,_h(g.i)):A=!!g.m,A&&(w.m=g.m),w};function Ut(g){return new pi(g)}function Ja(g,w,A){g.j=A?uo(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function lo(g,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);g.u=w}else g.u=null}function es(g,w,A){w instanceof Fr?(g.i=w,ic(g.i,g.l)):(A||(w=En(w,vh)),g.i=new Fr(w,g.l))}function pt(g,w,A){g.i.set(w,A)}function aa(g){return pt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function uo(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function En(g,w,A){return typeof g=="string"?(g=encodeURI(g).replace(w,Ju),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ju(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var ec=/[#\/\?@]/g,tc=/[#\?:]/g,ts=/[#\?]/g,vh=/[#\?@]/g,bh=/#/g;function Fr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function sa(g){g.g||(g.g=new Map,g.h=0,g.i&&hp(g.i,function(w,A){g.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=Fr.prototype,t.add=function(g,w){sa(this),this.i=null,g=yi(this,g);let A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(w),this.h+=1,this};function nc(g,w){sa(g),w=yi(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function rc(g,w){return sa(g),w=yi(g,w),g.g.has(w)}t.forEach=function(g,w){sa(this),this.g.forEach(function(A,P){A.forEach(function(W){g.call(w,W,P,this)},this)},this)};function Tl(g,w){sa(g);let A=[];if(typeof w=="string")rc(g,w)&&(A=A.concat(g.g.get(yi(g,w))));else for(g=Array.from(g.g.values()),w=0;w<g.length;w++)A=A.concat(g[w]);return A}t.set=function(g,w){return sa(this),this.i=null,g=yi(this,g),rc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=Tl(this,g),g.length>0?String(g[0]):w):w};function xh(g,w,A){nc(g,w),A.length>0&&(g.i=null,g.g.set(yi(g,w),_(A)),g.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(let P=0;P<w.length;P++){var A=w[P];const W=Et(A);A=Tl(this,A);for(let ee=0;ee<A.length;ee++){let fe=W;A[ee]!==""&&(fe+="="+Et(A[ee])),g.push(fe)}}return this.i=g.join("&")};function _h(g){const w=new Fr;return w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),w}function yi(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function ic(g,w){w&&!g.j&&(sa(g),g.i=null,g.g.forEach(function(A,P){const W=P.toLowerCase();P!=W&&(nc(this,P),xh(this,W,A))},g)),g.j=w}function ac(g,w){const A=new di;if(l.Image){const P=new Image;P.onload=m(tr,A,"TestLoadImage: loaded",!0,w,P),P.onerror=m(tr,A,"TestLoadImage: error",!1,w,P),P.onabort=m(tr,A,"TestLoadImage: abort",!1,w,P),P.ontimeout=m(tr,A,"TestLoadImage: timeout",!1,w,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=g}else w(!1)}function ns(g,w){const A=new di,P=new AbortController,W=setTimeout(()=>{P.abort(),tr(A,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:P.signal}).then(ee=>{clearTimeout(W),ee.ok?tr(A,"TestPingServer: ok",!0,w):tr(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),tr(A,"TestPingServer: error",!1,w)})}function tr(g,w,A,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(A)}catch{}}function wh(){this.g=new Zu}function co(g){this.i=g.Sb||null,this.h=g.ab||!1}y(co,vl),co.prototype.g=function(){return new fo(this.i,this.h)};function fo(g,w){Vt.call(this),this.H=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(fo,Vt),t=fo.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=w,this.readyState=1,oa(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(w.body=g),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rs(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function rs(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?nr(this):oa(this),this.readyState==3&&rs(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,nr(this))},t.Na=function(g){this.g&&(this.response=g,nr(this))},t.ga=function(){this.g&&nr(this)};function nr(g){g.readyState=4,g.l=null,g.j=null,g.B=null,oa(g)}t.setRequestHeader=function(g,w){this.A.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=w.next();return g.join(`\r
`)};function oa(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function is(g){let w="";return Ee(g,function(A,P){w+=P,w+=":",w+=A,w+=`\r
`}),w}function Hr(g,w,A){e:{for(P in A){var P=!1;break e}P=!0}P||(A=is(A),typeof g=="string"?A!=null&&Et(A):pt(g,w,A))}function St(g){Vt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(St,Vt);var Al=/^https?$/i,Eh=["POST","PUT"];t=St.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,w,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lt.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ee){ho(this,ee);return}if(g=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)A.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ee of P.keys())A.set(ee,P.get(ee));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(ee=>ee.toLowerCase()=="content-type"),W=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Eh,w,void 0)>=0)||P||W||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of A)this.g.setRequestHeader(ee,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ee){ho(this,ee)}};function ho(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.o=5,mo(g),dn(g)}function mo(g){g.A||(g.A=!0,_t(g,"complete"),_t(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,_t(this,"complete"),_t(this,"abort"),dn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),St.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sc(this):this.Xa())},t.Xa=function(){sc(this)};function sc(g){if(g.h&&typeof o<"u"){if(g.v&&$n(g)==4)setTimeout(g.Ca.bind(g),0);else if(_t(g,"readystatechange"),$n(g)==4){g.h=!1;try{const ee=g.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var P;if(P=ee===0){let fe=String(g.D).match(El)[1]||null;!fe&&l.self&&l.self.location&&(fe=l.self.location.protocol.slice(0,-1)),P=!Al.test(fe?fe.toLowerCase():"")}A=P}if(A)_t(g,"complete"),_t(g,"success");else{g.o=6;try{var W=$n(g)>2?g.g.statusText:""}catch{W=""}g.l=W+" ["+g.ca()+"]",mo(g)}}finally{dn(g)}}}}function dn(g,w){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const A=g.g;g.g=null,w||_t(g,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $n(g){return g.g?g.g.readyState:0}t.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),gt(w)}};function go(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function po(g){const w={};g=(g.g&&$n(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<g.length;P++){if(V(g[P]))continue;var A=fn(g[P]);const W=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ee=w[W]||[];w[W]=ee,ee.push(A)}H(w,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yo(g,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||w}function Sl(g){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yo("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yo("baseRetryDelayMs",5e3,g),this.Za=yo("retryDelaySeedMs",1e4,g),this.Ta=yo("forwardChannelMaxRetries",2,g),this.va=yo("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new ao(g&&g.concurrentRequestLimit),this.Ba=new wh,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Sl.prototype,t.ka=8,t.I=1,t.connect=function(g,w,A,P){Nt(0),this.W=g,this.H=w||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.J=Oh(this,null,this.W),xo(this)};function vo(g){if(bo(g),g.I==3){var w=g.V++,A=Ut(g.J);if(pt(A,"SID",g.M),pt(A,"RID",w),pt(A,"TYPE","terminate"),_o(g,A),w=new nn(g,g.j,w),w.M=2,w.A=aa(Ut(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!A&&l.Image&&(new Image().src=w.A,A=!0),A||(w.g=Ol(w.j,null),w.g.ea(w.A)),w.F=Date.now(),gi(w)}Ch(g)}function Di(g){g.g&&(lc(g),g.g.cancel(),g.g=null)}function bo(g){Di(g),g.v&&(l.clearTimeout(g.v),g.v=null),Cl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function xo(g){if(!so(g.h)&&!g.m){g.m=!0;var w=g.Ea;F||O(),$||(F(),$=!0),R.add(w,g),g.D=0}}function dp(g,w){return $r(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=w.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=hi(d(g.Ea,g,w),kh(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const W=new nn(this,this.j,g);let ee=this.o;if(this.U&&(ee?(ee=ie(ee),he(ee,this.U)):ee=this.U),this.u!==null||this.R||(W.J=ee,ee=null),this.S)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(w+=P,w>4096){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=kl(this,W,w),A=Ut(this.J),pt(A,"RID",g),pt(A,"CVER",22),this.G&&pt(A,"X-HTTP-Session-Id",this.G),_o(this,A),ee&&(this.R?w="headers="+Et(is(ee))+"&"+w:this.u&&Hr(A,this.u,ee)),_l(this.h,W),this.Ra&&pt(A,"TYPE","init"),this.S?(pt(A,"$req",w),pt(A,"SID","null"),W.U=!0,ur(W,A,null)):ur(W,A,w),this.I=2}}else this.I==3&&(g?Th(this,g):this.i.length==0||so(this.h)||Th(this))};function Th(g,w){var A;w?A=w.l:A=g.V++;const P=Ut(g.J);pt(P,"SID",g.M),pt(P,"RID",A),pt(P,"AID",g.K),_o(g,P),g.u&&g.o&&Hr(P,g.u,g.o),A=new nn(g,g.j,A,g.D+1),g.u===null&&(A.J=g.o),w&&(g.i=w.G.concat(g.i)),w=kl(g,A,1e3),A.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),_l(g.h,A),ur(A,P,w)}function _o(g,w){g.H&&Ee(g.H,function(A,P){pt(w,P,A)}),g.l&&Ee({},function(A,P){pt(w,P,A)})}function kl(g,w,A){A=Math.min(g.i.length,A);const P=g.l?d(g.l.Ka,g.l,g):null;e:{var W=g.i;let $e=-1;for(;;){const It=["count="+A];$e==-1?A>0?($e=W[0].g,It.push("ofs="+$e)):$e=0:It.push("ofs="+$e);let ft=!0;for(let Xt=0;Xt<A;Xt++){var ee=W[Xt].g;const xr=W[Xt].map;if(ee-=$e,ee<0)$e=Math.max(0,W[Xt].g-100),ft=!1;else try{ee="req"+ee+"_"||"";try{var fe=xr instanceof Map?xr:Object.entries(xr);for(const[Pi,vi]of fe){let bi=vi;c(vi)&&(bi=_n(vi)),It.push(ee+Pi+"="+encodeURIComponent(bi))}}catch(Pi){throw It.push(ee+"type="+encodeURIComponent("_badmap")),Pi}}catch{P&&P(xr)}}if(ft){fe=It.join("&");break e}}fe=void 0}return g=g.i.splice(0,A),w.G=g,fe}function Ah(g){if(!g.g&&!g.v){g.Y=1;var w=g.Da;F||O(),$||(F(),$=!0),R.add(w,g),g.A=0}}function oc(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=hi(d(g.Da,g),kh(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=hi(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Di(this),Sh(this))};function lc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Sh(g){g.g=new nn(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var w=Ut(g.na);pt(w,"RID","rpc"),pt(w,"SID",g.M),pt(w,"AID",g.K),pt(w,"CI",g.F?"0":"1"),!g.F&&g.ia&&pt(w,"TO",g.ia),pt(w,"TYPE","xmlhttp"),_o(g,w),g.u&&g.o&&Hr(w,g.u,g.o),g.O&&(g.g.H=g.O);var A=g.g;g=g.ba,A.M=1,A.A=aa(Ut(w)),A.u=null,A.R=!0,br(A,g)}t.Va=function(){this.C!=null&&(this.C=null,Di(this),oc(this),Nt(19))};function Cl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function uc(g,w){var A=null;if(g.g==w){Cl(g),lc(g),g.g=null;var P=2}else if(oo(g.h,w))A=w.G,ia(g.h,w),P=1;else return;if(g.I!=0){if(w.o)if(P==1){A=w.u?w.u.length:0,w=Date.now()-w.F;var W=g.D;P=Qa(),_t(P,new io(P,A)),xo(g)}else Ah(g);else if(W=w.m,W==3||W==0&&w.X>0||!(P==1&&dp(g,w)||P==2&&oc(g)))switch(A&&A.length>0&&(w=g.h,w.i=w.i.concat(A)),W){case 1:la(g,5);break;case 4:la(g,10);break;case 3:la(g,6);break;default:la(g,2)}}}function kh(g,w){let A=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(A*=2),A*w}function la(g,w){if(g.j.info("Error code "+w),w==2){var A=d(g.bb,g),P=g.Ua;const W=!P;P=new pi(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ja(P,"https"),aa(P),W?ac(P.toString(),A):ns(P.toString(),A)}else Nt(2);g.I=0,g.l&&g.l.pa(w),Ch(g),bo(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Ch(g){if(g.I=0,g.ja=[],g.l){const w=wl(g.h);(w.length!=0||g.i.length!=0)&&(E(g.ja,w),E(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Oh(g,w,A){var P=A instanceof pi?Ut(A):new pi(A);if(P.g!="")w&&(P.g=w+"."+P.g),lo(P,P.u);else{var W=l.location;P=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const ee=new pi(null);P&&Ja(ee,P),w&&(ee.g=w),W&&lo(ee,W),A&&(ee.h=A),P=ee}return A=g.G,w=g.wa,A&&w&&pt(P,A,w),pt(P,"VER",g.ka),_o(g,P),P}function Ol(g,w,A){if(w&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Aa&&!g.ma?new St(new co({ab:A})):new St(g.ma),w.Fa(g.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nh(){}t=Nh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Nl(){}Nl.prototype.g=function(g,w){return new rr(g,w)};function rr(g,w){Vt.call(this),this.g=new Sl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(g?g["X-WebChannel-Client-Profile"]=w.sa:g={"X-WebChannel-Client-Profile":w.sa}),this.g.U=g,(g=w&&w.Qb)&&!V(g)&&(this.g.u=g),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new as(this)}y(rr,Vt),rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){vo(this.g)},rr.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.v&&(A={},A.__data__=_n(g),g=A);w.i.push(new fp(w.Ya++,g)),w.I==3&&xo(w)},rr.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,rr.Z.N.call(this)};function cc(g){Vr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const A in w){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}y(cc,Vr);function Ih(){vr.call(this),this.status=1}y(Ih,vr);function as(g){this.g=g}y(as,Nh),as.prototype.ra=function(){_t(this.g,"a")},as.prototype.qa=function(g){_t(this.g,new cc(g))},as.prototype.pa=function(g){_t(this.g,new Ih)},as.prototype.oa=function(){_t(this.g,"b")},Nl.prototype.createWebChannel=Nl.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,QO=function(){return new Nl},XO=function(){return Qa()},WO=Wt,nb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,am=ke,Ce.COMPLETE="complete",YO=Ce,bl.EventType=wt,wt.OPEN="a",wt.CLOSE="b",wt.ERROR="c",wt.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,ff=bl,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,GO=St}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});const SA="@firebase/firestore",kA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new ox("@firebase/firestore");function su(){return rl.logLevel}function ve(t,...e){if(rl.logLevel<=Je.DEBUG){const n=e.map(vx);rl.debug(`Firestore (${Vu}): ${t}`,...n)}}function ja(t,...e){if(rl.logLevel<=Je.ERROR){const n=e.map(vx);rl.error(`Firestore (${Vu}): ${t}`,...n)}}function xu(t,...e){if(rl.logLevel<=Je.WARN){const n=e.map(vx);rl.warn(`Firestore (${Vu}): ${t}`,...n)}}function vx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZO(t,r,n)}function ZO(t,e,n){let r=`FIRESTORE (${Vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ja(r),new Error(r)}function ct(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||ZO(e,a,r)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends $a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yn.UNAUTHENTICATED)))}shutdown(){}}class zV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BV{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qs,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},c=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new JO(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class qV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $V{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=HV(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function rb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return yv(a)===yv(o)?et(a,o):yv(a)?1:-1}return et(t.length,e.length)}const KV=55296,GV=57343;function yv(t){const e=t.charCodeAt(0);return e>=KV&&e<=GV}function _u(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="__name__";class Bi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Bi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return et(e.length,n.length)}static compareSegments(e,n){const r=Bi.isNumericId(e),a=Bi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Bi.extractNumericId(e).compare(Bi.extractNumericId(n)):rb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class Bt extends Bi{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Bt(n)}static emptyPath(){return new Bt([])}}const YV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends Bi{construct(e,n,r){return new Vn(e,n,r)}static isValidIdentifier(e){return YV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OA}static keyField(){return new Vn([OA])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Ae(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Ae(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ae(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(r+=c,a++):(o(),a++)}if(o(),l)throw new Ae(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Bt.fromString(e))}static fromName(e){return new De(Bt.fromString(e).popFirst(5))}static empty(){return new De(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t,e,n){if(!n)throw new Ae(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XV(t,e,n,r){if(e===!0&&r===!0)throw new Ae(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NA(t){if(!De.isDocumentKey(t))throw new Ae(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Of(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xx(t);throw new Ae(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function eh(t,e){if(!eN(t))throw new Ae(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ae(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=-62135596800,RA=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RA);return new Dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IA)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RA}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eh(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:on("string",Dt._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Dt(0,0))}static max(){return new qe(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=-1;function QV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new Hs(a,De.empty(),e)}function ZV(t){return new Hs(t.readTime,t.key,Nf)}class Hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hs(qe.min(),De.empty(),Nf)}static max(){return new Hs(qe.max(),De.empty(),Nf)}}function JV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==e5)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let a=0,o=0,l=!1;e.forEach((c=>{++a,c.next((()=>{++o,l&&o===a&&n()}),(h=>r(h)))})),l=!0,o===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((a=>a?oe.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,a)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const d=h;n(e[d]).next((m=>{l[d]=m,++c,c===o&&r(l)}),(m=>a(m)))}}))}static doWhile(e,n){return new oe(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function n5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=-1;function Tg(t){return t==null}function wm(t){return t===0&&1/t==-1/0}function r5(t){return typeof t=="number"&&Number.isInteger(t)&&!wm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="";function i5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DA(e)),e=a5(t.get(n),e);return DA(e)}function a5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case tN:n+="";break;default:n+=o}}return n}function DA(t){return t+tN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??jn.RED,this.left=a??jn.EMPTY,this.right=o??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new jn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return jn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MA(this.data.getIterator())}getIteratorFrom(e){return new MA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new vn(this.comparator);return n.data=e,n}}class MA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new vn(Vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rN("Invalid base64 string: "+o):o}})(e);return new Bn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o})(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const s5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=s5.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gs(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="server_timestamp",aN="__type__",sN="__previous_value__",oN="__local_write_time__";function wx(t){return(t?.mapValue?.fields||{})[aN]?.stringValue===iN}function Ag(t){const e=t.mapValue.fields[sN];return wx(e)?Ag(e):e}function If(t){const e=Ks(t.mapValue.fields[oN].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,a,o,l,c,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Em="(default)";class Rf{constructor(e,n){this.projectId=e,this.database=n||Em}static empty(){return new Rf("","")}get isDefaultDatabase(){return this.database===Em}isEqual(e){return e instanceof Rf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="__type__",l5="__max__",Md={mapValue:{}},uN="__vector__",Tm="value";function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wx(t)?4:c5(t)?9007199254740991:u5(t)?10:11:Ve(28295,{value:t})}function Qi(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return If(t).isEqual(If(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=Ks(a.timestampValue),c=Ks(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Gs(a.bytesValue).isEqual(Gs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return en(a.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(a.geoPointValue.longitude)===en(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return en(a.integerValue)===en(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=en(a.doubleValue),c=en(o.doubleValue);return l===c?wm(l)===wm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return _u(t.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(a,o){const l=a.mapValue.fields||{},c=o.mapValue.fields||{};if(PA(l)!==PA(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Qi(l[h],c[h])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function Df(t,e){return(t.values||[]).find((n=>Qi(n,e)))!==void 0}function wu(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=en(o.integerValue||o.doubleValue),h=en(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return jA(t.timestampValue,e.timestampValue);case 4:return jA(If(t),If(e));case 5:return rb(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=Gs(o),h=Gs(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=et(c[d],h[d]);if(m!==0)return m}return et(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=et(en(o.latitude),en(l.latitude));return c!==0?c:et(en(o.longitude),en(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return LA(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},h=l.fields||{},d=c[Tm]?.arrayValue,m=h[Tm]?.arrayValue,y=et(d?.values?.length||0,m?.values?.length||0);return y!==0?y:LA(d,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Md.mapValue&&l===Md.mapValue)return 0;if(o===Md.mapValue)return 1;if(l===Md.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const b=rb(h[y],m[y]);if(b!==0)return b;const _=wu(c[h[y]],d[m[y]]);if(_!==0)return _}return et(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function jA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Ks(t),r=Ks(e),a=et(n.seconds,r.seconds);return a!==0?a:et(n.nanos,r.nanos)}function LA(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=wu(n[a],r[a]);if(o)return o}return et(n.length,r.length)}function Eu(t){return ib(t)}function ib(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Gs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=ib(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${ib(n.fields[l])}`;return a+"}"})(t.mapValue):Ve(61005,{value:t})}function sm(t){switch(Ys(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ag(t);return e?16+sm(e):16;case 5:return 2*t.stringValue.length;case 6:return Gs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+sm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return cl(r.fields,((o,l)=>{a+=o.length+sm(l)})),a})(t.mapValue);default:throw Ve(13486,{value:t})}}function ab(t){return!!t&&"integerValue"in t}function Ex(t){return!!t&&"arrayValue"in t}function VA(t){return!!t&&"nullValue"in t}function UA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function om(t){return!!t&&"mapValue"in t}function u5(t){return(t?.mapValue?.fields||{})[lN]?.stringValue===uN}function bf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return cl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=bf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bf(t.arrayValue.values[n]);return e}return{...t}}function c5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===l5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!om(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bf(n)}setAll(e){let n=Vn.emptyPath(),r={},a=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=c.popLast()}l?r[c.lastSegment()]=bf(l):a.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());om(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];om(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){cl(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new ti(bf(this.value))}}function cN(t){const e=[];return cl(t.fields,((n,r)=>{const a=new Vn([n]);if(om(r)){const o=cN(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)})),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r,a,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Wn(e,0,qe.min(),qe.min(),qe.min(),ti.empty(),0)}static newFoundDocument(e,n,r,a){return new Wn(e,1,n,qe.min(),r,a,0)}static newNoDocument(e,n){return new Wn(e,2,n,qe.min(),qe.min(),ti.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,qe.min(),qe.min(),ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.position=e,this.inclusive=n}}function zA(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],l=t.position[a];if(o.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),n.key):r=wu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function BA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n="asc"){this.field=e,this.dir=n}}function f5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{}class yn extends fN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d5(e,n,r):n==="array-contains"?new p5(e,r):n==="in"?new y5(e,r):n==="not-in"?new v5(e,r):n==="array-contains-any"?new b5(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m5(e,r):new g5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wu(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(wu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends fN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zi(e,n)}matches(e){return hN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hN(t){return t.op==="and"}function dN(t){return h5(t)&&hN(t)}function h5(t){for(const e of t.filters)if(e instanceof Zi)return!1;return!0}function sb(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+Eu(t.value);if(dN(t))return t.filters.map((e=>sb(e))).join(",");{const e=t.filters.map((n=>sb(n))).join(",");return`${t.op}(${e})`}}function mN(t,e){return t instanceof yn?(function(r,a){return a instanceof yn&&r.op===a.op&&r.field.isEqual(a.field)&&Qi(r.value,a.value)})(t,e):t instanceof Zi?(function(r,a){return a instanceof Zi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,l,c)=>o&&mN(l,a.filters[c])),!0):!1})(t,e):void Ve(19439)}function gN(t){return t instanceof yn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eu(n.value)}`})(t):t instanceof Zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(gN).join(" ,")+"}"})(t):"Filter"}class d5 extends yn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class m5 extends yn{constructor(e,n){super(e,"in",n),this.keys=pN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class g5 extends yn{constructor(e,n){super(e,"not-in",n),this.keys=pN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pN(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class p5 extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ex(n)&&Df(n.arrayValue,this.value)}}class y5 extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Df(this.value.arrayValue,n)}}class v5 extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Df(this.value.arrayValue,n)}}class b5 extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ex(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Df(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n=null,r=[],a=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function qA(t,e=null,n=[],r=[],a=null,o=null,l=null){return new x5(t,e,n,r,a,o,l)}function Tx(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>sb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Tg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Eu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Eu(r))).join(",")),e.Te=n}return e.Te}function Ax(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BA(t.startAt,e.startAt)&&BA(t.endAt,e.endAt)}function ob(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n=null,r=[],a=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _5(t,e,n,r,a,o,l,c){return new Sg(t,e,n,r,a,o,l,c)}function Sx(t){return new Sg(t)}function $A(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w5(t){return t.collectionGroup!==null}function xf(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new vn(Vn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Sm(o,r))})),n.has(Vn.keyField().canonicalString())||e.Ie.push(new Sm(Vn.keyField(),r))}return e.Ie}function Ki(t){const e=Fe(t);return e.Ee||(e.Ee=E5(e,xf(t))),e.Ee}function E5(t,e){if(t.limitType==="F")return qA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Sm(a.field,o)}));const n=t.endAt?new Am(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Am(t.startAt.position,t.startAt.inclusive):null;return qA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lb(t,e,n){return new Sg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kg(t,e){return Ax(Ki(t),Ki(e))&&t.limitType===e.limitType}function yN(t){return`${Tx(Ki(t))}|lt:${t.limitType}`}function ou(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>gN(a))).join(", ")}]`),Tg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Eu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Eu(a))).join(",")),`Target(${r})`})(Ki(t))}; limitType=${t.limitType})`}function Cg(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):De.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of xf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,c,h){const d=zA(l,c,h);return l.inclusive?d<=0:d<0})(r.startAt,xf(r),a)||r.endAt&&!(function(l,c,h){const d=zA(l,c,h);return l.inclusive?d>=0:d>0})(r.endAt,xf(r),a))})(t,e)}function T5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vN(t){return(e,n)=>{let r=!1;for(const a of xf(t)){const o=A5(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function A5(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(o,l,c){const h=l.data.field(o),d=c.data.field(o);return h!==null&&d!==null?wu(h,d):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){cl(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return nN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=new qt(De.comparator);function La(){return S5}const bN=new qt(De.comparator);function hf(...t){let e=bN;for(const n of t)e=e.insert(n.key,n);return e}function xN(t){let e=bN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Fo(){return _f()}function _N(){return _f()}function _f(){return new fl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const k5=new qt(De.comparator),C5=new vn(De.comparator);function tt(...t){let e=C5;for(const n of t)e=e.add(n);return e}const O5=new vn(et);function N5(){return O5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wm(e)?"-0":e}}function wN(t){return{integerValue:""+t}}function I5(t,e){return r5(e)?wN(e):kx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this._=void 0}}function R5(t,e,n){return t instanceof km?(function(a,o){const l={fields:{[aN]:{stringValue:iN},[oN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&wx(o)&&(o=Ag(o)),o&&(l.fields[sN]=o),{mapValue:l}})(n,e):t instanceof Pf?TN(t,e):t instanceof Mf?AN(t,e):(function(a,o){const l=EN(a,o),c=FA(l)+FA(a.Ae);return ab(l)&&ab(a.Ae)?wN(c):kx(a.serializer,c)})(t,e)}function D5(t,e,n){return t instanceof Pf?TN(t,e):t instanceof Mf?AN(t,e):n}function EN(t,e){return t instanceof Cm?(function(r){return ab(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class km extends Og{}class Pf extends Og{constructor(e){super(),this.elements=e}}function TN(t,e){const n=SN(e);for(const r of t.elements)n.some((a=>Qi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Mf extends Og{constructor(e){super(),this.elements=e}}function AN(t,e){let n=SN(e);for(const r of t.elements)n=n.filter((a=>!Qi(a,r)));return{arrayValue:{values:n}}}class Cm extends Og{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FA(t){return en(t.integerValue||t.doubleValue)}function SN(t){return Ex(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P5(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Pf&&a instanceof Pf||r instanceof Mf&&a instanceof Mf?_u(r.elements,a.elements,Qi):r instanceof Cm&&a instanceof Cm?Qi(r.Ae,a.Ae):r instanceof km&&a instanceof km})(t.transform,e.transform)}class M5{constructor(e,n){this.version=e,this.transformResults=n}}class Na{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Na}static exists(e){return new Na(void 0,e)}static updateTime(e){return new Na(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ng{}function kN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ON(t.key,Na.none()):new th(t.key,t.data,Na.none());{const n=t.data,r=ti.empty();let a=new vn(Vn.comparator);for(let o of e.fields)if(!a.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new hl(t.key,r,new Ci(a.toArray()),Na.none())}}function j5(t,e,n){t instanceof th?(function(a,o,l){const c=a.value.clone(),h=KA(a.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof hl?(function(a,o,l){if(!lm(a.precondition,o))return void o.convertToUnknownDocument(l.version);const c=KA(a.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(CN(a)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function wf(t,e,n,r){return t instanceof th?(function(o,l,c,h){if(!lm(o.precondition,l))return c;const d=o.value.clone(),m=GA(o.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof hl?(function(o,l,c,h){if(!lm(o.precondition,l))return c;const d=GA(o.fieldTransforms,h,l),m=l.data;return m.setAll(CN(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,l,c){return lm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function L5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=EN(r.transform,a||null);o!=null&&(n===null&&(n=ti.empty()),n.set(r.field,o))}return n||null}function HA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&_u(r,a,((o,l)=>P5(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class th extends Ng{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class hl extends Ng{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function KA(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],l=o.transform,c=e.data.field(o.field);r.set(o.field,D5(l,c,n[a]))}return r}function GA(t,e,n){const r=new Map;for(const a of t){const o=a.transform,l=n.data.field(a.field);r.set(a.field,R5(o,l,e))}return r}class ON extends Ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V5 extends Ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&j5(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_N();return this.mutations.forEach((a=>{const o=e.get(a.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(a.key)?null:c;const h=kN(l,c);h!==null&&r.set(a.key,h),l.isValidDocument()||l.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,((n,r)=>HA(n,r)))&&_u(this.baseMutations,e.baseMutations,((n,r)=>HA(n,r)))}}class Cx{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return k5})();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new Cx(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,rt;function q5(t){switch(t){case le.OK:return Ve(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function NN(t){if(t===void 0)return ja("GRPC error has no .code"),le.UNKNOWN;switch(t){case sn.OK:return le.OK;case sn.CANCELLED:return le.CANCELLED;case sn.UNKNOWN:return le.UNKNOWN;case sn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case sn.INTERNAL:return le.INTERNAL;case sn.UNAVAILABLE:return le.UNAVAILABLE;case sn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case sn.NOT_FOUND:return le.NOT_FOUND;case sn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case sn.ABORTED:return le.ABORTED;case sn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case sn.DATA_LOSS:return le.DATA_LOSS;default:return Ve(39323,{code:t})}}(rt=sn||(sn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=new Bs([4294967295,4294967295],0);function YA(t){const e=$5().encode(t),n=new KO;return n.update(e),new Uint8Array(n.digest())}function WA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([a,o],0)]}class Ox{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new df(`Invalid padding: ${n}`);if(r<0)throw new df(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new df(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new df(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bs.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Bs.fromNumber(r)));return a.compare(F5)===1&&(a=new Bs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YA(e),[r,a]=WA(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Ox(o,a,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=YA(e),[r,a]=WA(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,nh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ig(qe.min(),a,new qt(et),La(),tt())}}class nh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nh(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class IN{constructor(e,n){this.targetId=e,this.Ce=n}}class RN{constructor(e,n,r=Bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class XA{constructor(){this.ve=0,this.Fe=QA(),this.Me=Bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ve(38017,{changeType:o})}})),new nh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class H5{constructor(e){this.Ge=e,this.ze=new Map,this.je=La(),this.Je=jd(),this.He=jd(),this.Ye=new qt(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(ob(o))if(r===0){const l=new De(o.path);this.et(n,l,Wn.newNoDocument(l,qe.min()))}else ct(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let l,c;try{l=Gs(r).toUint8Array()}catch(h){if(h instanceof rN)return xu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Ox(l,a,o)}catch(h){return xu(h instanceof df?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&ob(c.target)){const h=new De(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Wn.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=tt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const a=new Ig(e,n,this.Ye,this.je,r);return this.je=La(),this.Je=jd(),this.He=jd(),this.Ye=new qt(et),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new XA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vn(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vn(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jd(){return new qt(De.comparator)}function QA(){return new qt(De.comparator)}const K5={asc:"ASCENDING",desc:"DESCENDING"},G5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y5={and:"AND",or:"OR"};class W5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ub(t,e){return t.useProto3Json||Tg(e)?e:{value:e}}function Om(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X5(t,e){return Om(t,e.toTimestamp())}function Gi(t){return ct(!!t,49232),qe.fromTimestamp((function(n){const r=Ks(n);return new Dt(r.seconds,r.nanos)})(t))}function Nx(t,e){return cb(t,e).canonicalString()}function cb(t,e){const n=(function(a){return new Bt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function PN(t){const e=Bt.fromString(t);return ct(UN(e),10190,{key:e.toString()}),e}function fb(t,e){return Nx(t.databaseId,e.path)}function vv(t,e){const n=PN(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(jN(n))}function MN(t,e){return Nx(t.databaseId,e)}function Q5(t){const e=PN(t);return e.length===4?Bt.emptyPath():jN(e)}function hb(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jN(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZA(t,e,n){return{name:fb(t,e),fields:n.value.mapValue.fields}}function Z5(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ve(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(ct(m===void 0||typeof m=="string",58123),Bn.fromBase64String(m||"")):(ct(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Bn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?le.UNKNOWN:NN(d.code);return new Ae(m,d.message||"")})(l);n=new RN(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=vv(t,r.document.name),o=Gi(r.document.updateTime),l=r.document.createTime?Gi(r.document.createTime):qe.min(),c=new ti({mapValue:{fields:r.document.fields}}),h=Wn.newFoundDocument(a,o,l,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new um(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=vv(t,r.document),o=r.readTime?Gi(r.readTime):qe.min(),l=Wn.newNoDocument(a,o),c=r.removedTargetIds||[];n=new um([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=vv(t,r.document),o=r.removedTargetIds||[];n=new um([],o,a,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new B5(a,o),c=r.targetId;n=new IN(c,l)}}return n}function J5(t,e){let n;if(e instanceof th)n={update:ZA(t,e.key,e.value)};else if(e instanceof ON)n={delete:fb(t,e.key)};else if(e instanceof hl)n={update:ZA(t,e.key,e.data),updateMask:l9(e.fieldMask)};else{if(!(e instanceof V5))return Ve(16599,{Vt:e.type});n={verify:fb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof km)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Pf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Cm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ve(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:X5(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve(27497)})(t,e.precondition)),n}function e9(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(a,o){let l=a.updateTime?Gi(a.updateTime):Gi(o);return l.isEqual(qe.min())&&(l=Gi(o)),new M5(l,a.transformResults||[])})(n,e)))):[]}function t9(t,e){return{documents:[MN(t,e.path)]}}function n9(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MN(t,a);const o=(function(d){if(d.length!==0)return VN(Zi.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((m=>(function(b){return{field:lu(b.field),direction:a9(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=ub(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:a}}function r9(t){let e=Q5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ct(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(y){const b=LN(y);return b instanceof Zi&&dN(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((b=>(function(E){return new Sm(uu(E.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let b;return b=typeof y=="object"?y.value:y,Tg(b)?null:b})(n.limit));let h=null;n.startAt&&(h=(function(y){const b=!!y.before,_=y.values||[];return new Am(_,b)})(n.startAt));let d=null;return n.endAt&&(d=(function(y){const b=!y.before,_=y.values||[];return new Am(_,b)})(n.endAt)),_5(e,a,l,o,c,"F",h,d)}function i9(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uu(n.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=uu(n.unaryFilter.field);return yn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uu(n.unaryFilter.field);return yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=uu(n.unaryFilter.field);return yn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return yn.create(uu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Zi.create(n.compositeFilter.filters.map((r=>LN(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function a9(t){return K5[t]}function s9(t){return G5[t]}function o9(t){return Y5[t]}function lu(t){return{fieldPath:t.canonicalString()}}function uu(t){return Vn.fromServerFormat(t.fieldPath)}function VN(t){return t instanceof yn?(function(n){if(n.op==="=="){if(UA(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NAN"}};if(VA(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UA(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NAN"}};if(VA(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(n.field),op:s9(n.op),value:n.value}}})(t):t instanceof Zi?(function(n){const r=n.getFilters().map((a=>VN(a)));return r.length===1?r[0]:{compositeFilter:{op:o9(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function l9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function UN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,a,o=qe.min(),l=qe.min(),c=Bn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.yt=e}}function c9(t){const e=r9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.Cn=new h9}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Hs.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class h9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new vn(Bt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new vn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zN=41943040;class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(zN,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tu(0)}static cr(){return new Tu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="LruGarbageCollector",d9=1048576;function tS([t,e],[n,r]){const a=et(t,n);return a===0?et(e,r):a}class m9{constructor(e){this.Ir=e,this.buffer=new vn(tS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(eS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zu(n)?ve(eS,"Ignoring IndexedDB error during garbage collection: ",n):await Uu(n)}await this.Vr(3e5)}))}}class p9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Eg.ce);const r=new m9(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(JA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JA):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,l,c,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,l=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(d=Date.now(),su()<=Je.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y}))))}}function y9(t,e){return new p9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.changes=new fl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&wf(r.mutation,a,Ci.empty(),Dt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const a=Fo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let l=hf();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Fo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,a){let o=La();const l=_f(),c=(function(){return _f()})();return n.forEach(((h,d)=>{const m=r.get(d.key);a.has(d.key)&&(m===void 0||m.mutation instanceof hl)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),wf(m.mutation,d,m.mutation.getFieldMask(),Dt.now())):l.set(d.key,Ci.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>c.set(d,new b9(m,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=_f();let a=new qt(((l,c)=>l-c)),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||Ci.empty();m=c.applyToLocalView(d,m),r.set(h,m);const y=(a.get(c.batchId)||tt()).add(h);a=a.insert(c.batchId,y)}))})).next((()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,y=_N();m.forEach((b=>{if(!o.has(b)){const _=kN(n.get(b),r.get(b));_!==null&&y.set(b,_),o=o.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,y))}return oe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):oe.resolve(Fo());let c=Nf,h=o;return l.next((d=>oe.forEach(d,((m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?oe.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{h=h.insert(m,b)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,h,d,tt()))).next((m=>({batchId:c,changes:xN(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let a=hf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let l=hf();return this.indexManager.getCollectionParents(e,o).next((c=>oe.forEach(c,(h=>{const d=(function(y,b){return new Sg(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((m=>{m.forEach(((y,b)=>{l=l.insert(y,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((l=>{o.forEach(((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,Wn.newInvalidDocument(m)))}));let c=hf();return l.forEach(((h,d)=>{const m=o.get(h);m!==void 0&&wf(m.mutation,d,Ci.empty(),Dt.now()),Cg(n,d)&&(c=c.insert(h,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:c9(a.bundledQuery),readTime:Gi(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.overlays=new qt(De.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fo();return oe.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const a=Fo(),o=n.length+1,l=new De(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new qt(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=Fo(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Fo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=a)););return oe.resolve(c)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new z5(n,r));let o=this.qr.get(n);o===void 0&&(o=tt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.Qr=new vn(kn.$r),this.Ur=new vn(kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new kn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new kn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new Bt([])),r=new kn(n,e),a=new kn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Bt([])),r=new kn(n,e),a=new kn(n,e+1);let o=tt();return this.Ur.forEachInRange([r,a],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new kn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vn(kn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new U5(o,n,r,a);this.mutationQueue.push(l);for(const c of a)this.Zr=this.Zr.add(new kn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?_x:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kn(n,0),a=new kn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(l=>{const c=this.Xr(l.Yr);o.push(c)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vn(et);return n.forEach((a=>{const o=new kn(a,0),l=new kn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const l=new kn(new De(o),0);let c=new vn(et);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(h.Yr)),!0)}),l),oe.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(a=>{const o=new kn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new kn(n,0),a=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.ri=e,this.docs=(function(){return new qt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=La();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Wn.newInvalidDocument(a))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=La();const l=n.path,c=new De(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||JV(ZV(m),r)<=0||(a.has(m.key)||Cg(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Ve(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new S9(this)}getSize(e){return oe.resolve(this.size)}}class S9 extends v9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.persistence=e,this.si=new fl((n=>Tx(n)),Ax),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ix,this.targetCount=0,this.ai=Tu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Tu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),oe.waitFor(o).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((l=>{o.push(a.markPotentiallyOrphaned(e,l))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Eg(0),this.li=!1,this.li=!0,this.hi=new E9,this.referenceDelegate=e(this),this.Pi=new k9(this),this.indexManager=new f9,this.remoteDocumentCache=(function(a){return new A9(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new u9(n),this.Ii=new _9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new T9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const a=new C9(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class C9 extends t5{constructor(e){super(),this.currentSequenceNumber=e}}class Rx{constructor(e){this.persistence=e,this.Ri=new Ix,this.Vi=null}static mi(e){return new Rx(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const a=De.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nm{constructor(e,n){this.persistence=e,this.pi=new fl((r=>i5(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=y9(this,n)}static mi(e,n){return new Nm(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?oe.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,qe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sm(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=tt(),a=tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Dx(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s3()?8:n5(Qn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new O9;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(su()<=Je.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(su()<=Je.DEBUG&&ve("QueryEngine","Query:",ou(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(su()<=Je.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):oe.resolve())}ys(e,n){if($A(n))return oe.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=lb(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=tt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,c);return this.Cs(n,d,l,h.readTime)?this.ys(e,lb(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,a){return $A(n)||a.isEqual(qe.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,a)?oe.resolve(null):(su()<=Je.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ou(n)),this.vs(e,l,n,QV(a,Nf)).next((c=>c)))}))}Ds(e,n){let r=new vn(vN(e));return n.forEach(((a,o)=>{Cg(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return su()<=Je.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ou(n)),this.ps.getDocumentsMatchingQuery(e,n,Hs.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="LocalStore",I9=3e8;class R9{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new qt(et),this.xs=new fl((o=>Tx(o)),Ax),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function D9(t,e,n,r){return new R9(t,e,n,r)}async function qN(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=tt();for(const d of a){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function P9(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,m){const y=d.batch,b=y.keys();let _=oe.resolve();return b.forEach((E=>{_=_.next((()=>m.getEntry(h,E))).next((S=>{const T=d.docVersions.get(E);ct(T!==null,48541),S.version.compareTo(T)<0&&(y.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),m.addEntry(S)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=tt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function $N(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function M9(t,e){const n=Fe(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const c=[];e.targetChanges.forEach(((m,y)=>{const b=a.get(y);if(!b)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y))));let _=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(Bn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),a=a.insert(y,_),(function(S,T,I){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=I9?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(b,_,m)&&c.push(n.Pi.updateTargetData(o,_))}));let h=La(),d=tt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(j9(o,l,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!r.isEqual(qe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return oe.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function j9(t,e,n){let r=tt(),a=tt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=La();return n.forEach(((c,h)=>{const d=o.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),h.isNoDocument()&&h.version.isEqual(qe.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ve(Px,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:l,qs:a}}))}function L9(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_x),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function V9(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,oe.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new js(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function db(t,e,n){const r=Fe(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!zu(l))throw l;ve(Px,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function nS(t,e,n){const r=Fe(t);let a=qe.min(),o=tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,d,m){const y=Fe(h),b=y.xs.get(m);return b!==void 0?oe.resolve(y.Ms.get(b)):y.Pi.getTargetData(d,m)})(r,l,Ki(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:qe.min(),n?o:tt()))).next((c=>(U9(r,T5(e),c),{documents:c,Qs:o})))))}function U9(t,e,n){let r=t.Os.get(e)||qe.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class rS{constructor(){this.activeTargetIds=N5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z9{constructor(){this.Mo=new rS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="ConnectivityMonitor";class aS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(iS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(iS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld=null;function mb(){return Ld===null?Ld=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ld++,"0x"+Ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="RestConnection",q9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Em?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const l=mb(),c=this.zo(e,n.toUriEncodedString());ve(bv,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:d}=new URL(c),m=Pu(d);return this.Jo(e,c,h,r,m).then((y=>(ve(bv,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw xu(bv,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,n,r,a,o,l){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=q9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class H9 extends $9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const l=mb();return new Promise(((c,h)=>{const d=new GO;d.setWithCredentials(!0),d.listenOnce(YO.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case am.NO_ERROR:const y=d.getResponseJson();ve(Kn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case am.TIMEOUT:ve(Kn,`RPC '${e}' ${l} timed out`),h(new Ae(le.DEADLINE_EXCEEDED,"Request time out"));break;case am.HTTP_ERROR:const b=d.getStatus();if(ve(Kn,`RPC '${e}' ${l} failed with status:`,b,"response text:",d.getResponseText()),b>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_?.error;if(E&&E.status&&E.message){const S=(function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(M)>=0?M:le.UNKNOWN})(E.status);h(new Ae(S,E.message))}else h(new Ae(le.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Ae(le.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ve(Kn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(a);ve(Kn,`RPC '${e}' ${l} sending request:`,a),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const a=mb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=QO(),c=XO(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");ve(Kn,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=l.createWebChannel(m,h);this.I_(y);let b=!1,_=!1;const E=new F9({Yo:T=>{_?ve(Kn,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(b||(ve(Kn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),b=!0),ve(Kn,`RPC '${e}' stream ${a} sending:`,T),y.send(T))},Zo:()=>y.close()}),S=(T,I,M)=>{T.listen(I,(L=>{try{M(L)}catch(B){setTimeout((()=>{throw B}),0)}}))};return S(y,ff.EventType.OPEN,(()=>{_||(ve(Kn,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),S(y,ff.EventType.CLOSE,(()=>{_||(_=!0,ve(Kn,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(y))})),S(y,ff.EventType.ERROR,(T=>{_||(_=!0,xu(Kn,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new Ae(le.UNAVAILABLE,"The operation could not be completed")))})),S(y,ff.EventType.MESSAGE,(T=>{if(!_){const I=T.data[0];ct(!!I,16349);const M=I,L=M?.error||M[0]?.error;if(L){ve(Kn,`RPC '${e}' stream ${a} received error:`,L);const B=L.status;let F=(function(O){const D=sn[O];if(D!==void 0)return NN(D)})(B),$=L.message;F===void 0&&(F=le.INTERNAL,$="Unknown error status: "+B+" with message "+L.message),_=!0,E.a_(new Ae(F,$)),y.close()}else ve(Kn,`RPC '${e}' stream ${a} received:`,I),E.u_(I)}})),S(c,WO.STAT_EVENT,(T=>{T.stat===nb.PROXY?ve(Kn,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===nb.NOPROXY&&ve(Kn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){return new W5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="PersistentStream";class HN{constructor(e,n,r,a,o,l,c,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(ja(n.toString()),ja("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ae(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(sS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(sS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K9 extends HN{constructor(e,n,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Z5(this.serializer,e),r=(function(o){if(!("targetChange"in o))return qe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?qe.min():l.readTime?Gi(l.readTime):qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hb(this.serializer),n.addTarget=(function(o,l){let c;const h=l.target;if(c=ob(h)?{documents:t9(o,h)}:{query:n9(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=DN(o,l.resumeToken);const d=ub(o,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(qe.min())>0){c.readTime=Om(o,l.snapshotVersion.toTimestamp());const d=ub(o,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=i9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hb(this.serializer),n.removeTarget=e,this.q_(n)}}class G9 extends HN{constructor(e,n,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=e9(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>J5(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{}class W9 extends Y9{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,cb(n,r),a,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(le.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,cb(n,r),a,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(le.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class X9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ja(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="RemoteStore";class Q9{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{dl(this)&&(ve(il,"Restarting streams for network reachability change."),await(async function(h){const d=Fe(h);d.Ea.add(4),await rh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Dg(d)})(this))}))})),this.Ra=new X9(r,a)}}async function Dg(t){if(dl(t))for(const e of t.da)await e(!0)}async function rh(t){for(const e of t.da)await e(!1)}function KN(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vx(n)?Lx(n):Bu(n).O_()&&jx(n,e))}function Mx(t,e){const n=Fe(t),r=Bu(n);n.Ia.delete(e),r.O_()&&GN(n,e),n.Ia.size===0&&(r.O_()?r.L_():dl(n)&&n.Ra.set("Unknown"))}function jx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bu(t).Y_(e)}function GN(t,e){t.Va.Ue(e),Bu(t).Z_(e)}function Lx(t){t.Va=new H5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bu(t).start(),t.Ra.ua()}function Vx(t){return dl(t)&&!Bu(t).x_()&&t.Ia.size>0}function dl(t){return Fe(t).Ea.size===0}function YN(t){t.Va=void 0}async function Z9(t){t.Ra.set("Online")}async function J9(t){t.Ia.forEach(((e,n)=>{jx(t,e)}))}async function eU(t,e){YN(t),Vx(t)?(t.Ra.ha(e),Lx(t)):t.Ra.set("Unknown")}async function tU(t,e,n){if(t.Ra.set("Online"),e instanceof RN&&e.state===2&&e.cause)try{await(async function(a,o){const l=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.Ia.delete(c),a.Va.removeTarget(c))})(t,e)}catch(r){ve(il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Im(t,r)}else if(e instanceof um?t.Va.Ze(e):e instanceof IN?t.Va.st(e):t.Va.tt(e),!n.isEqual(qe.min()))try{const r=await $N(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,d)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(Bn.EMPTY_BYTE_STRING,m.snapshotVersion)),GN(o,h);const y=new js(m.target,h,d,m.sequenceNumber);jx(o,y)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ve(il,"Failed to raise snapshot:",r),await Im(t,r)}}async function Im(t,e,n){if(!zu(e))throw e;t.Ea.add(1),await rh(t),t.Ra.set("Offline"),n||(n=()=>$N(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dg(t)}))}function WN(t,e){return e().catch((n=>Im(t,n,e)))}async function Pg(t){const e=Fe(t),n=Ws(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_x;for(;nU(e);)try{const a=await L9(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,rU(e,a)}catch(a){await Im(e,a)}XN(e)&&QN(e)}function nU(t){return dl(t)&&t.Ta.length<10}function rU(t,e){t.Ta.push(e);const n=Ws(t);n.O_()&&n.X_&&n.ea(e.mutations)}function XN(t){return dl(t)&&!Ws(t).x_()&&t.Ta.length>0}function QN(t){Ws(t).start()}async function iU(t){Ws(t).ra()}async function aU(t){const e=Ws(t);for(const n of t.Ta)e.ea(n.mutations)}async function sU(t,e,n){const r=t.Ta.shift(),a=Cx.from(r,e,n);await WN(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Pg(t)}async function oU(t,e){e&&Ws(t).X_&&await(async function(r,a){if((function(l){return q5(l)&&l!==le.ABORTED})(a.code)){const o=r.Ta.shift();Ws(r).B_(),await WN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Pg(r)}})(t,e),XN(t)&&QN(t)}async function oS(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),ve(il,"RemoteStore received new credentials");const r=dl(n);n.Ea.add(3),await rh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dg(n)}async function lU(t,e){const n=Fe(t);e?(n.Ea.delete(2),await Dg(n)):e||(n.Ea.add(2),await rh(n),n.Ra.set("Unknown"))}function Bu(t){return t.ma||(t.ma=(function(n,r,a){const o=Fe(n);return o.sa(),new K9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Z9.bind(null,t),t_:J9.bind(null,t),r_:eU.bind(null,t),H_:tU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Vx(t)?Lx(t):t.Ra.set("Unknown")):(await t.ma.stop(),YN(t))}))),t.ma}function Ws(t){return t.fa||(t.fa=(function(n,r,a){const o=Fe(n);return o.sa(),new G9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iU.bind(null,t),r_:oU.bind(null,t),ta:aU.bind(null,t),na:sU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Pg(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const l=Date.now()+r,c=new Ux(e,n,l,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zx(t,e){if(ja("AsyncQueue",`${e}: ${t}`),zu(t))return new Ae(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{static emptySet(e){return new gu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=hf(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.ga=new qt(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Au{constructor(e,n,r,a,o,l,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,a,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Au(e,n,gu.emptySet(n),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cU{constructor(){this.queries=uS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Fe(n),o=a.queries;a.queries=uS(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new Ae(le.ABORTED,"Firestore shutting down"))}}function uS(){return new fl((t=>yN(t)),kg)}async function fU(t,e){const n=Fe(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new uU,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const c=zx(l,`Initialization of query '${ou(e.query)}' failed`);return void e.onError(c)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Bx(n)}async function hU(t,e){const n=Fe(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dU(t,e){const n=Fe(t);let r=!1;for(const a of e){const o=a.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(a)&&(r=!0);l.wa=a}}r&&Bx(n)}function mU(t,e,n){const r=Fe(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function Bx(t){t.Ca.forEach((e=>{e.next()}))}var gb,cS;(cS=gb||(gb={})).Ma="default",cS.Cache="cache";class gU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.key=e}}class JN{constructor(e){this.key=e}}class pU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=vN(e),this.tu=new gu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lS,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=a,c=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,y)=>{const b=a.get(m),_=Cg(this.query,y)?y:null,E=!!b&&this.mutatedKeys.has(b.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;b&&_?b.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),T=!0):this.su(b,_)||(r.track({type:2,doc:_}),T=!0,(h&&this.eu(_,h)>0||d&&this.eu(_,d)<0)&&(c=!0)):!b&&_?(r.track({type:0,doc:_}),T=!0):b&&!_&&(r.track({type:1,doc:b}),T=!0,(h||d)&&(c=!0)),T&&(_?(l=l.add(_),o=S?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,y)=>(function(_,E){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:T})}};return S(_)-S(E)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),a=a??!1;const c=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new Au(this.query,e.tu,o,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new JN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new ZN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Au.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qx="SyncEngine";class yU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vU{constructor(e){this.key=e,this.hu=!1}}class bU{constructor(e,n,r,a,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new fl((c=>yN(c)),kg),this.Iu=new Map,this.Eu=new Set,this.du=new qt(De.comparator),this.Au=new Map,this.Ru=new Ix,this.Vu={},this.mu=new Map,this.fu=Tu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xU(t,e,n=!0){const r=aI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await eI(r,e,n,!0),a}async function _U(t,e){const n=aI(t);await eI(n,e,!0,!1)}async function eI(t,e,n,r){const a=await V9(t.localStore,Ki(e)),o=a.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await wU(t,e,o,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&KN(t.remoteStore,a),c}async function wU(t,e,n,r,a){t.pu=(y,b,_)=>(async function(S,T,I,M){let L=T.view.ru(I);L.Cs&&(L=await nS(S.localStore,T.query,!1).then((({documents:R})=>T.view.ru(R,L))));const B=M&&M.targetChanges.get(T.targetId),F=M&&M.targetMismatches.get(T.targetId)!=null,$=T.view.applyChanges(L,S.isPrimaryClient,B,F);return hS(S,T.targetId,$.au),$.snapshot})(t,y,b,_);const o=await nS(t.localStore,e,!0),l=new pU(e,o.Qs),c=l.ru(o.documents),h=nh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),d=l.applyChanges(c,t.isPrimaryClient,h);hS(t,n,d.au);const m=new yU(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function EU(t,e,n){const r=Fe(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((l=>!kg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await db(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Mx(r.remoteStore,a.targetId),pb(r,a.targetId)})).catch(Uu)):(pb(r,a.targetId),await db(r.localStore,a.targetId,!0))}async function TU(t,e){const n=Fe(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mx(n.remoteStore,r.targetId))}async function AU(t,e,n){const r=RU(t);try{const a=await(function(l,c){const h=Fe(l),d=Dt.now(),m=c.reduce(((_,E)=>_.add(E.key)),tt());let y,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=La(),S=tt();return h.Ns.getEntries(_,m).next((T=>{E=T,E.forEach(((I,M)=>{M.isValidDocument()||(S=S.add(I))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,E))).next((T=>{y=T;const I=[];for(const M of c){const L=L5(M,y.get(M.key).overlayedDocument);L!=null&&I.push(new hl(M.key,L,cN(L.value.mapValue),Na.exists(!0)))}return h.mutationQueue.addMutationBatch(_,d,I,c)})).next((T=>{b=T;const I=T.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(_,T.batchId,I)}))})).then((()=>({batchId:b.batchId,changes:xN(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new qt(et)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d})(r,a.batchId,n),await ih(r,a.changes),await Pg(r.remoteStore)}catch(a){const o=zx(a,"Failed to persist write");n.reject(o)}}async function tI(t,e){const n=Fe(t);try{const r=await M9(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const l=n.Au.get(o);l&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?ct(l.hu,14607):a.removedDocuments.size>0&&(ct(l.hu,42227),l.hu=!1))})),await ih(n,r,e)}catch(r){await Uu(r)}}function fS(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(l,c){const h=Fe(l);h.onlineState=c;let d=!1;h.queries.forEach(((m,y)=>{for(const b of y.Sa)b.va(c)&&(d=!0)})),d&&Bx(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SU(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let l=new qt(De.comparator);l=l.insert(o,Wn.newNoDocument(o,qe.min()));const c=tt().add(o),h=new Ig(qe.min(),new Map,new qt(et),l,c);await tI(r,h),r.du=r.du.remove(o),r.Au.delete(e),$x(r)}else await db(r.localStore,e,!1).then((()=>pb(r,e,n))).catch(Uu)}async function kU(t,e){const n=Fe(t),r=e.batch.batchId;try{const a=await P9(n.localStore,e);rI(n,r,null),nI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ih(n,a)}catch(a){await Uu(a)}}async function CU(t,e,n){const r=Fe(t);try{const a=await(function(l,c){const h=Fe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next((y=>(ct(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(d,y)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>h.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);rI(r,e,n),nI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ih(r,a)}catch(a){await Uu(a)}}function nI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function rI(t,e,n){const r=Fe(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function pb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||iI(t,r)}))}function iI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Mx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$x(t))}function hS(t,e,n){for(const r of n)r instanceof ZN?(t.Ru.addReference(r.key,e),OU(t,r)):r instanceof JN?(ve(qx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||iI(t,r.key)):Ve(19791,{wu:r})}function OU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(qx,"New document in limbo: "+n),t.Eu.add(r),$x(t))}function $x(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Bt.fromString(e)),r=t.fu.next();t.Au.set(r,new vU(n)),t.du=t.du.insert(n,r),KN(t.remoteStore,new js(Ki(Sx(n.path)),r,"TargetPurposeLimboResolution",Eg.ce))}}async function ih(t,e,n){const r=Fe(t),a=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(d){a.push(d);const m=Dx.As(h.targetId,d);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(h,d){const m=Fe(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>oe.forEach(d,(b=>oe.forEach(b.Es,(_=>m.persistence.referenceDelegate.addReference(y,b.targetId,_))).next((()=>oe.forEach(b.ds,(_=>m.persistence.referenceDelegate.removeReference(y,b.targetId,_)))))))))}catch(y){if(!zu(y))throw y;ve(Px,"Failed to update sequence numbers: "+y)}for(const y of d){const b=y.targetId;if(!y.fromCache){const _=m.Ms.get(b),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(b,S)}}})(r.localStore,o))}async function NU(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){ve(qx,"User change. New user:",e.toKey());const r=await qN(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new Ae(le.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ih(n,r.Ls)}}function IU(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let a=tt();const o=n.Iu.get(e);if(!o)return a;for(const l of o){const c=n.Tu.get(l);a=a.unionWith(c.view.nu)}return a}}function aI(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SU.bind(null,e),e.Pu.H_=dU.bind(null,e.eventManager),e.Pu.yu=mU.bind(null,e.eventManager),e}function RU(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CU.bind(null,e),e}class Rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return D9(this.persistence,new N9,e.initialUser,this.serializer)}Cu(e){return new BN(Rx.mi,this.serializer)}Du(e){return new z9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rm.provider={build:()=>new Rm};class DU extends Rm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Nm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new g9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new BN((r=>Nm.mi(r,n)),this.serializer)}}class yb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NU.bind(null,this.syncEngine),await lU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cU})()}createDatastore(e){const n=Rg(e.databaseInfo.databaseId),r=(function(o){return new H9(o)})(e.databaseInfo);return(function(o,l,c,h){return new W9(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,l,c){return new Q9(r,a,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>fS(this.syncEngine,n,0)),(function(){return aS.v()?new aS:new B9})())}createSyncEngine(e,n){return(function(a,o,l,c,h,d,m){const y=new bU(a,o,l,c,h,d);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Fe(n);ve(il,"RemoteStore shutting down."),r.Ea.add(5),await rh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yb.provider={build:()=>new yb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ja("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class MU{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Yn.UNAUTHENTICATED,this.clientId=bx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{ve(Xs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(Xs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _v(t,e){t.asyncQueue.verifyOperationInProgress(),ve(Xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await qN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jU(t);ve(Xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>oS(e.remoteStore,a))),t._onlineComponents=e}async function jU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(Xs,"Using user provided OfflineComponentProvider");try{await _v(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;xu("Error using user provided cache. Falling back to memory cache: "+n),await _v(t,new Rm)}}else ve(Xs,"Using default OfflineComponentProvider"),await _v(t,new DU(void 0));return t._offlineComponents}async function sI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(Xs,"Using user provided OnlineComponentProvider"),await dS(t,t._uninitializedComponentsProvider._online)):(ve(Xs,"Using default OnlineComponentProvider"),await dS(t,new yb))),t._onlineComponents}function LU(t){return sI(t).then((e=>e.syncEngine))}async function VU(t){const e=await sI(t),n=e.eventManager;return n.onListen=xU.bind(null,e.syncEngine),n.onUnlisten=EU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_U.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TU.bind(null,e.syncEngine),n}function UU(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,d){const m=new PU({next:b=>{m.Nu(),l.enqueueAndForget((()=>hU(o,y)));const _=b.docs.has(c);!_&&b.fromCache?d.reject(new Ae(le.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&h&&h.source==="server"?d.reject(new Ae(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new gU(Sx(c.path),m,{includeMetadataChanges:!0,qa:!0});return fU(o,y)})(await VU(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="firestore.googleapis.com",gS=!0;class pS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lI,this.ssl=gS}else this.host=e.host,this.ssl=e.ssl??gS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d9)throw new Ae(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fx{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UV;switch(r.type){case"firstParty":return new $V(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mS.get(n);r&&(ve("ComponentProvider","Removing Datastore"),mS.delete(n),r.terminate())})(this),Promise.resolve()}}function zU(t,e,n,r={}){t=Of(t,Fx);const a=Pu(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;a&&(aO(`https://${c}`),sO("Firestore",!0)),o.host!==lI&&o.host!==c&&xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:a,emulatorOptions:r};if(!el(h,l)&&(t._setSettings(h),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Yn.MOCK_USER;else{d=Q4(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ae(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Yn(y)}t._authCredentials=new zV(new JO(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hx(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}toJSON(){return{type:On._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(eh(n,On._jsonSchema))return new On(e,r||null,new De(Bt.fromString(n.referencePath)))}}On._jsonSchemaVersion="firestore/documentReference/1.0",On._jsonSchema={type:on("string",On._jsonSchemaVersion),referencePath:on("string")};class jf extends Hx{constructor(e,n,r){super(e,n,Sx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new De(e))}withConverter(e){return new jf(this.firestore,e,this._path)}}function BU(t,e,...n){if(t=Dr(t),arguments.length===1&&(e=bx.newId()),WV("doc","path",e),t instanceof Fx){const r=Bt.fromString(e,...n);return NA(r),new On(t,null,new De(r))}{if(!(t instanceof On||t instanceof jf))throw new Ae(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return NA(r),new On(t.firestore,t instanceof jf?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="AsyncQueue";class vS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FN(this,"async_queue_retry"),this._c=()=>{const r=xv();r&&ve(yS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=xv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zu(e))throw e;ve(yS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ja("INTERNAL UNHANDLED ERROR: ",bS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Ux.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ve(47125,{Pc:bS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Kx extends Fx{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new vS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vS(e),this._firestoreClient=void 0,await e}}}function qU(t,e){const n=typeof t=="object"?t:cO(),r=typeof t=="string"?t:Em,a=ux(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=W4("firestore");o&&zU(a,...o)}return a}function uI(t){if(t._terminated)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$U(t),t._firestoreClient}function $U(t){const e=t._freezeSettings(),n=(function(a,o,l,c){return new o5(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,oI(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(Bn.fromBase64String(e))}catch(n){throw new Ae(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eh(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:on("string",ni._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(eh(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:on("string",Yi._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eh(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new Ae(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:on("string",Wi._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=/^__.*__$/;class HU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hl(e,this.data,this.fieldMask,n,this.fieldTransforms):new th(e,this.data,n,this.fieldTransforms)}}function fI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class Yx{constructor(e,n,r,a,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fI(this.Ac)&&FU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rg(e)}Cc(e,n,r,a=!1){return new Yx({Ac:e,methodName:n,Dc:r,path:Vn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GU(t){const e=t._freezeSettings(),n=Rg(t._databaseId);return new KU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YU(t,e,n,r,a,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);gI("Data must be an object, but it was:",l,r);const c=dI(r,l);let h,d;if(o.merge)h=new Ci(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const b=WU(e,y,n);if(!l.contains(b))throw new Ae(le.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);QU(m,b)||m.push(b)}h=new Ci(m),d=l.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,d=l.fieldTransforms;return new HU(new ti(c),h,d)}function hI(t,e){if(mI(t=Dr(t)))return gI("Unsupported field value:",e,t),dI(t,e);if(t instanceof cI)return(function(r,a){if(!fI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let l=0;for(const c of r){let h=hI(c,a.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Dr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Dt.fromDate(r);return{timestampValue:Om(a.serializer,o)}}if(r instanceof Dt){const o=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Om(a.serializer,o)}}if(r instanceof Yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:DN(a.serializer,r._byteString)};if(r instanceof On){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Nx(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Wi)return(function(l,c){return{mapValue:{fields:{[lN]:{stringValue:uN},[Tm]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return kx(c.serializer,d)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${xx(r)}`)})(t,e)}function dI(t,e){const n={};return nN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cl(t,((r,a)=>{const o=hI(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function mI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Yi||t instanceof ni||t instanceof On||t instanceof cI||t instanceof Wi)}function gI(t,e,n){if(!mI(n)||!eN(n)){const r=xx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function WU(t,e,n){if((e=Dr(e))instanceof Gx)return e._internalPath;if(typeof e=="string")return pI(t,e);throw Dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const XU=new RegExp("[~\\*/\\[\\]]");function pI(t,e,n){if(e.search(XU)>=0)throw Dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gx(...e.split("."))._internalPath}catch{throw Dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dm(t,e,n,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${a}`),h+=")"),new Ae(le.INVALID_ARGUMENT,c+t+h)}function QU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZU extends yI{data(){return super.data()}}function vI(t,e){return typeof e=="string"?pI(t,e):e instanceof Gx?e._internalPath:e._delegate._internalPath}class JU{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cl(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Tm].arrayValue?.values?.map((r=>en(r.doubleValue)));return new Wi(n)}convertGeoPoint(e){return new Yi(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ag(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(If(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);ct(UN(r),9688,{name:e});const a=new Rf(r.get(1),r.get(3)),o=new De(r.popFirst(5));return a.isEqual(n)||ja(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class mf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wo extends yI{constructor(e,n,r,a,o,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wo._jsonSchema={type:on("string",Wo._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class cm extends Wo{data(e={}){return super.data(e)}}class Ef{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new mf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new cm(this._firestore,this._userDataWriter,r.key,r,new mf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((c=>{const h=new cm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new mf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new cm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new mf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:tz(c.type),doc:h,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ef._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(t){t=Of(t,On);const e=Of(t.firestore,Kx);return UU(uI(e),t._key).then((n=>sz(e,t,n)))}Ef._jsonSchemaVersion="firestore/querySnapshot/1.0",Ef._jsonSchema={type:on("string",Ef._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class rz extends JU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function iz(t,e,n){t=Of(t,On);const r=Of(t.firestore,Kx),a=ez(t.converter,e);return az(r,[YU(GU(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Na.none())])}function az(t,e){return(function(r,a){const o=new qs;return r.asyncQueue.enqueueAndForget((async()=>AU(await LU(r),a,o))),o.promise})(uI(t),e)}function sz(t,e,n){const r=n.docs.get(e._key),a=new rz(t);return new Wo(t,a,e._key,r,new mf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Vu=a})(Mu),vu(new tl("firestore",((r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Kx(new BV(r.getProvider("auth-internal")),new FV(l,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ae(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rf(d.options.projectId,m)})(l,a),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Us(SA,kA,e),Us(SA,kA,"esm2020")})();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),xS=t=>{const e=lz(t);return e.charAt(0).toUpperCase()+e.slice(1)},bI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),uz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:l,...c},h)=>C.createElement("svg",{ref:h,...cz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:bI("lucide",a),...!o&&!uz(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,m])=>C.createElement(d,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const n=C.forwardRef(({className:r,...a},o)=>C.createElement(fz,{ref:o,iconNode:e,className:bI(`lucide-${oz(xS(t))}`,`lucide-${t}`,r),...a}));return n.displayName=xS(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],xI=Qe("arrow-down-right",hz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],_I=Qe("arrow-up-right",dz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],wI=Qe("calculator",mz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],EI=Qe("calendar-days",gz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],TI=Qe("camera",pz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],vz=Qe("chart-bar",yz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xz=Qe("chevron-down",bz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wz=Qe("chevron-left",_z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tz=Qe("chevron-right",Ez);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pm=Qe("circle-check-big",Az);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],vb=Qe("circle-plus",Sz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cz=Qe("clock",kz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Nz=Qe("cloud-upload",Oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Rz=Qe("copy",Iz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["circle",{cx:"12",cy:"6",r:"1",key:"1bh7o1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["circle",{cx:"12",cy:"18",r:"1",key:"lqb9t5"}]],Pz=Qe("divide",Dz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],jz=Qe("dollar-sign",Mz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Vz=Qe("hash",Lz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wx=Qe("image",Uz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Lf=Qe("info",zz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qz=Qe("layout-dashboard",Bz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],AI=Qe("list-plus",$z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Hz=Qe("log-in",Fz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gz=Qe("log-out",Kz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Wz=Qe("maximize-2",Yz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Qz=Qe("menu",Xz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Jz=Qe("moon",Zz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xx=Qe("pen-line",e8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],n8=Qe("ratio",t8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qx=Qe("save",r8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],a8=Qe("sun",i8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zx=Qe("target",s8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ml=Qe("trash-2",o8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jx=Qe("trending-up",l8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],e_=Qe("triangle-alert",u8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SI=Qe("users",c8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],h8=Qe("wallet",f8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kI=Qe("zap",d8);function CI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=CI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=CI(t))&&(r&&(r+=" "),r+=e);return r}var wv={},Ev={},_S;function m8(){return _S||(_S=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Ev)),Ev}var Tv={},wS;function OI(){return wS||(wS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Tv)),Tv}var Av={},ES;function NI(){return ES||(ES=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Av)),Av}var Sv={},TS;function t_(){return TS||(TS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],a=n.length;if(a===0)return r;let o=0,l="",c="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<a;){const d=n[o];c?d==="\\"&&o+1<a?(o++,l+=n[o]):d===c?c="":l+=d:h?d==='"'||d==="'"?c=d:d==="]"?(h=!1,r.push(l),l=""):l+=d:d==="["?(h=!0,l&&(r.push(l),l="")):d==="."?l&&(r.push(l),l=""):l+=d,o++}return l&&r.push(l),r}t.toPath=e})(Sv)),Sv}var AS;function n_(){return AS||(AS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m8(),n=OI(),r=NI(),a=t_();function o(c,h,d){if(c==null)return d;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?n.isDeepKey(h)?o(c,a.toPath(h),d):d:m}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const m=c[h];return m===void 0?d:m}default:{if(Array.isArray(h))return l(c,h,d);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?d:m}}}function l(c,h,d){if(h.length===0)return d;let m=c;for(let y=0;y<h.length;y++){if(m==null||e.isUnsafeProperty(h[y]))return d;m=m[h[y]]}return m===void 0?d:m}t.get=o})(wv)),wv}var kv,SS;function g8(){return SS||(SS=1,kv=n_().get),kv}var p8=g8();const Mg=Zs(p8);var ri=t=>t===0?0:t>0?1:-1,Pr=t=>typeof t=="number"&&t!=+t,Ho=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!Pr(t),Ji=t=>Oe(t)||typeof t=="string",y8=0,Vf=t=>{var e=++y8;return"".concat(t||"").concat(e)},Qs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var o;if(Ho(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return Pr(o)&&(o=r),a&&n!=null&&o>n&&(o=n),o},II=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function qi(t,e,n){return Oe(t)&&Oe(e)?t+n*(e-t):e}function RI(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Mg(r,e))===n)}var zn=t=>t===null||typeof t>"u",r_=t=>zn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),v8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function i_(t){if(typeof t!="string")return!1;var e=v8;return e.includes(t)}var b8=["viewBox","children"],kS=["points","pathLength"],Cv={svg:b8,polygon:kS,polyline:kS},a_=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{i_(a)&&(r[a]=(o=>n[a](n,o)))}),r},x8=(t,e,n)=>r=>(t(e,n,r),null),_8=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var o=t[a];i_(a)&&typeof o=="function"&&(r||(r={}),r[a]=x8(o,e,n))}),r},w8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function DI(t){if(typeof t!="string")return!1;var e=w8;return e.includes(t)}function eo(t){var e=Object.entries(t).filter(n=>{var[r]=n;return DI(r)});return Object.fromEntries(e)}var PI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,E8=(t,e,n,r)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(a=r&&Cv?.[r])!==null&&a!==void 0?a:[],l=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&o.includes(e)||DI(e)),h=!!n&&i_(e);return l||c||h},Zn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(o=>{var l;E8((l=r)===null||l===void 0?void 0:l[o],o,e,n)&&(a[o]=r[o])}),a},T8=["children","width","height","viewBox","className","style","title","desc"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(null,arguments)}function A8(t,e){if(t==null)return{};var n,r,a=S8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function S8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var MI=C.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:o,className:l,style:c,title:h,desc:d}=t,m=A8(t,T8),y=o||{width:r,height:a,x:0,y:0},b=Pt("recharts-surface",l);return C.createElement("svg",bb({},Zn(m,!0,"svg"),{className:b,width:r,height:a,style:c,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),C.createElement("title",null,h),C.createElement("desc",null,d),n)}),k8=["children","className"];function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(null,arguments)}function C8(t,e){if(t==null)return{};var n,r,a=O8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function O8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Va=C.forwardRef((t,e)=>{var{children:n,className:r}=t,a=C8(t,k8),o=Pt("recharts-layer",r);return C.createElement("g",xb({className:o},Zn(a,!0),{ref:e}),n)}),N8=ZC(),I8=C.createContext(null);function Gt(t){return function(){return t}}const _b=Math.PI,wb=2*_b,zo=1e-6,R8=wb-zo;function jI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function D8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return jI;const n=10**e;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class P8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?jI:D8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,o,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,a,o){if(e=+e,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,h=r-e,d=a-n,m=l-e,y=c-n,b=m*m+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>zo)if(!(Math.abs(y*h-d*m)>zo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=a-c,S=h*h+d*d,T=_*_+E*E,I=Math.sqrt(S),M=Math.sqrt(b),L=o*Math.tan((_b-Math.acos((S+b-T)/(2*I*M)))/2),B=L/M,F=L/I;Math.abs(B-1)>zo&&this._append`L${e+B*m},${n+B*y}`,this._append`A${o},${o},0,0,${+(y*_>m*E)},${this._x1=e+F*h},${this._y1=n+F*d}`}}arc(e,n,r,a,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),h=r*Math.sin(a),d=e+c,m=n+h,y=1^l,b=l?a-o:o-a;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>zo||Math.abs(this._y1-m)>zo)&&this._append`L${d},${m}`,r&&(b<0&&(b=b%wb+wb),b>R8?this._append`A${r},${r},0,1,${y},${e-c},${n-h}A${r},${r},0,1,${y},${this._x1=d},${this._y1=m}`:b>zo&&this._append`A${r},${r},0,${+(b>=_b)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function LI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new P8(e)}function s_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function VI(t){this._context=t}VI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jg(t){return new VI(t)}function UI(t){return t[0]}function zI(t){return t[1]}function BI(t,e){var n=Gt(!0),r=null,a=jg,o=null,l=LI(c);t=typeof t=="function"?t:t===void 0?UI:Gt(t),e=typeof e=="function"?e:e===void 0?zI:Gt(e);function c(h){var d,m=(h=s_(h)).length,y,b=!1,_;for(r==null&&(o=a(_=l())),d=0;d<=m;++d)!(d<m&&n(y=h[d],d,h))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+t(y,d,h),+e(y,d,h));if(_)return o=null,_+""||null}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:Gt(+h),c):t},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:Gt(+h),c):e},c.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Gt(!!h),c):n},c.curve=function(h){return arguments.length?(a=h,r!=null&&(o=a(r)),c):a},c.context=function(h){return arguments.length?(h==null?r=o=null:o=a(r=h),c):r},c}function Vd(t,e,n){var r=null,a=Gt(!0),o=null,l=jg,c=null,h=LI(d);t=typeof t=="function"?t:t===void 0?UI:Gt(+t),e=typeof e=="function"?e:Gt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?zI:Gt(+n);function d(y){var b,_,E,S=(y=s_(y)).length,T,I=!1,M,L=new Array(S),B=new Array(S);for(o==null&&(c=l(M=h())),b=0;b<=S;++b){if(!(b<S&&a(T=y[b],b,y))===I)if(I=!I)_=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=b-1;E>=_;--E)c.point(L[E],B[E]);c.lineEnd(),c.areaEnd()}I&&(L[b]=+t(T,b,y),B[b]=+e(T,b,y),c.point(r?+r(T,b,y):L[b],n?+n(T,b,y):B[b]))}if(M)return c=null,M+""||null}function m(){return BI().defined(a).curve(l).context(o)}return d.x=function(y){return arguments.length?(t=typeof y=="function"?y:Gt(+y),r=null,d):t},d.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Gt(+y),d):t},d.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Gt(+y),d):r},d.y=function(y){return arguments.length?(e=typeof y=="function"?y:Gt(+y),n=null,d):e},d.y0=function(y){return arguments.length?(e=typeof y=="function"?y:Gt(+y),d):e},d.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Gt(+y),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(y){return arguments.length?(a=typeof y=="function"?y:Gt(!!y),d):a},d.curve=function(y){return arguments.length?(l=y,o!=null&&(c=l(o)),d):l},d.context=function(y){return arguments.length?(y==null?o=c=null:c=l(o=y),d):o},d}class qI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function M8(t){return new qI(t,!0)}function j8(t){return new qI(t,!1)}function Mm(){}function jm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $I(t){this._context=t}$I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L8(t){return new $I(t)}function FI(t){this._context=t}FI.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function V8(t){return new FI(t)}function HI(t){this._context=t}HI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U8(t){return new HI(t)}function KI(t){this._context=t}KI.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function z8(t){return new KI(t)}function CS(t){return t<0?-1:1}function OS(t,e,n){var r=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),c=(o*a+l*r)/(r+a);return(CS(o)+CS(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function NS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ov(t,e,n){var r=t._x0,a=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,a+c*e,o-c,l-c*n,o,l)}function Lm(t){this._context=t}Lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ov(this,this._t0,NS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ov(this,NS(this,n=OS(this,t,e)),n);break;default:Ov(this,this._t0,n=OS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function GI(t){this._context=new YI(t)}(GI.prototype=Object.create(Lm.prototype)).point=function(t,e){Lm.prototype.point.call(this,e,t)};function YI(t){this._context=t}YI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,o){this._context.bezierCurveTo(e,t,r,n,o,a)}};function B8(t){return new Lm(t)}function q8(t){return new GI(t)}function WI(t){this._context=t}WI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=IS(t),a=IS(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function IS(t){var e,n=t.length-1,r,a=new Array(n),o=new Array(n),l=new Array(n);for(a[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/o[e];for(o[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-a[e+1];return[a,o]}function $8(t){return new WI(t)}function Lg(t,e){this._context=t,this._t=e}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function F8(t){return new Lg(t,.5)}function H8(t){return new Lg(t,0)}function K8(t){return new Lg(t,1)}function Su(t,e){if((l=t.length)>1)for(var n=1,r,a,o=t[e[0]],l,c=o.length;n<l;++n)for(a=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Eb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function G8(t,e){return t[e]}function Y8(t){const e=[];return e.key=t,e}function W8(){var t=Gt([]),e=Eb,n=Su,r=G8;function a(o){var l=Array.from(t.apply(this,arguments),Y8),c,h=l.length,d=-1,m;for(const y of o)for(c=0,++d;c<h;++c)(l[c][d]=[0,+r(y,l[c].key,d,o)]).data=y;for(c=0,m=s_(e(l));c<h;++c)l[m[c]].index=c;return n(l,m),l}return a.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Gt(Array.from(o)),a):t},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:Gt(+o),a):r},a.order=function(o){return arguments.length?(e=o==null?Eb:typeof o=="function"?o:Gt(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(n=o??Su,a):n},a}function X8(t,e){if((r=t.length)>0){for(var n,r,a=0,o=t[0].length,l;a<o;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Su(t,e)}}function Q8(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,o=r.length;n<o;++n){for(var l=0,c=0;l<a;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Su(t,e)}}function Z8(t,e){if(!(!((l=t.length)>0)||!((o=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,o,l;r<o;++r){for(var c=0,h=0,d=0;c<l;++c){for(var m=t[e[c]],y=m[r][1]||0,b=m[r-1][1]||0,_=(y-b)/2,E=0;E<c;++E){var S=t[e[E]],T=S[r][1]||0,I=S[r-1][1]||0;_+=T-I}h+=y,d+=_*y}a[r-1][1]+=a[r-1][0]=n,h&&(n-=d/h)}a[r-1][1]+=a[r-1][0]=n,Su(t,e)}}var Nv={},Iv={},RS;function J8(){return RS||(RS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}t.uniqBy=e})(Iv)),Iv}var Rv={},DS;function XI(){return DS||(DS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Rv)),Rv}var Dv={},Pv={},Mv={},PS;function e7(){return PS||(PS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Mv)),Mv}var MS;function o_(){return MS||(MS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e7();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Pv)),Pv}var jv={},jS;function t7(){return jS||(jS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(jv)),jv}var LS;function n7(){return LS||(LS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o_(),n=t7();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(Dv)),Dv}var Lv={},Vv={},VS;function r7(){return VS||(VS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Vv)),Vv}var Uv={},zv={},Bv={},qv={},US;function QI(){return US||(US=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(qv)),qv}var $v={},zS;function ZI(){return zS||(zS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})($v)),$v}var Fv={},BS;function JI(){return BS||(BS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Fv)),Fv}var qS;function i7(){return qS||(qS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l_(),n=QI(),r=ZI(),a=JI();function o(y,b,_){return typeof _!="function"?e.isMatch(y,b):l(y,b,function E(S,T,I,M,L,B){const F=_(S,T,I,M,L,B);return F!==void 0?!!F:l(S,T,E,B)},new Map)}function l(y,b,_,E){if(b===y)return!0;switch(typeof b){case"object":return c(y,b,_,E);case"function":return Object.keys(b).length>0?l(y,{...b},_,E):a.eq(y,b);default:return n.isObject(y)?typeof b=="string"?b==="":!0:a.eq(y,b)}}function c(y,b,_,E){if(b==null)return!0;if(Array.isArray(b))return d(y,b,_,E);if(b instanceof Map)return h(y,b,_,E);if(b instanceof Set)return m(y,b,_,E);const S=Object.keys(b);if(y==null)return S.length===0;if(S.length===0)return!0;if(E&&E.has(b))return E.get(b)===y;E&&E.set(b,y);try{for(let T=0;T<S.length;T++){const I=S[T];if(!r.isPrimitive(y)&&!(I in y)||b[I]===void 0&&y[I]!==void 0||b[I]===null&&y[I]!==null||!_(y[I],b[I],I,y,b,E))return!1}return!0}finally{E&&E.delete(b)}}function h(y,b,_,E){if(b.size===0)return!0;if(!(y instanceof Map))return!1;for(const[S,T]of b.entries()){const I=y.get(S);if(_(I,T,S,y,b,E)===!1)return!1}return!0}function d(y,b,_,E){if(b.length===0)return!0;if(!Array.isArray(y))return!1;const S=new Set;for(let T=0;T<b.length;T++){const I=b[T];let M=!1;for(let L=0;L<y.length;L++){if(S.has(L))continue;const B=y[L];let F=!1;if(_(B,I,T,y,b,E)&&(F=!0),F){S.add(L),M=!0;break}}if(!M)return!1}return!0}function m(y,b,_,E){return b.size===0?!0:y instanceof Set?d([...y],[...b],_,E):!1}t.isMatchWith=o,t.isSetMatch=m})(Bv)),Bv}var $S;function l_(){return $S||($S=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i7();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(zv)),zv}var Hv={},Kv={},Gv={},FS;function a7(){return FS||(FS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Gv)),Gv}var Yv={},HS;function eR(){return HS||(HS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Yv)),Yv}var Wv={},KS;function tR(){return KS||(KS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",h="[object Map]",d="[object Set]",m="[object Array]",y="[object Function]",b="[object ArrayBuffer]",_="[object Object]",E="[object Error]",S="[object DataView]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",L="[object Uint32Array]",B="[object BigUint64Array]",F="[object Int8Array]",$="[object Int16Array]",R="[object Int32Array]",O="[object BigInt64Array]",D="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=B,t.booleanTag=a,t.dataViewTag=S,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=U,t.functionTag=y,t.int16ArrayTag=$,t.int32ArrayTag=R,t.int8ArrayTag=F,t.mapTag=h,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=M,t.uint32ArrayTag=L,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=I})(Wv)),Wv}var Xv={},GS;function s7(){return GS||(GS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Xv)),Xv}var YS;function nR(){return YS||(YS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a7(),n=eR(),r=tR(),a=ZI(),o=s7();function l(m,y){return c(m,void 0,m,new Map,y)}function c(m,y,b,_=new Map,E=void 0){const S=E?.(m,y,b,_);if(S!==void 0)return S;if(a.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const T=new Array(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,b,_,E);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;_.set(m,T);for(const[I,M]of m)T.set(I,c(M,I,b,_,E));return T}if(m instanceof Set){const T=new Set;_.set(m,T);for(const I of m)T.add(c(I,void 0,b,_,E));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,b,_,E);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,T),h(T,m,b,_,E),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return _.set(m,T),h(T,m,b,_,E),T}if(m instanceof Blob){const T=new Blob([m],{type:m.type});return _.set(m,T),h(T,m,b,_,E),T}if(m instanceof Error){const T=new m.constructor;return _.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,h(T,m,b,_,E),T}if(typeof m=="object"&&d(m)){const T=Object.create(Object.getPrototypeOf(m));return _.set(m,T),h(T,m,b,_,E),T}return m}function h(m,y,b=m,_,E){const S=[...Object.keys(y),...e.getSymbols(y)];for(let T=0;T<S.length;T++){const I=S[T],M=Object.getOwnPropertyDescriptor(m,I);(M==null||M.writable)&&(m[I]=c(y[I],I,b,_,E))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=h})(Kv)),Kv}var WS;function o7(){return WS||(WS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nR();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Hv)),Hv}var XS;function l7(){return XS||(XS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l_(),n=o7();function r(a){return a=n.cloneDeep(a),o=>e.isMatch(o,a)}t.matches=r})(Uv)),Uv}var Qv={},Zv={},Jv={},QS;function u7(){return QS||(QS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nR(),n=tR();function r(a,o){return e.cloneDeepWith(a,(l,c,h,d)=>{const m=o?.(l,c,h,d);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case n.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r})(Jv)),Jv}var ZS;function c7(){return ZS||(ZS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u7();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Zv)),Zv}var e0={},t0={},JS;function rR(){return JS||(JS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(t0)),t0}var n0={},ek;function f7(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eR();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(n0)),n0}var tk;function h7(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OI(),n=rR(),r=f7(),a=t_();function o(l,c){let h;if(Array.isArray(c)?h=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?h=a.toPath(c):h=[c],h.length===0)return!1;let d=l;for(let m=0;m<h.length;m++){const y=h[m];if((d==null||!Object.hasOwn(d,y))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(y)&&y<d.length))return!1;d=d[y]}return!0}t.has=o})(e0)),e0}var nk;function d7(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l_(),n=NI(),r=c7(),a=n_(),o=h7();function l(c,h){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return h=r.cloneDeep(h),function(d){const m=a.get(d,c);return m===void 0?o.has(d,c):h===void 0?m===void 0:e.isMatch(m,h)}}t.matchesProperty=l})(Qv)),Qv}var rk;function m7(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XI(),n=r7(),r=l7(),a=d7();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(Lv)),Lv}var ik;function g7(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J8(),n=XI(),r=n7(),a=m7();function o(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(c)):[]}t.uniqBy=o})(Nv)),Nv}var r0,ak;function p7(){return ak||(ak=1,r0=g7().uniqBy),r0}var y7=p7();const sk=Zs(y7);function v7(t,e,n){return e===!0?sk(t,n):typeof e=="function"?sk(t,e):t}var i0={exports:{}},a0={},s0={exports:{}},o0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok;function b7(){if(ok)return o0;ok=1;var t=Du();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(y,b){var _=b(),E=r({inst:{value:_,getSnapshot:b}}),S=E[0].inst,T=E[1];return o(function(){S.value=_,S.getSnapshot=b,h(S)&&T({inst:S})},[y,_,b]),a(function(){return h(S)&&T({inst:S}),y(function(){h(S)&&T({inst:S})})},[y]),l(_),_}function h(y){var b=y.getSnapshot;y=y.value;try{var _=b();return!n(y,_)}catch{return!0}}function d(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return o0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,o0}var lk;function x7(){return lk||(lk=1,s0.exports=b7()),s0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk;function _7(){if(uk)return a0;uk=1;var t=Du(),e=x7();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return a0.useSyncExternalStoreWithSelector=function(d,m,y,b,_){var E=o(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=c(function(){function I($){if(!M){if(M=!0,L=$,$=b($),_!==void 0&&S.hasValue){var R=S.value;if(_(R,$))return B=R}return B=$}if(R=B,r(L,$))return R;var O=b($);return _!==void 0&&_(R,O)?(L=$,R):(L=$,B=O)}var M=!1,L,B,F=y===void 0?null:y;return[function(){return I(m())},F===null?void 0:function(){return I(F())}]},[m,y,b,_]);var T=a(d,E[0],E[1]);return l(function(){S.hasValue=!0,S.value=T},[T]),h(T),T},a0}var ck;function w7(){return ck||(ck=1,i0.exports=_7()),i0.exports}var E7=w7(),u_=C.createContext(null),T7=t=>t,lr=()=>{var t=C.useContext(u_);return t?t.store.dispatch:T7},fm=()=>{},A7=()=>fm,S7=(t,e)=>t===e;function Re(t){var e=C.useContext(u_);return E7.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:A7,e?e.store.getState:fm,e?e.store.getState:fm,e?t:fm,S7)}function k7(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function C7(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function O7(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var fk=t=>Array.isArray(t)?t:[t];function N7(t){const e=Array.isArray(t[0])?t[0]:t;return O7(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function I7(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var R7=class{constructor(t){this.value=t}deref(){return this.value}},D7=typeof WeakRef<"u"?WeakRef:R7,P7=0,hk=1;function Ud(){return{s:P7,v:void 0,o:null,p:null}}function iR(t,e={}){let n=Ud();const{resultEqualityCheck:r}=e;let a,o=0;function l(){let c=n;const{length:h}=arguments;for(let y=0,b=h;y<b;y++){const _=arguments[y];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const S=E.get(_);S===void 0?(c=Ud(),E.set(_,c)):c=S}else{let E=c.p;E===null&&(c.p=E=new Map);const S=E.get(_);S===void 0?(c=Ud(),E.set(_,c)):c=S}}const d=c;let m;if(c.s===hk)m=c.v;else if(m=t.apply(null,arguments),o++,r){const y=a?.deref?.()??a;y!=null&&r(y,m)&&(m=y,o!==0&&o--),a=typeof m=="object"&&m!==null||typeof m=="function"?new D7(m):m}return d.s=hk,d.v=m,m}return l.clearCache=()=>{n=Ud(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function M7(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let o=0,l=0,c,h={},d=a.pop();typeof d=="object"&&(h=d,d=a.pop()),k7(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...h},{memoize:y,memoizeOptions:b=[],argsMemoize:_=iR,argsMemoizeOptions:E=[]}=m,S=fk(b),T=fk(E),I=N7(a),M=y(function(){return o++,d.apply(null,arguments)},...S),L=_(function(){l++;const F=I7(I,arguments);return c=M.apply(null,F),c},...T);return Object.assign(L,{resultFunc:d,memoizedResultFunc:M,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var te=M7(iR),j7=Object.assign((t,e=te)=>{C7(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,h)=>(l[n[h]]=c,l),{}))},{withTypes:()=>j7}),l0={},u0={},c0={},dk;function L7(){return dk||(dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,o)=>{if(r!==a){const l=e(r),c=e(a);if(l===c&&l===0){if(r<a)return o==="desc"?1:-1;if(r>a)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(c0)),c0}var f0={},h0={},mk;function aR(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(h0)),h0}var gk;function V7(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=a})(f0)),f0}var pk;function U7(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L7(),n=V7(),r=t_();function a(o,l,c,h){if(o==null)return[];c=h?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const d=(_,E)=>{let S=_;for(let T=0;T<E.length&&S!=null;++T)S=S[E[T]];return S},m=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:d(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?d(E,_):typeof E=="object"?E[_]:E,y=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:y.map(E=>m(E,_))})).slice().sort((_,E)=>{for(let S=0;S<y.length;S++){const T=e.compareValues(_.criteria[S],E.criteria[S],c[S]);if(T!==0)return T}return 0}).map(_=>_.original)}t.orderBy=a})(u0)),u0}var d0={},yk;function z7(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],o=Math.floor(r),l=(c,h)=>{for(let d=0;d<c.length;d++){const m=c[d];Array.isArray(m)&&h<o?l(m,h+1):a.push(m)}};return l(n,0),a}t.flatten=e})(d0)),d0}var m0={},vk;function sR(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rR(),n=o_(),r=QI(),a=JI();function o(l,c,h){return r.isObject(h)&&(typeof c=="number"&&n.isArrayLike(h)&&e.isIndex(c)&&c<h.length||typeof c=="string"&&c in h)?a.eq(h[c],l):!1}t.isIterateeCall=o})(m0)),m0}var bk;function B7(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U7(),n=z7(),r=sR();function a(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=a})(l0)),l0}var g0,xk;function q7(){return xk||(xk=1,g0=B7().sortBy),g0}var $7=q7();const Vg=Zs($7);var oR=t=>t.legend.settings,F7=t=>t.legend.size,H7=t=>t.legend.payload;te([H7,oR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Vg(r,n):r});var zd=1;function K7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>zd||Math.abs(l.left-e.left)>zd||Math.abs(l.top-e.top)>zd||Math.abs(l.width-e.width)>zd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Mn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var G7=typeof Symbol=="function"&&Symbol.observable||"@@observable",_k=G7,p0=()=>Math.random().toString(36).substring(7).split("").join("."),Y7={INIT:`@@redux/INIT${p0()}`,REPLACE:`@@redux/REPLACE${p0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${p0()}`},Vm=Y7;function c_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function lR(t,e,n){if(typeof t!="function")throw new Error(Mn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mn(1));return n(lR)(t,e)}let r=t,a=e,o=new Map,l=o,c=0,h=!1;function d(){l===o&&(l=new Map,o.forEach((T,I)=>{l.set(I,T)}))}function m(){if(h)throw new Error(Mn(3));return a}function y(T){if(typeof T!="function")throw new Error(Mn(4));if(h)throw new Error(Mn(5));let I=!0;d();const M=c++;return l.set(M,T),function(){if(I){if(h)throw new Error(Mn(6));I=!1,d(),l.delete(M),o=null}}}function b(T){if(!c_(T))throw new Error(Mn(7));if(typeof T.type>"u")throw new Error(Mn(8));if(typeof T.type!="string")throw new Error(Mn(17));if(h)throw new Error(Mn(9));try{h=!0,a=r(a,T)}finally{h=!1}return(o=l).forEach(M=>{M()}),T}function _(T){if(typeof T!="function")throw new Error(Mn(10));r=T,b({type:Vm.REPLACE})}function E(){const T=y;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Mn(11));function M(){const B=I;B.next&&B.next(m())}return M(),{unsubscribe:T(M)}},[_k](){return this}}}return b({type:Vm.INIT}),{dispatch:b,subscribe:y,getState:m,replaceReducer:_,[_k]:E}}function W7(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Vm.INIT})>"u")throw new Error(Mn(12));if(typeof n(void 0,{type:Vm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mn(13))})}function uR(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{W7(n)}catch(o){a=o}return function(l={},c){if(a)throw a;let h=!1;const d={};for(let m=0;m<r.length;m++){const y=r[m],b=n[y],_=l[y],E=b(_,c);if(typeof E>"u")throw c&&c.type,new Error(Mn(14));d[y]=E,h=h||E!==_}return h=h||r.length!==Object.keys(l).length,h?d:l}}function Um(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function X7(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(Mn(15))};const l={getState:a.getState,dispatch:(h,...d)=>o(h,...d)},c=t.map(h=>h(l));return o=Um(...c)(a.dispatch),{...a,dispatch:o}}}function cR(t){return c_(t)&&"type"in t&&typeof t.type=="string"}var fR=Symbol.for("immer-nothing"),wk=Symbol.for("immer-draftable"),Mr=Symbol.for("immer-state");function Ai(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ku=Object.getPrototypeOf;function al(t){return!!t&&!!t[Mr]}function Ua(t){return t?hR(t)||Array.isArray(t)||!!t[wk]||!!t.constructor?.[wk]||ah(t)||zg(t):!1}var Q7=Object.prototype.constructor.toString();function hR(t){if(!t||typeof t!="object")return!1;const e=ku(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Q7}function zm(t,e){Ug(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Ug(t){const e=t[Mr];return e?e.type_:Array.isArray(t)?1:ah(t)?2:zg(t)?3:0}function Tb(t,e){return Ug(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function dR(t,e,n){const r=Ug(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Z7(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ah(t){return t instanceof Map}function zg(t){return t instanceof Set}function Bo(t){return t.copy_||t.base_}function Ab(t,e){if(ah(t))return new Map(t);if(zg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=hR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Mr];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const l=a[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(ku(t),r)}else{const r=ku(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function f_(t,e=!1){return Bg(t)||al(t)||!Ua(t)||(Ug(t)>1&&Object.defineProperties(t,{set:{value:Bd},add:{value:Bd},clear:{value:Bd},delete:{value:Bd}}),Object.freeze(t),e&&Object.values(t).forEach(n=>f_(n,!0))),t}function Bd(){Ai(2)}function Bg(t){return Object.isFrozen(t)}var J7={};function sl(t){const e=J7[t];return e||Ai(0,t),e}var Uf;function mR(){return Uf}function eB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ek(t,e){e&&(sl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sb(t){kb(t),t.drafts_.forEach(tB),t.drafts_=null}function kb(t){t===Uf&&(Uf=t.parent_)}function Tk(t){return Uf=eB(Uf,t)}function tB(t){const e=t[Mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Ak(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Mr].modified_&&(Sb(e),Ai(4)),Ua(t)&&(t=Bm(e,t),e.parent_||qm(e,t)),e.patches_&&sl("Patches").generateReplacementPatches_(n[Mr].base_,t,e.patches_,e.inversePatches_)):t=Bm(e,n,[]),Sb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==fR?t:void 0}function Bm(t,e,n){if(Bg(e))return e;const r=e[Mr];if(!r)return zm(e,(a,o)=>Sk(t,r,e,a,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return qm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,l=!1;r.type_===3&&(o=new Set(a),a.clear(),l=!0),zm(o,(c,h)=>Sk(t,r,a,c,h,n,l)),qm(t,a,!1),n&&t.patches_&&sl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Sk(t,e,n,r,a,o,l){if(al(a)){const c=o&&e&&e.type_!==3&&!Tb(e.assigned_,r)?o.concat(r):void 0,h=Bm(t,a,c);if(dR(n,r,h),al(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Ua(a)&&!Bg(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Bm(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(ah(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&qm(t,a)}}function qm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&f_(e,n)}function nB(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:mR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=h_;n&&(a=[r],o=zf);const{revoke:l,proxy:c}=Proxy.revocable(a,o);return r.draft_=c,r.revoke_=l,c}var h_={get(t,e){if(e===Mr)return t;const n=Bo(t);if(!Tb(n,e))return rB(t,n,e);const r=n[e];return t.finalized_||!Ua(r)?r:r===y0(t.base_,e)?(v0(t),t.copy_[e]=Ob(r,t)):r},has(t,e){return e in Bo(t)},ownKeys(t){return Reflect.ownKeys(Bo(t))},set(t,e,n){const r=gR(Bo(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=y0(Bo(t),e),o=a?.[Mr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Z7(n,a)&&(n!==void 0||Tb(t.base_,e)))return!0;v0(t),Cb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return y0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,v0(t),Cb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Bo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ai(11)},getPrototypeOf(t){return ku(t.base_)},setPrototypeOf(){Ai(12)}},zf={};zm(h_,(t,e)=>{zf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zf.deleteProperty=function(t,e){return zf.set.call(this,t,e,void 0)};zf.set=function(t,e,n){return h_.set.call(this,t[0],e,n,t[0])};function y0(t,e){const n=t[Mr];return(n?Bo(n):t)[e]}function rB(t,e,n){const r=gR(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function gR(t,e){if(!(e in t))return;let n=ku(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ku(n)}}function Cb(t){t.modified_||(t.modified_=!0,t.parent_&&Cb(t.parent_))}function v0(t){t.copy_||(t.copy_=Ab(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var iB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(h=o,...d){return l.produce(h,m=>n.call(this,m,...d))}}typeof n!="function"&&Ai(6),r!==void 0&&typeof r!="function"&&Ai(7);let a;if(Ua(e)){const o=Tk(this),l=Ob(e,void 0);let c=!0;try{a=n(l),c=!1}finally{c?Sb(o):kb(o)}return Ek(o,r),Ak(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===fR&&(a=void 0),this.autoFreeze_&&f_(a,!0),r){const o=[],l=[];sl("Patches").generateReplacementPatches_(e,a,o,l),r(o,l)}return a}else Ai(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,h=>e(h,...c));let r,a;return[this.produce(e,n,(l,c)=>{r=l,a=c}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ua(t)||Ai(8),al(t)&&(t=Ia(t));const e=Tk(this),n=Ob(t,void 0);return n[Mr].isManual_=!0,kb(e),n}finishDraft(t,e){const n=t&&t[Mr];(!n||!n.isManual_)&&Ai(9);const{scope_:r}=n;return Ek(r,e),Ak(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=sl("Patches").applyPatches_;return al(t)?r(t,e):this.produce(t,a=>r(a,e))}};function Ob(t,e){const n=ah(t)?sl("MapSet").proxyMap_(t,e):zg(t)?sl("MapSet").proxySet_(t,e):nB(t,e);return(e?e.scope_:mR()).drafts_.push(n),n}function Ia(t){return al(t)||Ai(10,t),pR(t)}function pR(t){if(!Ua(t)||Bg(t))return t;const e=t[Mr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ab(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Ab(t,!0);return zm(n,(r,a)=>{dR(n,r,pR(a))}),e&&(e.finalized_=!1),n}var aB=new iB,yR=aB.produce;function vR(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var sB=vR(),oB=vR,lB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Um:Um.apply(null,arguments)};function ai(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Rr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>cR(r)&&r.type===t,n}var bR=class gf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gf.prototype)}static get[Symbol.species](){return gf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gf(...e[0].concat(this)):new gf(...e.concat(this))}};function kk(t){return Ua(t)?yR(t,()=>{}):t}function qd(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function uB(t){return typeof t=="boolean"}var cB=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let l=new bR;return n&&(uB(n)?l.push(sB):l.push(oB(n.extraArgument))),l},fB="RTK_autoBatch",Ck=t=>e=>{setTimeout(e,t)},hB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,l=!1;const c=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ck(10):t.type==="callback"?t.queueNotification:Ck(t.timeout),d=()=>{l=!1,o&&(o=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const y=()=>a&&m(),b=r.subscribe(y);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){try{return a=!m?.meta?.[fB],o=!a,o&&(l||(l=!0,h(d))),r.dispatch(m)}finally{a=!0}}})},dB=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new bR(t);return r&&a.push(hB(typeof r=="object"?r:void 0)),a};function mB(t){const e=cB(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(c_(n))c=uR(n);else throw new Error(Rr(1));let h;typeof r=="function"?h=r(e):h=e();let d=Um;a&&(d=lB({trace:!1,...typeof a=="object"&&a}));const m=X7(...h),y=dB(m);let b=typeof l=="function"?l(y):y();const _=d(...b);return lR(c,o,_)}function xR(t){const e={},n=[];let r;const a={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Rr(28));if(c in e)throw new Error(Rr(29));return e[c]=l,a},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),a},addMatcher(o,l){return n.push({matcher:o,reducer:l}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function gB(t){return typeof t=="function"}function pB(t,e){let[n,r,a]=xR(e),o;if(gB(t))o=()=>kk(t());else{const c=kk(t);o=()=>c}function l(c=o(),h){let d=[n[h.type],...r.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[a]),d.reduce((m,y)=>{if(y)if(al(m)){const _=y(m,h);return _===void 0?m:_}else{if(Ua(m))return yR(m,b=>y(b,h));{const b=y(m,h);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return l.getInitialState=o,l}var yB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",vB=(t=21)=>{let e="",n=t;for(;n--;)e+=yB[Math.random()*64|0];return e},bB=Symbol.for("rtk-slice-createasyncthunk");function xB(t,e){return`${t}/${e}`}function _B({creators:t}={}){const e=t?.asyncThunk?.[bB];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(Rr(11));const l=(typeof r.reducers=="function"?r.reducers(EB()):r.reducers)||{},c=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(L,B){const F=typeof L=="string"?L:L.type;if(!F)throw new Error(Rr(12));if(F in h.sliceCaseReducersByType)throw new Error(Rr(13));return h.sliceCaseReducersByType[F]=B,d},addMatcher(L,B){return h.sliceMatchers.push({matcher:L,reducer:B}),d},exposeAction(L,B){return h.actionCreators[L]=B,d},exposeCaseReducer(L,B){return h.sliceCaseReducersByName[L]=B,d}};c.forEach(L=>{const B=l[L],F={reducerName:L,type:xB(a,L),createNotation:typeof r.reducers=="function"};AB(B)?kB(F,B,d,e):TB(F,B,d)});function m(){const[L={},B=[],F=void 0]=typeof r.extraReducers=="function"?xR(r.extraReducers):[r.extraReducers],$={...L,...h.sliceCaseReducersByType};return pB(r.initialState,R=>{for(let O in $)R.addCase(O,$[O]);for(let O of h.sliceMatchers)R.addMatcher(O.matcher,O.reducer);for(let O of B)R.addMatcher(O.matcher,O.reducer);F&&R.addDefaultCase(F)})}const y=L=>L,b=new Map,_=new WeakMap;let E;function S(L,B){return E||(E=m()),E(L,B)}function T(){return E||(E=m()),E.getInitialState()}function I(L,B=!1){function F(R){let O=R[L];return typeof O>"u"&&B&&(O=qd(_,F,T)),O}function $(R=y){const O=qd(b,B,()=>new WeakMap);return qd(O,R,()=>{const D={};for(const[U,j]of Object.entries(r.selectors??{}))D[U]=wB(j,R,()=>qd(_,R,T),B);return D})}return{reducerPath:L,getSelectors:$,get selectors(){return $(F)},selectSlice:F}}const M={name:a,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:T,...I(o),injectInto(L,{reducerPath:B,...F}={}){const $=B??o;return L.inject({reducerPath:$,reducer:S},F),{...M,...I($,!0)}}};return M}}function wB(t,e,n,r){function a(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return a.unwrapped=t,a}var jr=_B();function EB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function TB({type:t,reducerName:e,createNotation:n},r,a){let o,l;if("reducer"in r){if(n&&!SB(r))throw new Error(Rr(17));o=r.reducer,l=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?ai(t,l):ai(t))}function AB(t){return t._reducerDefinitionType==="asyncThunk"}function SB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function kB({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Rr(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:h,settled:d,options:m}=n,y=a(t,o,m);r.exposeAction(e,y),l&&r.addCase(y.fulfilled,l),c&&r.addCase(y.pending,c),h&&r.addCase(y.rejected,h),d&&r.addMatcher(y.settled,d),r.exposeCaseReducer(e,{fulfilled:l||$d,pending:c||$d,rejected:h||$d,settled:d||$d})}function $d(){}var CB="task",_R="listener",wR="completed",d_="cancelled",OB=`task-${d_}`,NB=`task-${wR}`,Nb=`${_R}-${d_}`,IB=`${_R}-${wR}`,qg=class{constructor(t){this.code=t,this.message=`${CB} ${d_} (reason: ${t})`}name="TaskAbortError";message},m_=(t,e)=>{if(typeof t!="function")throw new TypeError(Rr(32))},$m=()=>{},ER=(t,e=$m)=>(t.catch(e),t),TR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Xo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Qo=t=>{if(t.aborted){const{reason:e}=t;throw new qg(e)}};function AR(t,e){let n=$m;return new Promise((r,a)=>{const o=()=>a(new qg(t.reason));if(t.aborted){o();return}n=TR(t,o),e.finally(()=>n()).then(r,a)}).finally(()=>{n=$m})}var RB=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof qg?"cancelled":"rejected",error:n}}finally{e?.()}},Fm=t=>e=>ER(AR(t,e).then(n=>(Qo(t),n))),SR=t=>{const e=Fm(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:pu}=Object,Ok={},$g="listenerMiddleware",DB=(t,e)=>{const n=r=>TR(t,()=>Xo(r,t.reason));return(r,a)=>{m_(r);const o=new AbortController;n(o);const l=RB(async()=>{Qo(t),Qo(o.signal);const c=await r({pause:Fm(o.signal),delay:SR(o.signal),signal:o.signal});return Qo(o.signal),c},()=>Xo(o,NB));return a?.autoJoin&&e.push(l.catch($m)),{result:Fm(t)(l),cancel(){Xo(o,OB)}}}},PB=(t,e)=>{const n=async(r,a)=>{Qo(e);let o=()=>{};const c=[new Promise((h,d)=>{let m=t({predicate:r,effect:(y,b)=>{b.unsubscribe(),h([y,b.getState(),b.getOriginalState()])}});o=()=>{m(),d()}})];a!=null&&c.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await AR(e,Promise.race(c));return Qo(e),h}finally{o()}};return(r,a)=>ER(n(r,a))},kR=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:o}=t;if(e)a=ai(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Rr(21));return m_(o),{predicate:a,type:e,effect:o}},CR=pu(t=>{const{type:e,predicate:n,effect:r}=kR(t);return{id:vB(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Rr(22))}}},{withTypes:()=>CR}),Nk=(t,e)=>{const{type:n,effect:r,predicate:a}=kR(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===r)},Ib=t=>{t.pending.forEach(e=>{Xo(e,Nb)})},MB=t=>()=>{t.forEach(Ib),t.clear()},Ik=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},OR=pu(ai(`${$g}/add`),{withTypes:()=>OR}),jB=ai(`${$g}/removeAll`),NR=pu(ai(`${$g}/remove`),{withTypes:()=>NR}),LB=(...t)=>{console.error(`${$g}/error`,...t)},sh=(t={})=>{const e=new Map,{extra:n,onError:r=LB}=t;m_(r);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y?.cancelActive&&Ib(m)}),o=m=>{const y=Nk(e,m)??CR(m);return a(y)};pu(o,{withTypes:()=>o});const l=m=>{const y=Nk(e,m);return y&&(y.unsubscribe(),m.cancelActive&&Ib(y)),!!y};pu(l,{withTypes:()=>l});const c=async(m,y,b,_)=>{const E=new AbortController,S=PB(o,E.signal),T=[];try{m.pending.add(E),await Promise.resolve(m.effect(y,pu({},b,{getOriginalState:_,condition:(I,M)=>S(I,M).then(Boolean),take:S,delay:SR(E.signal),pause:Fm(E.signal),extra:n,signal:E.signal,fork:DB(E.signal,T),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,M,L)=>{I!==E&&(Xo(I,Nb),L.delete(I))})},cancel:()=>{Xo(E,Nb),m.pending.delete(E)},throwIfCancelled:()=>{Qo(E.signal)}})))}catch(I){I instanceof qg||Ik(r,I,{raisedBy:"effect"})}finally{await Promise.all(T),Xo(E,IB),m.pending.delete(E)}},h=MB(e);return{middleware:m=>y=>b=>{if(!cR(b))return y(b);if(OR.match(b))return o(b.payload);if(jB.match(b)){h();return}if(NR.match(b))return l(b.payload);let _=m.getState();const E=()=>{if(_===Ok)throw new Error(Rr(23));return _};let S;try{if(S=y(b),e.size>0){const T=m.getState(),I=Array.from(e.values());for(const M of I){let L=!1;try{L=M.predicate(b,T,_)}catch(B){L=!1,Ik(r,B,{raisedBy:"predicate"})}L&&c(M,b,m,E)}}}finally{_=Ok}return S},startListening:o,stopListening:l,clearListeners:h}};function Rr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var VB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},IR=jr({name:"chartLayout",initialState:VB,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:UB,setLayout:zB,setChartSize:BB,setScale:qB}=IR.actions,$B=IR.reducer;function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){FB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FB(t,e,n){return(e=HB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HB(t){var e=KB(t,"string");return typeof e=="symbol"?e:e+""}function KB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hm=Math.PI/180,GB=t=>t*180/Math.PI,Un=(t,e,n,r)=>({x:t+Math.cos(-Hm*r)*n,y:e+Math.sin(-Hm*r)*n}),YB=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},WB=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return Math.sqrt((n-a)**2+(r-o)**2)},XB=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:o}=e,l=WB({x:n,y:r},{x:a,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-a)/l,h=Math.acos(c);return r>o&&(h=2*Math.PI-h),{radius:l,angle:GB(h),angleInRadian:h}},QB=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:e-o*360,endAngle:n-o*360}},ZB=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(a,o);return t+l*360},JB=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:o}=XB({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(a<l||a>c||a===0)return null;var{startAngle:h,endAngle:d}=QB(e),m=o,y;if(h<=d){for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}else{for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}return y?Dk(Dk({},e),{},{radius:a,angle:ZB(m,e)}):null};function RR(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){eq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eq(t,e,n){return(e=tq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tq(t){var e=nq(t,"string");return typeof e=="symbol"?e:e+""}function nq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sr(t,e,n){return zn(t)||zn(e)?n:Ji(e)?Mg(t,e,n):typeof e=="function"?e(t):n}var rq=(t,e,n,r,a)=>{var o,l=-1,c=(o=e?.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<c;h++){var d=h>0?n[h-1].coordinate:n[c-1].coordinate,m=n[h].coordinate,y=h>=c-1?n[0].coordinate:n[h+1].coordinate,b=void 0;if(ri(m-d)!==ri(y-m)){var _=[];if(ri(y-m)===ri(a[1]-a[0])){b=y;var E=m+a[1]-a[0];_[0]=Math.min(E,(E+d)/2),_[1]=Math.max(E,(E+d)/2)}else{b=d;var S=y+a[1]-a[0];_[0]=Math.min(m,(S+m)/2),_[1]=Math.max(m,(S+m)/2)}var T=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>T[0]&&t<=T[1]||t>=_[0]&&t<=_[1]){({index:l}=n[h]);break}}else{var I=Math.min(d,y),M=Math.max(d,y);if(t>(I+m)/2&&t<=(M+m)/2){({index:l}=n[h]);break}}}else if(e){for(var L=0;L<c;L++)if(L===0&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L>0&&L<c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L===c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2){({index:l}=e[L]);break}}return l},iq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Oe(t[o]))return ei(ei({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Oe(t[l]))return ei(ei({},t),{},{[l]:t[l]+(a||0)})}return t},Fa=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",DR=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var a,o,l=t.map(c=>(c.coordinate===e&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate));return a||l.push(e),o||l.push(n),l},PR=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:o,scale:l,realScaleType:c,isCategorical:h,categoricalDomain:d,tickCount:m,ticks:y,niceTicks:b,axisType:_}=t;if(!l)return null;var E=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/E:0;if(S=_==="angleAxis"&&o&&o.length>=2?ri(o[0]-o[1])*2*S:S,y||b){var T=(y||b||[]).map((I,M)=>{var L=r?r.indexOf(I):I;return{coordinate:l(L)+S,value:I,offset:S,index:M}});return T.filter(I=>!Pr(I.coordinate))}return h&&d?d.map((I,M)=>({coordinate:l(I)+S,value:I,index:M,offset:S})):l.ticks&&m!=null?l.ticks(m).map((I,M)=>({coordinate:l(I)+S,value:I,offset:S,index:M})):l.domain().map((I,M)=>({coordinate:l(I)+S,value:r?r[I]:I,index:M,offset:S}))},Mk=1e-4,aq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-Mk,o=Math.max(r[0],r[1])+Mk,l=t(e[0]),c=t(e[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([e[0],e[n-1]])}},sq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0,l=0;l<e;++l){var c=Pr(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},oq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0;o<e;++o){var l=Pr(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},lq={sign:sq,expand:X8,none:Su,silhouette:Q8,wiggle:Z8,positive:oq},uq=(t,e,n)=>{var r=lq[n],a=W8().keys(e).value((o,l)=>+sr(o,l,0)).order(Eb).offset(r);return a(t)};function cq(t){return t==null?void 0:String(t)}function jk(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!zn(a[e.dataKey])){var c=RI(n,"value",a[e.dataKey]);if(c)return c.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var h=sr(a,zn(l)?e.dataKey:l);return zn(h)?null:e.scale(h)}var fq=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},hq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],dq=(t,e,n)=>{if(t!=null)return hq(Object.keys(t).reduce((r,a)=>{var o=t[a],{stackedData:l}=o,c=l.reduce((h,d)=>{var m=RR(d,e,n),y=fq(m);return[Math.min(h[0],y[0]),Math.max(h[1],y[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},Lk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rb=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=Vg(e,m=>m.coordinate),o=1/0,l=1,c=a.length;l<c;l++){var h=a[l],d=a[l-1];o=Math.min((h.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Uk(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:o}=t;return ei(ei({},e),{},{dataKey:n,payload:r,value:a,name:o})}function MR(t,e){if(t)return String(t);if(typeof e=="string")return e}function mq(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var o=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return o?{x:t,y:e}:null}return r?JB({x:t,y:e},r):null}var gq=(t,e,n,r)=>{var a=e.find(d=>d&&d.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,{radius:l}=r;return ei(ei(ei({},r),Un(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,{angle:h}=r;return ei(ei(ei({},r),Un(r.cx,r.cy,c,h)),{},{angle:h,radius:c})}return{x:0,y:0}},pq=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ha=t=>t.layout.width,Ka=t=>t.layout.height,yq=t=>t.layout.scale,jR=t=>t.layout.margin,Fg=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Hg=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),vq="data-recharts-item-index",bq="data-recharts-item-data-key",oh=60;function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){xq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xq(t,e,n){return(e=_q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _q(t){var e=wq(t,"string");return typeof e=="symbol"?e:e+""}function wq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eq=t=>t.brush.height;function Tq(t){var e=Hg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:oh;return n+a}return n},0)}function Aq(t){var e=Hg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:oh;return n+a}return n},0)}function Sq(t){var e=Fg(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function kq(t){var e=Fg(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qn=te([Ha,Ka,jR,Eq,Tq,Aq,Sq,kq,oR,F7],(t,e,n,r,a,o,l,c,h,d)=>{var m={left:(n.left||0)+a,right:(n.right||0)+o},y={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Fd(Fd({},y),m),_=b.bottom;b.bottom+=r,b=iq(b,h,d);var E=t-b.left-b.right,S=e-b.top-b.bottom;return Fd(Fd({brushBottom:_},b),{},{width:Math.max(E,0),height:Math.max(S,0)})}),Cq=te(qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),LR=te(Ha,Ka,(t,e)=>({x:0,y:0,width:t,height:e})),Oq=C.createContext(null),oi=()=>C.useContext(Oq)!=null,Kg=t=>t.brush,Gg=te([Kg,qn,jR],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),g_=()=>{var t,e=oi(),n=Re(Cq),r=Re(Gg),a=(t=Re(Kg))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Nq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VR=()=>{var t;return(t=Re(qn))!==null&&t!==void 0?t:Nq},UR=()=>Re(Ha),zR=()=>Re(Ka),Ct=t=>t.layout.layoutType,p_=()=>Re(Ct),Iq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},BR=jr({name:"legend",initialState:Iq,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ia(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Dee,setLegendSettings:Pee,addLegendPayload:Rq,removeLegendPayload:Dq}=BR.actions,Pq=BR.reducer;function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(null,arguments)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function b0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){Mq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mq(t,e,n){return(e=jq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jq(t){var e=Lq(t,"string");return typeof e=="symbol"?e:e+""}function Lq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vq(t){return Array.isArray(t)&&Ji(t[0])&&Ji(t[1])?t.join(" ~ "):t}var Uq=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:o,formatter:l,itemSorter:c,wrapperClassName:h,labelClassName:d,label:m,labelFormatter:y,accessibilityLayer:b=!1}=t,_=()=>{if(o&&o.length){var F={padding:0,margin:0},$=(c?Vg(o,c):o).map((R,O)=>{if(R.type==="none")return null;var D=R.formatter||l||Vq,{value:U,name:j}=R,z=U,V=j;if(D){var pe=D(U,j,R,O,o);if(Array.isArray(pe))[z,V]=pe;else if(pe!=null)z=pe;else return null}var ye=b0({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:ye},Ji(V)?C.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Ji(V)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},z),C.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:F},$)}return null},E=b0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=b0({margin:0},a),T=!zn(m),I=T?m:"",M=Pt("recharts-default-tooltip",h),L=Pt("recharts-tooltip-label",d);T&&y&&o!==void 0&&o!==null&&(I=y(m,o));var B=b?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",Db({className:M,style:E},B),C.createElement("p",{className:L,style:S},C.isValidElement(I)?I:"".concat(I)),_())},tf="recharts-tooltip-wrapper",zq={visibility:"hidden"};function Bq(t){var{coordinate:e,translateX:n,translateY:r}=t;return Pt(tf,{["".concat(tf,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(tf,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(tf,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(tf,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function qk(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:o,reverseDirection:l,tooltipDimension:c,viewBox:h,viewBoxDimension:d}=t;if(o&&Oe(o[r]))return o[r];var m=n[r]-c-(a>0?a:0),y=n[r]+a;if(e[r])return l[r]?m:y;var b=h[r];if(b==null)return 0;if(l[r]){var _=m,E=b;return _<E?Math.max(y,b):Math.max(m,b)}if(d==null)return 0;var S=y+c,T=b+d;return S>T?Math.max(m,b):Math.max(y,b)}function qq(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $q(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:h}=t,d,m,y;return l.height>0&&l.width>0&&n?(m=qk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),y=qk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),d=qq({translateX:m,translateY:y,useTranslate3d:c})):d=zq,{cssProperties:d,cssClasses:Bq({translateX:m,translateY:y,coordinate:n})}}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Pb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pb(t,e,n){return(e=Fq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fq(t){var e=Hq(t,"string");return typeof e=="symbol"?e:e+""}function Hq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kq extends C.PureComponent{constructor(){super(...arguments),Pb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Pb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:o,coordinate:l,hasPayload:c,isAnimationActive:h,offset:d,position:m,reverseDirection:y,useTranslate3d:b,viewBox:_,wrapperStyle:E,lastBoundingBox:S,innerRef:T,hasPortalFromProps:I}=this.props,{cssClasses:M,cssProperties:L}=$q({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:m,reverseDirection:y,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:_}),B=I?{}:Hd(Hd({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),F=Hd(Hd({},B),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:F,ref:T},o)}}var Gq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qu={devToolsEnabled:!1,isSsr:Gq()},qR=()=>Re(t=>t.rootProps.accessibilityLayer);function or(t){return Number.isFinite(t)}function Km(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(null,arguments)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){Yq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yq(t,e,n){return(e=Wq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wq(t){var e=Xq(t,"string");return typeof e=="symbol"?e:e+""}function Xq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kk={curveBasisClosed:V8,curveBasisOpen:U8,curveBasis:L8,curveBumpX:M8,curveBumpY:j8,curveLinearClosed:z8,curveLinear:jg,curveMonotoneX:B8,curveMonotoneY:q8,curveNatural:$8,curveStep:F8,curveStepAfter:K8,curveStepBefore:H8},Kd=t=>or(t.x)&&or(t.y),nf=t=>t.x,rf=t=>t.y,Qq=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(r_(t));return(n==="curveMonotone"||n==="curveBump")&&e?Kk["".concat(n).concat(e==="vertical"?"Y":"X")]:Kk[n]||jg},Zq=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:o=!1}=t,l=Qq(e,a),c=o?n.filter(Kd):n,h;if(Array.isArray(r)){var d=o?r.filter(y=>Kd(y)):r,m=c.map((y,b)=>Hk(Hk({},y),{},{base:d[b]}));return a==="vertical"?h=Vd().y(rf).x1(nf).x0(y=>y.base.x):h=Vd().x(nf).y1(rf).y0(y=>y.base.y),h.defined(Kd).curve(l),h(m)}return a==="vertical"&&Oe(r)?h=Vd().y(rf).x1(nf).x0(r):Oe(r)?h=Vd().x(nf).y1(rf).y0(r):h=BI().x(nf).y(rf),h.defined(Kd).curve(l),h(c)},hm=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Zq(t):r;return C.createElement("path",Mb({},eo(t),a_(t),{className:Pt("recharts-curve",e),d:o===null?void 0:o,ref:a}))},Jq=["x","y","top","left","width","height","className"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(null,arguments)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function e$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){t$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t$(t,e,n){return(e=n$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=r$(t,"string");return typeof e=="symbol"?e:e+""}function r$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i$(t,e){if(t==null)return{};var n,r,a=a$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function a$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var s$=(t,e,n,r,a,o)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),o$=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:o=0,height:l=0,className:c}=t,h=i$(t,Jq),d=e$({x:e,y:n,top:r,left:a,width:o,height:l},h);return!Oe(e)||!Oe(n)||!Oe(o)||!Oe(l)||!Oe(r)||!Oe(a)?null:C.createElement("path",jb({},Zn(d,!0),{className:Pt("recharts-cross",c),d:s$(e,n,o,l,r,a)}))};function l$(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function u$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){c$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c$(t,e,n){return(e=f$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=h$(t,"string");return typeof e=="symbol"?e:e+""}function h$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function li(t,e){var n=u$({},t),r=e,a=Object.keys(e),o=a.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}function d$(){}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){m$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m$(t,e,n){return(e=g$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g$(t){var e=p$(t,"string");return typeof e=="symbol"?e:e+""}function p$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y$=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),v$=(t,e,n)=>t.map(r=>"".concat(y$(r)," ").concat(e,"ms ").concat(n)).join(","),b$=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Bf=(t,e)=>Object.keys(e).reduce((n,r)=>Xk(Xk({},n),{},{[r]:t(r,e[r])}),{});function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){x$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x$(t,e,n){return(e=_$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _$(t){var e=w$(t,"string");return typeof e=="symbol"?e:e+""}function w$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gm=(t,e,n)=>t+(e-t)*n,Lb=t=>{var{from:e,to:n}=t;return e!==n},$R=(t,e,n)=>{var r=Bf((a,o)=>{if(Lb(o)){var[l,c]=t(o.from,o.to,o.velocity);return Ln(Ln({},o),{},{from:l,velocity:c})}return o},e);return n<1?Bf((a,o)=>Lb(o)?Ln(Ln({},o),{},{velocity:Gm(o.velocity,r[a].velocity,n),from:Gm(o.from,r[a].from,n)}):o,e):$R(t,r,n-1)};function E$(t,e,n,r,a,o){var l,c=r.reduce((b,_)=>Ln(Ln({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),h=()=>Bf((b,_)=>_.from,c),d=()=>!Object.values(c).filter(Lb).length,m=null,y=b=>{l||(l=b);var _=b-l,E=_/n.dt;c=$R(n,c,E),a(Ln(Ln(Ln({},t),e),h())),l=b,d()||(m=o.setTimeout(y))};return()=>(m=o.setTimeout(y),()=>{m()})}function T$(t,e,n,r,a,o,l){var c=null,h=a.reduce((y,b)=>Ln(Ln({},y),{},{[b]:[t[b],e[b]]}),{}),d,m=y=>{d||(d=y);var b=(y-d)/r,_=Bf((S,T)=>Gm(...T,n(b)),h);if(o(Ln(Ln(Ln({},t),e),_)),b<1)c=l.setTimeout(m);else{var E=Bf((S,T)=>Gm(...T,n(1)),h);o(Ln(Ln(Ln({},t),e),E))}};return()=>(c=l.setTimeout(m),()=>{c()})}const A$=(t,e,n,r,a,o)=>{var l=b$(t,e);return n.isStepper===!0?E$(t,e,n,l,a,o):T$(t,e,n,r,l,a,o)};var Ym=1e-4,FR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],HR=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Zk=(t,e)=>n=>{var r=FR(t,e);return HR(r,n)},S$=(t,e)=>n=>{var r=FR(t,e),a=[...r.map((o,l)=>o*l).slice(1),0];return HR(a,n)},Jk=function(){for(var e,n,r,a,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var h=l[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,a]=h[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else l.length===4&&([e,r,n,a]=l);var d=Zk(e,n),m=Zk(r,a),y=S$(e,n),b=E=>E>1?1:E<0?0:E,_=E=>{for(var S=E>1?1:E,T=S,I=0;I<8;++I){var M=d(T)-S,L=y(T);if(Math.abs(M-S)<Ym||L<Ym)return m(T);T=b(T-M/L)}return m(T)};return _.isStepper=!1,_},k$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,o=(l,c,h)=>{var d=-(l-c)*n,m=h*r,y=h+(d-m)*a/1e3,b=h*a/1e3+l;return Math.abs(b-c)<Ym&&Math.abs(y)<Ym?[c,0]:[b,y]};return o.isStepper=!0,o.dt=a,o},C$=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Jk(t);case"spring":return k$();default:if(t.split("(")[0]==="cubic-bezier")return Jk(t)}return typeof t=="function"?t:null};function O$(t){var e,n=()=>null,r=!1,a=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[h,...d]=c;if(typeof h=="number"){a=t.setTimeout(o.bind(null,d),h);return}o(h),a=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class N${setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}function I$(){return O$(new N$)}var R$=C.createContext(I$);function D$(t,e){var n=C.useContext(R$);return C.useMemo(()=>e??n(t),[t,e,n])}var P$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},e2={t:0},x0={t:1};function KR(t){var e=li(t,P$),{isActive:n,canBegin:r,duration:a,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:h,children:d}=e,m=D$(e.animationId,e.animationManager),[y,b]=C.useState(n?e2:x0),_=C.useRef(null);return C.useEffect(()=>{n||b(x0)},[n]),C.useEffect(()=>{if(!n||!r)return d$;var E=A$(e2,x0,C$(o),a,b,m.getTimeoutController()),S=()=>{_.current=E()};return m.start([h,l,S,a,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,a,o,l,h,c,m]),d(y.t)}function GR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Vf(e)),r=C.useRef(t);return r.current!==t&&(n.current=Vf(e),r.current=t),n.current}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function n2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){M$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M$(t,e,n){return(e=j$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$(t){var e=L$(t,"string");return typeof e=="symbol"?e:e+""}function L$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(null,arguments)}var r2=(t,e,n,r,a)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,b=4;y<b;y++)m[y]=a[y]>o?o:a[y];d="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+c*m[0],",").concat(e)),d+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+l*m[1])),d+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),d+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-l*m[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);d="M ".concat(t,",").concat(e+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n,",").concat(e+l*_,`
            L `).concat(t+n,",").concat(e+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t,",").concat(e+r-l*_," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},V$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U$=t=>{var e=li(t,V$),n=C.useRef(null),[r,a]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var pe=n.current.getTotalLength();pe&&a(pe)}catch{}},[]);var{x:o,y:l,width:c,height:h,radius:d,className:m}=e,{animationEasing:y,animationDuration:b,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:S}=e,T=C.useRef(c),I=C.useRef(h),M=C.useRef(o),L=C.useRef(l),B=C.useMemo(()=>({x:o,y:l,width:c,height:h,radius:d}),[o,l,c,h,d]),F=GR(B,"rectangle-");if(o!==+o||l!==+l||c!==+c||h!==+h||c===0||h===0)return null;var $=Pt("recharts-rectangle",m);if(!S)return C.createElement("path",Wm({},Zn(e,!0),{className:$,d:r2(o,l,c,h,d)}));var R=T.current,O=I.current,D=M.current,U=L.current,j="0px ".concat(r===-1?1:r,"px"),z="".concat(r,"px 0px"),V=v$(["strokeDasharray"],b,typeof y=="string"?y:void 0);return C.createElement(KR,{animationId:F,key:F,canBegin:r>0,duration:b,easing:y,isActive:S,begin:_},pe=>{var ye=qi(R,c,pe),Z=qi(O,h,pe),ue=qi(D,o,pe),me=qi(U,l,pe);n.current&&(T.current=ye,I.current=Z,M.current=ue,L.current=me);var Ee;return E?pe>0?Ee={transition:V,strokeDasharray:z}:Ee={strokeDasharray:j}:Ee={strokeDasharray:z},C.createElement("path",Wm({},Zn(e,!0),{className:$,d:r2(ue,me,ye,Z,d),ref:n,style:n2(n2({},Ee),e.style)}))})};function YR(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:o}=t,l=Un(e,n,r,a),c=Un(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:a,endAngle:o}}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(null,arguments)}var z$=(t,e)=>{var n=ri(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Gd=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:h}=t,d=c*(l?1:-1)+r,m=Math.asin(c/d)/Hm,y=h?a:a+o*m,b=Un(e,n,d,y),_=Un(e,n,r,y),E=h?a-o*m:a,S=Un(e,n,d*Math.cos(m*Hm),E);return{center:b,circleTangency:_,lineTangency:S,theta:m}},WR=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:o,endAngle:l}=t,c=z$(o,l),h=o+c,d=Un(e,n,a,o),m=Un(e,n,a,h),y="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var b=Un(e,n,r,o),_=Un(e,n,r,h);y+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},B$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:d}=t,m=ri(d-h),{circleTangency:y,lineTangency:b,theta:_}=Gd({cx:e,cy:n,radius:a,angle:h,sign:m,cornerRadius:o,cornerIsExternal:c}),{circleTangency:E,lineTangency:S,theta:T}=Gd({cx:e,cy:n,radius:a,angle:d,sign:-m,cornerRadius:o,cornerIsExternal:c}),I=c?Math.abs(h-d):Math.abs(h-d)-_-T;if(I<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):WR({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:d});var M="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:L,lineTangency:B,theta:F}=Gd({cx:e,cy:n,radius:r,angle:h,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:$,lineTangency:R,theta:O}=Gd({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=c?Math.abs(h-d):Math.abs(h-d)-F-O;if(D<0&&o===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,"Z")}else M+="L".concat(e,",").concat(n,"Z");return M},q$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$$=t=>{var e=li(t,q$),{cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m,className:y}=e;if(o<a||d===m)return null;var b=Pt("recharts-sector",y),_=o-a,E=Qs(l,_,0,!0),S;return E>0&&Math.abs(d-m)<360?S=B$({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(E,_/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m}):S=WR({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:d,endAngle:m}),C.createElement("path",Vb({},Zn(e,!0),{className:b,d:S}))};function F$(t,e,n){var r,a,o,l;if(t==="horizontal")r=e.x,o=r,a=n.top,l=n.top+n.height;else if(t==="vertical")a=e.y,l=a,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:h,innerRadius:d,outerRadius:m,angle:y}=e,b=Un(c,h,d,y),_=Un(c,h,m,y);r=b.x,a=b.y,o=_.x,l=_.y}else return YR(e);return[{x:r,y:a},{x:o,y:l}]}var _0={},w0={},E0={},i2;function H$(){return i2||(i2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aR();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(E0)),E0}var a2;function K$(){return a2||(a2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H$();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(w0)),w0}var s2;function G$(){return s2||(s2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sR(),n=K$();function r(a,o,l){l&&typeof l!="number"&&e.isIterateeCall(a,o,l)&&(o=l=void 0),a=n.toFinite(a),o===void 0?(o=a,a=0):o=n.toFinite(o),l=l===void 0?a<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-a)/(l||1)),0),h=new Array(c);for(let d=0;d<c;d++)h[d]=a,a+=l;return h}t.range=r})(_0)),_0}var T0,o2;function Y$(){return o2||(o2=1,T0=G$().range),T0}var W$=Y$();const XR=Zs(W$);function $s(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function X$(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function y_(t){let e,n,r;t.length!==2?(e=$s,n=(c,h)=>$s(t(c),h),r=(c,h)=>t(c)-h):(e=t===$s||t===X$?t:Q$,n=t,r=t);function a(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const y=d+m>>>1;n(c[y],h)<0?d=y+1:m=y}while(d<m)}return d}function o(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const y=d+m>>>1;n(c[y],h)<=0?d=y+1:m=y}while(d<m)}return d}function l(c,h,d=0,m=c.length){const y=a(c,h,d,m-1);return y>d&&r(c[y-1],h)>-r(c[y],h)?y-1:y}return{left:a,center:l,right:o}}function Q$(){return 0}function QR(t){return t===null?NaN:+t}function*Z$(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const J$=y_($s),lh=J$.right;y_(QR).center;class l2 extends Map{constructor(e,n=nF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(u2(this,e))}has(e){return super.has(u2(this,e))}set(e,n){return super.set(eF(this,e),n)}delete(e){return super.delete(tF(this,e))}}function u2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function eF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function tF({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function nF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rF(t=$s){if(t===$s)return ZR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ZR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const iF=Math.sqrt(50),aF=Math.sqrt(10),sF=Math.sqrt(2);function Xm(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),l=o>=iF?10:o>=aF?5:o>=sF?2:1;let c,h,d;return a<0?(d=Math.pow(10,-a)/l,c=Math.round(t*d),h=Math.round(e*d),c/d<t&&++c,h/d>e&&--h,d=-d):(d=Math.pow(10,a)*l,c=Math.round(t/d),h=Math.round(e/d),c*d<t&&++c,h*d>e&&--h),h<c&&.5<=n&&n<2?Xm(t,e,n*2):[c,h,d]}function Ub(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,o,l]=r?Xm(e,t,n):Xm(t,e,n);if(!(o>=a))return[];const c=o-a+1,h=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)h[d]=(o-d)/-l;else for(let d=0;d<c;++d)h[d]=(o-d)*l;else if(l<0)for(let d=0;d<c;++d)h[d]=(a+d)/-l;else for(let d=0;d<c;++d)h[d]=(a+d)*l;return h}function zb(t,e,n){return e=+e,t=+t,n=+n,Xm(t,e,n)[2]}function Bb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?zb(e,t,n):zb(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function c2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function f2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function JR(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?ZR:rF(a);r>n;){if(r-n>600){const h=r-n+1,d=e-n+1,m=Math.log(h),y=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*y*(h-y)/h)*(d-h/2<0?-1:1),_=Math.max(n,Math.floor(e-d*y/h+b)),E=Math.min(r,Math.floor(e+(h-d)*y/h+b));JR(t,e,_,E,a)}const o=t[e];let l=n,c=r;for(af(t,n,e),a(t[r],o)>0&&af(t,n,r);l<c;){for(af(t,l,c),++l,--c;a(t[l],o)<0;)++l;for(;a(t[c],o)>0;)--c}a(t[n],o)===0?af(t,n,c):(++c,af(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function af(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function oF(t,e,n){if(t=Float64Array.from(Z$(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return f2(t);if(e>=1)return c2(t);var r,a=(r-1)*e,o=Math.floor(a),l=c2(JR(t,o).subarray(0,o+1)),c=f2(t.subarray(o+1));return l+(c-l)*(a-o)}}function lF(t,e,n=QR){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,o=Math.floor(a),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(a-o)}}function uF(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(a);++r<a;)o[r]=t+r*n;return o}function ui(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ga(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qb=Symbol("implicit");function v_(){var t=new l2,e=[],n=[],r=qb;function a(o){let l=t.get(o);if(l===void 0){if(r!==qb)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new l2;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return v_(e,n).unknown(r)},ui.apply(a,arguments),a}function b_(){var t=v_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,o,l,c=!1,h=0,d=0,m=.5;delete t.unknown;function y(){var b=e().length,_=a<r,E=_?a:r,S=_?r:a;o=(S-E)/Math.max(1,b-h+d*2),c&&(o=Math.floor(o)),E+=(S-E-o*(b-h))*m,l=o*(1-h),c&&(E=Math.round(E),l=Math.round(l));var T=uF(b).map(function(I){return E+o*I});return n(_?T.reverse():T)}return t.domain=function(b){return arguments.length?(e(b),y()):e()},t.range=function(b){return arguments.length?([r,a]=b,r=+r,a=+a,y()):[r,a]},t.rangeRound=function(b){return[r,a]=b,r=+r,a=+a,c=!0,y()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(b){return arguments.length?(c=!!b,y()):c},t.padding=function(b){return arguments.length?(h=Math.min(1,d=+b),y()):h},t.paddingInner=function(b){return arguments.length?(h=Math.min(1,b),y()):h},t.paddingOuter=function(b){return arguments.length?(d=+b,y()):d},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),y()):m},t.copy=function(){return b_(e(),[r,a]).round(c).paddingInner(h).paddingOuter(d).align(m)},ui.apply(y(),arguments)}function eD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eD(e())},t}function cF(){return eD(b_.apply(null,arguments).paddingInner(1))}function x_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function tD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function uh(){}var qf=.7,Qm=1/qf,yu="\\s*([+-]?\\d+)\\s*",$f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fF=/^#([0-9a-f]{3,8})$/,hF=new RegExp(`^rgb\\(${yu},${yu},${yu}\\)$`),dF=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),mF=new RegExp(`^rgba\\(${yu},${yu},${yu},${$f}\\)$`),gF=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${$f}\\)$`),pF=new RegExp(`^hsl\\(${$f},${Xi},${Xi}\\)$`),yF=new RegExp(`^hsla\\(${$f},${Xi},${Xi},${$f}\\)$`),h2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x_(uh,Ff,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:d2,formatHex:d2,formatHex8:vF,formatHsl:bF,formatRgb:m2,toString:m2});function d2(){return this.rgb().formatHex()}function vF(){return this.rgb().formatHex8()}function bF(){return nD(this).formatHsl()}function m2(){return this.rgb().formatRgb()}function Ff(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fF.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?g2(e):n===3?new gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hF.exec(t))?new gr(e[1],e[2],e[3],1):(e=dF.exec(t))?new gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mF.exec(t))?Yd(e[1],e[2],e[3],e[4]):(e=gF.exec(t))?Yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pF.exec(t))?v2(e[1],e[2]/100,e[3]/100,1):(e=yF.exec(t))?v2(e[1],e[2]/100,e[3]/100,e[4]):h2.hasOwnProperty(t)?g2(h2[t]):t==="transparent"?new gr(NaN,NaN,NaN,0):null}function g2(t){return new gr(t>>16&255,t>>8&255,t&255,1)}function Yd(t,e,n,r){return r<=0&&(t=e=n=NaN),new gr(t,e,n,r)}function xF(t){return t instanceof uh||(t=Ff(t)),t?(t=t.rgb(),new gr(t.r,t.g,t.b,t.opacity)):new gr}function $b(t,e,n,r){return arguments.length===1?xF(t):new gr(t,e,n,r??1)}function gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}x_(gr,$b,tD(uh,{brighter(t){return t=t==null?Qm:Math.pow(Qm,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qf:Math.pow(qf,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gr(Zo(this.r),Zo(this.g),Zo(this.b),Zm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p2,formatHex:p2,formatHex8:_F,formatRgb:y2,toString:y2}));function p2(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function _F(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function y2(){const t=Zm(this.opacity);return`${t===1?"rgb(":"rgba("}${Zo(this.r)}, ${Zo(this.g)}, ${Zo(this.b)}${t===1?")":`, ${t})`}`}function Zm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ko(t){return t=Zo(t),(t<16?"0":"")+t.toString(16)}function v2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Si(t,e,n,r)}function nD(t){if(t instanceof Si)return new Si(t.h,t.s,t.l,t.opacity);if(t instanceof uh||(t=Ff(t)),!t)return new Si;if(t instanceof Si)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-a,h=(o+a)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=h<.5?o+a:2-o-a,l*=60):c=h>0&&h<1?0:l,new Si(l,c,h,t.opacity)}function wF(t,e,n,r){return arguments.length===1?nD(t):new Si(t,e,n,r??1)}function Si(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}x_(Si,wF,tD(uh,{brighter(t){return t=t==null?Qm:Math.pow(Qm,t),new Si(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qf:Math.pow(qf,t),new Si(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new gr(A0(t>=240?t-240:t+120,a,r),A0(t,a,r),A0(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Si(b2(this.h),Wd(this.s),Wd(this.l),Zm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zm(this.opacity);return`${t===1?"hsl(":"hsla("}${b2(this.h)}, ${Wd(this.s)*100}%, ${Wd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function b2(t){return t=(t||0)%360,t<0?t+360:t}function Wd(t){return Math.max(0,Math.min(1,t||0))}function A0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const __=t=>()=>t;function EF(t,e){return function(n){return t+n*e}}function TF(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function AF(t){return(t=+t)==1?rD:function(e,n){return n-e?TF(e,n,t):__(isNaN(e)?n:e)}}function rD(t,e){var n=e-t;return n?EF(t,n):__(isNaN(t)?e:t)}const x2=(function t(e){var n=AF(e);function r(a,o){var l=n((a=$b(a)).r,(o=$b(o)).r),c=n(a.g,o.g),h=n(a.b,o.b),d=rD(a.opacity,o.opacity);return function(m){return a.r=l(m),a.g=c(m),a.b=h(m),a.opacity=d(m),a+""}}return r.gamma=t,r})(1);function SF(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=t[a]*(1-o)+e[a]*o;return r}}function kF(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CF(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)a[l]=$u(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=a[l](c);return o}}function OF(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function NF(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=$u(t[a],e[a]):r[a]=e[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var Fb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S0=new RegExp(Fb.source,"g");function IF(t){return function(){return t}}function RF(t){return function(e){return t(e)+""}}function DF(t,e){var n=Fb.lastIndex=S0.lastIndex=0,r,a,o,l=-1,c=[],h=[];for(t=t+"",e=e+"";(r=Fb.exec(t))&&(a=S0.exec(e));)(o=a.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,h.push({i:l,x:Jm(r,a)})),n=S0.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?h[0]?RF(h[0].x):IF(e):(e=h.length,function(d){for(var m=0,y;m<e;++m)c[(y=h[m]).i]=y.x(d);return c.join("")})}function $u(t,e){var n=typeof e,r;return e==null||n==="boolean"?__(e):(n==="number"?Jm:n==="string"?(r=Ff(e))?(e=r,x2):DF:e instanceof Ff?x2:e instanceof Date?OF:kF(e)?SF:Array.isArray(e)?CF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?NF:Jm)(t,e)}function w_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function PF(t,e){e===void 0&&(e=t,t=$u);for(var n=0,r=e.length-1,a=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(a,a=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function MF(t){return function(){return t}}function eg(t){return+t}var _2=[0,1];function ar(t){return t}function Hb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:MF(isNaN(e)?NaN:.5)}function jF(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function LF(t,e,n){var r=t[0],a=t[1],o=e[0],l=e[1];return a<r?(r=Hb(a,r),o=n(l,o)):(r=Hb(r,a),o=n(o,l)),function(c){return o(r(c))}}function VF(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=Hb(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var h=lh(t,c,1,r)-1;return o[h](a[h](c))}}function ch(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yg(){var t=_2,e=_2,n=$u,r,a,o,l=ar,c,h,d;function m(){var b=Math.min(t.length,e.length);return l!==ar&&(l=jF(t[0],t[b-1])),c=b>2?VF:LF,h=d=null,y}function y(b){return b==null||isNaN(b=+b)?o:(h||(h=c(t.map(r),e,n)))(r(l(b)))}return y.invert=function(b){return l(a((d||(d=c(e,t.map(r),Jm)))(b)))},y.domain=function(b){return arguments.length?(t=Array.from(b,eg),m()):t.slice()},y.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},y.rangeRound=function(b){return e=Array.from(b),n=w_,m()},y.clamp=function(b){return arguments.length?(l=b?!0:ar,m()):l!==ar},y.interpolate=function(b){return arguments.length?(n=b,m()):n},y.unknown=function(b){return arguments.length?(o=b,y):o},function(b,_){return r=b,a=_,m()}}function E_(){return Yg()(ar,ar)}function UF(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Cu(t){return t=tg(Math.abs(t)),t?t[1]:NaN}function zF(t,e){return function(n,r){for(var a=n.length,o=[],l=0,c=t[0],h=0;a>0&&c>0&&(h+c+1>r&&(c=Math.max(1,r-h)),o.push(n.substring(a-=c,a+c)),!((h+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function BF(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var qF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hf(t){if(!(e=qF.exec(t)))throw new Error("invalid format: "+t);var e;return new T_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Hf.prototype=T_.prototype;function T_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}T_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $F(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var iD;function FF(t,e){var n=tg(t,e);if(!n)return t+"";var r=n[0],a=n[1],o=a-(iD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+tg(t,Math.max(0,e+o-1))[0]}function w2(t,e){var n=tg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const E2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:UF,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>w2(t*100,e),r:w2,s:FF,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function T2(t){return t}var A2=Array.prototype.map,S2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function HF(t){var e=t.grouping===void 0||t.thousands===void 0?T2:zF(A2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?T2:BF(A2.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function d(y){y=Hf(y);var b=y.fill,_=y.align,E=y.sign,S=y.symbol,T=y.zero,I=y.width,M=y.comma,L=y.precision,B=y.trim,F=y.type;F==="n"?(M=!0,F="g"):E2[F]||(L===void 0&&(L=12),B=!0,F="g"),(T||b==="0"&&_==="=")&&(T=!0,b="0",_="=");var $=S==="$"?n:S==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",R=S==="$"?r:/[%p]/.test(F)?l:"",O=E2[F],D=/[defgprs%]/.test(F);L=L===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function U(j){var z=$,V=R,pe,ye,Z;if(F==="c")V=O(j)+V,j="";else{j=+j;var ue=j<0||1/j<0;if(j=isNaN(j)?h:O(Math.abs(j),L),B&&(j=$F(j)),ue&&+j==0&&E!=="+"&&(ue=!1),z=(ue?E==="("?E:c:E==="-"||E==="("?"":E)+z,V=(F==="s"?S2[8+iD/3]:"")+V+(ue&&E==="("?")":""),D){for(pe=-1,ye=j.length;++pe<ye;)if(Z=j.charCodeAt(pe),48>Z||Z>57){V=(Z===46?a+j.slice(pe+1):j.slice(pe))+V,j=j.slice(0,pe);break}}}M&&!T&&(j=e(j,1/0));var me=z.length+j.length+V.length,Ee=me<I?new Array(I-me+1).join(b):"";switch(M&&T&&(j=e(Ee+j,Ee.length?I-V.length:1/0),Ee=""),_){case"<":j=z+j+V+Ee;break;case"=":j=z+Ee+j+V;break;case"^":j=Ee.slice(0,me=Ee.length>>1)+z+j+V+Ee.slice(me);break;default:j=Ee+z+j+V;break}return o(j)}return U.toString=function(){return y+""},U}function m(y,b){var _=d((y=Hf(y),y.type="f",y)),E=Math.max(-8,Math.min(8,Math.floor(Cu(b)/3)))*3,S=Math.pow(10,-E),T=S2[8+E/3];return function(I){return _(S*I)+T}}return{format:d,formatPrefix:m}}var Xd,A_,aD;KF({thousands:",",grouping:[3],currency:["$",""]});function KF(t){return Xd=HF(t),A_=Xd.format,aD=Xd.formatPrefix,Xd}function GF(t){return Math.max(0,-Cu(Math.abs(t)))}function YF(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cu(e)/3)))*3-Cu(Math.abs(t)))}function WF(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Cu(e)-Cu(t))+1}function sD(t,e,n,r){var a=Bb(t,e,n),o;switch(r=Hf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=YF(a,l))&&(r.precision=o),aD(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=WF(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=GF(a))&&(r.precision=o-(r.type==="%")*2);break}}return A_(r)}function to(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ub(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return sD(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,o=r.length-1,l=r[a],c=r[o],h,d,m=10;for(c<l&&(d=l,l=c,c=d,d=a,a=o,o=d);m-- >0;){if(d=zb(l,c,n),d===h)return r[a]=l,r[o]=c,e(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;h=d}return t},t}function oD(){var t=E_();return t.copy=function(){return ch(t,oD())},ui.apply(t,arguments),to(t)}function lD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,eg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lD(t).unknown(e)},t=arguments.length?Array.from(t,eg):[0,1],to(n)}function uD(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],o=t[r],l;return o<a&&(l=n,n=r,r=l,l=a,a=o,o=l),t[n]=e.floor(a),t[r]=e.ceil(o),t}function k2(t){return Math.log(t)}function C2(t){return Math.exp(t)}function XF(t){return-Math.log(-t)}function QF(t){return-Math.exp(-t)}function ZF(t){return isFinite(t)?+("1e"+t):t<0?0:t}function JF(t){return t===10?ZF:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eH(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function O2(t){return(e,n)=>-t(-e,n)}function S_(t){const e=t(k2,C2),n=e.domain;let r=10,a,o;function l(){return a=eH(r),o=JF(r),n()[0]<0?(a=O2(a),o=O2(o),t(XF,QF)):t(k2,C2),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const h=n();let d=h[0],m=h[h.length-1];const y=m<d;y&&([d,m]=[m,d]);let b=a(d),_=a(m),E,S;const T=c==null?10:+c;let I=[];if(!(r%1)&&_-b<T){if(b=Math.floor(b),_=Math.ceil(_),d>0){for(;b<=_;++b)for(E=1;E<r;++E)if(S=b<0?E/o(-b):E*o(b),!(S<d)){if(S>m)break;I.push(S)}}else for(;b<=_;++b)for(E=r-1;E>=1;--E)if(S=b>0?E/o(-b):E*o(b),!(S<d)){if(S>m)break;I.push(S)}I.length*2<T&&(I=Ub(d,m,T))}else I=Ub(b,_,Math.min(_-b,T)).map(o);return y?I.reverse():I},e.tickFormat=(c,h)=>{if(c==null&&(c=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Hf(h)).precision==null&&(h.trim=!0),h=A_(h)),c===1/0)return h;const d=Math.max(1,r*c/e.ticks().length);return m=>{let y=m/o(Math.round(a(m)));return y*r<r-.5&&(y*=r),y<=d?h(m):""}},e.nice=()=>n(uD(n(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),e}function cD(){const t=S_(Yg()).domain([1,10]);return t.copy=()=>ch(t,cD()).base(t.base()),ui.apply(t,arguments),t}function N2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function I2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function k_(t){var e=1,n=t(N2(e),I2(e));return n.constant=function(r){return arguments.length?t(N2(e=+r),I2(e)):e},to(n)}function fD(){var t=k_(Yg());return t.copy=function(){return ch(t,fD()).constant(t.constant())},ui.apply(t,arguments)}function R2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tH(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nH(t){return t<0?-t*t:t*t}function C_(t){var e=t(ar,ar),n=1;function r(){return n===1?t(ar,ar):n===.5?t(tH,nH):t(R2(n),R2(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},to(e)}function O_(){var t=C_(Yg());return t.copy=function(){return ch(t,O_()).exponent(t.exponent())},ui.apply(t,arguments),t}function rH(){return O_.apply(null,arguments).exponent(.5)}function D2(t){return Math.sign(t)*t*t}function iH(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hD(){var t=E_(),e=[0,1],n=!1,r;function a(o){var l=iH(t(o));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(o){return t.invert(D2(o))},a.domain=function(o){return arguments.length?(t.domain(o),a):t.domain()},a.range=function(o){return arguments.length?(t.range((e=Array.from(o,eg)).map(D2)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(t.clamp(o),a):t.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return hD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ui.apply(a,arguments),to(a)}function dD(){var t=[],e=[],n=[],r;function a(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=lF(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[lh(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort($s),a()},o.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return dD().domain(t).range(e).unknown(r)},ui.apply(o,arguments)}function mD(){var t=0,e=1,n=1,r=[.5],a=[0,1],o;function l(h){return h!=null&&h<=h?a[lh(r,h,0,n)]:o}function c(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return l}return l.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,c()):[t,e]},l.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,c()):a.slice()},l.invertExtent=function(h){var d=a.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(h){return arguments.length&&(o=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return mD().domain([t,e]).range(a).unknown(o)},ui.apply(to(l),arguments)}function gD(){var t=[.5],e=[0,1],n,r=1;function a(o){return o!=null&&o<=o?e[lh(t,o,0,r)]:n}return a.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return gD().domain(t).range(e).unknown(n)},ui.apply(a,arguments)}const k0=new Date,C0=new Date;function bn(t,e,n,r){function a(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(t(o=new Date(+o)),o),a.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const h=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return h;let d;do h.push(d=new Date(+o)),e(o,c),t(o);while(d<o&&o<l);return h},a.filter=o=>bn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(a.count=(o,l)=>(k0.setTime(+o),C0.setTime(+l),t(k0),t(C0),Math.floor(n(k0,C0))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?l=>r(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const ng=bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ng.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ng);ng.range;const ka=1e3,ii=ka*60,Ca=ii*60,za=Ca*24,N_=za*7,P2=za*30,O0=za*365,Go=bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getUTCSeconds());Go.range;const I_=bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ka)},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getMinutes());I_.range;const R_=bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getUTCMinutes());R_.range;const D_=bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ka-t.getMinutes()*ii)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getHours());D_.range;const P_=bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getUTCHours());P_.range;const fh=bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ii)/za,t=>t.getDate()-1);fh.range;const Wg=bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/za,t=>t.getUTCDate()-1);Wg.range;const pD=bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/za,t=>Math.floor(t/za));pD.range;function gl(t){return bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ii)/N_)}const Xg=gl(0),rg=gl(1),aH=gl(2),sH=gl(3),Ou=gl(4),oH=gl(5),lH=gl(6);Xg.range;rg.range;aH.range;sH.range;Ou.range;oH.range;lH.range;function pl(t){return bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/N_)}const Qg=pl(0),ig=pl(1),uH=pl(2),cH=pl(3),Nu=pl(4),fH=pl(5),hH=pl(6);Qg.range;ig.range;uH.range;cH.range;Nu.range;fH.range;hH.range;const M_=bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());M_.range;const j_=bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());j_.range;const Ba=bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ba.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ba.range;const qa=bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qa.range;function yD(t,e,n,r,a,o){const l=[[Go,1,ka],[Go,5,5*ka],[Go,15,15*ka],[Go,30,30*ka],[o,1,ii],[o,5,5*ii],[o,15,15*ii],[o,30,30*ii],[a,1,Ca],[a,3,3*Ca],[a,6,6*Ca],[a,12,12*Ca],[r,1,za],[r,2,2*za],[n,1,N_],[e,1,P2],[e,3,3*P2],[t,1,O0]];function c(d,m,y){const b=m<d;b&&([d,m]=[m,d]);const _=y&&typeof y.range=="function"?y:h(d,m,y),E=_?_.range(d,+m+1):[];return b?E.reverse():E}function h(d,m,y){const b=Math.abs(m-d)/y,_=y_(([,,T])=>T).right(l,b);if(_===l.length)return t.every(Bb(d/O0,m/O0,y));if(_===0)return ng.every(Math.max(Bb(d,m,y),1));const[E,S]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return E.every(S)}return[c,h]}const[dH,mH]=yD(qa,j_,Qg,pD,P_,R_),[gH,pH]=yD(Ba,M_,Xg,fh,D_,I_);function N0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function I0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function sf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yH(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,l=t.shortDays,c=t.months,h=t.shortMonths,d=of(a),m=lf(a),y=of(o),b=lf(o),_=of(l),E=lf(l),S=of(c),T=lf(c),I=of(h),M=lf(h),L={a:ue,A:me,b:Ee,B:H,c:null,d:z2,e:z2,f:zH,g:XH,G:ZH,H:LH,I:VH,j:UH,L:vD,m:BH,M:qH,p:ie,q:ae,Q:$2,s:F2,S:$H,u:FH,U:HH,V:KH,w:GH,W:YH,x:null,X:null,y:WH,Y:QH,Z:JH,"%":q2},B={a:he,A:we,b:Ne,B:Ie,c:null,d:B2,e:B2,f:rK,g:dK,G:gK,H:eK,I:tK,j:nK,L:xD,m:iK,M:aK,p:$t,q:it,Q:$2,s:F2,S:sK,u:oK,U:lK,V:uK,w:cK,W:fK,x:null,X:null,y:hK,Y:mK,Z:pK,"%":q2},F={a:U,A:j,b:z,B:V,c:pe,d:V2,e:V2,f:DH,g:L2,G:j2,H:U2,I:U2,j:OH,L:RH,m:CH,M:NH,p:D,q:kH,Q:MH,s:jH,S:IH,u:wH,U:EH,V:TH,w:_H,W:AH,x:ye,X:Z,y:L2,Y:j2,Z:SH,"%":PH};L.x=$(n,L),L.X=$(r,L),L.c=$(e,L),B.x=$(n,B),B.X=$(r,B),B.c=$(e,B);function $(de,Be){return function(He){var ce=[],Ot=-1,Ze=0,Ft=de.length,Yt,xt,ci;for(He instanceof Date||(He=new Date(+He));++Ot<Ft;)de.charCodeAt(Ot)===37&&(ce.push(de.slice(Ze,Ot)),(xt=M2[Yt=de.charAt(++Ot)])!=null?Yt=de.charAt(++Ot):xt=Yt==="e"?" ":"0",(ci=Be[Yt])&&(Yt=ci(He,xt)),ce.push(Yt),Ze=Ot+1);return ce.push(de.slice(Ze,Ot)),ce.join("")}}function R(de,Be){return function(He){var ce=sf(1900,void 0,1),Ot=O(ce,de,He+="",0),Ze,Ft;if(Ot!=He.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Be&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ze=I0(sf(ce.y,0,1)),Ft=Ze.getUTCDay(),Ze=Ft>4||Ft===0?ig.ceil(Ze):ig(Ze),Ze=Wg.offset(Ze,(ce.V-1)*7),ce.y=Ze.getUTCFullYear(),ce.m=Ze.getUTCMonth(),ce.d=Ze.getUTCDate()+(ce.w+6)%7):(Ze=N0(sf(ce.y,0,1)),Ft=Ze.getDay(),Ze=Ft>4||Ft===0?rg.ceil(Ze):rg(Ze),Ze=fh.offset(Ze,(ce.V-1)*7),ce.y=Ze.getFullYear(),ce.m=Ze.getMonth(),ce.d=Ze.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Ft="Z"in ce?I0(sf(ce.y,0,1)).getUTCDay():N0(sf(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Ft+5)%7:ce.w+ce.U*7-(Ft+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,I0(ce)):N0(ce)}}function O(de,Be,He,ce){for(var Ot=0,Ze=Be.length,Ft=He.length,Yt,xt;Ot<Ze;){if(ce>=Ft)return-1;if(Yt=Be.charCodeAt(Ot++),Yt===37){if(Yt=Be.charAt(Ot++),xt=F[Yt in M2?Be.charAt(Ot++):Yt],!xt||(ce=xt(de,He,ce))<0)return-1}else if(Yt!=He.charCodeAt(ce++))return-1}return ce}function D(de,Be,He){var ce=d.exec(Be.slice(He));return ce?(de.p=m.get(ce[0].toLowerCase()),He+ce[0].length):-1}function U(de,Be,He){var ce=_.exec(Be.slice(He));return ce?(de.w=E.get(ce[0].toLowerCase()),He+ce[0].length):-1}function j(de,Be,He){var ce=y.exec(Be.slice(He));return ce?(de.w=b.get(ce[0].toLowerCase()),He+ce[0].length):-1}function z(de,Be,He){var ce=I.exec(Be.slice(He));return ce?(de.m=M.get(ce[0].toLowerCase()),He+ce[0].length):-1}function V(de,Be,He){var ce=S.exec(Be.slice(He));return ce?(de.m=T.get(ce[0].toLowerCase()),He+ce[0].length):-1}function pe(de,Be,He){return O(de,e,Be,He)}function ye(de,Be,He){return O(de,n,Be,He)}function Z(de,Be,He){return O(de,r,Be,He)}function ue(de){return l[de.getDay()]}function me(de){return o[de.getDay()]}function Ee(de){return h[de.getMonth()]}function H(de){return c[de.getMonth()]}function ie(de){return a[+(de.getHours()>=12)]}function ae(de){return 1+~~(de.getMonth()/3)}function he(de){return l[de.getUTCDay()]}function we(de){return o[de.getUTCDay()]}function Ne(de){return h[de.getUTCMonth()]}function Ie(de){return c[de.getUTCMonth()]}function $t(de){return a[+(de.getUTCHours()>=12)]}function it(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Be=$(de+="",L);return Be.toString=function(){return de},Be},parse:function(de){var Be=R(de+="",!1);return Be.toString=function(){return de},Be},utcFormat:function(de){var Be=$(de+="",B);return Be.toString=function(){return de},Be},utcParse:function(de){var Be=R(de+="",!0);return Be.toString=function(){return de},Be}}}var M2={"-":"",_:" ",0:"0"},Nn=/^\s*\d+/,vH=/^%/,bH=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(e)+a:a)}function xH(t){return t.replace(bH,"\\$&")}function of(t){return new RegExp("^(?:"+t.map(xH).join("|")+")","i")}function lf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _H(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wH(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function EH(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function TH(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function AH(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function j2(t,e,n){var r=Nn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function L2(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SH(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kH(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function CH(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function V2(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function OH(t,e,n){var r=Nn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function U2(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function NH(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function IH(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function RH(t,e,n){var r=Nn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function DH(t,e,n){var r=Nn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function PH(t,e,n){var r=vH.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function MH(t,e,n){var r=Nn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jH(t,e,n){var r=Nn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function z2(t,e){return ot(t.getDate(),e,2)}function LH(t,e){return ot(t.getHours(),e,2)}function VH(t,e){return ot(t.getHours()%12||12,e,2)}function UH(t,e){return ot(1+fh.count(Ba(t),t),e,3)}function vD(t,e){return ot(t.getMilliseconds(),e,3)}function zH(t,e){return vD(t,e)+"000"}function BH(t,e){return ot(t.getMonth()+1,e,2)}function qH(t,e){return ot(t.getMinutes(),e,2)}function $H(t,e){return ot(t.getSeconds(),e,2)}function FH(t){var e=t.getDay();return e===0?7:e}function HH(t,e){return ot(Xg.count(Ba(t)-1,t),e,2)}function bD(t){var e=t.getDay();return e>=4||e===0?Ou(t):Ou.ceil(t)}function KH(t,e){return t=bD(t),ot(Ou.count(Ba(t),t)+(Ba(t).getDay()===4),e,2)}function GH(t){return t.getDay()}function YH(t,e){return ot(rg.count(Ba(t)-1,t),e,2)}function WH(t,e){return ot(t.getFullYear()%100,e,2)}function XH(t,e){return t=bD(t),ot(t.getFullYear()%100,e,2)}function QH(t,e){return ot(t.getFullYear()%1e4,e,4)}function ZH(t,e){var n=t.getDay();return t=n>=4||n===0?Ou(t):Ou.ceil(t),ot(t.getFullYear()%1e4,e,4)}function JH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function B2(t,e){return ot(t.getUTCDate(),e,2)}function eK(t,e){return ot(t.getUTCHours(),e,2)}function tK(t,e){return ot(t.getUTCHours()%12||12,e,2)}function nK(t,e){return ot(1+Wg.count(qa(t),t),e,3)}function xD(t,e){return ot(t.getUTCMilliseconds(),e,3)}function rK(t,e){return xD(t,e)+"000"}function iK(t,e){return ot(t.getUTCMonth()+1,e,2)}function aK(t,e){return ot(t.getUTCMinutes(),e,2)}function sK(t,e){return ot(t.getUTCSeconds(),e,2)}function oK(t){var e=t.getUTCDay();return e===0?7:e}function lK(t,e){return ot(Qg.count(qa(t)-1,t),e,2)}function _D(t){var e=t.getUTCDay();return e>=4||e===0?Nu(t):Nu.ceil(t)}function uK(t,e){return t=_D(t),ot(Nu.count(qa(t),t)+(qa(t).getUTCDay()===4),e,2)}function cK(t){return t.getUTCDay()}function fK(t,e){return ot(ig.count(qa(t)-1,t),e,2)}function hK(t,e){return ot(t.getUTCFullYear()%100,e,2)}function dK(t,e){return t=_D(t),ot(t.getUTCFullYear()%100,e,2)}function mK(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function gK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Nu(t):Nu.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function pK(){return"+0000"}function q2(){return"%"}function $2(t){return+t}function F2(t){return Math.floor(+t/1e3)}var au,wD,ED;yK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yK(t){return au=yH(t),wD=au.format,au.parse,ED=au.utcFormat,au.utcParse,au}function vK(t){return new Date(t)}function bK(t){return t instanceof Date?+t:+new Date(+t)}function L_(t,e,n,r,a,o,l,c,h,d){var m=E_(),y=m.invert,b=m.domain,_=d(".%L"),E=d(":%S"),S=d("%I:%M"),T=d("%I %p"),I=d("%a %d"),M=d("%b %d"),L=d("%B"),B=d("%Y");function F($){return(h($)<$?_:c($)<$?E:l($)<$?S:o($)<$?T:r($)<$?a($)<$?I:M:n($)<$?L:B)($)}return m.invert=function($){return new Date(y($))},m.domain=function($){return arguments.length?b(Array.from($,bK)):b().map(vK)},m.ticks=function($){var R=b();return t(R[0],R[R.length-1],$??10)},m.tickFormat=function($,R){return R==null?F:d(R)},m.nice=function($){var R=b();return(!$||typeof $.range!="function")&&($=e(R[0],R[R.length-1],$??10)),$?b(uD(R,$)):m},m.copy=function(){return ch(m,L_(t,e,n,r,a,o,l,c,h,d))},m}function xK(){return ui.apply(L_(gH,pH,Ba,M_,Xg,fh,D_,I_,Go,wD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _K(){return ui.apply(L_(dH,mH,qa,j_,Qg,Wg,P_,R_,Go,ED).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zg(){var t=0,e=1,n,r,a,o,l=ar,c=!1,h;function d(y){return y==null||isNaN(y=+y)?h:l(a===0?.5:(y=(o(y)-n)*a,c?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),a=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(y){return arguments.length?(c=!!y,d):c},d.interpolator=function(y){return arguments.length?(l=y,d):l};function m(y){return function(b){var _,E;return arguments.length?([_,E]=b,l=y(_,E),d):[l(0),l(1)]}}return d.range=m($u),d.rangeRound=m(w_),d.unknown=function(y){return arguments.length?(h=y,d):h},function(y){return o=y,n=y(t),r=y(e),a=n===r?0:1/(r-n),d}}function no(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function TD(){var t=to(Zg()(ar));return t.copy=function(){return no(t,TD())},Ga.apply(t,arguments)}function AD(){var t=S_(Zg()).domain([1,10]);return t.copy=function(){return no(t,AD()).base(t.base())},Ga.apply(t,arguments)}function SD(){var t=k_(Zg());return t.copy=function(){return no(t,SD()).constant(t.constant())},Ga.apply(t,arguments)}function V_(){var t=C_(Zg());return t.copy=function(){return no(t,V_()).exponent(t.exponent())},Ga.apply(t,arguments)}function wK(){return V_.apply(null,arguments).exponent(.5)}function kD(){var t=[],e=ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((lh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort($s),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>oF(t,o/r))},n.copy=function(){return kD(e).domain(t)},Ga.apply(n,arguments)}function Jg(){var t=0,e=.5,n=1,r=1,a,o,l,c,h,d=ar,m,y=!1,b;function _(S){return isNaN(S=+S)?b:(S=.5+((S=+m(S))-o)*(r*S<r*o?c:h),d(y?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,a=m(t=+t),o=m(e=+e),l=m(n=+n),c=a===o?0:.5/(o-a),h=o===l?0:.5/(l-o),r=o<a?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(y=!!S,_):y},_.interpolator=function(S){return arguments.length?(d=S,_):d};function E(S){return function(T){var I,M,L;return arguments.length?([I,M,L]=T,d=PF(S,[I,M,L]),_):[d(0),d(.5),d(1)]}}return _.range=E($u),_.rangeRound=E(w_),_.unknown=function(S){return arguments.length?(b=S,_):b},function(S){return m=S,a=S(t),o=S(e),l=S(n),c=a===o?0:.5/(o-a),h=o===l?0:.5/(l-o),r=o<a?-1:1,_}}function CD(){var t=to(Jg()(ar));return t.copy=function(){return no(t,CD())},Ga.apply(t,arguments)}function OD(){var t=S_(Jg()).domain([.1,1,10]);return t.copy=function(){return no(t,OD()).base(t.base())},Ga.apply(t,arguments)}function ND(){var t=k_(Jg());return t.copy=function(){return no(t,ND()).constant(t.constant())},Ga.apply(t,arguments)}function U_(){var t=C_(Jg());return t.copy=function(){return no(t,U_()).exponent(t.exponent())},Ga.apply(t,arguments)}function EK(){return U_.apply(null,arguments).exponent(.5)}const pf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:b_,scaleDiverging:CD,scaleDivergingLog:OD,scaleDivergingPow:U_,scaleDivergingSqrt:EK,scaleDivergingSymlog:ND,scaleIdentity:lD,scaleImplicit:qb,scaleLinear:oD,scaleLog:cD,scaleOrdinal:v_,scalePoint:cF,scalePow:O_,scaleQuantile:dD,scaleQuantize:mD,scaleRadial:hD,scaleSequential:TD,scaleSequentialLog:AD,scaleSequentialPow:V_,scaleSequentialQuantile:kD,scaleSequentialSqrt:wK,scaleSequentialSymlog:SD,scaleSqrt:rH,scaleSymlog:fD,scaleThreshold:gD,scaleTime:xK,scaleUtc:_K,tickFormat:sD},Symbol.toStringTag,{value:"Module"}));var ro=t=>t.chartData,TK=te([ro],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),z_=(t,e,n,r)=>r?TK(t):ro(t);function Iu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(or(e)&&or(n))return!0}return!1}function H2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function AK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,o;if(or(n))a=n;else if(typeof n=="function")return;if(or(r))o=r;else if(typeof r=="function")return;var l=[a,o];if(Iu(l))return l}}function SK(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Iu(r))return H2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,o]=t,l,c;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Oe(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[0]))}catch{}else if(typeof a=="string"&&Lk.test(a)){var h=Lk.exec(a);if(h==null||e==null)l=void 0;else{var d=+h[1];l=e[0]-d}}else l=e?.[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(Oe(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e?.[1]))}catch{}else if(typeof o=="string"&&Vk.test(o)){var m=Vk.exec(o);if(m==null||e==null)c=void 0;else{var y=+m[1];c=e[1]+y}}else c=e?.[1];var b=[l,c];if(Iu(b))return e==null?b:H2(b,e,n)}}}var Fu=1e9,kK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},q_,Lt=!0,si="[DecimalError] ",Jo=si+"Invalid argument: ",B_=si+"Exponent out of range: ",Hu=Math.floor,qo=Math.pow,CK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir,Cn=1e7,Rt=7,ID=9007199254740991,ag=Hu(ID/Rt),be={};be.absoluteValue=be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};be.comparedTo=be.cmp=function(t){var e,n,r,a,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(t){return Ra(this,new this.constructor(t))};be.dividedToIntegerBy=be.idiv=function(t){var e=this,n=e.constructor;return At(Ra(e,new n(t),0,1),n.precision)};be.equals=be.eq=function(t){return!this.cmp(t)};be.exponent=function(){return ln(this)};be.greaterThan=be.gt=function(t){return this.cmp(t)>0};be.greaterThanOrEqualTo=be.gte=function(t){return this.cmp(t)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(t){return this.cmp(t)<0};be.lessThanOrEqualTo=be.lte=function(t){return this.cmp(t)<1};be.logarithm=be.log=function(t){var e,n=this,r=n.constructor,a=r.precision,o=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ir))throw Error(si+"NaN");if(n.s<1)throw Error(si+(n.s?"NaN":"-Infinity"));return n.eq(Ir)?new r(0):(Lt=!1,e=Ra(Kf(n,o),Kf(t,o),o),Lt=!0,At(e,a))};be.minus=be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PD(e,t):RD(e,(t.s=-t.s,t))};be.modulo=be.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(si+"NaN");return n.s?(Lt=!1,e=Ra(n,t,0,1).times(t),Lt=!0,n.minus(e)):At(new r(n),a)};be.naturalExponential=be.exp=function(){return DD(this)};be.naturalLogarithm=be.ln=function(){return Kf(this)};be.negated=be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};be.plus=be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RD(e,t):PD(e,(t.s=-t.s,t))};be.precision=be.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Jo+t);if(e=ln(a)+1,r=a.d.length-1,n=r*Rt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};be.squareRoot=be.sqrt=function(){var t,e,n,r,a,o,l,c=this,h=c.constructor;if(c.s<1){if(!c.s)return new h(0);throw Error(si+"NaN")}for(t=ln(c),Lt=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=$i(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Hu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=l=n+3;;)if(o=r,r=o.plus(Ra(c,o,l+2)).times(.5),$i(o.d).slice(0,l)===(e=$i(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(At(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return Lt=!0,At(r,n)};be.times=be.mul=function(t){var e,n,r,a,o,l,c,h,d,m=this,y=m.constructor,b=m.d,_=(t=new y(t)).d;if(!m.s||!t.s)return new y(0);for(t.s*=m.s,n=m.e+t.e,h=b.length,d=_.length,h<d&&(o=b,b=_,_=o,l=h,h=d,d=l),o=[],l=h+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,a=h+r;a>r;)c=o[a]+_[r]*b[a-r-1]+e,o[a--]=c%Cn|0,e=c/Cn|0;o[a]=(o[a]+e)%Cn|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Lt?At(t,y.precision):t};be.toDecimalPlaces=be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ea(t,0,Fu),e===void 0?e=r.rounding:ea(e,0,8),At(n,t+ln(n)+1,e))};be.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=ol(r,!0):(ea(t,0,Fu),e===void 0?e=a.rounding:ea(e,0,8),r=At(new a(r),t+1,e),n=ol(r,!0,t+1)),n};be.toFixed=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?ol(a):(ea(t,0,Fu),e===void 0?e=o.rounding:ea(e,0,8),r=At(new o(a),t+ln(a)+1,e),n=ol(r.abs(),!1,t+ln(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var t=this,e=t.constructor;return At(new e(t),ln(t)+1,e.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(t){var e,n,r,a,o,l,c=this,h=c.constructor,d=12,m=+(t=new h(t));if(!t.s)return new h(Ir);if(c=new h(c),!c.s){if(t.s<1)throw Error(si+"Infinity");return c}if(c.eq(Ir))return c;if(r=h.precision,t.eq(Ir))return At(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=m<0?-m:m)<=ID){for(a=new h(Ir),e=Math.ceil(r/Rt+4),Lt=!1;n%2&&(a=a.times(c),G2(a.d,e)),n=Hu(n/2),n!==0;)c=c.times(c),G2(c.d,e);return Lt=!0,t.s<0?new h(Ir).div(a):At(a,r)}}else if(o<0)throw Error(si+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Lt=!1,a=t.times(Kf(c,r+d)),Lt=!0,a=DD(a),a.s=o,a};be.toPrecision=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?(n=ln(a),r=ol(a,n<=o.toExpNeg||n>=o.toExpPos)):(ea(t,1,Fu),e===void 0?e=o.rounding:ea(e,0,8),a=At(new o(a),t,e),n=ln(a),r=ol(a,t<=n||n<=o.toExpNeg,t)),r};be.toSignificantDigits=be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ea(t,1,Fu),e===void 0?e=r.rounding:ea(e,0,8)),At(new r(n),t,e)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ln(t),n=t.constructor;return ol(t,e<=n.toExpNeg||e>=n.toExpPos)};function RD(t,e){var n,r,a,o,l,c,h,d,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Lt?At(e,y):e;if(h=t.d,d=e.d,l=t.e,a=e.e,h=h.slice(),o=l-a,o){for(o<0?(r=h,o=-o,c=d.length):(r=d,a=l,c=h.length),l=Math.ceil(y/Rt),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=h.length,o=d.length,c-o<0&&(o=c,r=d,d=h,h=r),n=0;o;)n=(h[--o]=h[o]+d[o]+n)/Cn|0,h[o]%=Cn;for(n&&(h.unshift(n),++a),c=h.length;h[--c]==0;)h.pop();return e.d=h,e.e=a,Lt?At(e,y):e}function ea(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Jo+t)}function $i(t){var e,n,r,a=t.length-1,o="",l=t[0];if(a>0){for(o+=l,e=1;e<a;e++)r=t[e]+"",n=Rt-r.length,n&&(o+=Cs(n)),o+=r;l=t[e],r=l+"",n=Rt-r.length,n&&(o+=Cs(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Ra=(function(){function t(r,a){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*a+l,r[c]=o%Cn|0,l=o/Cn|0;return l&&r.unshift(l),r}function e(r,a,o,l){var c,h;if(o!=l)h=o>l?1:-1;else for(c=h=0;c<o;c++)if(r[c]!=a[c]){h=r[c]>a[c]?1:-1;break}return h}function n(r,a,o){for(var l=0;o--;)r[o]-=l,l=r[o]<a[o]?1:0,r[o]=l*Cn+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,l){var c,h,d,m,y,b,_,E,S,T,I,M,L,B,F,$,R,O,D=r.constructor,U=r.s==a.s?1:-1,j=r.d,z=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(si+"Division by zero");for(h=r.e-a.e,R=z.length,F=j.length,_=new D(U),E=_.d=[],d=0;z[d]==(j[d]||0);)++d;if(z[d]>(j[d]||0)&&--h,o==null?M=o=D.precision:l?M=o+(ln(r)-ln(a))+1:M=o,M<0)return new D(0);if(M=M/Rt+2|0,d=0,R==1)for(m=0,z=z[0],M++;(d<F||m)&&M--;d++)L=m*Cn+(j[d]||0),E[d]=L/z|0,m=L%z|0;else{for(m=Cn/(z[0]+1)|0,m>1&&(z=t(z,m),j=t(j,m),R=z.length,F=j.length),B=R,S=j.slice(0,R),T=S.length;T<R;)S[T++]=0;O=z.slice(),O.unshift(0),$=z[0],z[1]>=Cn/2&&++$;do m=0,c=e(z,S,R,T),c<0?(I=S[0],R!=T&&(I=I*Cn+(S[1]||0)),m=I/$|0,m>1?(m>=Cn&&(m=Cn-1),y=t(z,m),b=y.length,T=S.length,c=e(y,S,b,T),c==1&&(m--,n(y,R<b?O:z,b))):(m==0&&(c=m=1),y=z.slice()),b=y.length,b<T&&y.unshift(0),n(S,y,T),c==-1&&(T=S.length,c=e(z,S,R,T),c<1&&(m++,n(S,R<T?O:z,T))),T=S.length):c===0&&(m++,S=[0]),E[d++]=m,c&&S[0]?S[T++]=j[B]||0:(S=[j[B]],T=1);while((B++<F||S[0]!==void 0)&&M--)}return E[0]||E.shift(),_.e=h,At(_,l?o+ln(_)+1:o)}})();function DD(t,e){var n,r,a,o,l,c,h=0,d=0,m=t.constructor,y=m.precision;if(ln(t)>16)throw Error(B_+ln(t));if(!t.s)return new m(Ir);for(Lt=!1,c=y,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(qo(2,d))/Math.LN10*2+5|0,c+=r,n=a=o=new m(Ir),m.precision=c;;){if(a=At(a.times(t),c),n=n.times(++h),l=o.plus(Ra(a,n,c)),$i(l.d).slice(0,c)===$i(o.d).slice(0,c)){for(;d--;)o=At(o.times(o),c);return m.precision=y,e==null?(Lt=!0,At(o,y)):o}o=l}}function ln(t){for(var e=t.e*Rt,n=t.d[0];n>=10;n/=10)e++;return e}function R0(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(si+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function Cs(t){for(var e="";t--;)e+="0";return e}function Kf(t,e){var n,r,a,o,l,c,h,d,m,y=1,b=10,_=t,E=_.d,S=_.constructor,T=S.precision;if(_.s<1)throw Error(si+(_.s?"NaN":"-Infinity"));if(_.eq(Ir))return new S(0);if(e==null?(Lt=!1,d=T):d=e,_.eq(10))return e==null&&(Lt=!0),R0(S,d);if(d+=b,S.precision=d,n=$i(E),r=n.charAt(0),o=ln(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=$i(_.d),r=n.charAt(0),y++;o=ln(_),r>1?(_=new S("0."+n),o++):_=new S(r+"."+n.slice(1))}else return h=R0(S,d+2,T).times(o+""),_=Kf(new S(r+"."+n.slice(1)),d-b).plus(h),S.precision=T,e==null?(Lt=!0,At(_,T)):_;for(c=l=_=Ra(_.minus(Ir),_.plus(Ir),d),m=At(_.times(_),d),a=3;;){if(l=At(l.times(m),d),h=c.plus(Ra(l,new S(a),d)),$i(h.d).slice(0,d)===$i(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(R0(S,d+2,T).times(o+""))),c=Ra(c,new S(y),d),S.precision=T,e==null?(Lt=!0,At(c,T)):c;c=h,a+=2}}function K2(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Hu(n/Rt),t.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Rt;r<a;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>ag||t.e<-ag))throw Error(B_+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,a,o,l,c,h,d,m,y=t.d;for(l=1,o=y[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=Rt,a=e,d=y[m=0];else{if(m=Math.ceil((r+1)/Rt),o=y.length,m>=o)return t;for(d=o=y[m],l=1;o>=10;o/=10)l++;r%=Rt,a=r-Rt+l}if(n!==void 0&&(o=qo(10,l-a-1),c=d/o%10|0,h=e<0||y[m+1]!==void 0||d%o,h=n<4?(c||h)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||h||n==6&&(r>0?a>0?d/qo(10,l-a):0:y[m-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return h?(o=ln(t),y.length=1,e=e-o-1,y[0]=qo(10,(Rt-e%Rt)%Rt),t.e=Hu(-e/Rt)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=m,o=1,m--):(y.length=m+1,o=qo(10,Rt-r),y[m]=a>0?(d/qo(10,l-a)%qo(10,a)|0)*o:0),h)for(;;)if(m==0){(y[0]+=o)==Cn&&(y[0]=1,++t.e);break}else{if(y[m]+=o,y[m]!=Cn)break;y[m--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Lt&&(t.e>ag||t.e<-ag))throw Error(B_+ln(t));return t}function PD(t,e){var n,r,a,o,l,c,h,d,m,y,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Lt?At(e,_):e;if(h=t.d,y=e.d,r=e.e,d=t.e,h=h.slice(),l=d-r,l){for(m=l<0,m?(n=h,l=-l,c=y.length):(n=y,r=d,c=h.length),a=Math.max(Math.ceil(_/Rt),c)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=h.length,c=y.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(h[a]!=y[a]){m=h[a]<y[a];break}l=0}for(m&&(n=h,h=y,y=n,e.s=-e.s),c=h.length,a=y.length-c;a>0;--a)h[c++]=0;for(a=y.length;a>l;){if(h[--a]<y[a]){for(o=a;o&&h[--o]===0;)h[o]=Cn-1;--h[o],h[a]+=Cn}h[a]-=y[a]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,Lt?At(e,_):e):new b(0)}function ol(t,e,n){var r,a=ln(t),o=$i(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Cs(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Cs(-a-1)+o,n&&(r=n-l)>0&&(o+=Cs(r))):a>=l?(o+=Cs(a+1-l),n&&(r=n-a-1)>0&&(o=o+"."+Cs(r))):((r=a+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(o+="."),o+=Cs(r))),t.s<0?"-"+o:o}function G2(t,e){if(t.length>e)return t.length=e,!0}function MD(t){var e,n,r;function a(o){var l=this;if(!(l instanceof a))return new a(o);if(l.constructor=a,o instanceof a){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Jo+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return K2(l,o.toString())}else if(typeof o!="string")throw Error(Jo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,CK.test(o))K2(l,o);else throw Error(Jo+o)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=MD,a.config=a.set=OK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function OK(t){if(!t||typeof t!="object")throw Error(si+"Object expected");var e,n,r,a=["precision",1,Fu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Hu(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Jo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Jo+n+": "+r);return this}var q_=MD(kK);Ir=new q_(1);const mt=q_;var NK=t=>t,jD={},LD=t=>t===jD,Y2=t=>function e(){return arguments.length===0||arguments.length===1&&LD(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},VD=(t,e)=>t===1?e:Y2(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.filter(l=>l!==jD).length;return o>=t?e(...r):VD(t-o,Y2(function(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];var d=r.map(m=>LD(m)?c.shift():m);return e(...d,...c)}))}),ep=t=>VD(t.length,t),Kb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},IK=ep((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),RK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return NK;var a=n.reverse(),o=a[0],l=a.slice(1);return function(){return l.reduce((c,h)=>h(c),o(...arguments))}},Gb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),UD=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e&&a.every((l,c)=>{var h;return l===((h=e)===null||h===void 0?void 0:h[c])})||(e=a,n=t(...a)),n}};function zD(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function BD(t,e,n){for(var r=new mt(t),a=0,o=[];r.lt(e)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}ep((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});ep((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});ep((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var qD=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},$D=(t,e,n)=>{if(t.lte(0))return new mt(0);var r=zD(t.toNumber()),a=new mt(10).pow(r),o=t.div(a),l=r!==1?.05:.1,c=new mt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),h=c.mul(a);return e?new mt(h.toNumber()):new mt(Math.ceil(h.toNumber()))},DK=(t,e,n)=>{var r=new mt(1),a=new mt(t);if(!a.isint()&&n){var o=Math.abs(t);o<1?(r=new mt(10).pow(zD(t)-1),a=new mt(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new mt(Math.floor(t)))}else t===0?a=new mt(Math.floor((e-1)/2)):n||(a=new mt(Math.floor(t)));var l=Math.floor((e-1)/2),c=RK(IK(h=>a.add(new mt(h-l).mul(r)).toNumber()),Kb);return c(0,e)},FD=function(e,n,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var l=$D(new mt(n).sub(e).div(r-1),a,o),c;e<=0&&n>=0?c=new mt(0):(c=new mt(e).add(n).div(2),c=c.sub(new mt(c).mod(l)));var h=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new mt(n).sub(c).div(l).toNumber()),m=h+d+1;return m>r?FD(e,n,r,a,o+1):(m<r&&(d=n>0?d+(r-m):d,h=n>0?h:h+(r-m)),{step:l,tickMin:c.sub(new mt(h).mul(l)),tickMax:c.add(new mt(d).mul(l))})};function PK(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,c]=qD([e,n]);if(l===-1/0||c===1/0){var h=c===1/0?[l,...Kb(0,r-1).map(()=>1/0)]:[...Kb(0,r-1).map(()=>-1/0),c];return e>n?Gb(h):h}if(l===c)return DK(l,r,a);var{step:d,tickMin:m,tickMax:y}=FD(l,c,o,a,0),b=BD(m,y.add(new mt(.1).mul(d)),d);return e>n?Gb(b):b}function MK(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=qD([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var c=Math.max(e,2),h=$D(new mt(l).sub(o).div(c-1),a,0),d=[...BD(new mt(o),new mt(l),h),l];return a===!1&&(d=d.map(m=>Math.round(m))),n>r?Gb(d):d}var jK=UD(PK),LK=UD(MK),VK=t=>t.rootProps.barCategoryGap,tp=t=>t.rootProps.stackOffset,$_=t=>t.options.chartName,F_=t=>t.rootProps.syncId,HD=t=>t.rootProps.syncMethod,H_=t=>t.options.eventEmitter,Ea={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},np=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},UK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ea.angleAxisId,includeHidden:!1,name:void 0,reversed:Ea.reversed,scale:Ea.scale,tick:Ea.tick,tickCount:void 0,ticks:void 0,type:Ea.type,unit:void 0},zK={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:Nr.type,unit:void 0},BK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ea.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ea.scale,tick:Ea.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},qK={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:"category",unit:void 0},K_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?BK:UK,G_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?qK:zK,rp=t=>t.polarOptions,Y_=te([Ha,Ka,qn],YB),KD=te([rp,Y_],(t,e)=>{if(t!=null)return Qs(t.innerRadius,e,0)}),GD=te([rp,Y_],(t,e)=>{if(t!=null)return Qs(t.outerRadius,e,e*.8)}),$K=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},YD=te([rp],$K);te([K_,YD],np);var WD=te([Y_,KD,GD],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});te([G_,WD],np);var XD=te([Ct,rp,KD,GD,Ha,Ka],(t,e,n,r,a,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:h,endAngle:d}=e;return{cx:Qs(l,a,a/2),cy:Qs(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:d,clockWise:!1}}}),un=(t,e)=>e,ip=(t,e,n)=>n;function W_(t){return t?.id}var xn=t=>{var e=Ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ku=t=>t.tooltip.settings.axisId,In=t=>{var e=xn(t),n=Ku(t);return hh(t,e,n)},QD=te([In],t=>t?.dataKey);function ZD(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:o}=n,l=new Map;return t.forEach(c=>{var h,d=(h=c.data)!==null&&h!==void 0?h:r;if(!(d==null||d.length===0)){var m=W_(c);d.forEach((y,b)=>{var _=o==null||a?b:String(sr(y,o,null)),E=sr(y,c.dataKey,0),S;l.has(_)?S=l.get(_):S={},Object.assign(S,{[m]:E}),l.set(_,S)})}}),Array.from(l.values())}function X_(t){return t.stackId!=null&&t.dataKey!=null}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){FK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FK(t,e,n){return(e=HK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HK(t){var e=KK(t,"string");return typeof e=="symbol"?e:e+""}function KK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yb=[0,"auto"],Cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},JD=(t,e)=>t.cartesianAxis.xAxis[e],Ya=(t,e)=>{var n=JD(t,e);return n??Cr},Or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Yb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:oh},eP=(t,e)=>t.cartesianAxis.yAxis[e],Wa=(t,e)=>{var n=eP(t,e);return n??Or},GK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Q_=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??GK},pr=(t,e,n)=>{switch(e){case"xAxis":return Ya(t,n);case"yAxis":return Wa(t,n);case"zAxis":return Q_(t,n);case"angleAxis":return K_(t,n);case"radiusAxis":return G_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},YK=(t,e,n)=>{switch(e){case"xAxis":return Ya(t,n);case"yAxis":return Wa(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hh=(t,e,n)=>{switch(e){case"xAxis":return Ya(t,n);case"yAxis":return Wa(t,n);case"angleAxis":return K_(t,n);case"radiusAxis":return G_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tP=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function nP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var rP=t=>t.graphicalItems.cartesianItems,WK=te([un,ip],nP),iP=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),dh=te([rP,pr,WK],iP),aP=te([dh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(X_)),sP=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),oP=te([dh],sP),lP=t=>t.map(e=>e.data).filter(Boolean).flat(1),XK=te([dh],lP),uP=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},Z_=te([XK,z_],uP),cP=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:sr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:sr(a,r)}))):t.map(r=>({value:r})),ap=te([Z_,pr,dh],cP);function fP(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function yl(t){return t.filter(e=>Ji(e)||e instanceof Date).map(Number).filter(e=>Pr(e)===!1)}function QK(t,e,n){return!n||typeof e!="number"||Pr(e)?[]:n.length?yl(n.flatMap(r=>{var a=sr(t,r.dataKey),o,l;if(Array.isArray(a)?[o,l]=a:o=l=a,!(!or(o)||!or(l)))return[e-o,e+l]})):[]}var ZK=te([aP,z_,In],ZD),hP=(t,e,n)=>{var r={},a=e.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(a).map(o=>{var[l,c]=o,h=c.map(W_);return[l,{stackedData:uq(t,h,n),graphicalItems:c}]}))},Wb=te([ZK,aP,tp],hP),dP=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(n!=="zAxis"){var o=dq(t,r,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},JK=te([Wb,ro,un],dP),mP=(t,e,n,r,a)=>n.length>0?t.flatMap(o=>n.flatMap(l=>{var c,h,d=(c=r[l.id])===null||c===void 0?void 0:c.filter(y=>fP(a,y)),m=sr(o,(h=e.dataKey)!==null&&h!==void 0?h:l.dataKey);return{value:m,errorDomain:QK(o,m,d)}})).filter(Boolean):e?.dataKey!=null?t.map(o=>({value:sr(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),sp=t=>t.errorBars,gP=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>fP(n,r));te([oP,sp,un],gP);var eG=te([Z_,pr,oP,sp,un],mP);function tG(t){var{value:e}=t;if(Ji(e)||e instanceof Date)return e}var X2=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=yl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},nG=(t,e,n)=>{var r=t.map(tG).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&II(r))?XR(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},J_=t=>{var e;if(t==null||!("domain"in t))return Yb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=yl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Yb},og=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var o=a.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},pP=t=>t.referenceElements.dots,Gu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),rG=te([pP,un,ip],Gu),yP=t=>t.referenceElements.areas,iG=te([yP,un,ip],Gu),vP=t=>t.referenceElements.lines,aG=te([vP,un,ip],Gu),bP=(t,e)=>{var n=yl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sG=te(rG,un,bP),xP=(t,e)=>{var n=yl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},oG=te([iG,un],xP),_P=(t,e)=>{var n=yl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lG=te(aG,un,_P),uG=te(sG,lG,oG,(t,e,n)=>og(t,n,e)),cG=te([pr],J_),wP=(t,e,n,r,a,o,l)=>{var c=AK(e,t.allowDataOverflow);if(c!=null)return c;var h=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=h?og(n,a,X2(r)):og(a,X2(r));return SK(e,d,t.allowDataOverflow)},fG=te([pr,cG,JK,eG,uG,Ct,un],wP),hG=[0,1],EP=(t,e,n,r,a,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:h}=t,d=Fa(e,o);return d&&c==null?XR(0,n.length):h==="category"?nG(r,t,d):a==="expand"?hG:l}},e1=te([pr,Ct,Z_,ap,tp,un,fG],EP),TP=(t,e,n,r,a)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(r_(o));return c in pf?c:"point"}}},mh=te([pr,Ct,tP,$_,un],TP);function dG(t){if(t!=null){if(t in pf)return pf[t]();var e="scale".concat(r_(t));if(e in pf)return pf[e]()}}function t1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=dG(e);if(a!=null){var o=a.domain(n).range(r);return aq(o),o}}}var AP=(t,e,n)=>{var r=J_(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Iu(t))return jK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Iu(t))return LK(t,e.tickCount,e.allowDecimals)}},n1=te([e1,hh,mh],AP),SP=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Iu(e)&&Array.isArray(n)&&n.length>0){var a=e[0],o=n[0],l=e[1],c=n[n.length-1];return[Math.min(a,o),Math.max(l,c)]}return e},mG=te([pr,e1,n1,un],SP),gG=te(ap,pr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(yl(t.map(c=>c.value))).sort((c,h)=>c-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/a}}),kP=te(gG,Ct,VK,qn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!or(t))return 0;var o=e==="vertical"?r.height:r.width;if(a==="gap")return t*o/2;if(a==="no-gap"){var l=Qs(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),pG=(t,e)=>{var n=Ya(t,e);return n==null||typeof n.padding!="string"?0:kP(t,"xAxis",e,n.padding)},yG=(t,e)=>{var n=Wa(t,e);return n==null||typeof n.padding!="string"?0:kP(t,"yAxis",e,n.padding)},vG=te(Ya,pG,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),bG=te(Wa,yG,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),xG=te([qn,vG,Gg,Kg,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:o}=r;return a?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),_G=te([qn,Ct,bG,Gg,Kg,(t,e,n)=>n],(t,e,n,r,a,o)=>{var{padding:l}=a;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),gh=(t,e,n,r)=>{var a;switch(e){case"xAxis":return xG(t,n,r);case"yAxis":return _G(t,n,r);case"zAxis":return(a=Q_(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return YD(t);case"radiusAxis":return WD(t,n);default:return}},CP=te([pr,gh],np),Yu=te([pr,mh,mG,CP],t1);te([dh,sp,un],gP);function OP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var op=(t,e)=>e,lp=(t,e,n)=>n,wG=te(Fg,op,lp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(OP)),EG=te(Hg,op,lp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(OP)),NP=(t,e)=>({width:t.width,height:e.height}),TG=(t,e)=>{var n=typeof e.width=="number"?e.width:oh;return{width:n,height:t.height}},AG=te(qn,Ya,NP),SG=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},kG=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},CG=te(Ka,qn,wG,op,lp,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var h=NP(e,c);l==null&&(l=SG(e,r,t));var d=r==="top"&&!a||r==="bottom"&&a;o[c.id]=l-Number(d)*h.height,l+=(d?-1:1)*h.height}),o}),OG=te(Ha,qn,EG,op,lp,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var h=TG(e,c);l==null&&(l=kG(e,r,t));var d=r==="left"&&!a||r==="right"&&a;o[c.id]=l-Number(d)*h.width,l+=(d?-1:1)*h.width}),o}),NG=(t,e)=>{var n=Ya(t,e);if(n!=null)return CG(t,n.orientation,n.mirror)},IG=te([qn,Ya,NG,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),RG=(t,e)=>{var n=Wa(t,e);if(n!=null)return OG(t,n.orientation,n.mirror)},DG=te([qn,Wa,RG,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),PG=te(qn,Wa,(t,e)=>{var n=typeof e.width=="number"?e.width:oh;return{width:n,height:t.height}}),IP=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:o,dataKey:l}=n,c=Fa(t,r),h=e.map(d=>d.value);if(l&&c&&o==="category"&&a&&II(h))return h}},r1=te([Ct,ap,pr,un],IP),RP=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:o}=n,l=Fa(t,r);if(l&&(a==="number"||o!=="auto"))return e.map(c=>c.value)}},i1=te([Ct,ap,hh,un],RP),Q2=te([Ct,YK,mh,Yu,r1,i1,gh,n1,un],(t,e,n,r,a,o,l,c,h)=>{if(e==null)return null;var d=Fa(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:o,duplicateDomain:a,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}),MG=(t,e,n,r,a,o,l,c,h)=>{if(!(e==null||r==null)){var d=Fa(t,h),{type:m,ticks:y,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/_:0;E=h==="angleAxis"&&o!=null&&o.length>=2?ri(o[0]-o[1])*2*E:E;var S=y||a;if(S){var T=S.map((I,M)=>{var L=l?l.indexOf(I):I;return{index:M,coordinate:r(L)+E,value:I,offset:E}});return T.filter(I=>!Pr(I.coordinate))}return d&&c?c.map((I,M)=>({coordinate:r(I)+E,value:I,index:M,offset:E})):r.ticks?r.ticks(b).map(I=>({coordinate:r(I)+E,value:I,offset:E})):r.domain().map((I,M)=>({coordinate:r(I)+E,value:l?l[I]:I,index:M,offset:E}))}},DP=te([Ct,hh,mh,Yu,n1,gh,r1,i1,un],MG),jG=(t,e,n,r,a,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Fa(t,l),{tickCount:h}=e,d=0;return d=l==="angleAxis"&&r?.length>=2?ri(r[0]-r[1])*2*d:d,c&&o?o.map((m,y)=>({coordinate:n(m)+d,value:m,index:y,offset:d})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,y)=>({coordinate:n(m)+d,value:a?a[m]:m,index:y,offset:d}))}},PP=te([Ct,hh,Yu,gh,r1,i1,un],jG),MP=te(pr,Yu,(t,e)=>{if(!(t==null||e==null))return sg(sg({},t),{},{scale:e})}),LG=te([pr,mh,e1,CP],t1);te((t,e,n)=>Q_(t,n),LG,(t,e)=>{if(!(t==null||e==null))return sg(sg({},t),{},{scale:e})});var VG=te([Ct,Fg,Hg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),jP=t=>t.options.defaultTooltipEventType,LP=t=>t.options.validateTooltipEventTypes;function VP(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function a1(t,e){var n=jP(t),r=LP(t);return VP(e,n,r)}function UG(t){return Re(e=>a1(e,t))}var UP=(t,e)=>{var n,r=Number(e);if(!(Pr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},zG=t=>t.tooltip.settings,Ms={active:!1,index:null,dataKey:void 0,coordinate:void 0},BG={itemInteraction:{click:Ms,hover:Ms},axisInteraction:{click:Ms,hover:Ms},keyboardInteraction:Ms,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zP=jr({name:"tooltip",initialState:BG,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ia(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:qG,removeTooltipEntrySettings:$G,setTooltipSettingsState:FG,setActiveMouseOverItemIndex:HG,mouseLeaveItem:Mee,mouseLeaveChart:BP,setActiveClickItemIndex:jee,setMouseOverAxisIndex:qP,setMouseClickAxisIndex:KG,setSyncInteraction:Xb,setKeyboardInteraction:Qb}=zP.actions,GG=zP.reducer;function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){YG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YG(t,e,n){return(e=WG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WG(t){var e=XG(t,"string");return typeof e=="symbol"?e:e+""}function XG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QG(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function ZG(t){return t.index!=null}var $P=(t,e,n,r)=>{if(e==null)return Ms;var a=QG(t,e,n);if(a==null)return Ms;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(ZG(a)){if(o)return Qd(Qd({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Qd(Qd({},Ms),{},{coordinate:a.coordinate})},s1=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!or(r))return n;var a=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(a,Math.min(r,o)))},FP=(t,e,n,r,a,o,l,c)=>{if(!(o==null||c==null)){var h=l[0],d=h==null?void 0:c(h.positions,o);if(d!=null)return d;var m=a?.[Number(o)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},HP=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===a})},ph=t=>t.options.tooltipPayloadSearcher,Wu=t=>t.tooltip;function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function eC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){JG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JG(t,e,n){return(e=eY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eY(t){var e=tY(t,"string");return typeof e=="symbol"?e:e+""}function tY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nY(t,e){return t??e}var KP=(t,e,n,r,a,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:h,dataStartIndex:d,dataEndIndex:m}=n,y=[];return t.reduce((b,_)=>{var E,{dataDefinedOnItem:S,settings:T}=_,I=nY(S,c),M=Array.isArray(I)?RR(I,d,m):I,L=(E=T?.dataKey)!==null&&E!==void 0?E:r,B=T?.nameKey,F;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?F=RI(M,r,a):F=o(M,e,h,B),Array.isArray(F))F.forEach(R=>{var O=eC(eC({},T),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});b.push(Uk({tooltipEntrySettings:O,dataKey:R.dataKey,payload:R.payload,value:sr(R.payload,R.dataKey),name:R.name}))});else{var $;b.push(Uk({tooltipEntrySettings:T,dataKey:L,payload:F,value:sr(F,L),name:($=sr(F,B))!==null&&$!==void 0?$:T?.name}))}return b},y)}},o1=te([In,Ct,tP,$_,xn],TP),rY=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),iY=te([xn,Ku],nP),yh=te([rY,In,iY],iP),aY=te([yh],t=>t.filter(X_)),sY=te([yh],lP),Xu=te([sY,ro],uP),oY=te([aY,ro,In],ZD),l1=te([Xu,In,yh],cP),lY=te([In],J_),uY=te([yh],t=>t.filter(X_)),cY=te([oY,uY,tp],hP),fY=te([cY,ro,xn],dP),hY=te([yh],sP),dY=te([Xu,In,hY,sp,xn],mP),mY=te([pP,xn,Ku],Gu),gY=te([mY,xn],bP),pY=te([yP,xn,Ku],Gu),yY=te([pY,xn],xP),vY=te([vP,xn,Ku],Gu),bY=te([vY,xn],_P),xY=te([gY,bY,yY],og),_Y=te([In,lY,fY,dY,xY,Ct,xn],wP),GP=te([In,Ct,Xu,l1,tp,xn,_Y],EP),wY=te([GP,In,o1],AP),EY=te([In,GP,wY,xn],SP),YP=t=>{var e=xn(t),n=Ku(t),r=!1;return gh(t,e,n,r)},WP=te([In,YP],np),XP=te([In,o1,EY,WP],t1),TY=te([Ct,l1,In,xn],IP),AY=te([Ct,l1,In,xn],RP),SY=(t,e,n,r,a,o,l,c)=>{if(e){var{type:h}=e,d=Fa(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=h==="category"&&r.bandwidth?r.bandwidth()/m:0;return y=c==="angleAxis"&&a!=null&&a?.length>=2?ri(a[0]-a[1])*2*y:y,d&&l?l.map((b,_)=>({coordinate:r(b)+y,value:b,index:_,offset:y})):r.domain().map((b,_)=>({coordinate:r(b)+y,value:o?o[b]:b,index:_,offset:y}))}}},Xa=te([Ct,In,o1,XP,YP,TY,AY,xn],SY),u1=te([jP,LP,zG],(t,e,n)=>VP(n.shared,t,e)),QP=t=>t.tooltip.settings.trigger,c1=t=>t.tooltip.settings.defaultIndex,up=te([Wu,u1,QP,c1],$P),Gf=te([up,Xu],s1),ZP=te([Xa,Gf],UP),kY=te([up],t=>{if(t)return t.dataKey}),JP=te([Wu,u1,QP,c1],HP),CY=te([Ha,Ka,Ct,qn,Xa,c1,JP,ph],FP),OY=te([up,CY],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),NY=te([up],t=>t.active),IY=te([JP,Gf,ro,QD,ZP,ph,u1],KP),RY=te([IY],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){DY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DY(t,e,n){return(e=PY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=MY(t,"string");return typeof e=="symbol"?e:e+""}function MY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jY=()=>Re(In),LY=()=>{var t=jY(),e=Re(Xa),n=Re(XP);return Rb(nC(nC({},t),{},{scale:n}),e)},eM=()=>Re($_),f1=(t,e)=>e,tM=(t,e,n)=>n,h1=(t,e,n,r)=>r,VY=te(Xa,t=>Vg(t,e=>e.coordinate)),d1=te([Wu,f1,tM,h1],$P),nM=te([d1,Xu],s1),UY=(t,e,n)=>{if(e!=null){var r=Wu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},rM=te([Wu,f1,tM,h1],HP),lg=te([Ha,Ka,Ct,qn,Xa,h1,rM,ph],FP),zY=te([d1,lg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),iM=te(Xa,nM,UP),BY=te([rM,nM,ro,QD,iM,ph,f1],KP),qY=te([d1],t=>({isActive:t.active,activeIndex:t.index})),$Y=(t,e,n,r,a,o,l,c)=>{if(!(!t||!e||!r||!a||!o)){var h=mq(t.chartX,t.chartY,e,n,c);if(h){var d=pq(h,e),m=rq(d,l,o,r,a),y=gq(e,o,m,h);return{activeIndex:String(m),activeCoordinate:y}}}};function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(null,arguments)}function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){FY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FY(t,e,n){return(e=HY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HY(t){var e=KY(t,"string");return typeof e=="symbol"?e:e+""}function KY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GY(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:h,chartName:d}=t,m=e,y=n,b=r;if(!c||!m||d!=="ScatterChart"&&h!=="axis")return null;var _,E;if(d==="ScatterChart")_=m,E=o$;else if(d==="BarChart")_=l$(l,m,a,o),E=U$;else if(l==="radial"){var{cx:S,cy:T,radius:I,startAngle:M,endAngle:L}=YR(m);_={cx:S,cy:T,startAngle:M,endAngle:L,innerRadius:I,outerRadius:I},E=$$}else _={points:F$(l,m,a)},E=hm;var B=typeof c=="object"&&"className"in c?c.className:void 0,F=Zd(Zd(Zd(Zd({stroke:"#ccc",pointerEvents:"none"},a),_),Zn(c,!1)),{},{payload:y,payloadIndex:b,className:Pt("recharts-tooltip-cursor",B)});return C.isValidElement(c)?C.cloneElement(c,F):C.createElement(E,F)}function YY(t){var e=LY(),n=VR(),r=p_(),a=eM();return C.createElement(GY,Zb({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var aM=C.createContext(null),WY=()=>C.useContext(aM),D0={exports:{}},iC;function XY(){return iC||(iC=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function o(h,d,m,y,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new a(m,y||h,b),E=n?n+d:d;return h._events[E]?h._events[E].fn?h._events[E]=[h._events[E],_]:h._events[E].push(_):(h._events[E]=_,h._eventsCount++),h}function l(h,d){--h._eventsCount===0?h._events=new r:delete h._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,y;if(this._eventsCount===0)return d;for(y in m=this._events)e.call(m,y)&&d.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d){var m=n?n+d:d,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var b=0,_=y.length,E=new Array(_);b<_;b++)E[b]=y[b].fn;return E},c.prototype.listenerCount=function(d){var m=n?n+d:d,y=this._events[m];return y?y.fn?1:y.length:0},c.prototype.emit=function(d,m,y,b,_,E){var S=n?n+d:d;if(!this._events[S])return!1;var T=this._events[S],I=arguments.length,M,L;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),I){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,y),!0;case 4:return T.fn.call(T.context,m,y,b),!0;case 5:return T.fn.call(T.context,m,y,b,_),!0;case 6:return T.fn.call(T.context,m,y,b,_,E),!0}for(L=1,M=new Array(I-1);L<I;L++)M[L-1]=arguments[L];T.fn.apply(T.context,M)}else{var B=T.length,F;for(L=0;L<B;L++)switch(T[L].once&&this.removeListener(d,T[L].fn,void 0,!0),I){case 1:T[L].fn.call(T[L].context);break;case 2:T[L].fn.call(T[L].context,m);break;case 3:T[L].fn.call(T[L].context,m,y);break;case 4:T[L].fn.call(T[L].context,m,y,b);break;default:if(!M)for(F=1,M=new Array(I-1);F<I;F++)M[F-1]=arguments[F];T[L].fn.apply(T[L].context,M)}}return!0},c.prototype.on=function(d,m,y){return o(this,d,m,y,!1)},c.prototype.once=function(d,m,y){return o(this,d,m,y,!0)},c.prototype.removeListener=function(d,m,y,b){var _=n?n+d:d;if(!this._events[_])return this;if(!m)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===m&&(!b||E.once)&&(!y||E.context===y)&&l(this,_);else{for(var S=0,T=[],I=E.length;S<I;S++)(E[S].fn!==m||b&&!E[S].once||y&&E[S].context!==y)&&T.push(E[S]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(D0)),D0.exports}var QY=XY();const ZY=Zs(QY);var Yf=new ZY,Jb="recharts.syncEvent.tooltip",aC="recharts.syncEvent.brush";function JY(t,e){if(e){var n=Number.parseInt(e,10);if(!Pr(n))return t?.[n]}}var eW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sM=jr({name:"options",initialState:eW,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tW=sM.reducer,{createEventEmitter:nW}=sM.actions;function rW(t){return t.tooltip.syncInteraction}var iW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oM=jr({name:"chartData",initialState:iW,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:sC,setDataStartEndIndexes:aW,setComputedData:Lee}=oM.actions,sW=oM.reducer,oW=["x","y"];function oC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(n),!0).forEach(function(r){lW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lW(t,e,n){return(e=uW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uW(t){var e=cW(t,"string");return typeof e=="symbol"?e:e+""}function cW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fW(t,e){if(t==null)return{};var n,r,a=hW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function hW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lM=()=>{};function dW(){var t=Re(F_),e=Re(H_),n=lr(),r=Re(HD),a=Re(Xa),o=p_(),l=g_(),c=Re(h=>h.rootProps.className);C.useEffect(()=>{if(t==null)return lM;var h=(d,m,y)=>{if(e!==y&&t===d){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate){var _=m.payload.coordinate,{x:E,y:S}=_,T=fW(_,oW),I=Lo(Lo(Lo({},T),typeof E=="number"&&{x:Math.max(l.x,Math.min(E,l.x+l.width))}),typeof S=="number"&&{y:Math.max(l.y,Math.min(S,l.y+l.height))}),M=Lo(Lo({},m),{},{payload:Lo(Lo({},m.payload),{},{coordinate:I})});n(M)}else n(m);return}if(a!=null){var L;if(typeof r=="function"){var B={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},F=r(a,B);L=a[F]}else r==="value"&&(L=a.find(V=>String(V.value)===m.payload.label));var{coordinate:$}=m.payload;if(L==null||m.payload.active===!1||$==null||l==null){n(Xb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:O}=$,D=Math.min(R,l.x+l.width),U=Math.min(O,l.y+l.height),j={x:o==="horizontal"?L.coordinate:D,y:o==="horizontal"?U:L.coordinate},z=Xb({active:m.payload.active,coordinate:j,dataKey:m.payload.dataKey,index:String(L.index),label:m.payload.label});n(z)}}};return Yf.on(Jb,h),()=>{Yf.off(Jb,h)}},[c,n,e,t,r,a,o,l])}function mW(){var t=Re(F_),e=Re(H_),n=lr();C.useEffect(()=>{if(t==null)return lM;var r=(a,o,l)=>{e!==l&&t===a&&n(aW(o))};return Yf.on(aC,r),()=>{Yf.off(aC,r)}},[n,e,t])}function gW(){var t=lr();C.useEffect(()=>{t(nW())},[t]),dW(),mW()}function pW(t,e,n,r,a,o){var l=Re(b=>UY(b,t,e)),c=Re(H_),h=Re(F_),d=Re(HD),m=Re(rW),y=m?.active;C.useEffect(()=>{if(!y&&h!=null&&c!=null){var b=Xb({active:o,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r});Yf.emit(Jb,h,b,c)}},[y,n,l,a,r,c,h,d,o])}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){yW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yW(t,e,n){return(e=vW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vW(t){var e=bW(t,"string");return typeof e=="symbol"?e:e+""}function bW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xW(t){return t.dataKey}function _W(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(Uq,e)}var cC=[],wW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!qu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function EW(t){var e=li(t,wW),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:h,offset:d,payloadUniqBy:m,position:y,reverseDirection:b,useTranslate3d:_,wrapperStyle:E,cursor:S,shared:T,trigger:I,defaultIndex:M,portal:L,axisId:B}=e,F=lr(),$=typeof M=="number"?String(M):M;C.useEffect(()=>{F(FG({shared:T,trigger:I,axisId:B,active:n,defaultIndex:$}))},[F,T,I,B,n,$]);var R=g_(),O=qR(),D=UG(T),{activeIndex:U,isActive:j}=Re(Ne=>qY(Ne,D,I,$)),z=Re(Ne=>BY(Ne,D,I,$)),V=Re(Ne=>iM(Ne,D,I,$)),pe=Re(Ne=>zY(Ne,D,I,$)),ye=z,Z=WY(),ue=n??j,[me,Ee]=K7([ye,ue]),H=D==="axis"?V:void 0;pW(D,I,pe,H,U,ue);var ie=L??Z;if(ie==null)return null;var ae=ye??cC;ue||(ae=cC),c&&ae.length&&(ae=v7(ye.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||e.includeHidden)),m,xW));var he=ae.length>0,we=C.createElement(Kq,{allowEscapeViewBox:r,animationDuration:a,animationEasing:o,isAnimationActive:h,active:ue,coordinate:pe,hasPayload:he,offset:d,position:y,reverseDirection:b,useTranslate3d:_,viewBox:R,wrapperStyle:E,lastBoundingBox:me,innerRef:Ee,hasPortalFromProps:!!L},_W(l,uC(uC({},e),{},{payload:ae,label:H,active:ue,coordinate:pe,accessibilityLayer:O})));return C.createElement(C.Fragment,null,N8.createPortal(we,ie),ue&&C.createElement(YY,{cursor:S,tooltipEventType:D,coordinate:pe,payload:ye,index:U}))}var P0={},M0={},j0={},fC;function TW(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:o}={}){let l,c=null;const h=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},y=()=>{d&&m(),S()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,y()},r)},E=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{E(),l=void 0,c=null},T=()=>{m()},I=function(...M){if(a?.aborted)return;l=this,c=M;const L=b==null;_(),h&&L&&m()};return I.schedule=_,I.cancel=S,I.flush=T,a?.addEventListener("abort",S,{once:!0}),I}t.debounce=e})(j0)),j0}var hC;function AW(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TW();function n(r,a=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:h}=o,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let m,y=null;const b=e.debounce(function(...S){m=r.apply(this,S),y=null},a,{edges:d}),_=function(...S){return h!=null&&(y===null&&(y=Date.now()),Date.now()-y>=h)?(m=r.apply(this,S),y=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,S),m)},E=()=>(b.flush(),m);return _.cancel=b.cancel,_.flush=E,_}t.debounce=n})(M0)),M0}var dC;function SW(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AW();function n(r,a=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(r,a,{leading:l,maxWait:a,trailing:c})}t.throttle=n})(P0)),P0}var L0,mC;function kW(){return mC||(mC=1,L0=SW().throttle),L0}var CW=kW();const OW=Zs(CW);var Tf=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]};function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function V0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return(e=IW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=RW(t,"string");return typeof e=="symbol"?e:e+""}function RW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DW=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:l=0,minHeight:c,maxHeight:h,children:d,debounce:m=0,id:y,className:b,onResize:_,style:E={}}=t,S=C.useRef(null),T=C.useRef();T.current=_,C.useImperativeHandle(e,()=>S.current);var[I,M]=C.useState({containerWidth:r.width,containerHeight:r.height}),L=C.useCallback((F,$)=>{M(R=>{var O=Math.round(F),D=Math.round($);return R.containerWidth===O&&R.containerHeight===D?R:{containerWidth:O,containerHeight:D}})},[]);C.useEffect(()=>{var F=D=>{var U,{width:j,height:z}=D[0].contentRect;L(j,z),(U=T.current)===null||U===void 0||U.call(T,j,z)};m>0&&(F=OW(F,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(F),{width:R,height:O}=S.current.getBoundingClientRect();return L(R,O),$.observe(S.current),()=>{$.disconnect()}},[L,m]);var B=C.useMemo(()=>{var{containerWidth:F,containerHeight:$}=I;if(F<0||$<0)return null;Tf(Ho(a)||Ho(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,o),Tf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Ho(a)?F:a,O=Ho(o)?$:o;return n&&n>0&&(R?O=R/n:O&&(R=O*n),h&&O>h&&(O=h)),Tf(R>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,O,a,o,l,c,n),C.Children.map(d,D=>C.cloneElement(D,{width:R,height:O,style:V0({width:R,height:O},D.props.style)}))},[n,d,o,h,c,l,I,a]);return C.createElement("div",{id:y?"".concat(y):void 0,className:Pt("recharts-responsive-container",b),style:V0(V0({},E),{},{width:a,height:o,minWidth:l,minHeight:c,maxHeight:h}),ref:S},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},B))});function PW(t,e,n){return(e=MW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MW(t){var e=jW(t,"string");return typeof e=="symbol"?e:e+""}function jW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class LW{constructor(e){PW(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function pC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(n),!0).forEach(function(r){UW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UW(t,e,n){return(e=zW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zW(t){var e=BW(t,"string");return typeof e=="symbol"?e:e+""}function BW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qW={cacheSize:2e3,enableCache:!0},uM=VW({},qW),yC=new LW(uM.cacheSize),$W={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vC="recharts_measurement_span";function FW(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(l,"|").concat(c)}var bC=(t,e)=>{try{var n=document.getElementById(vC);n||(n=document.createElement("span"),n.setAttribute("id",vC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,$W,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Af=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qu.isSsr)return{width:0,height:0};if(!uM.enableCache)return bC(e,n);var r=FW(e,n),a=yC.get(r);if(a)return a;var o=bC(e,n);return yC.set(r,o),o},xC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_C=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GW=Object.keys(cM),fu="NaN";function YW(t,e){return t*cM[e]}class dr{static parse(e){var n,[,r,a]=(n=KW.exec(e))!==null&&n!==void 0?n:[];return new dr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Pr(e)&&(this.unit=""),n!==""&&!HW.test(n)&&(this.num=NaN,this.unit=""),GW.includes(n)&&(this.num=YW(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new dr(NaN,""):new dr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new dr(NaN,""):new dr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dr(NaN,""):new dr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dr(NaN,""):new dr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Pr(this.num)}}function fM(t){if(t.includes(fu))return fu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,o]=(n=xC.exec(e))!==null&&n!==void 0?n:[],l=dr.parse(r??""),c=dr.parse(o??""),h=a==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return fu;e=e.replace(xC,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,y,b]=(d=_C.exec(e))!==null&&d!==void 0?d:[],_=dr.parse(m??""),E=dr.parse(b??""),S=y==="+"?_.add(E):_.subtract(E);if(S.isNaN())return fu;e=e.replace(_C,S.toString())}return e}var wC=/\(([^()]*)\)/;function WW(t){for(var e=t,n;(n=wC.exec(e))!=null;){var[,r]=n;e=e.replace(wC,fM(r))}return e}function XW(t){var e=t.replace(/\s+/g,"");return e=WW(e),e=fM(e),e}function QW(t){try{return XW(t)}catch{return fu}}function U0(t){var e=QW(t.slice(5,-1));return e===fu?"":e}var ZW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],JW=["dx","dy","angle","className","breakAll"];function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ex.apply(null,arguments)}function EC(t,e){if(t==null)return{};var n,r,a=eX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function eX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hM=/[ \f\n\r\t\v\u2028\u2029]+/,dM=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];zn(e)||(n?a=e.toString().split(""):a=e.toString().split(hM));var o=a.map(c=>({word:c,width:Af(c,r).width})),l=n?0:Af(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},tX=(t,e,n,r,a)=>{var{maxLines:o,children:l,style:c,breakAll:h}=t,d=Oe(o),m=l,y=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((z,V)=>{var{word:pe,width:ye}=V,Z=z[z.length-1];if(Z&&(r==null||a||Z.width+ye+n<Number(r)))Z.words.push(pe),Z.width+=ye+n;else{var ue={words:[pe],width:ye};z.push(ue)}return z},[])},b=y(e),_=U=>U.reduce((j,z)=>j.width>z.width?j:z);if(!d||a)return b;var E=b.length>o||_(b).width>Number(r);if(!E)return b;for(var S="…",T=U=>{var j=m.slice(0,U),z=dM({breakAll:h,style:c,children:j+S}).wordsWithComputedWidth,V=y(z),pe=V.length>o||_(V).width>Number(r);return[pe,V]},I=0,M=m.length-1,L=0,B;I<=M&&L<=m.length-1;){var F=Math.floor((I+M)/2),$=F-1,[R,O]=T($),[D]=T(F);if(!R&&!D&&(I=F+1),R&&D&&(M=F-1),!R&&D){B=O;break}L++}return B||b},TC=t=>{var e=zn(t)?[]:t.toString().split(hM);return[{words:e}]},nX=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:o,maxLines:l}=t;if((e||n)&&!qu.isSsr){var c,h,d=dM({breakAll:o,children:r,style:a});if(d){var{wordsWithComputedWidth:m,spaceWidth:y}=d;c=m,h=y}else return TC(r);return tX({breakAll:o,children:r,maxLines:l,style:a},c,h,e,n)}return TC(r)},AC="#808080",m1=C.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:h="end",fill:d=AC}=t,m=EC(t,ZW),y=C.useMemo(()=>nX({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:b,dy:_,angle:E,className:S,breakAll:T}=m,I=EC(m,JW);if(!Ji(n)||!Ji(r)||y.length===0)return null;var M=n+(Oe(b)?b:0),L=r+(Oe(_)?_:0),B;switch(h){case"start":B=U0("calc(".concat(o,")"));break;case"middle":B=U0("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:B=U0("calc(".concat(y.length-1," * -").concat(a,")"));break}var F=[];if(l){var $=y[0].width,{width:R}=m;F.push("scale(".concat(Oe(R)?R/$:1,")"))}return E&&F.push("rotate(".concat(E,", ").concat(M,", ").concat(L,")")),F.length&&(I.transform=F.join(" ")),C.createElement("text",ex({},Zn(I,!0),{ref:e,x:M,y:L,className:Pt("recharts-text",S),textAnchor:c,fill:d.includes("url")?AC:d}),y.map((O,D)=>{var U=O.words.join(T?"":" ");return C.createElement("tspan",{x:M,dy:D===0?B:a,key:"".concat(U,"-").concat(D)},U)}))});m1.displayName="Text";var rX=["labelRef"];function iX(t,e){if(t==null)return{};var n,r,a=aX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function aX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(n),!0).forEach(function(r){sX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sX(t,e,n){return(e=oX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oX(t){var e=lX(t,"string");return typeof e=="symbol"?e:e+""}function lX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(null,arguments)}var mM=C.createContext(null),uX=t=>{var{x:e,y:n,width:r,height:a,children:o}=t,l=C.useMemo(()=>({x:e,y:n,width:r,height:a}),[e,n,r,a]);return C.createElement(mM.Provider,{value:l},o)},gM=()=>{var t=C.useContext(mM),e=g_();return t||e},cX=C.createContext(null),fX=()=>{var t=C.useContext(cX),e=Re(XD);return t||e},hX=t=>{var{value:e,formatter:n}=t,r=zn(t.children)?e:t.children;return typeof n=="function"?n(r):r},g1=t=>t!=null&&typeof t=="function",dX=(t,e)=>{var n=ri(e-t),r=Math.min(Math.abs(e-t),360);return n*r},mX=(t,e,n,r,a)=>{var{offset:o,className:l}=t,{cx:c,cy:h,innerRadius:d,outerRadius:m,startAngle:y,endAngle:b,clockWise:_}=a,E=(d+m)/2,S=dX(y,b),T=S>=0?1:-1,I,M;switch(e){case"insideStart":I=y+T*o,M=_;break;case"insideEnd":I=b-T*o,M=!_;break;case"end":I=b+T*o,M=_;break;default:throw new Error("Unsupported position ".concat(e))}M=S<=0?M:!M;var L=Un(c,h,E,I),B=Un(c,h,E,I+(M?1:-1)*359),F="M".concat(L.x,",").concat(L.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(M?0:1,`,
    `).concat(B.x,",").concat(B.y),$=zn(t.id)?Vf("recharts-radial-line-"):t.id;return C.createElement("text",Ta({},r,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:$,d:F})),C.createElement("textPath",{xlinkHref:"#".concat($)},n))},gX=(t,e,n)=>{var{cx:r,cy:a,innerRadius:o,outerRadius:l,startAngle:c,endAngle:h}=t,d=(c+h)/2;if(n==="outside"){var{x:m,y}=Un(r,a,l+e,d);return{x:m,y,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(o+l)/2,{x:_,y:E}=Un(r,a,b,d);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},pM=t=>"cx"in t&&Oe(t.cx),pX=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,o;n!=null&&!pM(n)&&(o=n);var{x:l,y:c,width:h,height:d}=e,m=d>=0?1:-1,y=m*r,b=m>0?"end":"start",_=m>0?"start":"end",E=h>=0?1:-1,S=E*r,T=E>0?"end":"start",I=E>0?"start":"end";if(a==="top"){var M={x:l+h/2,y:c-m*r,textAnchor:"middle",verticalAnchor:b};return Jt(Jt({},M),o?{height:Math.max(c-o.y,0),width:h}:{})}if(a==="bottom"){var L={x:l+h/2,y:c+d+y,textAnchor:"middle",verticalAnchor:_};return Jt(Jt({},L),o?{height:Math.max(o.y+o.height-(c+d),0),width:h}:{})}if(a==="left"){var B={x:l-S,y:c+d/2,textAnchor:T,verticalAnchor:"middle"};return Jt(Jt({},B),o?{width:Math.max(B.x-o.x,0),height:d}:{})}if(a==="right"){var F={x:l+h+S,y:c+d/2,textAnchor:I,verticalAnchor:"middle"};return Jt(Jt({},F),o?{width:Math.max(o.x+o.width-F.x,0),height:d}:{})}var $=o?{width:h,height:d}:{};return a==="insideLeft"?Jt({x:l+S,y:c+d/2,textAnchor:I,verticalAnchor:"middle"},$):a==="insideRight"?Jt({x:l+h-S,y:c+d/2,textAnchor:T,verticalAnchor:"middle"},$):a==="insideTop"?Jt({x:l+h/2,y:c+y,textAnchor:"middle",verticalAnchor:_},$):a==="insideBottom"?Jt({x:l+h/2,y:c+d-y,textAnchor:"middle",verticalAnchor:b},$):a==="insideTopLeft"?Jt({x:l+S,y:c+y,textAnchor:I,verticalAnchor:_},$):a==="insideTopRight"?Jt({x:l+h-S,y:c+y,textAnchor:T,verticalAnchor:_},$):a==="insideBottomLeft"?Jt({x:l+S,y:c+d-y,textAnchor:I,verticalAnchor:b},$):a==="insideBottomRight"?Jt({x:l+h-S,y:c+d-y,textAnchor:T,verticalAnchor:b},$):a&&typeof a=="object"&&(Oe(a.x)||Ho(a.x))&&(Oe(a.y)||Ho(a.y))?Jt({x:l+Qs(a.x,h),y:c+Qs(a.y,d),textAnchor:"end",verticalAnchor:"end"},$):Jt({x:l+h/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},$)},yX={offset:5};function Os(t){var e=li(t,yX),{viewBox:n,position:r,value:a,children:o,content:l,className:c="",textBreakAll:h,labelRef:d}=e,m=fX(),y=gM(),b=r==="center"?y:m??y,_=n||b;if(!_||zn(a)&&zn(o)&&!C.isValidElement(l)&&typeof l!="function")return null;var E=Jt(Jt({},e),{},{viewBox:_});if(C.isValidElement(l)){var{labelRef:S}=E,T=iX(E,rX);return C.cloneElement(l,T)}var I;if(typeof l=="function"){if(I=C.createElement(l,E),C.isValidElement(I))return I}else I=hX(e);var M=pM(_),L=Zn(e,!0);if(M&&(r==="insideStart"||r==="insideEnd"||r==="end"))return mX(e,r,I,L,_);var B=M?gX(_,e.offset,e.position):pX(e,_);return C.createElement(m1,Ta({ref:d,className:Pt("recharts-label",c)},L,B,{breakAll:h}),I)}Os.displayName="Label";var vX=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(Os,Ta({key:"label-implicit"},r)):Ji(t)?C.createElement(Os,Ta({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===Os?C.cloneElement(t,Jt({key:"label-implicit"},r)):C.createElement(Os,Ta({key:"label-implicit",content:t},r)):g1(t)?C.createElement(Os,Ta({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(Os,Ta({},t,{key:"label-implicit"},r)):null};function bX(t){var{label:e}=t,n=gM();return vX(e,n)||null}var z0={},B0={},kC;function xX(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(B0)),B0}var q0={},CC;function _X(){return CC||(CC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(q0)),q0}var OC;function wX(){return OC||(OC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xX(),n=_X(),r=o_();function a(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=a})(z0)),z0}var $0,NC;function EX(){return NC||(NC=1,$0=wX().last),$0}var TX=EX();const AX=Zs(TX);var SX=["valueAccessor"],kX=["dataKey","clockWise","id","textBreakAll"];function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(null,arguments)}function IC(t,e){if(t==null)return{};var n,r,a=CX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function CX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var OX=t=>Array.isArray(t.value)?AX(t.value):t.value,yM=C.createContext(void 0),NX=yM.Provider,vM=C.createContext(void 0);vM.Provider;function IX(){return C.useContext(yM)}function RX(){return C.useContext(vM)}function dm(t){var{valueAccessor:e=OX}=t,n=IC(t,SX),{dataKey:r,clockWise:a,id:o,textBreakAll:l}=n,c=IC(n,kX),h=IX(),d=RX(),m=h||d;return!m||!m.length?null:C.createElement(Va,{className:"recharts-label-list"},m.map((y,b)=>{var _,E=zn(r)?e(y,b):sr(y&&y.payload,r),S=zn(o)?{}:{id:"".concat(o,"-").concat(b)};return C.createElement(Os,ug({},Zn(y,!0),c,S,{fill:(_=n.fill)!==null&&_!==void 0?_:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,key:"label-".concat(b),index:b}))}))}dm.displayName="LabelList";function DX(t){var{label:e}=t;return e?e===!0?C.createElement(dm,{key:"labelList-implicit"}):C.isValidElement(e)||g1(e)?C.createElement(dm,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(dm,ug({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(null,arguments)}var bM=t=>{var{cx:e,cy:n,r,className:a}=t,o=Pt("recharts-dot",a);return e===+e&&n===+n&&r===+r?C.createElement("circle",tx({},eo(t),a_(t),{className:o,cx:e,cy:n,r})):null},PX={radiusAxis:{},angleAxis:{}},xM=jr({name:"polarAxis",initialState:PX,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Vee,removeRadiusAxis:Uee,addAngleAxis:zee,removeAngleAxis:Bee}=xM.actions,MX=xM.reducer;function jX(t){var{fn:e,args:n}=t,r=lr(),a=oi();return C.useEffect(()=>{if(!a){var o=e(n);return r(qG(o)),()=>{r($G(o))}}},[e,n,r,a]),null}var LX=()=>{};function VX(t){var{legendPayload:e}=t,n=lr(),r=oi();return C.useEffect(()=>r?LX:(n(Rq(e)),()=>{n(Dq(e))}),[n,r,e]),null}var F0,UX=()=>{var[t]=C.useState(()=>Vf("uid-"));return t},zX=(F0=P4.useId)!==null&&F0!==void 0?F0:UX;function BX(t,e){var n=zX();return e||(t?"".concat(t,"-").concat(n):n)}var qX=C.createContext(void 0),$X=t=>{var{id:e,type:n,children:r}=t,a=BX("recharts-".concat(n),e);return C.createElement(qX.Provider,{value:a},r(a))},FX={cartesianItems:[],polarItems:[]},_M=jr({name:"graphicalItems",initialState:FX,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,a=Ia(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},removeCartesianGraphicalItem(t,e){var n=Ia(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ia(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:HX,replaceCartesianGraphicalItem:KX,removeCartesianGraphicalItem:GX,addPolarGraphicalItem:qee,removePolarGraphicalItem:$ee}=_M.actions,YX=_M.reducer;function WX(t){var e=lr(),n=C.useRef(null);return C.useEffect(()=>{n.current===null?e(HX(t)):n.current!==t&&e(KX({prev:n.current,next:t})),n.current=t},[e,t]),C.useEffect(()=>()=>{n.current&&(e(GX(n.current)),n.current=null)},[e]),null}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function DC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){XX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XX(t,e,n){return(e=QX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QX(t){var e=ZX(t,"string");return typeof e=="symbol"?e:e+""}function ZX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JX={xAxis:{},yAxis:{},zAxis:{}},wM=jr({name:"cartesianAxis",initialState:JX,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=DC(DC({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:eQ,removeXAxis:tQ,addYAxis:nQ,removeYAxis:rQ,addZAxis:Fee,removeZAxis:Hee,updateYAxisWidth:iQ}=wM.actions,aQ=wM.reducer,sQ=te([qn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),oQ=te([sQ,Ha,Ka],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),p1=()=>Re(oQ),lQ=()=>Re(RY);function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){uQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uQ(t,e,n){return(e=cQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cQ(t){var e=fQ(t,"string");return typeof e=="symbol"?e:e+""}function fQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hQ=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:o}=t;if(a===!1||e.x==null||e.y==null)return null;var l=MC(MC({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Zn(a,!1)),a_(a)),c;return C.isValidElement(a)?c=C.cloneElement(a,l):typeof a=="function"?c=a(l):c=C.createElement(bM,l),C.createElement(Va,{className:"recharts-active-dot"},c)};function jC(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a}=t,o=Re(Gf),l=lQ();if(e==null||l==null)return null;var c=e.find(h=>l.includes(h.payload));return zn(c)?null:hQ({point:c,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:r})}var dQ={},EM=jr({name:"errorBars",initialState:dQ,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?a:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Kee,replaceErrorBar:Gee,removeErrorBar:Yee}=EM.actions,mQ=EM.reducer;function TM(t,e){var n,r,a=Re(d=>Ya(d,t)),o=Re(d=>Wa(d,e)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Cr.allowDataOverflow,c=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Or.allowDataOverflow,h=l||c;return{needClip:h,needClipX:l,needClipY:c}}function gQ(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=p1(),{needClipX:o,needClipY:l,needClip:c}=TM(e,n);if(!c)return null;var{x:h,y:d,width:m,height:y}=a;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?h:h-m/2,y:l?d:d-y/2,width:o?m:m*2,height:l?y:y*2}))}var pQ=t=>{var{chartData:e}=t,n=lr(),r=oi();return C.useEffect(()=>r?()=>{}:(n(sC(e)),()=>{n(sC(void 0))}),[e,n,r]),null},LC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},AM=jr({name:"brush",initialState:LC,reducers:{setBrushSettings(t,e){return e.payload==null?LC:e.payload}}}),{setBrushSettings:Wee}=AM.actions,yQ=AM.reducer;function vQ(t,e,n){return(e=bQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bQ(t){var e=xQ(t,"string");return typeof e=="symbol"?e:e+""}function xQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class y1{static create(e){return new y1(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}vQ(y1,"EPS",1e-4);function _Q(t){return(t%180+180)%180}var wQ=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=_Q(a),l=o*Math.PI/180,c=Math.atan(r/n),h=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},EQ={dots:[],areas:[],lines:[]},SM=jr({name:"referenceElements",initialState:EQ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ia(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ia(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ia(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Xee,removeDot:Qee,addArea:Zee,removeArea:Jee,addLine:ete,removeLine:tte}=SM.actions,TQ=SM.reducer,AQ=C.createContext(void 0),SQ=t=>{var{children:e}=t,[n]=C.useState("".concat(Vf("recharts"),"-clip")),r=p1();if(r==null)return null;var{x:a,y:o,width:l,height:c}=r;return C.createElement(AQ.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:a,y:o,height:c,width:l}))),e)};function Ru(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function kM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function kQ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return wQ(r,n)}function CQ(t,e,n){var r=n==="width",{x:a,y:o,width:l,height:c}=t;return e===1?{start:r?a:o,end:r?a+l:o+c}:{start:r?a+l:o+c,end:r?a:o}}function cg(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-a)<=0}function OQ(t,e){return kM(t,e+1)}function NQ(t,e,n,r,a){for(var o=(r||[]).slice(),{start:l,end:c}=e,h=0,d=1,m=l,y=function(){var E=r?.[h];if(E===void 0)return{v:kM(r,d)};var S=h,T,I=()=>(T===void 0&&(T=n(E,S)),T),M=E.coordinate,L=h===0||cg(t,M,I,m,c);L||(h=0,m=l,d+=1),L&&(m=M+t*(I()/2+a),h+=d)},b;d<=o.length;)if(b=y(),b)return b.v;return[]}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){IQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IQ(t,e,n){return(e=RQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=DQ(t,"string");return typeof e=="symbol"?e:e+""}function DQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PQ(t,e,n,r,a){for(var o=(r||[]).slice(),l=o.length,{start:c}=e,{end:h}=e,d=function(b){var _=o[b],E,S=()=>(E===void 0&&(E=n(_,b)),E);if(b===l-1){var T=t*(_.coordinate+t*S()/2-h);o[b]=_=Gn(Gn({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else o[b]=_=Gn(Gn({},_),{},{tickCoord:_.coordinate});var I=cg(t,_.tickCoord,S,c,h);I&&(h=_.tickCoord-t*(S()/2+a),o[b]=Gn(Gn({},_),{},{isShow:!0}))},m=l-1;m>=0;m--)d(m);return o}function MQ(t,e,n,r,a,o){var l=(r||[]).slice(),c=l.length,{start:h,end:d}=e;if(o){var m=r[c-1],y=n(m,c-1),b=t*(m.coordinate+t*y/2-d);l[c-1]=m=Gn(Gn({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate});var _=cg(t,m.tickCoord,()=>y,h,d);_&&(d=m.tickCoord-t*(y/2+a),l[c-1]=Gn(Gn({},m),{},{isShow:!0}))}for(var E=o?c-1:c,S=function(M){var L=l[M],B,F=()=>(B===void 0&&(B=n(L,M)),B);if(M===0){var $=t*(L.coordinate-t*F()/2-h);l[M]=L=Gn(Gn({},L),{},{tickCoord:$<0?L.coordinate-$*t:L.coordinate})}else l[M]=L=Gn(Gn({},L),{},{tickCoord:L.coordinate});var R=cg(t,L.tickCoord,F,h,d);R&&(h=L.tickCoord+t*(F()/2+a),l[M]=Gn(Gn({},L),{},{isShow:!0}))},T=0;T<E;T++)S(T);return l}function v1(t,e,n){var{tick:r,ticks:a,viewBox:o,minTickGap:l,orientation:c,interval:h,tickFormatter:d,unit:m,angle:y}=t;if(!a||!a.length||!r)return[];if(Oe(h)||qu.isSsr){var b;return(b=OQ(a,Oe(h)?h:0))!==null&&b!==void 0?b:[]}var _=[],E=c==="top"||c==="bottom"?"width":"height",S=m&&E==="width"?Af(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(L,B)=>{var F=typeof d=="function"?d(L.value,B):L.value;return E==="width"?kQ(Af(F,{fontSize:e,letterSpacing:n}),S,y):Af(F,{fontSize:e,letterSpacing:n})[E]},I=a.length>=2?ri(a[1].coordinate-a[0].coordinate):1,M=CQ(o,I,E);return h==="equidistantPreserveStart"?NQ(I,M,T,a,l):(h==="preserveStart"||h==="preserveStartEnd"?_=MQ(I,M,T,a,l,h==="preserveStartEnd"):_=PQ(I,M,T,a,l),_.filter(L=>L.isShow))}var jQ=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:o=0}=t,l=0;if(e){e.forEach(m=>{if(m){var y=m.getBoundingClientRect();y.width>l&&(l=y.width)}});var c=n?n.getBoundingClientRect().width:0,h=a+o,d=l+h+c+(n?r:0);return Math.round(d)}return 0},LQ=["axisLine","width","height","className","hide","ticks"],VQ=["viewBox"],UQ=["viewBox"];function nx(t,e){if(t==null)return{};var n,r,a=zQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(null,arguments)}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){BQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQ(t,e,n){return(e=qQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qQ(t){var e=$Q(t,"string");return typeof e=="symbol"?e:e+""}function $Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b1={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function FQ(t){var{x:e,y:n,width:r,height:a,orientation:o,mirror:l,axisLine:c,otherSvgProps:h}=t;if(!c)return null;var d=pn(pn(pn({},h),Zn(c,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!l||o==="bottom"&&l);d=pn(pn({},d),{},{x1:e,y1:n+m*a,x2:e+r,y2:n+m*a})}else{var y=+(o==="left"&&!l||o==="right"&&l);d=pn(pn({},d),{},{x1:e+y*r,y1:n,x2:e+y*r,y2:n+a})}return C.createElement("line",ll({},d,{className:Pt("recharts-cartesian-axis-line",Mg(c,"className"))}))}function HQ(t,e,n,r,a,o,l,c,h){var d,m,y,b,_,E,S=c?-1:1,T=t.tickSize||l,I=Oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=m=t.coordinate,b=n+ +!c*a,y=b-S*T,E=y-S*h,_=I;break;case"left":y=b=t.coordinate,m=e+ +!c*r,d=m-S*T,_=d-S*h,E=I;break;case"right":y=b=t.coordinate,m=e+ +c*r,d=m+S*T,_=d+S*h,E=I;break;default:d=m=t.coordinate,b=n+ +c*a,y=b+S*T,E=y+S*h,_=I;break}return{line:{x1:d,y1:y,x2:m,y2:b},tick:{x:_,y:E}}}function KQ(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function GQ(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function YQ(t){var{option:e,tickProps:n,value:r}=t,a,o=Pt(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))a=C.cloneElement(e,pn(pn({},n),{},{className:o}));else if(typeof e=="function")a=e(pn(pn({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Pt(l,e?.className)),a=C.createElement(m1,ll({},n,{className:l}),r)}return a}function WQ(t){var{ticks:e=[],tick:n,tickLine:r,stroke:a,tickFormatter:o,unit:l,padding:c,tickTextProps:h,orientation:d,mirror:m,x:y,y:b,width:_,height:E,tickSize:S,tickMargin:T,fontSize:I,letterSpacing:M,getTicksConfig:L,events:B}=t,F=v1(pn(pn({},L),{},{ticks:e}),I,M),$=KQ(d,m),R=GQ(d,m),O=eo(L),D=Zn(n,!1),U=pn(pn({},O),{},{fill:"none"},Zn(r,!1)),j=F.map((z,V)=>{var{line:pe,tick:ye}=HQ(z,y,b,_,E,d,S,m,T),Z=pn(pn(pn(pn({textAnchor:$,verticalAnchor:R},O),{},{stroke:"none",fill:a},D),ye),{},{index:V,payload:z,visibleTicksCount:F.length,tickFormatter:o,padding:c},h);return C.createElement(Va,ll({className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},_8(B,z,V)),r&&C.createElement("line",ll({},U,pe,{className:Pt("recharts-cartesian-axis-tick-line",Mg(r,"className"))})),n&&C.createElement(YQ,{option:n,tickProps:Z,value:"".concat(typeof o=="function"?o(z.value,V):z.value).concat(l||"")}))});return j.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},j):null}var XQ=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:o,hide:l,ticks:c}=t,h=nx(t,LQ),[d,m]=C.useState(""),[y,b]=C.useState(""),_=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return jQ({ticks:_.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=C.useCallback(S=>{if(S){var T=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=Array.from(T);var I=T[0];if(I){var M=window.getComputedStyle(I),L=M.fontSize,B=M.letterSpacing;(L!==d||B!==y)&&(m(L),b(B))}}},[d,y]);return l||r!=null&&r<=0||a!=null&&a<=0?null:C.createElement(Va,{className:Pt("recharts-cartesian-axis",o),ref:E},C.createElement(FQ,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:eo(t)}),C.createElement(WQ,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:d,letterSpacing:y,getTicksConfig:t,events:h}),C.createElement(uX,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(bX,{label:t.label}),t.children))}),QQ=C.memo(XQ,(t,e)=>{var{viewBox:n}=t,r=nx(t,VQ),{viewBox:a}=e,o=nx(e,UQ);return Ru(n,a)&&Ru(r,o)}),x1=C.forwardRef((t,e)=>{var n=li(t,b1);return C.createElement(QQ,ll({},n,{ref:e}))});x1.displayName="CartesianAxis";var ZQ=["x1","y1","x2","y2","key"],JQ=["offset"],eZ=["xAxisId","yAxisId"],tZ=["xAxisId","yAxisId"];function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){nZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e,n){return(e=rZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=iZ(t,"string");return typeof e=="symbol"?e:e+""}function iZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(null,arguments)}function fg(t,e){if(t==null)return{};var n,r,a=aZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function aZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sZ=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:o,height:l,ry:c}=t;return C.createElement("rect",{x:r,y:a,ry:c,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function CM(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:a,x2:o,y2:l,key:c}=e,h=fg(e,ZQ),d=eo(h),{offset:m}=d,y=fg(d,JQ);n=C.createElement("line",Yo({},y,{x1:r,y1:a,x2:o,y2:l,fill:"none",key:c}))}return n}function oZ(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=fg(t,eZ),h=a.map((d,m)=>{var y=Xn(Xn({},c),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(m),index:m});return CM(r,y)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function lZ(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=fg(t,tZ),h=a.map((d,m)=>{var y=Xn(Xn({},c),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(m),index:m});return CM(r,y)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function uZ(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:o,height:l,horizontalPoints:c,horizontal:h=!0}=t;if(!h||!e||!e.length)return null;var d=c.map(y=>Math.round(y+a-a)).sort((y,b)=>y-b);a!==d[0]&&d.unshift(0);var m=d.map((y,b)=>{var _=!d[b+1],E=_?a+l-y:d[b+1]-y;if(E<=0)return null;var S=b%e.length;return C.createElement("rect",{key:"react-".concat(b),y,x:r,height:E,width:o,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function cZ(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:o,width:l,height:c,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var d=h.map(y=>Math.round(y+a-a)).sort((y,b)=>y-b);a!==d[0]&&d.unshift(0);var m=d.map((y,b)=>{var _=!d[b+1],E=_?a+l-y:d[b+1]-y;if(E<=0)return null;var S=b%n.length;return C.createElement("rect",{key:"react-".concat(b),x:y,y:o,width:E,height:c,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var fZ=(t,e)=>{var{xAxis:n,width:r,height:a,offset:o}=t;return DR(v1(Xn(Xn(Xn({},b1),n),{},{ticks:PR(n),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,e)},hZ=(t,e)=>{var{yAxis:n,width:r,height:a,offset:o}=t;return DR(v1(Xn(Xn(Xn({},b1),n),{},{ticks:PR(n),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,e)},dZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function OM(t){var e=UR(),n=zR(),r=VR(),a=Xn(Xn({},li(t,dZ)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:c,y:h,width:d,height:m,syncWithTicks:y,horizontalValues:b,verticalValues:_}=a,E=oi(),S=Re(D=>Q2(D,"xAxis",o,E)),T=Re(D=>Q2(D,"yAxis",l,E));if(!Oe(d)||d<=0||!Oe(m)||m<=0||!Oe(c)||c!==+c||!Oe(h)||h!==+h)return null;var I=a.verticalCoordinatesGenerator||fZ,M=a.horizontalCoordinatesGenerator||hZ,{horizontalPoints:L,verticalPoints:B}=a;if((!L||!L.length)&&typeof M=="function"){var F=b&&b.length,$=M({yAxis:T?Xn(Xn({},T),{},{ticks:F?b:T.ticks}):void 0,width:e,height:n,offset:r},F?!0:y);Tf(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(L=$)}if((!B||!B.length)&&typeof I=="function"){var R=_&&_.length,O=I({xAxis:S?Xn(Xn({},S),{},{ticks:R?_:S.ticks}):void 0,width:e,height:n,offset:r},R?!0:y);Tf(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(B=O)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(sZ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(uZ,Yo({},a,{horizontalPoints:L})),C.createElement(cZ,Yo({},a,{verticalPoints:B})),C.createElement(oZ,Yo({},a,{offset:r,horizontalPoints:L,xAxis:S,yAxis:T})),C.createElement(lZ,Yo({},a,{offset:r,verticalPoints:B,xAxis:S,yAxis:T})))}OM.displayName="CartesianGrid";var NM=(t,e,n,r)=>MP(t,"xAxis",e,r),IM=(t,e,n,r)=>PP(t,"xAxis",e,r),RM=(t,e,n,r)=>MP(t,"yAxis",n,r),DM=(t,e,n,r)=>PP(t,"yAxis",n,r),mZ=te([Ct,NM,RM,IM,DM],(t,e,n,r,a)=>Fa(t,"xAxis")?Rb(e,r,!1):Rb(n,a,!1)),gZ=(t,e,n,r,a)=>a,PM=te([rP,gZ],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),pZ=(t,e,n,r,a)=>{var o,l=PM(t,e,n,r,a);if(l!=null){var c=Ct(t),h=Fa(c,"xAxis"),d;if(h?d=Wb(t,"yAxis",n,r):d=Wb(t,"xAxis",e,r),d!=null){var{stackId:m}=l,y=W_(l);if(!(m==null||y==null)){var b=(o=d[m])===null||o===void 0?void 0:o.stackedData;return b?.find(_=>_.key===y)}}}},yZ=te([Ct,NM,RM,IM,DM,pZ,z_,mZ,PM],(t,e,n,r,a,o,l,c,h)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:y}=l;if(!(h==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null)){var{data:b}=h,_;if(b&&b.length>0?_=b:_=d?.slice(m,y+1),_!=null){var E=void 0;return VZ({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:m,areaSettings:h,stackedData:o,displayedData:_,chartBaseValue:E,bandSize:c})}}}),vZ=["id"],bZ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function MM(t,e){if(t==null)return{};var n,r,a=xZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){_Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Z(t,e,n){return(e=wZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wZ(t){var e=EZ(t,"string");return typeof e=="symbol"?e:e+""}function EZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(null,arguments)}function hg(t,e){return t&&t!=="none"?t:e}var TZ=t=>{var{dataKey:e,name:n,stroke:r,fill:a,legendType:o,hide:l}=t;return[{inactive:l,dataKey:e,type:o,color:hg(r,a),value:MR(n,e),payload:t}]};function AZ(t){var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:o,name:l,hide:c,unit:h}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:o,dataKey:e,nameKey:void 0,name:MR(l,e),hide:c,type:t.tooltipType,color:hg(r,o),unit:h}}}var SZ=(t,e)=>{var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Pt("recharts-area-dot",typeof t!="boolean"?t.className:"");n=C.createElement(bM,Da({},e,{className:r}))}return n};function kZ(t,e){return t==null?!1:e?!0:t.length===1}function CZ(t){var{clipPathId:e,points:n,props:r}=t,{needClip:a,dot:o,dataKey:l}=r;if(!kZ(n,o))return null;var c=PI(o),h=eo(r),d=Zn(o,!0),m=n.map((b,_)=>{var E=Oa(Oa(Oa({key:"dot-".concat(_),r:3},h),d),{},{index:_,cx:b.x,cy:b.y,dataKey:l,value:b.value,payload:b.payload,points:n});return SZ(o,E)}),y={clipPath:a?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return C.createElement(Va,Da({className:"recharts-area-dots"},y),m)}function OZ(t){var{showLabels:e,children:n,points:r}=t,a=r.map(o=>{var l={x:o.x,y:o.y,width:0,height:0};return Oa(Oa({},l),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return C.createElement(NX,{value:e?a:null},n)}function qC(t){var{points:e,baseLine:n,needClip:r,clipPathId:a,props:o}=t,{layout:l,type:c,stroke:h,connectNulls:d,isRange:m}=o,{id:y}=o,b=MM(o,vZ),_=eo(b);return C.createElement(C.Fragment,null,e?.length>1&&C.createElement(Va,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},C.createElement(hm,Da({},_,{id:y,points:e,connectNulls:d,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),h!=="none"&&C.createElement(hm,Da({},_,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:e})),h!=="none"&&m&&C.createElement(hm,Da({},_,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n}))),C.createElement(CZ,{points:e,props:b,clipPathId:a}))}function NZ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,o=r[0].y,l=r[r.length-1].y;if(!or(o)||!or(l))return null;var c=e*Math.abs(o-l),h=Math.max(...r.map(d=>d.x||0));return Oe(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(d=>d.x||0),h)),Oe(h)?C.createElement("rect",{x:0,y:o<l?o:o-c,width:h+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function IZ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,o=r[0].x,l=r[r.length-1].x;if(!or(o)||!or(l))return null;var c=e*Math.abs(o-l),h=Math.max(...r.map(d=>d.y||0));return Oe(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(d=>d.y||0),h)),Oe(h)?C.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(h+(a?parseInt("".concat(a),10):1))}):null}function RZ(t){var{alpha:e,layout:n,points:r,baseLine:a,strokeWidth:o}=t;return n==="vertical"?C.createElement(NZ,{alpha:e,points:r,baseLine:a,strokeWidth:o}):C.createElement(IZ,{alpha:e,points:r,baseLine:a,strokeWidth:o})}function DZ(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:o}=t,{points:l,baseLine:c,isAnimationActive:h,animationBegin:d,animationDuration:m,animationEasing:y,onAnimationStart:b,onAnimationEnd:_}=r,E=GR(r,"recharts-area-"),[S,T]=C.useState(!1),I=!S,M=C.useCallback(()=>{typeof _=="function"&&_(),T(!1)},[_]),L=C.useCallback(()=>{typeof b=="function"&&b(),T(!0)},[b]),B=a.current,F=o.current;return C.createElement(OZ,{showLabels:I,points:l},r.children,C.createElement(KR,{animationId:E,begin:d,duration:m,isActive:h,easing:y,onAnimationEnd:M,onAnimationStart:L,key:E},$=>{if(B){var R=B.length/l.length,O=$===1?l:l.map((U,j)=>{var z=Math.floor(j*R);if(B[z]){var V=B[z];return Oa(Oa({},U),{},{x:qi(V.x,U.x,$),y:qi(V.y,U.y,$)})}return U}),D;return Oe(c)?D=qi(F,c,$):zn(c)||Pr(c)?D=qi(F,0,$):D=c.map((U,j)=>{var z=Math.floor(j*R);if(Array.isArray(F)&&F[z]){var V=F[z];return Oa(Oa({},U),{},{x:qi(V.x,U.x,$),y:qi(V.y,U.y,$)})}return U}),$>0&&(a.current=O,o.current=D),C.createElement(qC,{points:O,baseLine:D,needClip:e,clipPathId:n,props:r})}return $>0&&(a.current=l,o.current=c),C.createElement(Va,null,h&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(n)},C.createElement(RZ,{alpha:$,points:l,baseLine:c,layout:r.layout,strokeWidth:r.strokeWidth}))),C.createElement(Va,{clipPath:"url(#animationClipPath-".concat(n,")")},C.createElement(qC,{points:l,baseLine:c,needClip:e,clipPathId:n,props:r})))}),C.createElement(DX,{label:r.label}))}function PZ(t){var{needClip:e,clipPathId:n,props:r}=t,a=C.useRef(null),o=C.useRef();return C.createElement(DZ,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:o})}class MZ extends C.PureComponent{render(){var e,{hide:n,dot:r,points:a,className:o,top:l,left:c,needClip:h,xAxisId:d,yAxisId:m,width:y,height:b,id:_,baseLine:E}=this.props;if(n)return null;var S=Pt("recharts-area",o),T=_,{r:I=3,strokeWidth:M=2}=(e=Zn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},L=PI(r),B=I*2+M;return C.createElement(C.Fragment,null,C.createElement(Va,{className:S},h&&C.createElement("defs",null,C.createElement(gQ,{clipPathId:T,xAxisId:d,yAxisId:m}),!L&&C.createElement("clipPath",{id:"clipPath-dots-".concat(T)},C.createElement("rect",{x:c-B/2,y:l-B/2,width:y+B,height:b+B}))),C.createElement(PZ,{needClip:h,clipPathId:T,props:this.props})),C.createElement(jC,{points:a,mainColor:hg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(E)&&C.createElement(jC,{points:E,mainColor:hg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var jM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!qu.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function jZ(t){var e,n=li(t,jM),{activeDot:r,animationBegin:a,animationDuration:o,animationEasing:l,connectNulls:c,dot:h,fill:d,fillOpacity:m,hide:y,isAnimationActive:b,legendType:_,stroke:E,xAxisId:S,yAxisId:T}=n,I=MM(n,bZ),M=p_(),L=eM(),{needClip:B}=TM(S,T),F=oi(),{points:$,isRange:R,baseLine:O}=(e=Re(pe=>yZ(pe,S,T,F,t.id)))!==null&&e!==void 0?e:{},D=p1();if(M!=="horizontal"&&M!=="vertical"||D==null||L!=="AreaChart"&&L!=="ComposedChart")return null;var{height:U,width:j,x:z,y:V}=D;return!$||!$.length?null:C.createElement(MZ,Da({},I,{activeDot:r,animationBegin:a,animationDuration:o,animationEasing:l,baseLine:O,connectNulls:c,dot:h,fill:d,fillOpacity:m,height:U,hide:y,layout:M,isAnimationActive:b,isRange:R,legendType:_,needClip:B,points:$,stroke:E,width:j,left:z,top:V,xAxisId:S,yAxisId:T}))}var LZ=(t,e,n,r,a)=>{var o=n??e;if(Oe(o))return o;var l=t==="horizontal"?a:r,c=l.scale.domain();if(l.type==="number"){var h=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||h<0?h:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]};function VZ(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:a,layout:o,chartBaseValue:l,xAxis:c,yAxis:h,displayedData:d,dataStartIndex:m,xAxisTicks:y,yAxisTicks:b,bandSize:_}=t,E=a&&a.length,S=LZ(o,l,n,c,h),T=o==="horizontal",I=!1,M=d.map((B,F)=>{var $;E?$=a[m+F]:($=sr(B,r),Array.isArray($)?I=!0:$=[S,$]);var R=$[1]==null||E&&!e&&sr(B,r)==null;return T?{x:jk({axis:c,ticks:y,bandSize:_,entry:B,index:F}),y:R?null:h.scale($[1]),value:$,payload:B}:{x:R?null:c.scale($[1]),y:jk({axis:h,ticks:b,bandSize:_,entry:B,index:F}),value:$,payload:B}}),L;return E||I?L=M.map(B=>{var F=Array.isArray(B.value)?B.value[0]:null;return T?{x:B.x,y:F!=null&&B.y!=null?h.scale(F):null,payload:B.payload}:{x:F!=null?c.scale(F):null,y:B.y,payload:B.payload}}):L=T?h.scale(S):c.scale(S),{points:M,baseLine:L,isRange:I}}function UZ(t){var e=li(t,jM),n=oi();return C.createElement($X,{id:e.id,type:"area"},r=>C.createElement(C.Fragment,null,C.createElement(VX,{legendPayload:TZ(e)}),C.createElement(jX,{fn:AZ,args:e}),C.createElement(WX,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:cq(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),C.createElement(jZ,Da({},e,{id:r}))))}var LM=C.memo(UZ);LM.displayName="Area";var zZ=["dangerouslySetInnerHTML","ticks"],BZ=["id"],qZ=["domain"],$Z=["domain"];function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(null,arguments)}function dg(t,e){if(t==null)return{};var n,r,a=FZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function FZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HZ(t){var e=lr();return C.useEffect(()=>(e(eQ(t)),()=>{e(tQ(t))}),[t,e]),null}var KZ=t=>{var{xAxisId:e,className:n}=t,r=Re(LR),a=oi(),o="xAxis",l=Re(T=>Yu(T,o,e,a)),c=Re(T=>DP(T,o,e,a)),h=Re(T=>AG(T,e)),d=Re(T=>IG(T,e)),m=Re(T=>JD(T,e));if(h==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:y,ticks:b}=t,_=dg(t,zZ),{id:E}=m,S=dg(m,BZ);return C.createElement(x1,rx({},_,S,{scale:l,x:d.x,y:d.y,width:h.width,height:h.height,className:Pt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:c}))},GZ={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:Cr.allowDecimals,allowDuplicatedCategory:Cr.allowDuplicatedCategory,height:Cr.height,hide:!1,mirror:Cr.mirror,orientation:Cr.orientation,padding:Cr.padding,reversed:Cr.reversed,scale:Cr.scale,tickCount:Cr.tickCount,type:Cr.type,xAxisId:0},YZ=t=>{var e,n,r,a,o,l=li(t,GZ);return C.createElement(C.Fragment,null,C.createElement(HZ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),C.createElement(KZ,l))},WZ=(t,e)=>{var{domain:n}=t,r=dg(t,qZ),{domain:a}=e,o=dg(e,$Z);return Ru(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Ru({domain:n},{domain:a}):!1},VM=C.memo(YZ,WZ);VM.displayName="XAxis";var XZ=["dangerouslySetInnerHTML","ticks"],QZ=["id"],ZZ=["domain"],JZ=["domain"];function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}function mg(t,e){if(t==null)return{};var n,r,a=eJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function eJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tJ(t){var e=lr();return C.useEffect(()=>(e(nQ(t)),()=>{e(rQ(t))}),[t,e]),null}var nJ=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,o=C.useRef(null),l=C.useRef(null),c=Re(LR),h=oi(),d=lr(),m="yAxis",y=Re(F=>Yu(F,m,e,h)),b=Re(F=>PG(F,e)),_=Re(F=>DG(F,e)),E=Re(F=>DP(F,m,e,h)),S=Re(F=>eP(F,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!b||g1(a)||C.isValidElement(a)||S==null)){var F=o.current;if(F){var $=F.getCalculatedWidth();Math.round(b.width)!==Math.round($)&&d(iQ({id:e,width:$}))}}},[E,b,d,a,e,r,S]),b==null||_==null||S==null)return null;var{dangerouslySetInnerHTML:T,ticks:I}=t,M=mg(t,XZ),{id:L}=S,B=mg(S,QZ);return C.createElement(x1,ix({},M,B,{ref:o,labelRef:l,scale:y,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Pt("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:E}))},rJ={allowDataOverflow:Or.allowDataOverflow,allowDecimals:Or.allowDecimals,allowDuplicatedCategory:Or.allowDuplicatedCategory,hide:!1,mirror:Or.mirror,orientation:Or.orientation,padding:Or.padding,reversed:Or.reversed,scale:Or.scale,tickCount:Or.tickCount,type:Or.type,width:Or.width,yAxisId:0},iJ=t=>{var e,n,r,a,o,l=li(t,rJ);return C.createElement(C.Fragment,null,C.createElement(tJ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),C.createElement(nJ,l))},aJ=(t,e)=>{var{domain:n}=t,r=mg(t,ZZ),{domain:a}=e,o=mg(e,JZ);return Ru(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Ru({domain:n},{domain:a}):!1},UM=C.memo(iJ,aJ);UM.displayName="YAxis";var H0={exports:{}},K0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C;function sJ(){if($C)return K0;$C=1;var t=Du();function e(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return K0.useSyncExternalStoreWithSelector=function(h,d,m,y,b){var _=a(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function T(F){if(!I){if(I=!0,M=F,F=y(F),b!==void 0&&E.hasValue){var $=E.value;if(b($,F))return L=$}return L=F}if($=L,n(M,F))return $;var R=y(F);return b!==void 0&&b($,R)?(M=F,$):(M=F,L=R)}var I=!1,M,L,B=m===void 0?null:m;return[function(){return T(d())},B===null?void 0:function(){return T(B())}]},[d,m,y,b]);var S=r(h,_[0],_[1]);return o(function(){E.hasValue=!0,E.value=S},[S]),c(S),S},K0}var FC;function oJ(){return FC||(FC=1,H0.exports=sJ()),H0.exports}oJ();function lJ(t){t()}function uJ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lJ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var HC={notify(){},get:()=>[]};function cJ(t,e){let n,r=HC,a=0,o=!1;function l(S){m();const T=r.subscribe(S);let I=!1;return()=>{I||(I=!0,T(),y())}}function c(){r.notify()}function h(){E.onStateChange&&E.onStateChange()}function d(){return o}function m(){a++,n||(n=t.subscribe(h),r=uJ())}function y(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=HC)}function b(){o||(o=!0,m())}function _(){o&&(o=!1,y())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:d,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return E}var fJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hJ=fJ(),dJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mJ=dJ(),gJ=()=>hJ||mJ?C.useLayoutEffect:C.useEffect,pJ=gJ(),yJ=Symbol.for("react-redux-context"),vJ=typeof globalThis<"u"?globalThis:{};function bJ(){if(!C.createContext)return{};const t=vJ[yJ]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var xJ=bJ();function _J(t){const{children:e,context:n,serverState:r,store:a}=t,o=C.useMemo(()=>{const h=cJ(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),l=C.useMemo(()=>a.getState(),[a]);pJ(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const c=n||xJ;return C.createElement(c.Provider,{value:o},e)}var wJ=_J,EJ=(t,e)=>e,_1=te([EJ,Ct,XD,xn,WP,Xa,VY,qn],$Y),w1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},zM=ai("mouseClick"),BM=sh();BM.startListening({actionCreator:zM,effect:(t,e)=>{var n=t.payload,r=_1(e.getState(),w1(n));r?.activeIndex!=null&&e.dispatch(KG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ax=ai("mouseMove"),qM=sh();qM.startListening({actionCreator:ax,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=a1(r,r.tooltip.settings.shared),o=_1(r,w1(n));a==="axis"&&(o?.activeIndex!=null?e.dispatch(qP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(BP()))}});var KC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},$M=jr({name:"rootProps",initialState:KC,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:KC.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),TJ=$M.reducer,{updateOptions:AJ}=$M.actions,FM=jr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:nte}=FM.actions,SJ=FM.reducer,HM=ai("keyDown"),KM=ai("focus"),E1=sh();E1.startListening({actionCreator:HM,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(s1(a,Xu(n))),c=Xa(n);if(o==="Enter"){var h=lg(n,"axis","hover",String(a.index));e.dispatch(Qb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var d=VG(n),m=d==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,b=l+y*m;if(!(c==null||b>=c.length||b<0)){var _=lg(n,"axis","hover",String(b));e.dispatch(Qb({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});E1.startListening({actionCreator:KM,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var o="0",l=lg(n,"axis","hover",String(o));e.dispatch(Qb({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Jr=ai("externalEvent"),GM=sh();GM.startListening({actionCreator:Jr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:OY(n),activeDataKey:kY(n),activeIndex:Gf(n),activeLabel:ZP(n),activeTooltipIndex:Gf(n),isTooltipActive:NY(n)};t.payload.handler(r,t.payload.reactEvent)}}});var kJ=te([Wu],t=>t.tooltipItemPayloads),CJ=te([kJ,ph,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:o}=a;if(o!=null){var l=e(o,n);return l}}}),YM=ai("touchMove"),WM=sh();WM.startListening({actionCreator:YM,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=a1(r,r.tooltip.settings.shared);if(a==="axis"){var o=_1(r,w1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(qP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=n.touches[0],h=document.elementFromPoint(c.clientX,c.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(vq),m=(l=h.getAttribute(bq))!==null&&l!==void 0?l:void 0,y=CJ(e.getState(),d,m);e.dispatch(HG({activeDataKey:m,activeIndex:d,activeCoordinate:y}))}}});var OJ=uR({brush:yQ,cartesianAxis:aQ,chartData:sW,errorBars:mQ,graphicalItems:YX,layout:$B,legend:Pq,options:tW,polarAxis:MX,polarOptions:SJ,referenceElements:TQ,rootProps:TJ,tooltip:GG}),NJ=function(e){return mB({reducer:OJ,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([BM.middleware,qM.middleware,E1.middleware,GM.middleware,WM.middleware]),devTools:qu.devToolsEnabled})};function IJ(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=oi(),o=C.useRef(null);if(a)return n;o.current==null&&(o.current=NJ(e));var l=u_;return C.createElement(wJ,{context:l,store:o.current},n)}function RJ(t){var{layout:e,width:n,height:r,margin:a}=t,o=lr(),l=oi();return C.useEffect(()=>{l||(o(zB(e)),o(BB({width:n,height:r})),o(UB(a)))},[o,l,e,n,r,a]),null}function DJ(t){var e=lr();return C.useEffect(()=>{e(AJ(t))},[e,t]),null}var PJ=["children"];function MJ(t,e){if(t==null)return{};var n,r,a=jJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(null,arguments)}var LJ={width:"100%",height:"100%"},VJ=C.forwardRef((t,e)=>{var n=UR(),r=zR(),a=qR();if(!Km(n)||!Km(r))return null;var{children:o,otherAttributes:l,title:c,desc:h}=t,d,m;return typeof l.tabIndex=="number"?d=l.tabIndex:d=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0,C.createElement(MI,gg({},l,{title:c,desc:h,role:m,tabIndex:d,width:n,height:r,style:LJ,ref:e}),o)}),UJ=t=>{var{children:e}=t,n=Re(Gg);if(!n)return null;var{width:r,height:a,y:o,x:l}=n;return C.createElement(MI,{width:r,height:a,x:l,y:o},e)},GC=C.forwardRef((t,e)=>{var{children:n}=t,r=MJ(t,PJ),a=oi();return a?C.createElement(UJ,null,n):C.createElement(VJ,gg({ref:e},r),n)});function zJ(){var t=lr(),[e,n]=C.useState(null),r=Re(yq);return C.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),o=a.width/e.offsetWidth;or(o)&&o!==r&&t(qB(o))}},[e,t,r]),n}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function BJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){qJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qJ(t,e,n){return(e=$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=FJ(t,"string");return typeof e=="symbol"?e:e+""}function FJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HJ=C.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:h,onMouseEnter:d,onMouseLeave:m,onMouseMove:y,onMouseUp:b,onTouchEnd:_,onTouchMove:E,onTouchStart:S,style:T,width:I}=t,M=lr(),[L,B]=C.useState(null),[F,$]=C.useState(null);gW();var R=zJ(),O=C.useCallback(ae=>{R(ae),typeof e=="function"&&e(ae),B(ae),$(ae)},[R,e,B,$]),D=C.useCallback(ae=>{M(zM(ae)),M(Jr({handler:o,reactEvent:ae}))},[M,o]),U=C.useCallback(ae=>{M(ax(ae)),M(Jr({handler:d,reactEvent:ae}))},[M,d]),j=C.useCallback(ae=>{M(BP()),M(Jr({handler:m,reactEvent:ae}))},[M,m]),z=C.useCallback(ae=>{M(ax(ae)),M(Jr({handler:y,reactEvent:ae}))},[M,y]),V=C.useCallback(()=>{M(KM())},[M]),pe=C.useCallback(ae=>{M(HM(ae.key))},[M]),ye=C.useCallback(ae=>{M(Jr({handler:l,reactEvent:ae}))},[M,l]),Z=C.useCallback(ae=>{M(Jr({handler:c,reactEvent:ae}))},[M,c]),ue=C.useCallback(ae=>{M(Jr({handler:h,reactEvent:ae}))},[M,h]),me=C.useCallback(ae=>{M(Jr({handler:b,reactEvent:ae}))},[M,b]),Ee=C.useCallback(ae=>{M(Jr({handler:S,reactEvent:ae}))},[M,S]),H=C.useCallback(ae=>{M(YM(ae)),M(Jr({handler:E,reactEvent:ae}))},[M,E]),ie=C.useCallback(ae=>{M(Jr({handler:_,reactEvent:ae}))},[M,_]);return C.createElement(aM.Provider,{value:L},C.createElement(I8.Provider,{value:F},C.createElement("div",{className:Pt("recharts-wrapper",r),style:BJ({position:"relative",cursor:"default",width:I,height:a},T),onClick:D,onContextMenu:ye,onDoubleClick:Z,onFocus:V,onKeyDown:pe,onMouseDown:ue,onMouseEnter:U,onMouseLeave:j,onMouseMove:z,onMouseUp:me,onTouchEnd:ie,onTouchMove:H,onTouchStart:Ee,ref:O},n)))}),KJ=["children","className","width","height","style","compact","title","desc"];function GJ(t,e){if(t==null)return{};var n,r,a=YJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function YJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WJ=C.forwardRef((t,e)=>{var{children:n,className:r,width:a,height:o,style:l,compact:c,title:h,desc:d}=t,m=GJ(t,KJ),y=eo(m);return c?C.createElement(GC,{otherAttributes:y,title:h,desc:d},n):C.createElement(HJ,{className:r,style:l,width:a,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(GC,{otherAttributes:y,title:h,desc:d,ref:e},C.createElement(SQ,null,n)))}),XJ=["width","height"];function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(null,arguments)}function QJ(t,e){if(t==null)return{};var n,r,a=ZJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ZJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JJ={top:5,right:5,bottom:5,left:5},eee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:JJ,reverseStackOrder:!1,syncMethod:"index"},tee=C.forwardRef(function(e,n){var r,a=li(e.categoricalChartProps,eee),{width:o,height:l}=a,c=QJ(a,XJ);if(!Km(o)||!Km(l))return null;var{chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,categoricalChartProps:b}=e,_={chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,eventEmitter:void 0};return C.createElement(IJ,{preloadedState:{options:_},reduxStoreName:(r=b.id)!==null&&r!==void 0?r:h},C.createElement(pQ,{chartData:b.data}),C.createElement(RJ,{width:o,height:l,layout:a.layout,margin:a.margin}),C.createElement(DJ,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(WJ,sx({},c,{width:o,height:l,ref:n})))}),nee=["axis"],ree=C.forwardRef((t,e)=>C.createElement(tee,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nee,tooltipPayloadSearcher:JY,categoricalChartProps:t,ref:e}));const iee={apiKey:"AIzaSyB_YYYPlskKtC_LEed63_ZGlSJeA_1UhuI",authDomain:"trading-jurnal-deo.firebaseapp.com",projectId:"trading-jurnal-deo",storageBucket:"trading-jurnal-deo.firebasestorage.app",messagingSenderId:"1085442544675",appId:"1:1085442544675:web:2bad6464f7be4673de8d96",measurementId:"G-NR89QZDXEE"},XM=uO(iee),Jd=LV(XM),aee=qU(XM);const see="WzGoldTradingJournalDB",oee=1;let em=null;const lee=["profiles","trades","balance_transactions","pairs","templates","custom_fields","goals","trade_images"],QM=()=>new Promise((t,e)=>{if(em)return t(em);const n=indexedDB.open(see,oee);n.onupgradeneeded=r=>{const a=r.target.result;lee.forEach(o=>{if(!a.objectStoreNames.contains(o)){const l=a.createObjectStore(o,{keyPath:"id"});["trades","balance_transactions","pairs","templates","custom_fields","goals"].includes(o)&&l.createIndex("profileId","profileId",{unique:!1})}})},n.onsuccess=r=>{em=r.target.result,t(em)},n.onerror=r=>{console.error("IndexedDB error:",r.target.errorCode),e("IndexedDB error")}}),Qu=(t,e,n)=>QM().then(r=>new Promise((a,o)=>{try{const c=r.transaction(t,e).objectStore(t);n(c,a,o)}catch(l){o(l)}})),Fs=(t,e)=>Qu(t,"readwrite",(n,r)=>{const a=n.add(e);a.onsuccess=()=>r(a.result)}),T1=(t,e)=>Qu(t,"readwrite",(n,r)=>{const a=n.put(e);a.onsuccess=()=>r(a.result)}),zi=(t,e)=>Qu(t,"readwrite",(n,r)=>{n.delete(e).onsuccess=()=>r(!0)}),ZM=(t,e)=>Qu(t,"readonly",(n,r)=>{n.get(e).onsuccess=a=>r(a.target.result)}),uee=t=>Qu(t,"readonly",(e,n)=>{e.getAll().onsuccess=r=>n(r.target.result)}),wa=(t,e)=>Qu(t,"readonly",(n,r)=>{const a=n.index("profileId");a.getAll(e).onsuccess=o=>r(o.target.result)}),cee=async()=>{const t={userAgent:navigator.userAgent,language:navigator.language,screenWidth:window.screen.width,screenHeight:window.screen.height,timezone:new Date().getTimezoneOffset(),platform:navigator.platform},e=JSON.stringify(t),n=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")},pg=t=>{const[e,n]=C.useState(null);return C.useEffect(()=>{let r=null;return t?ZM("trade_images",t).then(a=>{a&&a.file?(r=URL.createObjectURL(a.file),n(r)):n(null)}).catch(a=>{console.error("Failed to load image from DB",a),n(null)}):n(null),()=>{r&&URL.revokeObjectURL(r)}},[t]),e},Ns=t=>t?(t instanceof Date?t:new Date(t)).toLocaleDateString("en-CA"):"N/A",cp=t=>{if(!t)return"N/A";const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Invalid Date":e.toLocaleString("id-ID",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},yg=t=>{if(!t)return"";const e=t instanceof Date?t:new Date(t);if(isNaN(e.getTime()))return"";const n=r=>(r<10?"0":"")+r;return`${e.getFullYear()}-${n(e.getMonth()+1)}-${n(e.getDate())}T${n(e.getHours())}:${n(e.getMinutes())}`},tn=(t,e="USD")=>{const n=e==="IDR"?"id-ID":"en-US",r={style:"currency",currency:e,minimumFractionDigits:e==="IDR"?0:2,maximumFractionDigits:e==="IDR"?0:2};return typeof t!="number"||isNaN(t)?new Intl.NumberFormat(n,r).format(0):new Intl.NumberFormat(n,r).format(t)},JM=t=>typeof t!="number"?"0.00 LOT":`${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} LOT`,$o=(...t)=>t.filter(Boolean).join(" "),WC=({message:t,type:e,onClose:n})=>{if(!t)return null;let r;switch(e){case"success":r={bg:"bg-green-600",icon:x.jsx(Pm,{})};break;case"error":r={bg:"bg-red-600",icon:x.jsx(e_,{})};break;case"info":r={bg:"bg-blue-600",icon:x.jsx(Lf,{})};break;default:r={bg:"bg-gray-700",icon:x.jsx(Lf,{})};break}return x.jsxs("div",{className:`fixed top-5 right-5 ${r.bg} text-white p-4 rounded-lg shadow-xl flex items-center z-[100] animate-fadeIn`,children:[x.jsx("div",{className:"mr-3",children:r.icon}),x.jsx("span",{children:t}),x.jsx("button",{onClick:n,className:"ml-4 text-2xl font-semibold leading-none hover:text-gray-200",children:"×"})]})},fee=({isOpen:t,onClose:e,onConfirm:n,title:r,message:a})=>t?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[90] p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl max-w-md w-full",children:[x.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:r}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:a}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Batal"}),x.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Konfirmasi"})]})]})}):null,G0=({icon:t,text:e,active:n,onClick:r})=>x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:r,className:`flex items-center p-3 rounded-lg transition-colors ${n?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[t,x.jsx("span",{className:"ml-3",children:e})]})}),ej=({theme:t,onToggle:e})=>x.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:`Ganti ke mode ${t==="dark"?"terang":"gelap"}`,children:t==="dark"?x.jsx(a8,{size:20}):x.jsx(Jz,{size:20})}),hee=({onLogin:t,error:e,theme:n,onToggleTheme:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState(!1),m=async y=>{y.preventDefault(),d(!0),await t(a,l),d(!1)};return x.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center font-sans relative",children:[x.jsx("div",{className:"absolute top-5 right-5",children:x.jsx(ej,{theme:n,onToggle:r})}),x.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Wz",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"Gold"})," Trading Jurnal"]}),x.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Silakan masuk untuk melanjutkan"})]}),x.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[x.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[x.jsx("div",{children:x.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:y=>o(y.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Alamat email"})}),x.jsx("div",{children:x.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:l,onChange:y=>c(y.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Kata sandi"})})]}),e&&x.jsxs("div",{className:"flex items-center text-sm text-red-500 dark:text-red-400 bg-red-500/10 p-3 rounded-lg",children:[x.jsx(e_,{size:16,className:"mr-2"}),x.jsx("span",{children:e})]}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 dark:disabled:bg-blue-800 disabled:cursor-not-allowed",children:h?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"animate-spin h-5 w-5 mr-3 border-2 border-white border-t-transparent rounded-full"}),x.jsx("span",{children:"Memproses..."})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:x.jsx(Hz,{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400","aria-hidden":"true"})}),"Masuk"]})})})]}),x.jsx("p",{className:"mt-4 text-center text-xs text-gray-500 dark:text-gray-400",children:"Tidak punya akun? Hubungi administrator untuk mendapatkan kredensial login."})]})]})},dee=({imageUrl:t,onClose:e})=>t?x.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-[100] p-4 animate-fadeIn",children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white text-4xl font-light z-[101] p-3 rounded-full hover:bg-gray-800 transition-colors",title:"Tutup (Esc)",children:"×"}),x.jsx("div",{className:"w-full h-full flex items-center justify-center",children:x.jsx("img",{src:t,alt:"Fullscreen Trade Screenshot",className:"max-w-full max-h-full object-contain",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/1200x800/374151/ffffff?text=Image+Gagal+Load"}})})]}):null,mee=({trade:t,onClose:e,customFields:n,currency:r})=>{const[a,o]=C.useState(null);if(!t)return null;const l=({title:y,imageId:b,icon:_})=>{const E=pg(b);return x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 flex items-center",children:[_," ",x.jsx("span",{className:"ml-1",children:y})]}),E?x.jsxs("div",{className:"relative aspect-[4/3] bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600 cursor-pointer group",onClick:()=>o(E),children:[x.jsx("img",{src:E,alt:y,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-80"}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx(Wz,{size:32,className:"text-white"})})]}):x.jsx("div",{className:"aspect-[4/3] bg-gray-200 dark:bg-gray-700 flex items-center justify-center rounded-lg text-gray-400 dark:text-gray-500 text-center text-sm p-4",children:"Tidak Ada Gambar"})]})},h=t.pnl>0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400",d=t.type==="long"?x.jsx(_I,{size:20,className:"text-green-500"}):x.jsx(xI,{size:20,className:"text-red-500"}),m=n.filter(y=>t.customData&&t.customData[y.name]);return x.jsxs(x.Fragment,{children:[x.jsx(dee,{imageUrl:a,onClose:()=>o(null)}),x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-200 dark:border-gray-700 pb-4",children:[x.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[d," ",x.jsx("span",{className:"ml-2",children:t.pair})]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"space-y-4 lg:col-span-1",children:[x.jsxs("div",{className:"flex items-center space-x-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[x.jsx(Cz,{size:20,className:"text-gray-400 dark:text-gray-500"}),x.jsx("span",{className:"text-lg text-gray-700 dark:text-gray-300 font-medium",children:cp(t.tradeDate)})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-2xl font-extrabold ${h}`,children:tn(t.pnl,r)})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lot Size"}),x.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:JM(t.lotSize)})]})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Risk/Reward Ratio"}),x.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.riskRewardRatio>0?`1 : ${t.riskRewardRatio.toFixed(2)}`:"N/A"})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Setup / Strategi"}),x.jsx("p",{className:"text-gray-800 dark:text-white font-medium",children:t.setup||"Tidak Ada Setup Dicatat"})]})," ",(t.entryPrice>0||t.takeProfit>0||t.stopLoss>0)&&x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg space-y-2",children:[x.jsx("h4",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 font-semibold",children:"Detail Harga"}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Entry Price:"}),x.jsx("span",{className:"text-gray-800 dark:text-white font-medium",children:t.entryPrice>0?t.entryPrice.toLocaleString():"N/A"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Take Profit:"}),x.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:t.takeProfit>0?t.takeProfit.toLocaleString():"N/A"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Stop Loss:"}),x.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:t.stopLoss>0?t.stopLoss.toLocaleString():"N/A"})]})]})," ",m.length>0&&x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg space-y-2",children:[x.jsx("h4",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 font-semibold border-b border-gray-300 dark:border-gray-600 pb-2",children:"Field Tambahan"}),m.map(y=>x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{className:"text-gray-500 dark:text-gray-400 capitalize",children:[y.name,":"]}),x.jsx("span",{className:"text-gray-800 dark:text-white font-medium text-right",children:t.customData[y.name]})]},y.id))]})," "]}),x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[x.jsx(l,{title:"Screenshot Sebelum Trade",imageId:t.screenshotBeforeId,icon:x.jsx(TI,{size:18,className:"text-blue-500 dark:text-blue-400"})}),x.jsx(l,{title:"Screenshot Sesudah Trade",imageId:t.screenshotAfterId,icon:x.jsx(Wx,{size:18,className:"text-green-500 dark:text-green-400"})})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Catatan Trade"}),x.jsx("p",{className:"text-gray-800 dark:text-white text-sm whitespace-pre-wrap",children:t.notes||"Tidak ada catatan."})]})]})]}),x.jsx("div",{className:"flex justify-end mt-6 border-t border-gray-200 dark:border-gray-700 pt-4",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})]})},gee=({isOpen:t,onClose:e,currentBalance:n,currency:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState("1"),[h,d]=C.useState("20"),[m,y]=C.useState("1"),[b,_]=C.useState("");C.useEffect(()=>{t&&n&&o(n.toFixed(2))},[t,n]);const E=C.useMemo(()=>{const T=parseFloat(a),I=parseFloat(l),M=parseFloat(h),L=parseFloat(m);if(isNaN(T)||isNaN(I)||isNaN(M)||isNaN(L)||T<=0||M<=0||L<=0)return{riskAmount:0,lotSize:0,isValid:!1};const B=T*(I/100),F=M*L,$=F>0?B/F:0;return{riskAmount:B,lotSize:$,isValid:!0}},[a,l,h,m]),S=()=>{if(E.isValid&&E.lotSize>0){const T=E.lotSize.toFixed(2);navigator.clipboard.writeText(T).then(()=>{_("Lot Size disalin!"),setTimeout(()=>_(""),2e3)}).catch(I=>{console.error("Failed to copy: ",I);try{const M=document.createElement("textarea");M.value=T,M.style.position="fixed",M.style.left="-9999px",document.body.appendChild(M),M.focus(),M.select(),document.execCommand("copy"),document.body.removeChild(M),_("Lot Size disalin!"),setTimeout(()=>_(""),2e3)}catch{_("Gagal menyalin."),setTimeout(()=>_(""),2e3)}})}};return t?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md relative",children:[b&&x.jsx("div",{className:"absolute top-4 right-4 bg-green-600 text-white text-xs px-3 py-1 rounded-full animate-fadeIn z-10",children:b}),x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[x.jsx(wI,{size:24,className:"mr-2 text-blue-500 dark:text-blue-400"})," Kalkulator Lot Size"]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:["Saldo Akun (",r,")"]}),x.jsx("input",{type:"number",step:"any",value:a,onChange:T=>o(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Risiko per Trade (%)"}),x.jsx("input",{type:"number",step:"any",value:l,onChange:T=>c(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Jarak Stop Loss (Poin/Pips)"}),x.jsx("input",{type:"number",step:"any",value:h,onChange:T=>d(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:["Nilai per Poin/Pip per Lot (",r,")",x.jsx(Lf,{size:14,className:"ml-1 text-gray-400 dark:text-gray-500 cursor-help",title:"Nilai profit/loss dalam Dolar jika harga bergerak 1 poin/pip dengan ukuran 1.00 Lot. Contoh: XAU/USD = $1, EUR/USD = $10."})]}),x.jsx("input",{type:"number",step:"any",value:m,onChange:T=>y(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]})]}),x.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-center text-lg",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Risiko Maksimal:"}),x.jsx("span",{className:"font-bold text-red-500 dark:text-red-400",children:tn(E.riskAmount,r)})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg text-center",children:[x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rekomendasi Lot Size"}),x.jsxs("div",{className:"flex items-center justify-center mt-1",children:[x.jsx("p",{className:"text-3xl font-extrabold text-blue-600 dark:text-blue-400",children:E.isValid?E.lotSize.toFixed(2):"0.00"}),x.jsx("button",{onClick:S,className:"ml-3 p-2 text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors",title:"Salin Lot Size",children:x.jsx(Rz,{size:20})})]})]})]}),x.jsx("div",{className:"flex justify-end mt-6",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})}):null},pee=({activeProfileId:t,showToast:e,onClose:n,currentGoal:r,currency:a})=>{const[o,l]=C.useState("weekly"),[c,h]=C.useState(""),[d,m]=C.useState(""),[y,b]=C.useState("");C.useEffect(()=>{r?(l(r.type||"weekly"),h(r.amount||""),m(r.dailyProfitTarget||""),b(r.dailyLossTarget||"")):(l("weekly"),h(""),m(""),b(""))},[r]);const _=async()=>{const S=parseFloat(c)||0,T=parseFloat(d)||0,I=parseFloat(y)||0;if(S<0||T<0||I<0){e("Target tidak boleh angka negatif.","error");return}if(S===0&&T===0&&I===0){e("Mohon isi setidaknya satu target.","info");return}const M={id:t,profileId:t,type:o,amount:S,dailyProfitTarget:T,dailyLossTarget:I,updatedAt:new Date};try{await T1("goals",M),e("Target berhasil disimpan!","success"),n()}catch(L){console.error("Error saving goal:",L),e("Gagal menyimpan target.","error")}},E=async()=>{try{await zi("goals",t),e("Target berhasil dihapus.","success"),h(""),m(""),b(""),n()}catch(S){console.error("Error deleting goal:",S),e("Gagal menghapus target.","error")}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2 flex items-center",children:[x.jsx(Jx,{size:24,className:"mr-2 text-yellow-400"})," Tetapkan Target"]}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Target harian hanya tampil di periode 'Harian'. Target mingguan/bulanan tampil di periode masing-masing."}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Target Mingguan/Bulanan"}),x.jsxs("div",{className:"flex space-x-2 p-1 bg-gray-100 dark:bg-gray-900 rounded-lg",children:[x.jsx("button",{onClick:()=>l("weekly"),className:`flex-1 py-2 text-sm rounded-md transition-colors ${o==="weekly"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Mingguan"}),x.jsx("button",{onClick:()=>l("monthly"),className:`flex-1 py-2 text-sm rounded-md transition-colors ${o==="monthly"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Bulanan"})]}),x.jsx("input",{id:"goalAmount",type:"number",step:"any",value:c,onChange:S=>h(S.target.value),placeholder:`Jumlah Target ${o==="weekly"?"Mingguan":"Bulanan"}`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded mt-2"})]}),x.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Target Harian"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx("input",{id:"dailyProfitTarget",type:"number",step:"any",value:d,onChange:S=>m(S.target.value),placeholder:`Profit Harian (${a})`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{id:"dailyLossTarget",type:"number",step:"any",value:y,onChange:S=>b(S.target.value),placeholder:`Batas Loss Harian (${a})`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]})]})]}),x.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[x.jsx(Qx,{size:18,className:"inline mr-1"})," Simpan"]}),r&&(r.amount>0||r.dailyProfitTarget>0||r.dailyLossTarget>0)&&x.jsxs("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[x.jsx(ml,{size:18,className:"inline mr-1"})," Hapus"]})]}),x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})]})]})})},XC=({showToast:t,onClose:e,profiles:n,openDeleteModal:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState("USD"),m=async y=>{y.preventDefault();const b=a.trim(),_=l.trim();if(!b){t("Nama profil tidak boleh kosong.","error");return}try{const E={id:crypto.randomUUID(),name:b,description:_,currency:h,createdAt:new Date};await Fs("profiles",E),t(`Profil '${b}' berhasil ditambahkan.`,"success"),e()}catch(E){console.error("Error adding profile:",E),t("Gagal menambah profil.","error")}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(SI,{size:24,className:"mr-2 text-blue-500 dark:text-blue-400"})," Kelola Profil Trading"]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:m,className:"flex-shrink-0 mb-6 p-4 bg-gray-100/50 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Tambah Profil Baru"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{type:"text",placeholder:"Nama Profil (e.g., Akun Pro)",value:a,onChange:y=>o(y.target.value),className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("textarea",{placeholder:"Deskripsi (e.g., Akun di broker XM, leverage 1:500)",value:l,onChange:y=>c(y.target.value),rows:"2",className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsxs("select",{value:h,onChange:y=>d(y.target.value),className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"USD",children:"USD ($)"}),x.jsx("option",{value:"IDR",children:"IDR (Rp)"})]})]}),x.jsx("div",{className:"flex justify-end mt-4",children:x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[x.jsx(vb,{size:18,className:"inline mr-1"})," Tambah Profil"]})})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Profil (",n.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:n.map(y=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[y.name," ",x.jsxs("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400",children:["(",y.currency,")"]})]}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:y.description||"Tidak ada deskripsi"})]}),x.jsx("button",{onClick:()=>r("profile",y),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Profil ${y.name}`,children:x.jsx(ml,{size:16})})]},y.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},yee=({activeProfileId:t,showToast:e,onClose:n,customFields:r,openDeleteModal:a})=>{const[o,l]=C.useState(""),c=async h=>{h.preventDefault();const d=o.trim();if(!d){e("Nama field tidak boleh kosong.","error");return}if(r.some(m=>m.name.toLowerCase()===d.toLowerCase())){e(`Field '${d}' sudah ada.`,"error"),l("");return}try{const m={id:crypto.randomUUID(),profileId:t,name:d,createdAt:new Date};await Fs("custom_fields",m),e(`Field '${d}' berhasil ditambahkan.`,"success"),l("")}catch(m){e("Gagal menambah field.","error"),console.error("Error adding custom field:",m)}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(AI,{size:24,className:"mr-2 text-green-500 dark:text-green-400"})," Kelola Field Tambahan"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:c,className:"flex-shrink-0 mb-6 flex space-x-2",children:[x.jsx("input",{type:"text",placeholder:"Nama Field Baru (e.g., Sesi)",value:o,onChange:h=>l(h.target.value),className:"flex-grow bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tambah"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Field (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Anda belum menambahkan field tambahan."}):r.map(h=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:h.name}),x.jsx("button",{onClick:()=>a("custom_field",h),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Field ${h.name}`,children:x.jsx(ml,{size:16})})]},h.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},vee=({trades:t,activePeriod:e,setActivePeriod:n,periods:r,onShowTradeDetail:a,currency:o})=>{const l=({trade:h})=>{const d=pg(h.screenshotAfterId),y=h.pnl>0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400";return d?x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden cursor-pointer transition-transform hover:scale-[1.02] border border-gray-200 dark:border-gray-700 relative group",onClick:()=>a(h),children:[x.jsxs("div",{className:"aspect-video w-full overflow-hidden bg-gray-100 dark:bg-gray-700",children:[x.jsx("img",{src:d,alt:`Trade ${h.pair}`,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-80"}),x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx("button",{className:"text-white bg-blue-600 p-3 rounded-full hover:bg-blue-700",children:x.jsx(Lf,{size:24})})})]}),x.jsxs("div",{className:"p-3",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 flex justify-between items-center",children:[h.pair,x.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${h.type==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:h.type.toUpperCase()})]}),x.jsxs("div",{className:"flex justify-between items-end mt-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-lg font-bold ${y}`,children:tn(h.pnl,o)})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"R:R"}),x.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate max-w-[120px]",title:h.riskRewardRatio>0?`${h.riskRewardRatio.toFixed(2)}R`:"N/A",children:h.riskRewardRatio>0?`${h.riskRewardRatio.toFixed(2)}R`:"N/A"})]})]}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2 border-t border-gray-200 dark:border-gray-700 pt-2",children:cp(h.tradeDate)})]})]}):x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 relative aspect-video flex flex-col justify-between p-3",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 flex justify-between items-center",children:h.pair}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Memuat gambar..."})]}),x.jsxs("div",{className:"flex justify-between items-end mt-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-lg font-bold ${y}`,children:tn(h.pnl,o)})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"R:R"}),x.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:h.riskRewardRatio>0?`${h.riskRewardRatio.toFixed(2)}R`:"N/A"})]})]})]})},c=t.filter(h=>h.screenshotAfterId);return x.jsxs("div",{className:"animate-fadeIn",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Galeri Visual Trade"}),x.jsx("div",{className:"flex space-x-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-xl mb-6",children:r.map(h=>x.jsx("button",{onClick:()=>n(h.key),className:$o("px-4 py-2 text-sm font-medium rounded-lg transition-colors flex-grow",e===h.key?"bg-blue-600 text-white shadow-lg":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),children:h.label},h.key))}),c.length===0?x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-10 rounded-xl text-center text-gray-500 mt-10",children:[x.jsx(Wx,{size:48,className:"mx-auto mb-3 text-gray-400 dark:text-gray-600"}),x.jsx("p",{className:"text-lg",children:"Tidak ada trade dengan gambar di periode ini."}),x.jsx("p",{className:"text-sm mt-1",children:"Pastikan Anda mengupload gambar saat menambahkan trade."})]}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(h=>x.jsx(l,{trade:h},h.id))})]})},QC=({value:t,size:e=80,strokeWidth:n=8})=>{const r=e/2,a=r-n,o=2*Math.PI*a,l=o-t/100*o;return x.jsxs("div",{className:"relative",style:{width:e,height:e},children:[x.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[x.jsx("circle",{cx:r,cy:r,r:a,strokeWidth:n,className:"stroke-gray-200 dark:stroke-gray-700",fill:"transparent"}),x.jsx("circle",{cx:r,cy:r,r:a,strokeWidth:n,className:"stroke-blue-500 transition-all duration-500 ease-out",fill:"transparent",strokeDasharray:o,strokeDashoffset:l,strokeLinecap:"round"})]}),x.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-gray-900 dark:text-white font-bold text-lg",children:`${Math.round(t)}%`})]})},bee=({winValue:t,lossValue:e})=>{const n=t+e;if(n===0)return x.jsx("div",{className:"h-2 w-full bg-gray-300 dark:bg-gray-600 rounded-full"});const r=t/n*100;return x.jsx("div",{className:"w-full bg-red-500/50 rounded-full h-2.5 flex overflow-hidden",children:x.jsx("div",{className:"bg-green-500 h-2.5",style:{width:`${r}%`}})})},Vo=({title:t,value:e,children:n,footer:r,icon:a})=>x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg flex flex-col justify-between min-h-[160px]",children:[x.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm mb-2",children:[a,x.jsx("span",{className:"ml-2",children:t})]}),x.jsxs("div",{className:"flex-grow flex items-center justify-center",children:[e&&x.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white my-2",children:e}),n]}),x.jsx("div",{className:"text-center text-xs text-gray-400 dark:text-gray-500 mt-2 h-8 flex items-center justify-center",children:r})]}),xee=({goal:t,currentPnl:e,period:n,currency:r})=>{if(!t||!t.type||!t.amount||t.type!=="weekly"&&t.type!=="monthly"||t.type!==n)return null;const{amount:a,type:o}=t,l=e>0?e/a*100:0,c=Math.min(l,100),h=e>=a;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[x.jsx(Jx,{size:20,className:"mr-2 text-yellow-400"}),"Target Profit ",o==="weekly"?"Mingguan":"Bulanan"]}),h&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-green-500/20 text-green-300 px-3 py-1 rounded-full",children:[x.jsx(Pm,{size:16,className:"mr-1.5"}),"Target Tercapai!"]})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("div",{className:"flex-grow",children:x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 relative overflow-hidden",children:x.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ease-out ${h?"bg-green-500":"bg-blue-500"}`,style:{width:`${c}%`}})})}),x.jsxs("div",{className:"flex-shrink-0 w-40 text-right",children:[x.jsx("span",{className:`font-bold text-lg ${h?"text-green-400 dark:text-green-300":"text-gray-900 dark:text-white"}`,children:tn(e,r)}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" / ",tn(a,r)]})]})]}),x.jsxs("p",{className:"text-right text-sm text-gray-500 dark:text-gray-400 mt-1",children:[l.toFixed(1),"%"]})]})},_ee=({goal:t,currentPnl:e,currency:n})=>{if(!t||t.dailyProfitTarget<=0&&t.dailyLossTarget<=0)return null;const{dailyProfitTarget:r,dailyLossTarget:a}=t,o=r>0&&e>0?e/r*100:0,l=Math.min(o,100),c=r>0&&e>=r,h=a>0&&e<0?Math.abs(e)/a*100:0,d=Math.min(h,100),m=a>0&&Math.abs(e)>=a;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[x.jsx(Pm,{size:20,className:"mr-2 text-cyan-400"}),"Target Harian"]}),c&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-green-500/20 text-green-300 px-3 py-1 rounded-full",children:[x.jsx(Pm,{size:16,className:"mr-1.5"}),"Profit Tercapai!"]}),m&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-red-500/20 text-red-300 px-3 py-1 rounded-full",children:[x.jsx(e_,{size:16,className:"mr-1.5"}),"Batas Loss Tercapai!"]})]}),r>0&&x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Target Profit"}),x.jsxs("div",{children:[x.jsx("span",{className:`font-bold ${c?"text-green-400":"text-gray-900 dark:text-white"}`,children:tn(e>0?e:0,n)}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" / ",tn(r,n)]})]})]}),x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ease-out ${c?"bg-green-500":"bg-cyan-500"}`,style:{width:`${l}%`}})})]}),a>0&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Batas Loss"}),x.jsxs("div",{children:[x.jsx("span",{className:`font-bold ${m?"text-red-400":"text-gray-900 dark:text-white"}`,children:tn(e<0?e:0,n)}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" / ",tn(-a,n)]})]})]}),x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:"h-3 rounded-full transition-all duration-500 ease-out bg-red-500",style:{width:`${d}%`}})})]})]})},wee=({stats:t,currency:e})=>{if(!t)return null;const n=isFinite(t.profitFactor)?t.profitFactor.toFixed(2):"∞",r=isFinite(t.avgWinLossRatio)?t.avgWinLossRatio.toFixed(2):"∞";return x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-7 gap-4 mb-6 animate-fadeIn",children:[x.jsx(Vo,{title:"Net P&L",value:tn(t.netPnl,e),icon:x.jsx(jz,{size:16}),footer:x.jsxs("span",{className:t.netPnl>=0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400",children:[" ",t.netPnl>=0?"Profit":"Loss"," "]})}),x.jsxs(Vo,{title:"Trade Win %",icon:x.jsx(Zx,{size:16}),footer:x.jsxs("span",{children:[x.jsxs("span",{className:"text-green-500 dark:text-green-400",children:[t.wins," menang"]})," / ",x.jsxs("span",{className:"text-red-500 dark:text-red-400",children:[t.losses," kalah"]})]}),children:[" ",x.jsx(QC,{value:t.tradeWinRate})," "]}),x.jsx(Vo,{title:"Profit Factor",value:n,icon:x.jsx(Pz,{size:16}),footer:x.jsxs("div",{className:"w-full flex flex-col items-center",children:[x.jsx("span",{className:"text-green-500",children:tn(t.grossProfit,e)}),x.jsx("span",{className:"text-gray-500 mx-1",children:"/"}),x.jsx("span",{className:"text-red-500",children:tn(t.grossLoss,e)})]})}),x.jsxs(Vo,{title:"Day Win %",icon:x.jsx(EI,{size:16}),footer:x.jsxs("span",{children:[x.jsxs("span",{className:"text-green-500 dark:text-green-400",children:[t.profitableDays," hari"]})," / ",x.jsxs("span",{className:"text-red-500 dark:text-red-400",children:[t.losingDays," hari"]})]}),children:[" ",x.jsx(QC,{value:t.dayWinRate})," "]}),x.jsx(Vo,{title:"Avg Win/Loss",icon:x.jsx(vz,{size:16}),footer:x.jsxs("div",{className:"w-full flex flex-col items-center",children:[x.jsx(bee,{winValue:t.avgWin,lossValue:Math.abs(t.avgLoss)}),x.jsxs("div",{className:"w-full flex justify-between mt-1",children:[x.jsx("span",{className:"text-green-500 dark:text-green-400",children:tn(t.avgWin,e)}),x.jsx("span",{className:"text-red-500 dark:text-red-400",children:tn(t.avgLoss,e)})]})]}),value:r}),x.jsx(Vo,{title:"Avg R:R Ratio",value:`${t.avgRiskReward.toFixed(2)}R`,icon:x.jsx(n8,{size:16}),footer:x.jsx("span",{children:"Rata-rata Risk to Reward"})}),x.jsx(Vo,{title:"Total Lot Digunakan",value:JM(t.totalLotUsed),icon:x.jsx(Vz,{size:16}),footer:x.jsx("span",{children:"Volum Trading Akumulatif"})})]})},Eee=({data:t,period:e,currency:n,theme:r})=>{const a=r==="dark"?"#A0AEC0":"#4A5568",o=r==="dark"?"#4A5568":"#E2E8F0",l=h=>{const d=new Date(h);return isNaN(d)?h:e==="monthly"?d.toLocaleString("id-ID",{month:"short",year:"numeric"}):e==="weekly"?d.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="daily"?d.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="yearly"?d.getFullYear():d.toLocaleDateString("id-ID")},c=({active:h,payload:d,label:m})=>h&&d&&d.length?x.jsxs("div",{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm p-3 rounded-lg border border-gray-300 dark:border-gray-600",children:[x.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:`Tanggal: ${m}`}),x.jsx("p",{className:"text-gray-900 dark:text-white font-bold",children:`Saldo: ${tn(d[0].value,n)}`})]}):null;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 h-80 animate-fadeIn",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Riwayat Saldo Akun"}),x.jsx(DW,{width:"100%",height:"100%",children:x.jsxs(ree,{data:t,margin:{top:5,right:20,left:-10,bottom:20},children:[x.jsx(OM,{strokeDasharray:"3 3",stroke:o}),x.jsx(VM,{dataKey:"name",stroke:a,tickFormatter:l,tick:{fontSize:12}}),x.jsx(UM,{stroke:a,tickFormatter:h=>n==="IDR"?`${h/1e6}jt`:`$${h/1e3}k`,tick:{fontSize:12}}),x.jsx(EW,{content:x.jsx(c,{})}),x.jsx("defs",{children:x.jsxs("linearGradient",{id:"colorBalance",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),x.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),x.jsx(LM,{type:"monotone",dataKey:"balance",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorBalance)",strokeWidth:2})]})})]})},Tee=({activeProfileId:t,showToast:e,onClose:n,templates:r,openDeleteModal:a})=>{const o={name:"",pair:"",type:"long",lotSize:"0.01",setup:"",pnl:"0",riskRewardRatio:"0"},[l,c]=C.useState(o),[h,d]=C.useState(null),m=E=>{const{name:S,value:T}=E.target;c(I=>({...I,[S]:T}))},y=E=>{d(E),c({...E,lotSize:String(E.lotSize),pnl:String(E.pnl),riskRewardRatio:String(E.riskRewardRatio||"0")})},b=async E=>{E.preventDefault();const S={...l,lotSize:parseFloat(l.lotSize)||0,pnl:parseFloat(l.pnl)||0,riskRewardRatio:parseFloat(l.riskRewardRatio)||0};if(!S.name.trim()){e("Nama Template wajib diisi.","error");return}try{if(h)await T1("templates",{...S,id:h.id,profileId:t,updatedAt:new Date}),e(`Template '${S.name}' berhasil diupdate.`,"success");else{const T=crypto.randomUUID();await Fs("templates",{...S,id:T,profileId:t,createdAt:new Date}),e(`Template '${S.name}' berhasil ditambahkan.`,"success")}c(o),d(null)}catch(T){e("Gagal menyimpan Template.","error"),console.error("Error saving template:",T)}},_=()=>{d(null),c(o)};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(kI,{size:24,className:"mr-2 text-yellow-400"})," Kelola Template Trade"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:b,className:"flex-shrink-0 mb-6 p-4 bg-gray-100/50 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:h?`Edit Template: ${h.name}`:"Buat Template Baru"}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[x.jsx("input",{type:"text",name:"name",placeholder:"Nama Template (Wajib)",value:l.name,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-4",required:!0}),x.jsx("input",{type:"text",name:"pair",placeholder:"Pair Default (e.g., XAU/USD)",value:l.pair,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsxs("select",{name:"type",value:l.type,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1",children:[x.jsx("option",{value:"long",children:"Long (Buy)"}),x.jsx("option",{value:"short",children:"Short (Sell)"})]}),x.jsx("input",{type:"number",step:"any",name:"lotSize",placeholder:"Lot Size Default",value:l.lotSize,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsx("input",{type:"number",step:"any",name:"pnl",placeholder:"P&L Default (0 jika kosong)",value:l.pnl,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsx("input",{type:"number",step:"any",name:"riskRewardRatio",placeholder:"R:R Ratio (e.g., 2)",value:l.riskRewardRatio,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-2"}),x.jsx("input",{type:"text",name:"setup",placeholder:"Setup/Strategi Default",value:l.setup,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-4"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[h&&x.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Batal Edit"}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[x.jsx(Qx,{size:18,className:"inline mr-1"})," ",h?"Update Template":"Simpan Template"]})]})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Template (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Buat template pertama Anda di atas."}):r.map(E=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center transition-shadow hover:shadow-md hover:shadow-gray-700/50",children:[x.jsxs("div",{className:"flex flex-col text-sm",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:E.name}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[E.pair||"-"," | ",E.type," | Lot: ",E.lotSize.toFixed(2)," | R:R: ",parseFloat(E.riskRewardRatio||0)>0?`${E.riskRewardRatio}R`:"N/A"]})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>y(E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-yellow-400 transition-colors",title:`Edit Template ${E.name}`,children:x.jsx(Xx,{size:16})}),x.jsx("button",{onClick:()=>a("template",E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Template ${E.name}`,children:x.jsx(ml,{size:16})})]})]},E.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},Aee=({activeProfileId:t,showToast:e,onClose:n,pairs:r,openDeleteModal:a})=>{const[o,l]=C.useState(""),c=async h=>{h.preventDefault();const d=o.trim().toUpperCase();if(!d){e("Nama Pair tidak boleh kosong.","error");return}if(r.some(m=>m.name?.toUpperCase()===d)){e(`Pair '${d}' sudah ada.`,"error"),l("");return}try{const m={id:crypto.randomUUID(),profileId:t,name:d,createdAt:new Date};await Fs("pairs",m),e(`Pair ${d} berhasil ditambahkan.`,"success"),l("")}catch(m){e("Gagal menambah Pair.","error"),console.error("Error adding pair:",m)}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(Zx,{size:24,className:"mr-2 text-yellow-400"})," Kelola Pair Trading"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:c,className:"flex-shrink-0 mb-6 flex space-x-2",children:[x.jsx("input",{type:"text",placeholder:"Nama Pair (e.g., EUR/USD)",value:o,onChange:h=>l(h.target.value.toUpperCase()),className:"flex-grow bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0,maxLength:10}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tambah"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Pair (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Tambahkan pair trading yang sering Anda gunakan di atas."}):r.map(h=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center transition-shadow hover:shadow-md hover:shadow-gray-700/50",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:h.name}),x.jsx("button",{onClick:()=>a("pair",h),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Pair ${h.name}`,children:x.jsx(ml,{size:16})})]},h.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},See=({onSaveTrade:t,editingTrade:e,onCancelEdit:n,pairs:r,templates:a,customFields:o,activeProfileId:l})=>{const c=C.useMemo(()=>{const O={tradeDate:yg(new Date),pair:"",type:"long",lotSize:"0.01",pnl:"0",setup:"",notes:"",screenshotBeforeId:null,screenshotAfterId:null,entryPrice:"",takeProfit:"",stopLoss:"",riskRewardRatio:"0",customData:{}};return o.forEach(D=>{O.customData[D.name]=""}),O},[o]),[h,d]=C.useState(c),[m,y]=C.useState(""),[b,_]=C.useState(null),[E,S]=C.useState(null),T=pg(h.screenshotBeforeId),I=pg(h.screenshotAfterId);C.useEffect(()=>{let O=e?{...c,...e,tradeDate:yg(e.tradeDate),pnl:String(e.pnl||"0"),lotSize:String(e.lotSize||"0.01"),riskRewardRatio:String(e.riskRewardRatio||"0"),entryPrice:String(e.entryPrice||""),takeProfit:String(e.takeProfit||""),stopLoss:String(e.stopLoss||"")}:c;O.customData=O.customData||{},o.forEach(D=>{O.customData.hasOwnProperty(D.name)||(O.customData[D.name]="")}),e&&e.pair&&!r.some(D=>D.name===e.pair)?d({...O,pair:e.pair}):r.length>0&&!O.pair?d({...O,pair:r[0].name}):d(O),y(""),_(null),S(null)},[e,r,c,o]),C.useEffect(()=>{const O=parseFloat(h.entryPrice),D=parseFloat(h.takeProfit),U=parseFloat(h.stopLoss),j=h.type;if(O>0&&D>0&&U>0){let z,V;if(j==="long"?(V=D-O,z=O-U):(V=O-D,z=U-O),z>0&&V>0){const pe=V/z;d(ye=>({...ye,riskRewardRatio:pe.toFixed(2)}))}else d(pe=>({...pe,riskRewardRatio:"0"}))}},[h.entryPrice,h.takeProfit,h.stopLoss,h.type]);const M=O=>{const{name:D,value:U}=O.target;d(j=>({...j,[D]:U})),y("")},L=O=>{const{name:D,value:U}=O.target;d(j=>({...j,customData:{...j.customData,[D]:U}}))},B=(O,D)=>{const U=O.target.files[0];U&&(D==="before"?(_(U),d(j=>({...j,screenshotBeforeId:null}))):(S(U),d(j=>({...j,screenshotAfterId:null}))))},F=O=>{const D=O.target.value;if(y(D),D){const U=a.find(j=>j.id===D);U&&d(j=>({...j,pair:U.pair||"",type:U.type||"long",lotSize:String(U.lotSize||"0.01"),pnl:String(U.pnl||"0"),setup:U.setup||"",riskRewardRatio:String(U.riskRewardRatio||"0"),notes:"",screenshotBeforeId:null,screenshotAfterId:null}))}else d(U=>({...c,tradeDate:U.tradeDate,pair:r.length>0?r[0].name:""}))},$=O=>{O.preventDefault();const D={...h,id:e?e.id:crypto.randomUUID(),profileId:l,pnl:parseFloat(h.pnl)||0,lotSize:parseFloat(h.lotSize)||0,riskRewardRatio:parseFloat(h.riskRewardRatio)||0,entryPrice:parseFloat(h.entryPrice)||0,takeProfit:parseFloat(h.takeProfit)||0,stopLoss:parseFloat(h.stopLoss)||0,tradeDate:new Date(h.tradeDate)};t(D,b,E)},R=({id:O,label:D,file:U,onChange:j,existingImageUrl:z})=>{const[V,pe]=C.useState(null);C.useEffect(()=>{if(!U){pe(null);return}const Z=URL.createObjectURL(U);return pe(Z),()=>URL.revokeObjectURL(Z)},[U]);const ye=V||z;return x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:D}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-24 h-24 flex-shrink-0",children:ye?x.jsxs("div",{className:"relative group w-full h-full",children:[x.jsx("img",{src:ye,alt:"Preview",className:"h-full w-full object-cover rounded-lg"}),x.jsx("label",{htmlFor:O,className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg cursor-pointer",children:x.jsx(Xx,{size:24,className:"text-white"})})]}):x.jsx("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:x.jsx(TI,{size:32,className:"text-gray-400 dark:text-gray-500"})})}),x.jsxs("label",{htmlFor:O,className:"cursor-pointer bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white py-2 px-4 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 text-sm w-full",children:[x.jsx(Nz,{size:16,className:"mr-2"}),x.jsx("span",{className:"truncate",children:U?U.name:"Upload Gambar"})]}),x.jsx("input",{id:O,type:"file",onChange:j,className:"hidden",accept:"image/*"})]})]})};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("form",{onSubmit:$,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e?"Edit Trade":"Tambah Trade Baru"}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Pilih Template (Opsional)"}),x.jsxs("select",{value:m,onChange:F,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"",children:"-- Tanpa Template --"}),a.map(O=>x.jsx("option",{value:O.id,children:O.name},O.id))]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.length>0?x.jsxs("select",{name:"pair",value:h.pair||"",onChange:M,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0,children:[x.jsx("option",{value:"",disabled:!0,children:"Pilih Pair"}),r.map(O=>x.jsx("option",{value:O.name,children:O.name},O.id)),e&&e.pair&&!r.some(O=>O.name===e.pair)&&x.jsxs("option",{value:e.pair,className:"text-gray-400 bg-gray-800",children:[e.pair," (Lama)"]})]}):x.jsx("input",{name:"pair",value:h.pair||"",onChange:M,placeholder:"Pair (e.g., BTC/USD)",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("input",{type:"datetime-local",name:"tradeDate",value:h.tradeDate||"",onChange:M,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsxs("select",{name:"type",value:h.type||"long",onChange:M,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"long",children:"Long"}),x.jsx("option",{value:"short",children:"Short"})]}),x.jsx("input",{type:"number",step:"any",name:"pnl",value:h.pnl||"",onChange:M,placeholder:"P&L (Hasil Trade)",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded font-bold",required:!0}),x.jsx("input",{type:"number",step:"any",name:"lotSize",value:h.lotSize||"",onChange:M,placeholder:"Lot Size",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("input",{name:"setup",value:h.setup||"",onChange:M,placeholder:"Setup/Strategi Trade",className:"md:col-span-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"entryPrice",value:h.entryPrice||"",onChange:M,placeholder:"Harga Entry",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"takeProfit",value:h.takeProfit||"",onChange:M,placeholder:"Harga Take Profit",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"stopLoss",value:h.stopLoss||"",onChange:M,placeholder:"Harga Stop Loss",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"R:R Ratio"}),x.jsx("input",{type:"number",step:"any",name:"riskRewardRatio",value:h.riskRewardRatio||"",onChange:M,placeholder:"R:R Ratio (Otomatis)",className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),o.map(O=>x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:O.name}),x.jsx("input",{name:O.name,value:h.customData?.[O.name]||"",onChange:L,placeholder:`Input untuk ${O.name}`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]},O.id)),x.jsx(R,{id:"ss-before",label:"Screenshot (Sebelum)",file:b,onChange:O=>B(O,"before"),existingImageUrl:T}),x.jsx(R,{id:"ss-after",label:"Screenshot (Sesudah)",file:E,onChange:O=>B(O,"after"),existingImageUrl:I}),x.jsx("textarea",{name:"notes",value:h.notes||"",onChange:M,placeholder:"Catatan...",rows:"3",className:"md:col-span-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Batal"}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[x.jsx(Qx,{size:18,className:"mr-2"}),e?"Update":"Simpan"]})]})]})})},kee=({activeProfileId:t,showToast:e,onClose:n,openDeleteModal:r,currency:a})=>{const[o,l]=C.useState([]),[c,h]=C.useState("deposit"),[d,m]=C.useState(""),[y,b]=C.useState(yg(new Date));C.useEffect(()=>{t&&wa("balance_transactions",t).then(E=>{l(E.sort((S,T)=>T.date-S.date))})},[t]);const _=async E=>{if(E.preventDefault(),!d||parseFloat(d)<=0){e("Jumlah harus lebih dari nol","error");return}try{const S={id:crypto.randomUUID(),profileId:t,type:c,amount:parseFloat(d),date:new Date(y)};await Fs("balance_transactions",S),e("Transaksi berhasil ditambahkan!","success"),m(""),b(yg(new Date)),wa("balance_transactions",t).then(T=>{l(T.sort((I,M)=>M.date-I.date))})}catch(S){e("Error menambah transaksi","error"),console.error(S)}};return x.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:[" ",x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[" ",x.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex-shrink-0",children:"Kelola Saldo"})," ",x.jsxs("form",{onSubmit:_,className:"flex-shrink-0 mb-6",children:[" ",x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[" ",x.jsxs("select",{value:c,onChange:E=>h(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"deposit",children:"Deposit"}),x.jsx("option",{value:"withdrawal",children:"Withdrawal"})]})," ",x.jsx("input",{type:"number",placeholder:"Jumlah",value:d,onChange:E=>m(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0})," ",x.jsx("input",{type:"datetime-local",value:y,onChange:E=>b(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0})," "]})," ",x.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:"Tambah Transaksi"})," "]})," ",x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:"Riwayat"})," ",x.jsxs("div",{className:"overflow-y-auto flex-grow",children:[" ",x.jsxs("ul",{className:"space-y-2",children:[" ",o.map(E=>x.jsxs("li",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[" ",x.jsxs("div",{className:"flex items-center",children:[" ",E.type==="deposit"?x.jsx(_I,{className:"text-green-500 dark:text-green-400 mr-3"}):x.jsx(xI,{className:"text-red-500 dark:text-red-400 mr-3"})," ",x.jsxs("div",{children:[" ",x.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:[E.type,": ",tn(E.amount,a)]})," ",x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:cp(E.date)})," "]})," "]})," ",x.jsx("button",{onClick:()=>r("transaction",E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500",children:x.jsx(ml,{size:16})})," "]},E.id))," "]})," "]})," ",x.jsxs("div",{className:"flex justify-end mt-6 flex-shrink-0",children:[" ",x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Tutup"})," "]})," "]})," "]})},tj=({trades:t,onEdit:e,onDelete:n,onView:r,title:a="Riwayat Trade",requestSort:o,sortConfig:l,customFields:c,currency:h})=>{const d=b=>l&&l.key===b?l.direction==="ascending"?"▲":"▼":null,m=b=>{o&&o(b)},y=(b,_=!1)=>{let E="p-3";return _&&(E+=" text-right"),o&&(E+=" cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"),{scope:"col",className:E,onClick:()=>m(b)}};return x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg animate-fadeIn overflow-hidden mt-6",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white p-4",children:a}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[x.jsx("thead",{className:"text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-700",children:x.jsxs("tr",{children:[x.jsxs("th",{...y("tradeDate"),children:["Tanggal ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("tradeDate")})]}),x.jsxs("th",{...y("pair"),children:["Pair ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("pair")})]}),x.jsxs("th",{...y("type"),children:["Tipe ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("type")})]}),x.jsxs("th",{...y("lotSize",!0),children:["Lot ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("lotSize")})]}),x.jsxs("th",{...y("pnl",!0),children:["P&L ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("pnl")})]}),x.jsxs("th",{...y("riskRewardRatio",!0),children:["R:R ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("riskRewardRatio")})]}),x.jsxs("th",{...y("setup"),children:["Setup ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("setup")})]}),c.map(b=>x.jsxs("th",{...y(b.name),children:[b.name," ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d(b.name)})]},b.id)),x.jsx("th",{scope:"col",className:"p-3 text-center",children:"Aksi"})]})}),x.jsx("tbody",{children:t.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:8+c.length,className:"text-center p-6 text-gray-500",children:"Tidak ada trade untuk ditampilkan."})}):t.map(b=>x.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[x.jsx("td",{className:"p-3",children:cp(b.tradeDate)}),x.jsx("td",{className:"p-3 font-medium text-gray-900 dark:text-white",children:b.pair}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${b.type==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:b.type})}),x.jsx("td",{className:"p-3 text-right",children:b.lotSize.toFixed(2)}),x.jsx("td",{className:`p-3 text-right font-bold ${b.pnl>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:tn(b.pnl,h)}),x.jsx("td",{className:"p-3 text-right",children:b.riskRewardRatio>0?`${b.riskRewardRatio.toFixed(2)}R`:"-"}),x.jsx("td",{className:"p-3",children:b.setup||"-"}),c.map(_=>x.jsx("td",{className:"p-3",children:b.customData?.[_.name]||"-"},_.id)),x.jsx("td",{className:"p-3 text-center",children:x.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[x.jsx("button",{onClick:()=>r(b),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400",title:"Lihat Rincian",children:x.jsx(Lf,{size:16})}),x.jsx("button",{onClick:()=>e(b),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-yellow-500 dark:hover:text-yellow-400",title:"Edit Trade",children:x.jsx(Xx,{size:16})}),x.jsx("button",{onClick:()=>n("trade",b),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-red-500",title:"Delete Trade",children:x.jsx(ml,{size:16})})]})})]},b.id))})]})})]})},Cee=({trades:t,onEdit:e,onDelete:n,onView:r,customFields:a,currency:o})=>{const[l,c]=C.useState(new Date),[h,d]=C.useState(null),m=C.useMemo(()=>{const S=new Map;return t.forEach(T=>{const I=Ns(T.tradeDate);S.has(I)||S.set(I,{pnl:0,trades:[],wins:0,losses:0});const M=S.get(I);M.pnl+=T.pnl,M.trades.push(T),T.pnl>0?M.wins++:T.pnl<0&&M.losses++}),S},[t]),y=S=>{const T=Ns(S);m.has(T)&&d(S)},b=()=>{const S=l.getFullYear(),T=l.getMonth(),I=new Date().getFullYear(),M=I-5,L=I+5,B=Array.from({length:L-M+1},($,R)=>M+R),F=[{value:0,label:"Januari"},{value:1,label:"Februari"},{value:2,label:"Maret"},{value:3,label:"April"},{value:4,label:"Mei"},{value:5,label:"Juni"},{value:6,label:"Juli"},{value:7,label:"Agustus"},{value:8,label:"September"},{value:9,label:"Oktober"},{value:10,label:"November"},{value:11,label:"Desember"}];return x.jsxs("div",{className:"flex justify-between items-center p-4",children:[x.jsx("button",{onClick:()=>c($=>new Date($.getFullYear(),$.getMonth()-1,1)),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600",children:x.jsx(wz,{})}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("select",{value:T,onChange:$=>c(R=>new Date(R.getFullYear(),parseInt($.target.value),1)),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white font-semibold py-2 px-3 rounded-lg appearance-none cursor-pointer",children:F.map($=>x.jsx("option",{value:$.value,children:$.label},$.value))}),x.jsx("select",{value:S,onChange:$=>c(R=>new Date(parseInt($.target.value),R.getMonth(),1)),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white font-semibold py-2 px-3 rounded-lg appearance-none cursor-pointer",children:B.map($=>x.jsx("option",{value:$,children:$},$))})]}),x.jsx("button",{onClick:()=>c($=>new Date($.getFullYear(),$.getMonth()+1,1)),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600",children:x.jsx(Tz,{})})]})},_=()=>{const S=new Date(l.getFullYear(),l.getMonth(),1),T=new Date(S);T.setDate(T.getDate()-S.getDay());const I=[];let M=new Date(T);for(let L=0;L<6;L++){const B=[];let F=0,$=0;for(let R=0;R<7;R++){const O=new Date(M),D=Ns(O),U=m.get(D);U&&(F+=U.pnl,$++);const j=U?U.wins/(U.wins+U.losses)*100:0;B.push(x.jsxs("div",{className:$o("relative p-2 h-28 md:h-32 border-t border-l border-gray-200 dark:border-gray-700 flex flex-col",M.getMonth()!==l.getMonth()?"text-gray-500 dark:text-gray-600 bg-gray-50 dark:bg-gray-900/50":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800",U?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700":"",Ns(h)===D?"bg-blue-600/20 dark:bg-blue-600/50 ring-2 ring-blue-400":""),onClick:()=>y(O),children:[x.jsx("span",{className:$o("font-medium",Ns(new Date)===D?"text-blue-500 dark:text-blue-400 font-bold":""),children:O.getDate()}),U&&x.jsxs("div",{className:"mt-1 text-xs flex-grow flex flex-col justify-end",children:[x.jsx("p",{className:$o("font-bold",U.pnl>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:tn(U.pnl,o)}),x.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[U.trades.length," trade",U.trades.length>1?"s":""]}),x.jsx("p",{className:$o(U.wins>U.losses?"text-green-500":"text-red-500"),children:isNaN(j)?"N/A":`${j.toFixed(0)}% win`})]})]},M)),M.setDate(M.getDate()+1)}I.push(x.jsxs("div",{className:"grid grid-cols-8",children:[B,x.jsx("div",{className:"p-2 h-28 md:h-32 border-t border-l border-r border-gray-200 dark:border-gray-700 flex flex-col justify-center items-center text-center bg-white dark:bg-gray-800",children:$>0?x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Week ",L+1]}),x.jsx("p",{className:$o("font-bold text-sm",F>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:tn(F,o)}),x.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:[$," hari"]})]}):x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-600",children:["Week ",L+1]})})]},`week-${L}`))}return x.jsx("div",{children:I})},E=h?(m.get(Ns(h))?.trades||[]).sort((S,T)=>(T.tradeDate?.getTime()||0)-(S.tradeDate?.getTime()||0)):[];return x.jsxs("div",{className:"animate-fadeIn",children:[x.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[b(),x.jsxs("div",{className:"grid grid-cols-8 text-center font-semibold text-gray-500 dark:text-gray-400 text-xs px-2 pb-2",children:[["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(S=>x.jsx("div",{children:S},S)),x.jsx("div",{className:"text-blue-500 dark:text-blue-400",children:"Mingguan"})]}),_()]}),h&&x.jsx(tj,{trades:E,onEdit:e,onView:r,onDelete:n,title:`Trade untuk ${h.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,customFields:a,currency:o})]})},Oee=({profiles:t,activeProfile:e,onSelectProfile:n,onManageProfiles:r})=>{const[a,o]=C.useState(!1),l=c=>{n(c),o(!1)};return e?x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>o(!a),className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 w-full text-left",children:[x.jsx(SI,{size:20,className:"text-blue-500 dark:text-blue-400"}),x.jsxs("div",{className:"flex-grow",children:[x.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate",children:e.name}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.description||"Tidak ada deskripsi"})]}),x.jsx(xz,{size:16,className:`transition-transform text-gray-600 dark:text-gray-400 ${a?"rotate-180":""}`})]}),a&&x.jsx("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-20",children:x.jsxs("ul",{children:[t.map(c=>x.jsx("li",{children:x.jsxs("a",{href:"#",onClick:()=>l(c),className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[c.name," ",x.jsxs("span",{className:"text-xs text-gray-500",children:["(",c.currency,")"]})]})},c.id)),x.jsx("li",{children:x.jsx("button",{onClick:()=>{r(),o(!1)},className:"w-full text-left px-4 py-2 text-sm text-blue-500 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 border-t border-gray-200 dark:border-gray-700",children:"Tambah/Kelola Akun..."})})]})})]}):x.jsx("div",{className:"text-gray-900 dark:text-white",children:"Memuat profil..."})};function Nee(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState([]),[h,d]=C.useState([]),[m,y]=C.useState(0),[b,_]=C.useState(null),[E,S]=C.useState(null),[T,I]=C.useState(!1),[M,L]=C.useState([]),[B,F]=C.useState(null),[$,R]=C.useState(!0),[O,D]=C.useState(""),[U,j]=C.useState(()=>localStorage.getItem("appTheme")||"dark"),[z,V]=C.useState({message:"",type:""}),[pe,ye]=C.useState(!1),[Z,ue]=C.useState(!1),[me,Ee]=C.useState(null),[H,ie]=C.useState(null),[ae,he]=C.useState(!1),[we,Ne]=C.useState(!1),[Ie,$t]=C.useState(!1),[it,de]=C.useState(!1),[Be,He]=C.useState(!1),[ce,Ot]=C.useState(!1),[Ze,Ft]=C.useState(!1),[Yt,xt]=C.useState(!1),[ci,Vt]=C.useState(null),[_t,yr]=C.useState("dashboard"),[Jn,ta]=C.useState("all"),[er,na]=C.useState({key:"tradeDate",direction:"descending"}),Lr=C.useMemo(()=>[{key:"all",label:"Semua"},{key:"daily",label:"Harian"},{key:"weekly",label:"Mingguan"},{key:"monthly",label:"Bulanan"},{key:"yearly",label:"Tahunan"}],[]);C.useEffect(()=>{U==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[U]),C.useEffect(()=>{U==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("appTheme",U)},[U]);const cn=()=>{j(ge=>ge==="dark"?"light":"dark")},_n=C.useCallback(async()=>{const _e=(await uee("profiles")).sort((Se,ze)=>Se.createdAt-ze.createdAt);if(L(_e),B&&!_e.some(Se=>Se.id===B.id)){const Se=_e.length>0?_e[0]:null;F(Se),Se?localStorage.setItem("activeProfileId",Se.id):localStorage.removeItem("activeProfileId")}else if(!B&&_e.length>0){const Se=localStorage.getItem("activeProfileId"),ze=_e.find(je=>je.id===Se);F(ze||_e[0])}},[B]),gt=C.useCallback(async ge=>{if(!ge){e([]),r([]),o([]),c([]),d([]),_(null),y(0);return}const[_e,Se,ze,je,ke,Ce]=await Promise.all([wa("trades",ge),wa("pairs",ge),wa("templates",ge),wa("custom_fields",ge),wa("balance_transactions",ge),ZM("goals",ge)]);e(_e),r(Se.sort((Et,fn)=>Et.createdAt-fn.createdAt)),o(ze.sort((Et,fn)=>Et.name.localeCompare(fn.name))),c(je.sort((Et,fn)=>Et.createdAt-fn.createdAt)),d(ke.sort((Et,fn)=>fn.date-Et.date)),_(Ce);const lt=ke.filter(Et=>Et.type==="deposit").reduce((Et,fn)=>Et+fn.amount,0),wn=ke.filter(Et=>Et.type==="withdrawal").reduce((Et,fn)=>Et+fn.amount,0);y(lt-wn)},[]);C.useEffect(()=>{QM().then(()=>{console.log("Database initialized")});const ge=SL(Jd,_e=>{S(_e),I(!0),_e?_n().then(()=>R(!1)):(F(null),L([]),gt(null),R(!1))});return()=>ge()},[_n,gt]),C.useEffect(()=>{B?gt(B.id):!$&&E&&gt(null)},[B,$,E,gt]);const Zu=ge=>{F(ge),localStorage.setItem("activeProfileId",ge.id)},vl=async(ge,_e)=>{try{const ze=(await EL(Jd,ge,_e)).user,je=await cee(),ke=BU(aee,"device_auths",ze.uid),Ce=await nz(ke);if(Ce.exists()){if(Ce.data().fingerprint!==je){D("Akun ini sudah terdaftar di perangkat lain. Silakan login di perangkat pertama Anda."),await gA(Jd);return}}else await iz(ke,{fingerprint:je,createdAt:new Date,email:ze.email,userAgent:navigator.userAgent});D("")}catch(Se){console.error("Login failed:",Se),Se.code==="auth/invalid-credential"||Se.code==="auth/wrong-password"||Se.code==="auth/user-not-found"?D("Email atau kata sandi yang Anda masukkan salah."):D("Terjadi kesalahan. Silakan coba lagi.")}},bl=async()=>{try{await gA(Jd),wt("Anda telah berhasil keluar.","success")}catch(ge){console.error("Logout failed:",ge),wt("Gagal keluar.","error")}},wt=(ge,_e)=>{V({message:ge,type:_e}),setTimeout(()=>V({message:"",type:""}),3e3)},Vr=ge=>{ie(ge)},vr=async(ge,_e,Se)=>{if(!B)return;const ze=!!me?.id,je={...ge};try{if(ze&&(_e&&me.screenshotBeforeId&&await zi("trade_images",me.screenshotBeforeId),Se&&me.screenshotAfterId&&await zi("trade_images",me.screenshotAfterId)),_e){const ke=crypto.randomUUID();await Fs("trade_images",{id:ke,file:_e}),je.screenshotBeforeId=ke}if(Se){const ke=crypto.randomUUID();await Fs("trade_images",{id:ke,file:Se}),je.screenshotAfterId=ke}ze?await T1("trades",{...je,updatedAt:new Date}):await Fs("trades",{...je,createdAt:new Date,updatedAt:new Date}),wt(ze?"Trade berhasil diupdate!":"Trade berhasil ditambah!","success"),Ee(null),ue(!1),gt(B.id)}catch(ke){console.error(ke),wt("Gagal menyimpan trade.","error")}},Wt=(ge,_e)=>{Vt({type:ge,data:_e}),xt(!0)},Ni=async()=>{if(!ci)return;const{type:ge,data:_e}=ci;try{if(ge==="profile"){await Qa(_e);return}if(ge==="trade"&&(_e.screenshotBeforeId&&await zi("trade_images",_e.screenshotBeforeId),_e.screenshotAfterId&&await zi("trade_images",_e.screenshotAfterId)),!B)return;let Se="",ze="";switch(ge){case"trade":Se="trades",ze="Trade";break;case"transaction":Se="balance_transactions",ze="Transaksi";break;case"pair":Se="pairs",ze="Pair";break;case"template":Se="templates",ze="Template";break;case"custom_field":Se="custom_fields",ze="Field";break;default:return}await zi(Se,_e.id),wt(`${ze} berhasil dihapus.`,"success"),gt(B.id)}catch(Se){console.error(`Error deleting ${ge}:`,Se),wt("Gagal menghapus item.","error")}finally{Vt(null),xt(!1)}},Qa=async ge=>{if(ge){wt(`Menghapus profil '${ge.name}'...`,"info");try{const _e=["trades","balance_transactions","pairs","templates","custom_fields","goals"],Se=await wa("trades",ge.id);for(const ze of Se)ze.screenshotBeforeId&&await zi("trade_images",ze.screenshotBeforeId),ze.screenshotAfterId&&await zi("trade_images",ze.screenshotAfterId);for(const ze of _e){const je=await wa(ze,ge.id);for(const ke of je)await zi(ze,ke.id)}await zi("profiles",ge.id),wt(`Profil '${ge.name}' dan semua datanya berhasil dihapus.`,"success"),_n()}catch(_e){console.error("Error deleting profile and its data:",_e),wt("Gagal menghapus profil secara lengkap.","error")}finally{Vt(null),xt(!1)}}},fi=C.useMemo(()=>B?((_e,Se)=>{if(Se==="all")return _e;const ze=new Date,je=new Date(ze);switch(Se){case"daily":je.setHours(0,0,0,0);break;case"weekly":const ke=ze.getDay();je.setDate(ze.getDate()-ke+(ke===0?-6:1)),je.setHours(0,0,0,0);break;case"monthly":je.setDate(1),je.setHours(0,0,0,0);break;case"yearly":je.setMonth(0,1),je.setHours(0,0,0,0);break}return _e.filter(ke=>(ke.tradeDate||new Date(0))>=je)})(t,Jn):[],[t,Jn,B]),Ii=ge=>{let _e="ascending";er.key===ge&&er.direction==="ascending"&&(_e="descending"),na({key:ge,direction:_e})},Za=C.useMemo(()=>{let ge=[...fi];return er.key!==null&&ge.sort((_e,Se)=>{const ze=l.some(lt=>lt.name===er.key),je=ze?_e.customData?.[er.key]??"":_e[er.key]??"",ke=ze?Se.customData?.[er.key]??"":Se[er.key]??"";let Ce=0;return je instanceof Date&&ke instanceof Date?Ce=je.getTime()-ke.getTime():typeof je=="number"&&typeof ke=="number"?Ce=je-ke:Ce=String(je).localeCompare(String(ke),void 0,{numeric:!0,sensitivity:"base"}),Ce===0?(Se.tradeDate?.getTime()||0)-(_e.tradeDate?.getTime()||0):er.direction==="ascending"?Ce:-Ce}),ge},[fi,er,l]),Nt=C.useMemo(()=>{const ge={netPnl:0,tradeWinRate:0,wins:0,losses:0,profitFactor:0,dayWinRate:0,profitableDays:0,losingDays:0,avgWinLossRatio:0,avgWin:0,avgLoss:0,grossProfit:0,grossLoss:0,avgRiskReward:0,totalLotUsed:0};if(!B)return ge;const _e=fi;if(_e.length===0)return ge;const Se=_e.filter(at=>parseFloat(at.pnl)>0),ze=_e.filter(at=>parseFloat(at.pnl)<0),je=Se.length,ke=ze.length,Ce=_e.length,lt=Se.reduce((at,hn)=>at+parseFloat(hn.pnl),0),wn=Math.abs(ze.reduce((at,hn)=>at+parseFloat(hn.pnl),0)),Et=lt-wn,fn=Ce>0?je/Ce*100:0,nn=wn>0?lt/wn:1/0,mi=je>0?lt/je:0,Ri=ke>0?-wn/ke:0,Ur=Ri!==0?Math.abs(mi/Ri):1/0,ur=new Map;_e.forEach(at=>{const hn=Ns(at.tradeDate);hn&&hn!=="N/A"&&ur.set(hn,(ur.get(hn)||0)+(parseFloat(at.pnl)||0))});let br=0,zr=0;ur.forEach(at=>{at>0?br++:at<0&&zr++});const Mt=br+zr,xl=Mt>0?br/Mt*100:0,gi=_e.map(at=>parseFloat(at.riskRewardRatio)||0).filter(at=>at>0),Br=gi.reduce((at,hn)=>at+hn,0),qr=gi.length>0?Br/gi.length:0,ra=_e.reduce((at,hn)=>at+(parseFloat(hn.lotSize)||0),0);return{netPnl:Et,tradeWinRate:fn,wins:je,losses:ke,profitFactor:nn,dayWinRate:xl,profitableDays:br,losingDays:zr,avgWinLossRatio:Ur,avgWin:mi,avgLoss:Ri,grossProfit:lt,grossLoss:wn,avgRiskReward:qr,totalLotUsed:ra}},[fi,B]),io=C.useMemo(()=>{if(!B)return{accountBalanceData:[]};const ge=t,_e=h,Se=[...ge.map(Ce=>({type:"trade",date:Ce.tradeDate,pnl:Ce.pnl})),..._e.map(Ce=>({type:Ce.type,date:Ce.date,amount:Ce.amount}))].sort((Ce,lt)=>(Ce.date?.getTime()||0)-(lt.date?.getTime()||0));let ze=0;const je=[{name:"Initial",balance:0}];return Se.forEach(Ce=>{Ce.type==="trade"?ze+=parseFloat(Ce.pnl)||0:Ce.type==="deposit"?ze+=parseFloat(Ce.amount)||0:Ce.type==="withdrawal"&&(ze-=parseFloat(Ce.amount)||0),je.push({name:Ns(Ce.date),balance:ze})}),{accountBalanceData:(()=>{if(Jn==="all")return je;const Ce=new Date;let lt=new Date(Ce);switch(Jn){case"daily":lt.setHours(0,0,0,0);break;case"weekly":const nn=Ce.getDay();lt.setDate(Ce.getDate()-nn+(nn===0?-6:1)),lt.setHours(0,0,0,0);break;case"monthly":lt.setDate(1),lt.setHours(0,0,0,0);break;case"yearly":lt.setMonth(0,1),lt.setHours(0,0,0,0);break}const wn=[...je].reverse().find(nn=>new Date(nn.name).getTime()<lt.getTime()),Et=wn?wn.balance:0,fn=je.filter(nn=>new Date(nn.name).getTime()>=lt.getTime());return[{name:"Start",balance:Et},...fn]})()}},[t,h,B,Jn]),hi=io.accountBalanceData.slice(-1)[0]?.balance||0;if(!T||$)return x.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center text-gray-900 dark:text-white",children:"Memuat Autentikasi..."});if(!E)return x.jsx(hee,{onLogin:vl,error:O,theme:U,onToggleTheme:cn});if(T&&!$&&M.length===0)return x.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center text-gray-900 dark:text-white",children:[Ze&&x.jsx(XC,{showToast:wt,onClose:()=>{Ft(!1),_n()},profiles:M,openDeleteModal:Wt}),x.jsx(WC,{message:z.message,type:z.type,onClose:()=>V({message:"",type:""})}),x.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Selamat Datang, ",E.email,"!"]}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Untuk memulai, silakan buat profil trading pertama Anda."}),x.jsxs("button",{onClick:()=>Ft(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[x.jsx(vb,{size:20,className:"mr-2"})," Buat Profil Trading"]})]});const di=()=>x.jsxs(x.Fragment,{children:[x.jsxs("a",{href:"https://www.instagram.com/deolukow_",target:"_blank",rel:"noopener noreferrer",className:"block mb-4 hover:opacity-80 transition-opacity",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Wz",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"Gold"})," Trading Jurnal"]}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"created by Deo Lukow (2025)"})]}),x.jsx("div",{className:"mb-4",children:x.jsx(Oee,{profiles:M,activeProfile:B,onSelectProfile:Zu,onManageProfiles:()=>{Ft(!0),ye(!1)}})}),x.jsxs("button",{onClick:()=>{Ee(null),ue(!0),ye(!1)},className:"w-full px-4 py-3 mb-6 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg flex items-center justify-center text-sm font-semibold",children:[x.jsx(vb,{size:18,className:"mr-2"})," Tambah Trade"]}),x.jsxs("nav",{className:"flex-grow",children:[x.jsxs("ul",{children:[x.jsx(G0,{icon:x.jsx(qz,{size:20}),text:"Dashboard",active:_t==="dashboard",onClick:()=>{yr("dashboard"),ye(!1)}}),x.jsx(G0,{icon:x.jsx(EI,{size:20}),text:"Kalender",active:_t==="calendar",onClick:()=>{yr("calendar"),ye(!1)}}),x.jsx(G0,{icon:x.jsx(Wx,{size:20}),text:"Galeri Trade",active:_t==="gallery",onClick:()=>{yr("gallery"),ta("all"),ye(!1)}})]}),x.jsxs("ul",{className:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[x.jsx("li",{className:"px-3 pb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Alat Bantu"}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Ot(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(Jx,{size:20,className:"text-yellow-500 dark:text-yellow-400"}),x.jsx("span",{className:"ml-3",children:"Tetapkan Target"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{He(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(wI,{size:20,className:"text-green-500 dark:text-green-400"}),x.jsx("span",{className:"ml-3",children:"Kalkulator Lot Size"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Ne(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(Zx,{size:20,className:"text-yellow-500 dark:text-yellow-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Pair"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{$t(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(kI,{size:20,className:"text-blue-500 dark:text-blue-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Template"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{de(!0),ye(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(AI,{size:20,className:"text-indigo-500 dark:text-indigo-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Field Tambahan"})]})})]})]}),x.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-2 truncate",title:E.email,children:["Masuk sebagai: ",E.email]}),x.jsxs("button",{onClick:bl,className:"w-full flex items-center p-3 rounded-lg text-red-500 dark:text-red-400 hover:bg-red-500/10 dark:hover:bg-red-500/20",children:[x.jsx(Gz,{size:20}),x.jsx("span",{className:"ml-3",children:"Keluar"})]})]})]});return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:`
                @keyframes slideIn {
                    from { transform: translateX(-100%); }
                    to { transform: translateX(0); }
                }
                .animate-slideIn {
                    animation: slideIn 0.3s ease-out forwards;
                }
            `}),x.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-300 font-sans",children:[x.jsx(WC,{message:z.message,type:z.type,onClose:()=>V({message:"",type:""})}),x.jsx(fee,{isOpen:Yt,onClose:()=>xt(!1),onConfirm:Ni,title:"Konfirmasi Hapus",message:`Yakin ingin menghapus ${ci?.type} ini? Aksi ini tidak dapat dibatalkan.`}),B&&Z&&x.jsx(See,{onSaveTrade:vr,editingTrade:me,onCancelEdit:()=>{Ee(null),ue(!1)},pairs:n,templates:a,customFields:l,activeProfileId:B.id}),H&&x.jsx(mee,{trade:H,onClose:()=>ie(null),customFields:l,currency:B?.currency}),B&&Be&&x.jsx(gee,{isOpen:Be,onClose:()=>He(!1),currentBalance:hi,currency:B?.currency}),B&&ce&&x.jsx(pee,{activeProfileId:B.id,showToast:wt,onClose:()=>{Ot(!1),gt(B.id)},currentGoal:b,currency:B?.currency}),B&&ae&&x.jsx(kee,{activeProfileId:B.id,showToast:wt,onClose:()=>{he(!1),gt(B.id)},openDeleteModal:Wt,currency:B?.currency}),B&&we&&x.jsx(Aee,{activeProfileId:B.id,showToast:wt,onClose:()=>{Ne(!1),gt(B.id)},pairs:n,openDeleteModal:Wt}),B&&Ie&&x.jsx(Tee,{activeProfileId:B.id,showToast:wt,onClose:()=>{$t(!1),gt(B.id)},templates:a,openDeleteModal:Wt}),B&&it&&x.jsx(yee,{activeProfileId:B.id,showToast:wt,onClose:()=>{de(!1),gt(B.id)},customFields:l,openDeleteModal:Wt}),Ze&&x.jsx(XC,{showToast:wt,onClose:()=>{Ft(!1),_n()},profiles:M,openDeleteModal:Wt}),pe&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-40 md:hidden",onClick:()=>ye(!1)}),x.jsx("aside",{className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 p-4 z-50 flex flex-col md:hidden animate-slideIn overflow-y-auto",children:x.jsx(di,{})})]}),x.jsx("aside",{className:"w-64 bg-white dark:bg-gray-800 p-4 flex-shrink-0 flex-col hidden md:flex overflow-y-auto",children:x.jsx(di,{})}),x.jsxs("main",{className:"flex-1 flex flex-col p-4 md:p-6 lg:p-8 overflow-y-auto",children:[x.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{className:"md:hidden text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",onClick:()=>ye(!0),children:x.jsx(Qz,{size:28})}),x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white truncate",children:_t==="dashboard"?"Dashboard":_t==="calendar"?"Kalender Trade":"Galeri Trade"})]}),x.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto justify-end",children:[x.jsx(ej,{theme:U,onToggle:cn}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg text-center border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Saldo Saat Ini"}),x.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:tn(hi,B?.currency)})]}),x.jsxs("button",{onClick:()=>he(!0),className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg flex items-center text-sm font-semibold",children:[x.jsx(h8,{size:16,className:"mr-2"})," Kelola Saldo"]})]})]}),x.jsxs("div",{className:"flex-grow",children:[_t==="dashboard"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex space-x-1 sm:space-x-2 p-1 bg-gray-200 dark:bg-gray-800 rounded-xl mb-6",children:Lr.map(ge=>x.jsx("button",{onClick:()=>ta(ge.key),className:$o("px-2 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors flex-grow",Jn===ge.key?"bg-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-700"),children:ge.label},ge.key))}),x.jsx(xee,{goal:b,currentPnl:Nt.netPnl,period:Jn,currency:B?.currency}),Jn==="daily"&&x.jsx(_ee,{goal:b,currentPnl:Nt.netPnl,currency:B?.currency}),x.jsx(wee,{stats:Nt,currency:B?.currency}),x.jsx(Eee,{data:io.accountBalanceData,period:Jn,currency:B?.currency,theme:U}),x.jsx(tj,{trades:Za,onView:Vr,onEdit:ge=>{Ee(ge),ue(!0)},onDelete:(ge,_e)=>Wt(ge,_e),title:`Riwayat Trade (${Lr.find(ge=>ge.key===Jn)?.label})`,requestSort:Ii,sortConfig:er,customFields:l,currency:B?.currency})]}),_t==="calendar"&&x.jsx(Cee,{trades:t,onView:Vr,onEdit:ge=>{Ee(ge),ue(!0)},onDelete:(ge,_e)=>Wt(ge,_e),customFields:l,currency:B?.currency}),_t==="gallery"&&x.jsx(vee,{trades:fi,activePeriod:Jn,setActivePeriod:ta,periods:Lr,onShowTradeDetail:Vr,currency:B?.currency})]})]})]})]})}z4.createRoot(document.getElementById("root")).render(x.jsx(C.StrictMode,{children:x.jsx(Nee,{})}));
