function B4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function so(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ov={exports:{}},ef={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function q4(){if(qT)return ef;qT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:o}}return ef.Fragment=e,ef.jsx=n,ef.jsxs=n,ef}var $T;function $4(){return $T||($T=1,ov.exports=q4()),ov.exports}var x=$4(),lv={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function F4(){if(FT)return He;FT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(H,ie,ae){this.props=H,this.context=ie,this.refs=S,this.updater=ae||_}T.prototype.isReactComponent={},T.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=T.prototype;function D(H,ie,ae){this.props=H,this.context=ie,this.refs=S,this.updater=ae||_}var L=D.prototype=new I;L.constructor=D,E(L,T.prototype),L.isPureReactComponent=!0;var B=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function R(H,ie,ae,he,Ee,Ie){return ae=Ie.ref,{$$typeof:t,type:H,key:ie,ref:ae!==void 0?ae:null,props:Ie}}function O(H,ie){return R(H.type,ie,void 0,void 0,void 0,H.props)}function P(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ae){return ie[ae]})}var j=/\/+/g;function z(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ie.toString(36)}function V(){}function pe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(V,V):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ve(H,ie,ae,he,Ee){var Ie=typeof H;(Ie==="undefined"||Ie==="boolean")&&(H=null);var Re=!1;if(H===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(H.$$typeof){case t:case e:Re=!0;break;case m:return Re=H._init,ve(Re(H._payload),ie,ae,he,Ee)}}if(Re)return Ee=Ee(H),Re=he===""?"."+z(H,0):he,B(Ee)?(ae="",Re!=null&&(ae=Re.replace(j,"$&/")+"/"),ve(Ee,ie,ae,"",function(me){return me})):Ee!=null&&(P(Ee)&&(Ee=O(Ee,ae+(Ee.key==null||H&&H.key===Ee.key?"":(""+Ee.key).replace(j,"$&/")+"/")+Re)),ie.push(Ee)),1;Re=0;var Ft=he===""?".":he+":";if(B(H))for(var ot=0;ot<H.length;ot++)he=H[ot],Ie=Ft+z(he,ot),Re+=ve(he,ie,ae,Ie,Ee);else if(ot=b(H),typeof ot=="function")for(H=ot.call(H),ot=0;!(he=H.next()).done;)he=he.value,Ie=Ft+z(he,ot++),Re+=ve(he,ie,ae,Ie,Ee);else if(Ie==="object"){if(typeof H.then=="function")return ve(pe(H),ie,ae,he,Ee);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Z(H,ie,ae){if(H==null)return H;var he=[],Ee=0;return ve(H,he,"","",function(Ie){return ie.call(ae,Ie,Ee++)}),he}function ue(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ae){(H._status===0||H._status===-1)&&(H._status=1,H._result=ae)},function(ae){(H._status===0||H._status===-1)&&(H._status=2,H._result=ae)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var ge=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Te(){}return He.Children={map:Z,forEach:function(H,ie,ae){Z(H,function(){ie.apply(this,arguments)},ae)},count:function(H){var ie=0;return Z(H,function(){ie++}),ie},toArray:function(H){return Z(H,function(ie){return ie})||[]},only:function(H){if(!P(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},He.Component=T,He.Fragment=n,He.Profiler=a,He.PureComponent=D,He.StrictMode=r,He.Suspense=h,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,He.__COMPILER_RUNTIME={__proto__:null,c:function(H){return q.H.useMemoCache(H)}},He.cache=function(H){return function(){return H.apply(null,arguments)}},He.cloneElement=function(H,ie,ae){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var he=E({},H.props),Ee=H.key,Ie=void 0;if(ie!=null)for(Re in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(Ee=""+ie.key),ie)!F.call(ie,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ie.ref===void 0||(he[Re]=ie[Re]);var Re=arguments.length-2;if(Re===1)he.children=ae;else if(1<Re){for(var Ft=Array(Re),ot=0;ot<Re;ot++)Ft[ot]=arguments[ot+2];he.children=Ft}return R(H.type,Ee,void 0,void 0,Ie,he)},He.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},He.createElement=function(H,ie,ae){var he,Ee={},Ie=null;if(ie!=null)for(he in ie.key!==void 0&&(Ie=""+ie.key),ie)F.call(ie,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=ie[he]);var Re=arguments.length-2;if(Re===1)Ee.children=ae;else if(1<Re){for(var Ft=Array(Re),ot=0;ot<Re;ot++)Ft[ot]=arguments[ot+2];Ee.children=Ft}if(H&&H.defaultProps)for(he in Re=H.defaultProps,Re)Ee[he]===void 0&&(Ee[he]=Re[he]);return R(H,Ie,void 0,void 0,null,Ee)},He.createRef=function(){return{current:null}},He.forwardRef=function(H){return{$$typeof:c,render:H}},He.isValidElement=P,He.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ue}},He.memo=function(H,ie){return{$$typeof:d,type:H,compare:ie===void 0?null:ie}},He.startTransition=function(H){var ie=q.T,ae={};q.T=ae;try{var he=H(),Ee=q.S;Ee!==null&&Ee(ae,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Te,ge)}catch(Ie){ge(Ie)}finally{q.T=ie}},He.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},He.use=function(H){return q.H.use(H)},He.useActionState=function(H,ie,ae){return q.H.useActionState(H,ie,ae)},He.useCallback=function(H,ie){return q.H.useCallback(H,ie)},He.useContext=function(H){return q.H.useContext(H)},He.useDebugValue=function(){},He.useDeferredValue=function(H,ie){return q.H.useDeferredValue(H,ie)},He.useEffect=function(H,ie,ae){var he=q.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(H,ie)},He.useId=function(){return q.H.useId()},He.useImperativeHandle=function(H,ie,ae){return q.H.useImperativeHandle(H,ie,ae)},He.useInsertionEffect=function(H,ie){return q.H.useInsertionEffect(H,ie)},He.useLayoutEffect=function(H,ie){return q.H.useLayoutEffect(H,ie)},He.useMemo=function(H,ie){return q.H.useMemo(H,ie)},He.useOptimistic=function(H,ie){return q.H.useOptimistic(H,ie)},He.useReducer=function(H,ie,ae){return q.H.useReducer(H,ie,ae)},He.useRef=function(H){return q.H.useRef(H)},He.useState=function(H){return q.H.useState(H)},He.useSyncExternalStore=function(H,ie,ae){return q.H.useSyncExternalStore(H,ie,ae)},He.useTransition=function(){return q.H.useTransition()},He.version="19.1.1",He}var HT;function ju(){return HT||(HT=1,lv.exports=F4()),lv.exports}var C=ju();const H4=so(C),K4=B4({__proto__:null,default:H4},[C]);var uv={exports:{}},tf={},cv={exports:{}},fv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function G4(){return KT||(KT=1,(function(t){function e(Z,ue){var ge=Z.length;Z.push(ue);e:for(;0<ge;){var Te=ge-1>>>1,H=Z[Te];if(0<a(H,ue))Z[Te]=ue,Z[ge]=H,ge=Te;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],ge=Z.pop();if(ge!==ue){Z[0]=ge;e:for(var Te=0,H=Z.length,ie=H>>>1;Te<ie;){var ae=2*(Te+1)-1,he=Z[ae],Ee=ae+1,Ie=Z[Ee];if(0>a(he,ge))Ee<H&&0>a(Ie,he)?(Z[Te]=Ie,Z[Ee]=ge,Te=Ee):(Z[Te]=he,Z[ae]=ge,Te=ae);else if(Ee<H&&0>a(Ie,ge))Z[Te]=Ie,Z[Ee]=ge,Te=Ee;else break e}}return ue}function a(Z,ue){var ge=Z.sortIndex-ue.sortIndex;return ge!==0?ge:Z.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],d=[],m=1,y=null,b=3,_=!1,E=!1,S=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function B(Z){for(var ue=n(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=Z)r(d),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=n(d)}}function q(Z){if(S=!1,B(Z),!E)if(n(h)!==null)E=!0,F||(F=!0,z());else{var ue=n(d);ue!==null&&ve(q,ue.startTime-Z)}}var F=!1,R=-1,O=5,P=-1;function U(){return T?!0:!(t.unstable_now()-P<O)}function j(){if(T=!1,F){var Z=t.unstable_now();P=Z;var ue=!0;try{e:{E=!1,S&&(S=!1,D(R),R=-1),_=!0;var ge=b;try{t:{for(B(Z),y=n(h);y!==null&&!(y.expirationTime>Z&&U());){var Te=y.callback;if(typeof Te=="function"){y.callback=null,b=y.priorityLevel;var H=Te(y.expirationTime<=Z);if(Z=t.unstable_now(),typeof H=="function"){y.callback=H,B(Z),ue=!0;break t}y===n(h)&&r(h),B(Z)}else r(h);y=n(h)}if(y!==null)ue=!0;else{var ie=n(d);ie!==null&&ve(q,ie.startTime-Z),ue=!1}}break e}finally{y=null,b=ge,_=!1}ue=void 0}}finally{ue?z():F=!1}}}var z;if(typeof L=="function")z=function(){L(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,pe=V.port2;V.port1.onmessage=j,z=function(){pe.postMessage(null)}}else z=function(){I(j,0)};function ve(Z,ue){R=I(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var ge=b;b=ue;try{return Z()}finally{b=ge}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ge=b;b=Z;try{return ue()}finally{b=ge}},t.unstable_scheduleCallback=function(Z,ue,ge){var Te=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Te+ge:Te):ge=Te,Z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ge+H,Z={id:m++,callback:ue,priorityLevel:Z,startTime:ge,expirationTime:H,sortIndex:-1},ge>Te?(Z.sortIndex=ge,e(d,Z),n(h)===null&&Z===n(d)&&(S?(D(R),R=-1):S=!0,ve(q,ge-Te))):(Z.sortIndex=H,e(h,Z),E||_||(E=!0,F||(F=!0,z()))),Z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Z){var ue=b;return function(){var ge=b;b=ue;try{return Z.apply(this,arguments)}finally{b=ge}}}})(fv)),fv}var GT;function Y4(){return GT||(GT=1,cv.exports=G4()),cv.exports}var hv={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function W4(){if(YT)return Xn;YT=1;var t=ju();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xn.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,m)},Xn.flushSync=function(h){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=d,r.p=m,r.d.f()}},Xn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Xn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Xn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):m==="script"&&r.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Xn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Xn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Xn.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Xn.requestFormReset=function(h){r.d.r(h)},Xn.unstable_batchedUpdates=function(h,d){return h(d)},Xn.useFormState=function(h,d,m){return l.H.useFormState(h,d,m)},Xn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Xn.version="19.1.1",Xn}var WT;function oO(){if(WT)return hv.exports;WT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hv.exports=W4(),hv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function X4(){if(XT)return tf;XT=1;var t=Y4(),e=ju(),n=oO();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,f=s;;){var p=u.return;if(p===null)break;var v=p.alternate;if(v===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===u)return c(p),i;if(v===f)return c(p),s;v=v.sibling}throw Error(r(188))}if(u.return!==f.return)u=p,f=v;else{for(var k=!1,N=p.child;N;){if(N===u){k=!0,u=p,f=v;break}if(N===f){k=!0,f=p,u=v;break}N=N.sibling}if(!k){for(N=v.child;N;){if(N===u){k=!0,u=v,f=p;break}if(N===f){k=!0,f=v,u=p;break}N=N.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case q:return"Suspense";case F:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case L:return(i.displayName||"Context")+".Provider";case D:return(i._context.displayName||"Context")+".Consumer";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:pe(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return pe(i(s))}catch{}}return null}var ve=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Te=[],H=-1;function ie(i){return{current:i}}function ae(i){0>H||(i.current=Te[H],Te[H]=null,H--)}function he(i,s){H++,Te[H]=i.current,i.current=s}var Ee=ie(null),Ie=ie(null),Re=ie(null),Ft=ie(null);function ot(i,s){switch(he(Re,s),he(Ie,i),he(Ee,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?pT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=pT(s),i=yT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(Ee),he(Ee,i)}function me(){ae(Ee),ae(Ie),ae(Re)}function Ue(i){i.memoizedState!==null&&he(Ft,i);var s=Ee.current,u=yT(s,i.type);s!==u&&(he(Ie,i),he(Ee,u))}function Fe(i){Ie.current===i&&(ae(Ee),ae(Ie)),Ft.current===i&&(ae(Ft),Wc._currentValue=ge)}var ce=Object.prototype.hasOwnProperty,Nt=t.unstable_scheduleCallback,Je=t.unstable_cancelCallback,Ht=t.unstable_shouldYield,Wt=t.unstable_requestPaint,_t=t.unstable_now,gi=t.unstable_getCurrentPriorityLevel,Vt=t.unstable_ImmediatePriority,wt=t.unstable_UserBlockingPriority,Tr=t.unstable_NormalPriority,ir=t.unstable_LowPriority,oa=t.unstable_IdlePriority,ar=t.log,la=t.unstable_setDisableYieldValue,sr=null,un=null;function Hn(i){if(typeof ar=="function"&&la(i),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(sr,i)}catch{}}var bn=Math.clz32?Math.clz32:El,ua=Math.log,In=Math.LN2;function El(i){return i>>>=0,i===0?32:31-(ua(i)/In|0)|0}var $r=256,Ri=4194304;function pt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Kn(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var p=0,v=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var N=f&134217727;return N!==0?(f=N&~v,f!==0?p=pt(f):(k&=N,k!==0?p=pt(k):u||(u=N&~i,u!==0&&(p=pt(u))))):(N=f&~v,N!==0?p=pt(N):k!==0?p=pt(k):u||(u=f&~i,u!==0&&(p=pt(u)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,u=s&-s,v>=u||v===32&&(u&4194048)!==0)?s:p}function Pi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function or(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var i=$r;return $r<<=1,($r&4194048)===0&&($r=256),i}function Di(){var i=Ri;return Ri<<=1,(Ri&62914560)===0&&(Ri=4194304),i}function Fr(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ut(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Tl(i,s,u,f,p,v){var k=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var N=i.entanglements,$=i.expirationTimes,X=i.hiddenUpdates;for(u=k&~u;0<u;){var ne=31-bn(u),se=1<<ne;N[ne]=0,$[ne]=-1;var Q=X[ne];if(Q!==null)for(X[ne]=null,ne=0;ne<Q.length;ne++){var J=Q[ne];J!==null&&(J.lane&=-536870913)}u&=~se}f!==0&&Hr(i,f,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(k&~s))}function Hr(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-bn(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function Mi(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-bn(u),p=1<<f;p&s|i[f]&s&&(i[f]|=s),u&=~p}}function ns(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function de(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:jT(i.type))}function we(i,s){var u=ue.p;try{return ue.p=i,s()}finally{ue.p=u}}var Ae=Math.random().toString(36).slice(2),ye="__reactFiber$"+Ae,Se="__reactProps$"+Ae,Be="__reactContainer$"+Ae,It="__reactEvents$"+Ae,xn="__reactListeners$"+Ae,Ye="__reactHandles$"+Ae,Xe="__reactResources$"+Ae,at="__reactMarker$"+Ae;function pi(i){delete i[ye],delete i[Se],delete i[It],delete i[xn],delete i[Ye]}function Gn(i){var s=i[ye];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Be]||u[ye]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=_T(i);i!==null;){if(u=i[ye])return u;i=_T(i)}return s}i=u,u=i.parentNode}return null}function cn(i){if(i=i[ye]||i[Be]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Rn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Kr(i){var s=i[Xe];return s||(s=i[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(i){i[at]=!0}var is=new Set,ji={};function Gr(i,s){pr(i,s),pr(i+"Capture",s)}function pr(i,s){for(ji[i]=s,i=0;i<s.length;i++)is.add(s[i])}var ca=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yr={},as={};function mo(i){return ce.call(as,i)?!0:ce.call(Yr,i)?!1:ca.test(i)?as[i]=!0:(Yr[i]=!0,!1)}function Ar(i,s,u){if(mo(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function yi(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function _n(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}var st,Mt;function fa(i){if(st===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);st=s&&s[1]||"",Mt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+i+Mt}var Al=!1;function Sl(i,s){if(!i||Al)return"";Al=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(i,[],se)}else{try{se.call()}catch(J){Q=J}i.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),k=v[0],N=v[1];if(k&&N){var $=k.split(`
`),X=N.split(`
`);for(p=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(f===$.length||p===X.length)for(f=$.length-1,p=X.length-1;1<=f&&0<=p&&$[f]!==X[p];)p--;for(;1<=f&&0<=p;f--,p--)if($[f]!==X[p]){if(f!==1||p!==1)do if(f--,p--,0>p||$[f]!==X[p]){var ne=`
`+$[f].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=f&&0<=p);break}}}finally{Al=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?fa(u):""}function gp(i){switch(i.tag){case 26:case 27:case 5:return fa(i.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 15:return Sl(i.type,!1);case 11:return Sl(i.type.render,!1);case 1:return Sl(i.type,!0);case 31:return fa("Activity");default:return""}}function vi(i){try{var s="";do s+=gp(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function zt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ss(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function go(i){var s=ss(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(k){f=""+k,v.call(this,k)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function os(i){i._valueTracker||(i._valueTracker=go(i))}function yt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=ss(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function ha(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var po=/[\n"\\]/g;function wn(i){return i.replace(po,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ec(i,s,u,f,p,v,k,N){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),s!=null?k==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+zt(s)):i.value!==""+zt(s)&&(i.value=""+zt(s)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),s!=null?nc(i,k,zt(s)):u!=null?nc(i,k,zt(u)):f!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+zt(N):i.removeAttribute("name")}function tc(i,s,u,f,p,v,k,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;u=u!=null?""+zt(u):"",s=s!=null?""+zt(s):u,N||s===i.value||(i.value=s),i.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=N?i.checked:!!f,i.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k)}function nc(i,s,u){s==="number"&&ha(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ls(i,s,u,f){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&f&&(i[u].defaultSelected=!0)}else{for(u=""+zt(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function bh(i,s,u){if(s!=null&&(s=""+zt(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+zt(u):""}function xh(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(ve(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=zt(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function Wr(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var da=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||da.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function ic(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&u[p]!==f&&rc(i,p,f)}else for(var v in s)s.hasOwnProperty(v)&&rc(i,v,s[v])}function kl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(i){return wh.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ac=null;function sc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var us=null,lr=null;function Eh(i){var s=cn(i);if(s&&(i=s.stateNode)){var u=i[Se]||null;e:switch(i=s.stateNode,s.type){case"input":if(ec(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+wn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var p=f[Se]||null;if(!p)throw Error(r(90));ec(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&yt(f)}break e;case"textarea":bh(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&ls(i,!!u.multiple,s,!1)}}}var yo=!1;function vo(i,s,u){if(yo)return i(s,u);yo=!0;try{var f=i(s);return f}finally{if(yo=!1,(us!==null||lr!==null)&&(hd(),us&&(s=us,i=lr,lr=us=null,Eh(s),i)))for(s=0;s<i.length;s++)Eh(i[s])}}function cs(i,s){var u=i.stateNode;if(u===null)return null;var f=u[Se]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(ur)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){ma=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{ma=!1}var Xr=null,St=null,Cl=null;function Th(){if(Cl)return Cl;var i,s=St,u=s.length,f,p="value"in Xr?Xr.value:Xr.textContent,v=p.length;for(i=0;i<u&&s[i]===p[i];i++);var k=u-i;for(f=1;f<=k&&s[u-f]===p[v-f];f++);return Cl=p.slice(i,1<f?1-f:void 0)}function bo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function xo(){return!0}function oc(){return!1}function fn(i){function s(u,f,p,v,k){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=v,this.target=k,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?xo:oc,this.isPropagationStopped=oc,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),s}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=fn(Yn),wo=m({},Yn,{view:0,detail:0}),Eo=fn(wo),Ol,To,Li,Ao=m({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?(Ol=i.screenX-Li.screenX,To=i.screenY-Li.screenY):To=Ol=0,Li=i),Ol)},movementY:function(i){return"movementY"in i?i.movementY:To}}),So=fn(Ao),pp=m({},Ao,{dataTransfer:0}),Ah=fn(pp),ko=m({},wo,{relatedTarget:0}),Nl=fn(ko),Sh=m({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=fn(Sh),uc=m({},Yn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kh=fn(uc),Il=m({},Yn,{data:0}),cc=fn(Il),Ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Oh[i])?!!s[i]:!1}function Rl(){return Nh}var Ih=m({},wo,{key:function(i){if(i.key){var s=Ch[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=bo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ga[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(i){return i.type==="keypress"?bo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pl=fn(Ih),cr=m({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=fn(cr),Rh=m({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),hs=fn(Rh),g=m({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=fn(g),A=m({},Ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),M=fn(A),W=m({},Yn,{newState:0,oldState:0}),ee=fn(W),fe=[9,13,27,32],qe=ur&&"CompositionEvent"in window,Rt=null;ur&&"documentMode"in document&&(Rt=document.documentMode);var ht=ur&&"TextEvent"in window&&!Rt,Xt=ur&&(!qe||Rt&&8<Rt&&11>=Rt),Sr=" ",Vi=!1;function xi(i,s){switch(i){case"keyup":return fe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _i(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wi=!1;function hc(i,s){switch(i){case"compositionend":return _i(s);case"keypress":return s.which!==32?null:(Vi=!0,Sr);case"textInput":return i=s.data,i===Sr&&Vi?null:i;default:return null}}function mj(i,s){if(wi)return i==="compositionend"||!qe&&xi(i,s)?(i=Th(),Cl=St=Xr=null,wi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xt&&s.locale!=="ko"?null:s.data;default:return null}}var gj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!gj[i.type]:s==="textarea"}function I1(i,s,u,f){us?lr?lr.push(f):lr=[f]:us=f,s=vd(s,"onChange"),0<s.length&&(u=new _o("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var dc=null,mc=null;function pj(i){fT(i,0)}function Ph(i){var s=Rn(i);if(yt(s))return i}function R1(i,s){if(i==="change")return s}var P1=!1;if(ur){var yp;if(ur){var vp="oninput"in document;if(!vp){var D1=document.createElement("div");D1.setAttribute("oninput","return;"),vp=typeof D1.oninput=="function"}yp=vp}else yp=!1;P1=yp&&(!document.documentMode||9<document.documentMode)}function M1(){dc&&(dc.detachEvent("onpropertychange",j1),mc=dc=null)}function j1(i){if(i.propertyName==="value"&&Ph(mc)){var s=[];I1(s,mc,i,sc(i)),vo(pj,s)}}function yj(i,s,u){i==="focusin"?(M1(),dc=s,mc=u,dc.attachEvent("onpropertychange",j1)):i==="focusout"&&M1()}function vj(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ph(mc)}function bj(i,s){if(i==="click")return Ph(s)}function xj(i,s){if(i==="input"||i==="change")return Ph(s)}function _j(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var kr=typeof Object.is=="function"?Object.is:_j;function gc(i,s){if(kr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!ce.call(s,p)||!kr(i[p],s[p]))return!1}return!0}function L1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function V1(i,s){var u=L1(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=L1(u)}}function U1(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?U1(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function z1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ha(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=ha(i.document)}return s}function bp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var wj=ur&&"documentMode"in document&&11>=document.documentMode,Dl=null,xp=null,pc=null,_p=!1;function B1(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_p||Dl==null||Dl!==ha(f)||(f=Dl,"selectionStart"in f&&bp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),pc&&gc(pc,f)||(pc=f,f=vd(xp,"onSelect"),0<f.length&&(s=new _o("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Dl)))}function Co(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Ml={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},wp={},q1={};ur&&(q1=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Oo(i){if(wp[i])return wp[i];if(!Ml[i])return i;var s=Ml[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in q1)return wp[i]=s[u];return i}var $1=Oo("animationend"),F1=Oo("animationiteration"),H1=Oo("animationstart"),Ej=Oo("transitionrun"),Tj=Oo("transitionstart"),Aj=Oo("transitioncancel"),K1=Oo("transitionend"),G1=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function Ei(i,s){G1.set(i,s),Gr(s,[i])}var Y1=new WeakMap;function Qr(i,s){if(typeof i=="object"&&i!==null){var u=Y1.get(i);return u!==void 0?u:(s={value:i,source:s,stack:vi(s)},Y1.set(i,s),s)}return{value:i,source:s,stack:vi(s)}}var Zr=[],jl=0,Tp=0;function Dh(){for(var i=jl,s=Tp=jl=0;s<i;){var u=Zr[s];Zr[s++]=null;var f=Zr[s];Zr[s++]=null;var p=Zr[s];Zr[s++]=null;var v=Zr[s];if(Zr[s++]=null,f!==null&&p!==null){var k=f.pending;k===null?p.next=p:(p.next=k.next,k.next=p),f.pending=p}v!==0&&W1(u,p,v)}}function Mh(i,s,u,f){Zr[jl++]=i,Zr[jl++]=s,Zr[jl++]=u,Zr[jl++]=f,Tp|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Ap(i,s,u,f){return Mh(i,s,u,f),jh(i)}function Ll(i,s){return Mh(i,null,null,s),jh(i)}function W1(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var p=!1,v=i.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&s!==null&&(p=31-bn(u),i=v.hiddenUpdates,f=i[p],f===null?i[p]=[s]:f.push(s),s.lane=u|536870912),v):null}function jh(i){if(50<Bc)throw Bc=0,Iy=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Vl={};function Sj(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(i,s,u,f){return new Sj(i,s,u,f)}function Sp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function pa(i,s){var u=i.alternate;return u===null?(u=Cr(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function X1(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Lh(i,s,u,f,p,v){var k=0;if(f=i,typeof i=="function")Sp(i)&&(k=1);else if(typeof i=="string")k=C4(i,u,Ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Cr(31,u,s,p),i.elementType=P,i.lanes=v,i;case E:return No(u.children,p,v,s);case S:k=8,p|=24;break;case T:return i=Cr(12,u,s,p|2),i.elementType=T,i.lanes=v,i;case q:return i=Cr(13,u,s,p),i.elementType=q,i.lanes=v,i;case F:return i=Cr(19,u,s,p),i.elementType=F,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case L:k=10;break e;case D:k=9;break e;case B:k=11;break e;case R:k=14;break e;case O:k=16,f=null;break e}k=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Cr(k,u,s,p),s.elementType=i,s.type=f,s.lanes=v,s}function No(i,s,u,f){return i=Cr(7,i,f,s),i.lanes=u,i}function kp(i,s,u){return i=Cr(6,i,null,s),i.lanes=u,i}function Cp(i,s,u){return s=Cr(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ul=[],zl=0,Vh=null,Uh=0,Jr=[],ei=0,Io=null,ya=1,va="";function Ro(i,s){Ul[zl++]=Uh,Ul[zl++]=Vh,Vh=i,Uh=s}function Q1(i,s,u){Jr[ei++]=ya,Jr[ei++]=va,Jr[ei++]=Io,Io=i;var f=ya;i=va;var p=32-bn(f)-1;f&=~(1<<p),u+=1;var v=32-bn(s)+p;if(30<v){var k=p-p%5;v=(f&(1<<k)-1).toString(32),f>>=k,p-=k,ya=1<<32-bn(s)+p|u<<p|f,va=v+i}else ya=1<<v|u<<p|f,va=i}function Op(i){i.return!==null&&(Ro(i,1),Q1(i,1,0))}function Np(i){for(;i===Vh;)Vh=Ul[--zl],Ul[zl]=null,Uh=Ul[--zl],Ul[zl]=null;for(;i===Io;)Io=Jr[--ei],Jr[ei]=null,va=Jr[--ei],Jr[ei]=null,ya=Jr[--ei],Jr[ei]=null}var fr=null,Kt=null,ct=!1,Po=null,Ui=!1,Ip=Error(r(519));function Do(i){var s=Error(r(418,""));throw bc(Qr(s,i)),Ip}function Z1(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[ye]=i,s[Se]=f,u){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(u=0;u<$c.length;u++)Ze($c[u],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),tc(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),os(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),xh(s,f.value,f.defaultValue,f.children),os(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||gT(s.textContent,u)?(f.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),f.onScroll!=null&&Ze("scroll",s),f.onScrollEnd!=null&&Ze("scrollend",s),f.onClick!=null&&(s.onclick=bd),s=!0):s=!1,s||Do(i)}function J1(i){for(fr=i.return;fr;)switch(fr.tag){case 5:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:fr=fr.return}}function yc(i){if(i!==fr)return!1;if(!ct)return J1(i),ct=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Gy(i.type,i.memoizedProps)),u=!u),u&&Kt&&Do(i),J1(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){Kt=Ai(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}Kt=null}}else s===27?(s=Kt,Cs(i.type)?(i=Qy,Qy=null,Kt=i):Kt=s):Kt=fr?Ai(i.stateNode.nextSibling):null;return!0}function vc(){Kt=fr=null,ct=!1}function ew(){var i=Po;return i!==null&&(br===null?br=i:br.push.apply(br,i),Po=null),i}function bc(i){Po===null?Po=[i]:Po.push(i)}var Rp=ie(null),Mo=null,ba=null;function ds(i,s,u){he(Rp,s._currentValue),s._currentValue=u}function xa(i){i._currentValue=Rp.current,ae(Rp)}function Pp(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function Dp(i,s,u,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var k=p.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=p;for(var $=0;$<s.length;$++)if(N.context===s[$]){v.lanes|=u,N=v.alternate,N!==null&&(N.lanes|=u),Pp(v.return,u,i),f||(k=null);break e}v=N.next}}else if(p.tag===18){if(k=p.return,k===null)throw Error(r(341));k.lanes|=u,v=k.alternate,v!==null&&(v.lanes|=u),Pp(k,u,i),k=null}else k=p.child;if(k!==null)k.return=p;else for(k=p;k!==null;){if(k===i){k=null;break}if(p=k.sibling,p!==null){p.return=k.return,k=p;break}k=k.return}p=k}}function xc(i,s,u,f){i=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var k=p.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var N=p.type;kr(p.pendingProps.value,k.value)||(i!==null?i.push(N):i=[N])}}else if(p===Ft.current){if(k=p.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Wc):i=[Wc])}p=p.return}i!==null&&Dp(s,i,u,f),s.flags|=262144}function zh(i){for(i=i.firstContext;i!==null;){if(!kr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function jo(i){Mo=i,ba=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wn(i){return tw(Mo,i)}function Bh(i,s){return Mo===null&&jo(i),tw(i,s)}function tw(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},ba===null){if(i===null)throw Error(r(308));ba=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ba=ba.next=s;return u}var kj=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},Cj=t.unstable_scheduleCallback,Oj=t.unstable_NormalPriority,hn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mp(){return{controller:new kj,data:new Map,refCount:0}}function _c(i){i.refCount--,i.refCount===0&&Cj(Oj,function(){i.controller.abort()})}var wc=null,jp=0,Bl=0,ql=null;function Nj(i,s){if(wc===null){var u=wc=[];jp=0,Bl=Vy(),ql={status:"pending",value:void 0,then:function(f){u.push(f)}}}return jp++,s.then(nw,nw),s}function nw(){if(--jp===0&&wc!==null){ql!==null&&(ql.status="fulfilled");var i=wc;wc=null,Bl=0,ql=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Ij(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<u.length;p++)(0,u[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),f}var rw=Z.S;Z.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Nj(i,s),rw!==null&&rw(i,s)};var Lo=ie(null);function Lp(){var i=Lo.current;return i!==null?i:kt.pooledCache}function qh(i,s){s===null?he(Lo,Lo.current):he(Lo,s.pool)}function iw(){var i=Lp();return i===null?null:{parent:hn._currentValue,pool:i}}var Ec=Error(r(460)),aw=Error(r(474)),$h=Error(r(542)),Vp={then:function(){}};function sw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fh(){}function ow(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Fh,Fh),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,uw(i),i;default:if(typeof s.status=="string")s.then(Fh,Fh);else{if(i=kt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,uw(i),i}throw Tc=s,Ec}}var Tc=null;function lw(){if(Tc===null)throw Error(r(459));var i=Tc;return Tc=null,i}function uw(i){if(i===Ec||i===$h)throw Error(r(483))}var ms=!1;function Up(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function gs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ps(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=jh(i),W1(i,null,u),s}return Mh(i,f,s,u),jh(i)}function Ac(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Mi(i,u)}}function Bp(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?p=v=k:v=v.next=k,u=u.next}while(u!==null);v===null?p=v=s:v=v.next=s}else p=v=s;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var qp=!1;function Sc(){if(qp){var i=ql;if(i!==null)throw i}}function kc(i,s,u,f){qp=!1;var p=i.updateQueue;ms=!1;var v=p.firstBaseUpdate,k=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var $=N,X=$.next;$.next=null,k===null?v=X:k.next=X,k=$;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==k&&(N===null?ne.firstBaseUpdate=X:N.next=X,ne.lastBaseUpdate=$))}if(v!==null){var se=p.baseState;k=0,ne=X=$=null,N=v;do{var Q=N.lane&-536870913,J=Q!==N.lane;if(J?(rt&Q)===Q:(f&Q)===Q){Q!==0&&Q===Bl&&(qp=!0),ne!==null&&(ne=ne.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ve=i,De=N;Q=s;var xt=u;switch(De.tag){case 1:if(Ve=De.payload,typeof Ve=="function"){se=Ve.call(xt,se,Q);break e}se=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=De.payload,Q=typeof Ve=="function"?Ve.call(xt,se,Q):Ve,Q==null)break e;se=m({},se,Q);break e;case 2:ms=!0}}Q=N.callback,Q!==null&&(i.flags|=64,J&&(i.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(X=ne=J,$=se):ne=ne.next=J,k|=Q;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;J=N,N=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);ne===null&&($=se),p.baseState=$,p.firstBaseUpdate=X,p.lastBaseUpdate=ne,v===null&&(p.shared.lanes=0),Ts|=k,i.lanes=k,i.memoizedState=se}}function cw(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function fw(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)cw(u[i],s)}var $l=ie(null),Hh=ie(0);function hw(i,s){i=ka,he(Hh,i),he($l,s),ka=i|s.baseLanes}function $p(){he(Hh,ka),he($l,$l.current)}function Fp(){ka=Hh.current,ae($l),ae(Hh)}var ys=0,Ke=null,vt=null,nn=null,Kh=!1,Fl=!1,Vo=!1,Gh=0,Cc=0,Hl=null,Rj=0;function Qt(){throw Error(r(321))}function Hp(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!kr(i[u],s[u]))return!1;return!0}function Kp(i,s,u,f,p,v){return ys=v,Ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?Ww:Xw,Vo=!1,v=u(f,p),Vo=!1,Fl&&(v=mw(s,u,f,p)),dw(i),v}function dw(i){Z.H=Jh;var s=vt!==null&&vt.next!==null;if(ys=0,nn=vt=Ke=null,Kh=!1,Cc=0,Hl=null,s)throw Error(r(300));i===null||En||(i=i.dependencies,i!==null&&zh(i)&&(En=!0))}function mw(i,s,u,f){Ke=i;var p=0;do{if(Fl&&(Hl=null),Cc=0,Fl=!1,25<=p)throw Error(r(301));if(p+=1,nn=vt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=Uj,v=s(u,f)}while(Fl);return v}function Pj(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Oc(s):s,i=i.useState()[0],(vt!==null?vt.memoizedState:null)!==i&&(Ke.flags|=1024),s}function Gp(){var i=Gh!==0;return Gh=0,i}function Yp(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Wp(i){if(Kh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Kh=!1}ys=0,nn=vt=Ke=null,Fl=!1,Cc=Gh=0,Hl=null}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ke.memoizedState=nn=i:nn=nn.next=i,nn}function rn(){if(vt===null){var i=Ke.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var s=nn===null?Ke.memoizedState:nn.next;if(s!==null)nn=s,vt=i;else{if(i===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},nn===null?Ke.memoizedState=nn=i:nn=nn.next=i}return nn}function Xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oc(i){var s=Cc;return Cc+=1,Hl===null&&(Hl=[]),i=ow(Hl,i,s),s=Ke,(nn===null?s.memoizedState:nn.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?Ww:Xw),i}function Yh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Oc(i);if(i.$$typeof===L)return Wn(i)}throw Error(r(438,String(i)))}function Qp(i){var s=null,u=Ke.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Ke.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Xp(),Ke.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=U;return s.index++,u}function _a(i,s){return typeof s=="function"?s(i):s}function Wh(i){var s=rn();return Zp(s,vt,i)}function Zp(i,s,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var p=i.baseQueue,v=f.pending;if(v!==null){if(p!==null){var k=p.next;p.next=v.next,v.next=k}s.baseQueue=p=v,f.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{s=p.next;var N=k=null,$=null,X=s,ne=!1;do{var se=X.lane&-536870913;if(se!==X.lane?(rt&se)===se:(ys&se)===se){var Q=X.revertLane;if(Q===0)$!==null&&($=$.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),se===Bl&&(ne=!0);else if((ys&Q)===Q){X=X.next,Q===Bl&&(ne=!0);continue}else se={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(N=$=se,k=v):$=$.next=se,Ke.lanes|=Q,Ts|=Q;se=X.action,Vo&&u(v,se),v=X.hasEagerState?X.eagerState:u(v,se)}else Q={lane:se,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(N=$=Q,k=v):$=$.next=Q,Ke.lanes|=se,Ts|=se;X=X.next}while(X!==null&&X!==s);if($===null?k=v:$.next=N,!kr(v,i.memoizedState)&&(En=!0,ne&&(u=ql,u!==null)))throw u;i.memoizedState=v,i.baseState=k,i.baseQueue=$,f.lastRenderedState=v}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Jp(i){var s=rn(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,p=u.pending,v=s.memoizedState;if(p!==null){u.pending=null;var k=p=p.next;do v=i(v,k.action),k=k.next;while(k!==p);kr(v,s.memoizedState)||(En=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),u.lastRenderedState=v}return[v,f]}function gw(i,s,u){var f=Ke,p=rn(),v=ct;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=s();var k=!kr((vt||p).memoizedState,u);k&&(p.memoizedState=u,En=!0),p=p.queue;var N=vw.bind(null,f,p,i);if(Nc(2048,8,N,[i]),p.getSnapshot!==s||k||nn!==null&&nn.memoizedState.tag&1){if(f.flags|=2048,Kl(9,Xh(),yw.bind(null,f,p,u,s),null),kt===null)throw Error(r(349));v||(ys&124)!==0||pw(f,s,u)}return u}function pw(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ke.updateQueue,s===null?(s=Xp(),Ke.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function yw(i,s,u,f){s.value=u,s.getSnapshot=f,bw(s)&&xw(i)}function vw(i,s,u){return u(function(){bw(s)&&xw(i)})}function bw(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!kr(i,u)}catch{return!0}}function xw(i){var s=Ll(i,2);s!==null&&Pr(s,i,2)}function ey(i){var s=yr();if(typeof i=="function"){var u=i;if(i=u(),Vo){Hn(!0);try{u()}finally{Hn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:i},s}function _w(i,s,u,f){return i.baseState=u,Zp(i,vt,typeof f=="function"?f:_a)}function Dj(i,s,u,f,p){if(Zh(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){v.listeners.push(k)}};Z.T!==null?u(!0):v.isTransition=!1,f(v),u=s.pending,u===null?(v.next=s.pending=v,ww(s,v)):(v.next=u.next,s.pending=u.next=v)}}function ww(i,s){var u=s.action,f=s.payload,p=i.state;if(s.isTransition){var v=Z.T,k={};Z.T=k;try{var N=u(p,f),$=Z.S;$!==null&&$(k,N),Ew(i,s,N)}catch(X){ty(i,s,X)}finally{Z.T=v}}else try{v=u(p,f),Ew(i,s,v)}catch(X){ty(i,s,X)}}function Ew(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Tw(i,s,f)},function(f){return ty(i,s,f)}):Tw(i,s,u)}function Tw(i,s,u){s.status="fulfilled",s.value=u,Aw(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,ww(i,u)))}function ty(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,Aw(s),s=s.next;while(s!==f)}i.action=null}function Aw(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Sw(i,s){return s}function kw(i,s){if(ct){var u=kt.formState;if(u!==null){e:{var f=Ke;if(ct){if(Kt){t:{for(var p=Kt,v=Ui;p.nodeType!==8;){if(!v){p=null;break t}if(p=Ai(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Kt=Ai(p.nextSibling),f=p.data==="F!";break e}}Do(f)}f=!1}f&&(s=u[0])}}return u=yr(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sw,lastRenderedState:s},u.queue=f,u=Kw.bind(null,Ke,f),f.dispatch=u,f=ey(!1),v=sy.bind(null,Ke,!1,f.queue),f=yr(),p={state:s,dispatch:null,action:i,pending:null},f.queue=p,u=Dj.bind(null,Ke,p,v,u),p.dispatch=u,f.memoizedState=i,[s,u,!1]}function Cw(i){var s=rn();return Ow(s,vt,i)}function Ow(i,s,u){if(s=Zp(i,s,Sw)[0],i=Wh(_a)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Oc(s)}catch(k){throw k===Ec?$h:k}else f=s;s=rn();var p=s.queue,v=p.dispatch;return u!==s.memoizedState&&(Ke.flags|=2048,Kl(9,Xh(),Mj.bind(null,p,u),null)),[f,v,i]}function Mj(i,s){i.action=s}function Nw(i){var s=rn(),u=vt;if(u!==null)return Ow(s,u,i);rn(),s=s.memoizedState,u=rn();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function Kl(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=Ke.updateQueue,s===null&&(s=Xp(),Ke.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function Xh(){return{destroy:void 0,resource:void 0}}function Iw(){return rn().memoizedState}function Qh(i,s,u,f){var p=yr();f=f===void 0?null:f,Ke.flags|=i,p.memoizedState=Kl(1|s,Xh(),u,f)}function Nc(i,s,u,f){var p=rn();f=f===void 0?null:f;var v=p.memoizedState.inst;vt!==null&&f!==null&&Hp(f,vt.memoizedState.deps)?p.memoizedState=Kl(s,v,u,f):(Ke.flags|=i,p.memoizedState=Kl(1|s,v,u,f))}function Rw(i,s){Qh(8390656,8,i,s)}function Pw(i,s){Nc(2048,8,i,s)}function Dw(i,s){return Nc(4,2,i,s)}function Mw(i,s){return Nc(4,4,i,s)}function jw(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Lw(i,s,u){u=u!=null?u.concat([i]):null,Nc(4,4,jw.bind(null,s,i),u)}function ny(){}function Vw(i,s){var u=rn();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&Hp(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function Uw(i,s){var u=rn();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&Hp(s,f[1]))return f[0];if(f=i(),Vo){Hn(!0);try{i()}finally{Hn(!1)}}return u.memoizedState=[f,s],f}function ry(i,s,u){return u===void 0||(ys&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=qE(),Ke.lanes|=i,Ts|=i,u)}function zw(i,s,u,f){return kr(u,s)?u:$l.current!==null?(i=ry(i,u,f),kr(i,s)||(En=!0),i):(ys&42)===0?(En=!0,i.memoizedState=u):(i=qE(),Ke.lanes|=i,Ts|=i,s)}function Bw(i,s,u,f,p){var v=ue.p;ue.p=v!==0&&8>v?v:8;var k=Z.T,N={};Z.T=N,sy(i,!1,s,u);try{var $=p(),X=Z.S;if(X!==null&&X(N,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ne=Ij($,f);Ic(i,s,ne,Rr(i))}else Ic(i,s,f,Rr(i))}catch(se){Ic(i,s,{then:function(){},status:"rejected",reason:se},Rr())}finally{ue.p=v,Z.T=k}}function jj(){}function iy(i,s,u,f){if(i.tag!==5)throw Error(r(476));var p=qw(i).queue;Bw(i,p,s,ge,u===null?jj:function(){return $w(i),u(f)})}function qw(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:ge},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function $w(i){var s=qw(i).next.queue;Ic(i,s,{},Rr())}function ay(){return Wn(Wc)}function Fw(){return rn().memoizedState}function Hw(){return rn().memoizedState}function Lj(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Rr();i=gs(u);var f=ps(s,i,u);f!==null&&(Pr(f,s,u),Ac(f,s,u)),s={cache:Mp()},i.payload=s;return}s=s.return}}function Vj(i,s,u){var f=Rr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Zh(i)?Gw(s,u):(u=Ap(i,s,u,f),u!==null&&(Pr(u,i,f),Yw(u,s,f)))}function Kw(i,s,u){var f=Rr();Ic(i,s,u,f)}function Ic(i,s,u,f){var p={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Zh(i))Gw(s,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var k=s.lastRenderedState,N=v(k,u);if(p.hasEagerState=!0,p.eagerState=N,kr(N,k))return Mh(i,s,p,0),kt===null&&Dh(),!1}catch{}finally{}if(u=Ap(i,s,p,f),u!==null)return Pr(u,i,f),Yw(u,s,f),!0}return!1}function sy(i,s,u,f){if(f={lane:2,revertLane:Vy(),action:f,hasEagerState:!1,eagerState:null,next:null},Zh(i)){if(s)throw Error(r(479))}else s=Ap(i,u,f,2),s!==null&&Pr(s,i,2)}function Zh(i){var s=i.alternate;return i===Ke||s!==null&&s===Ke}function Gw(i,s){Fl=Kh=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Yw(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Mi(i,u)}}var Jh={readContext:Wn,use:Yh,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},Ww={readContext:Wn,use:Yh,useCallback:function(i,s){return yr().memoizedState=[i,s===void 0?null:s],i},useContext:Wn,useEffect:Rw,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Qh(4194308,4,jw.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Qh(4194308,4,i,s)},useInsertionEffect:function(i,s){Qh(4,2,i,s)},useMemo:function(i,s){var u=yr();s=s===void 0?null:s;var f=i();if(Vo){Hn(!0);try{i()}finally{Hn(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=yr();if(u!==void 0){var p=u(s);if(Vo){Hn(!0);try{u(s)}finally{Hn(!1)}}}else p=s;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=Vj.bind(null,Ke,i),[f.memoizedState,i]},useRef:function(i){var s=yr();return i={current:i},s.memoizedState=i},useState:function(i){i=ey(i);var s=i.queue,u=Kw.bind(null,Ke,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:ny,useDeferredValue:function(i,s){var u=yr();return ry(u,i,s)},useTransition:function(){var i=ey(!1);return i=Bw.bind(null,Ke,i.queue,!0,!1),yr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=Ke,p=yr();if(ct){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),kt===null)throw Error(r(349));(rt&124)!==0||pw(f,s,u)}p.memoizedState=u;var v={value:u,getSnapshot:s};return p.queue=v,Rw(vw.bind(null,f,v,i),[i]),f.flags|=2048,Kl(9,Xh(),yw.bind(null,f,v,u,s),null),u},useId:function(){var i=yr(),s=kt.identifierPrefix;if(ct){var u=va,f=ya;u=(f&~(1<<32-bn(f)-1)).toString(32)+u,s=""+s+"R"+u,u=Gh++,0<u&&(s+="H"+u.toString(32)),s+=""}else u=Rj++,s=""+s+"r"+u.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:ay,useFormState:kw,useActionState:kw,useOptimistic:function(i){var s=yr();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=sy.bind(null,Ke,!0,u),u.dispatch=s,[i,s]},useMemoCache:Qp,useCacheRefresh:function(){return yr().memoizedState=Lj.bind(null,Ke)}},Xw={readContext:Wn,use:Yh,useCallback:Vw,useContext:Wn,useEffect:Pw,useImperativeHandle:Lw,useInsertionEffect:Dw,useLayoutEffect:Mw,useMemo:Uw,useReducer:Wh,useRef:Iw,useState:function(){return Wh(_a)},useDebugValue:ny,useDeferredValue:function(i,s){var u=rn();return zw(u,vt.memoizedState,i,s)},useTransition:function(){var i=Wh(_a)[0],s=rn().memoizedState;return[typeof i=="boolean"?i:Oc(i),s]},useSyncExternalStore:gw,useId:Fw,useHostTransitionStatus:ay,useFormState:Cw,useActionState:Cw,useOptimistic:function(i,s){var u=rn();return _w(u,vt,i,s)},useMemoCache:Qp,useCacheRefresh:Hw},Uj={readContext:Wn,use:Yh,useCallback:Vw,useContext:Wn,useEffect:Pw,useImperativeHandle:Lw,useInsertionEffect:Dw,useLayoutEffect:Mw,useMemo:Uw,useReducer:Jp,useRef:Iw,useState:function(){return Jp(_a)},useDebugValue:ny,useDeferredValue:function(i,s){var u=rn();return vt===null?ry(u,i,s):zw(u,vt.memoizedState,i,s)},useTransition:function(){var i=Jp(_a)[0],s=rn().memoizedState;return[typeof i=="boolean"?i:Oc(i),s]},useSyncExternalStore:gw,useId:Fw,useHostTransitionStatus:ay,useFormState:Nw,useActionState:Nw,useOptimistic:function(i,s){var u=rn();return vt!==null?_w(u,vt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Qp,useCacheRefresh:Hw},Gl=null,Rc=0;function ed(i){var s=Rc;return Rc+=1,Gl===null&&(Gl=[]),ow(Gl,i,s)}function Pc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function td(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Qw(i){var s=i._init;return s(i._payload)}function Zw(i){function s(G,K){if(i){var Y=G.deletions;Y===null?(G.deletions=[K],G.flags|=16):Y.push(K)}}function u(G,K){if(!i)return null;for(;K!==null;)s(G,K),K=K.sibling;return null}function f(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function p(G,K){return G=pa(G,K),G.index=0,G.sibling=null,G}function v(G,K,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<K?(G.flags|=67108866,K):Y):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function k(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function N(G,K,Y,re){return K===null||K.tag!==6?(K=kp(Y,G.mode,re),K.return=G,K):(K=p(K,Y),K.return=G,K)}function $(G,K,Y,re){var _e=Y.type;return _e===E?ne(G,K,Y.props.children,re,Y.key):K!==null&&(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&Qw(_e)===K.type)?(K=p(K,Y.props),Pc(K,Y),K.return=G,K):(K=Lh(Y.type,Y.key,Y.props,null,G.mode,re),Pc(K,Y),K.return=G,K)}function X(G,K,Y,re){return K===null||K.tag!==4||K.stateNode.containerInfo!==Y.containerInfo||K.stateNode.implementation!==Y.implementation?(K=Cp(Y,G.mode,re),K.return=G,K):(K=p(K,Y.children||[]),K.return=G,K)}function ne(G,K,Y,re,_e){return K===null||K.tag!==7?(K=No(Y,G.mode,re,_e),K.return=G,K):(K=p(K,Y),K.return=G,K)}function se(G,K,Y){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=kp(""+K,G.mode,Y),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return Y=Lh(K.type,K.key,K.props,null,G.mode,Y),Pc(Y,K),Y.return=G,Y;case _:return K=Cp(K,G.mode,Y),K.return=G,K;case O:var re=K._init;return K=re(K._payload),se(G,K,Y)}if(ve(K)||z(K))return K=No(K,G.mode,Y,null),K.return=G,K;if(typeof K.then=="function")return se(G,ed(K),Y);if(K.$$typeof===L)return se(G,Bh(G,K),Y);td(G,K)}return null}function Q(G,K,Y,re){var _e=K!==null?K.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return _e!==null?null:N(G,K,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===_e?$(G,K,Y,re):null;case _:return Y.key===_e?X(G,K,Y,re):null;case O:return _e=Y._init,Y=_e(Y._payload),Q(G,K,Y,re)}if(ve(Y)||z(Y))return _e!==null?null:ne(G,K,Y,re,null);if(typeof Y.then=="function")return Q(G,K,ed(Y),re);if(Y.$$typeof===L)return Q(G,K,Bh(G,Y),re);td(G,Y)}return null}function J(G,K,Y,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Y)||null,N(K,G,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return G=G.get(re.key===null?Y:re.key)||null,$(K,G,re,_e);case _:return G=G.get(re.key===null?Y:re.key)||null,X(K,G,re,_e);case O:var We=re._init;return re=We(re._payload),J(G,K,Y,re,_e)}if(ve(re)||z(re))return G=G.get(Y)||null,ne(K,G,re,_e,null);if(typeof re.then=="function")return J(G,K,Y,ed(re),_e);if(re.$$typeof===L)return J(G,K,Y,Bh(K,re),_e);td(K,re)}return null}function Ve(G,K,Y,re){for(var _e=null,We=null,ke=K,Me=K=0,An=null;ke!==null&&Me<Y.length;Me++){ke.index>Me?(An=ke,ke=null):An=ke.sibling;var lt=Q(G,ke,Y[Me],re);if(lt===null){ke===null&&(ke=An);break}i&&ke&&lt.alternate===null&&s(G,ke),K=v(lt,K,Me),We===null?_e=lt:We.sibling=lt,We=lt,ke=An}if(Me===Y.length)return u(G,ke),ct&&Ro(G,Me),_e;if(ke===null){for(;Me<Y.length;Me++)ke=se(G,Y[Me],re),ke!==null&&(K=v(ke,K,Me),We===null?_e=ke:We.sibling=ke,We=ke);return ct&&Ro(G,Me),_e}for(ke=f(ke);Me<Y.length;Me++)An=J(ke,G,Me,Y[Me],re),An!==null&&(i&&An.alternate!==null&&ke.delete(An.key===null?Me:An.key),K=v(An,K,Me),We===null?_e=An:We.sibling=An,We=An);return i&&ke.forEach(function(Ps){return s(G,Ps)}),ct&&Ro(G,Me),_e}function De(G,K,Y,re){if(Y==null)throw Error(r(151));for(var _e=null,We=null,ke=K,Me=K=0,An=null,lt=Y.next();ke!==null&&!lt.done;Me++,lt=Y.next()){ke.index>Me?(An=ke,ke=null):An=ke.sibling;var Ps=Q(G,ke,lt.value,re);if(Ps===null){ke===null&&(ke=An);break}i&&ke&&Ps.alternate===null&&s(G,ke),K=v(Ps,K,Me),We===null?_e=Ps:We.sibling=Ps,We=Ps,ke=An}if(lt.done)return u(G,ke),ct&&Ro(G,Me),_e;if(ke===null){for(;!lt.done;Me++,lt=Y.next())lt=se(G,lt.value,re),lt!==null&&(K=v(lt,K,Me),We===null?_e=lt:We.sibling=lt,We=lt);return ct&&Ro(G,Me),_e}for(ke=f(ke);!lt.done;Me++,lt=Y.next())lt=J(ke,G,Me,lt.value,re),lt!==null&&(i&&lt.alternate!==null&&ke.delete(lt.key===null?Me:lt.key),K=v(lt,K,Me),We===null?_e=lt:We.sibling=lt,We=lt);return i&&ke.forEach(function(z4){return s(G,z4)}),ct&&Ro(G,Me),_e}function xt(G,K,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===E&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:e:{for(var _e=Y.key;K!==null;){if(K.key===_e){if(_e=Y.type,_e===E){if(K.tag===7){u(G,K.sibling),re=p(K,Y.props.children),re.return=G,G=re;break e}}else if(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&Qw(_e)===K.type){u(G,K.sibling),re=p(K,Y.props),Pc(re,Y),re.return=G,G=re;break e}u(G,K);break}else s(G,K);K=K.sibling}Y.type===E?(re=No(Y.props.children,G.mode,re,Y.key),re.return=G,G=re):(re=Lh(Y.type,Y.key,Y.props,null,G.mode,re),Pc(re,Y),re.return=G,G=re)}return k(G);case _:e:{for(_e=Y.key;K!==null;){if(K.key===_e)if(K.tag===4&&K.stateNode.containerInfo===Y.containerInfo&&K.stateNode.implementation===Y.implementation){u(G,K.sibling),re=p(K,Y.children||[]),re.return=G,G=re;break e}else{u(G,K);break}else s(G,K);K=K.sibling}re=Cp(Y,G.mode,re),re.return=G,G=re}return k(G);case O:return _e=Y._init,Y=_e(Y._payload),xt(G,K,Y,re)}if(ve(Y))return Ve(G,K,Y,re);if(z(Y)){if(_e=z(Y),typeof _e!="function")throw Error(r(150));return Y=_e.call(Y),De(G,K,Y,re)}if(typeof Y.then=="function")return xt(G,K,ed(Y),re);if(Y.$$typeof===L)return xt(G,K,Bh(G,Y),re);td(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,K!==null&&K.tag===6?(u(G,K.sibling),re=p(K,Y),re.return=G,G=re):(u(G,K),re=kp(Y,G.mode,re),re.return=G,G=re),k(G)):u(G,K)}return function(G,K,Y,re){try{Rc=0;var _e=xt(G,K,Y,re);return Gl=null,_e}catch(ke){if(ke===Ec||ke===$h)throw ke;var We=Cr(29,ke,null,G.mode);return We.lanes=re,We.return=G,We}finally{}}}var Yl=Zw(!0),Jw=Zw(!1),ti=ie(null),zi=null;function vs(i){var s=i.alternate;he(dn,dn.current&1),he(ti,i),zi===null&&(s===null||$l.current!==null||s.memoizedState!==null)&&(zi=i)}function eE(i){if(i.tag===22){if(he(dn,dn.current),he(ti,i),zi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(zi=i)}}else bs()}function bs(){he(dn,dn.current),he(ti,ti.current)}function wa(i){ae(ti),zi===i&&(zi=null),ae(dn)}var dn=ie(0);function nd(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Xy(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function oy(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:m({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ly={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=Rr(),p=gs(f);p.payload=s,u!=null&&(p.callback=u),s=ps(i,p,f),s!==null&&(Pr(s,i,f),Ac(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=Rr(),p=gs(f);p.tag=1,p.payload=s,u!=null&&(p.callback=u),s=ps(i,p,f),s!==null&&(Pr(s,i,f),Ac(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Rr(),f=gs(u);f.tag=2,s!=null&&(f.callback=s),s=ps(i,f,u),s!==null&&(Pr(s,i,u),Ac(s,i,u))}};function tE(i,s,u,f,p,v,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,k):s.prototype&&s.prototype.isPureReactComponent?!gc(u,f)||!gc(p,v):!0}function nE(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&ly.enqueueReplaceState(s,s.state,null)}function Uo(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=m({},u));for(var p in i)u[p]===void 0&&(u[p]=i[p])}return u}var rd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function rE(i){rd(i)}function iE(i){console.error(i)}function aE(i){rd(i)}function id(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function sE(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function uy(i,s,u){return u=gs(u),u.tag=3,u.payload={element:null},u.callback=function(){id(i,s)},u}function oE(i){return i=gs(i),i.tag=3,i}function lE(i,s,u,f){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var v=f.value;i.payload=function(){return p(v)},i.callback=function(){sE(s,u,f)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){sE(s,u,f),typeof p!="function"&&(As===null?As=new Set([this]):As.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function zj(i,s,u,f,p){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&xc(s,u,p,!0),u=ti.current,u!==null){switch(u.tag){case 13:return zi===null?Py():u.alternate===null&&Gt===0&&(Gt=3),u.flags&=-257,u.flags|=65536,u.lanes=p,f===Vp?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),My(i,f,p)),!1;case 22:return u.flags|=65536,f===Vp?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),My(i,f,p)),!1}throw Error(r(435,u.tag))}return My(i,f,p),Py(),!1}if(ct)return s=ti.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==Ip&&(i=Error(r(422),{cause:f}),bc(Qr(i,u)))):(f!==Ip&&(s=Error(r(423),{cause:f}),bc(Qr(s,u))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=Qr(f,u),p=uy(i.stateNode,f,p),Bp(i,p),Gt!==4&&(Gt=2)),!1;var v=Error(r(520),{cause:f});if(v=Qr(v,u),zc===null?zc=[v]:zc.push(v),Gt!==4&&(Gt=2),s===null)return!0;f=Qr(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=p&-p,u.lanes|=i,i=uy(u.stateNode,f,i),Bp(u,i),!1;case 1:if(s=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(As===null||!As.has(v))))return u.flags|=65536,p&=-p,u.lanes|=p,p=oE(p),lE(p,i,u,f),Bp(u,p),!1}u=u.return}while(u!==null);return!1}var uE=Error(r(461)),En=!1;function Pn(i,s,u,f){s.child=i===null?Jw(s,null,u,f):Yl(s,i.child,u,f)}function cE(i,s,u,f,p){u=u.render;var v=s.ref;if("ref"in f){var k={};for(var N in f)N!=="ref"&&(k[N]=f[N])}else k=f;return jo(s),f=Kp(i,s,u,k,v,p),N=Gp(),i!==null&&!En?(Yp(i,s,p),Ea(i,s,p)):(ct&&N&&Op(s),s.flags|=1,Pn(i,s,f,p),s.child)}function fE(i,s,u,f,p){if(i===null){var v=u.type;return typeof v=="function"&&!Sp(v)&&v.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=v,hE(i,s,v,f,p)):(i=Lh(u.type,null,f,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!yy(i,p)){var k=v.memoizedProps;if(u=u.compare,u=u!==null?u:gc,u(k,f)&&i.ref===s.ref)return Ea(i,s,p)}return s.flags|=1,i=pa(v,f),i.ref=s.ref,i.return=s,s.child=i}function hE(i,s,u,f,p){if(i!==null){var v=i.memoizedProps;if(gc(v,f)&&i.ref===s.ref)if(En=!1,s.pendingProps=f=v,yy(i,p))(i.flags&131072)!==0&&(En=!0);else return s.lanes=i.lanes,Ea(i,s,p)}return cy(i,s,u,f,p)}function dE(i,s,u){var f=s.pendingProps,p=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=v!==null?v.baseLanes|u:u,i!==null){for(p=s.child=i.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;s.childLanes=v&~f}else s.childLanes=0,s.child=null;return mE(i,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&qh(s,v!==null?v.cachePool:null),v!==null?hw(s,v):$p(),eE(s);else return s.lanes=s.childLanes=536870912,mE(i,s,v!==null?v.baseLanes|u:u,u)}else v!==null?(qh(s,v.cachePool),hw(s,v),bs(),s.memoizedState=null):(i!==null&&qh(s,null),$p(),bs());return Pn(i,s,p,u),s.child}function mE(i,s,u,f){var p=Lp();return p=p===null?null:{parent:hn._currentValue,pool:p},s.memoizedState={baseLanes:u,cachePool:p},i!==null&&qh(s,null),$p(),eE(s),i!==null&&xc(i,s,f,!0),null}function ad(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function cy(i,s,u,f,p){return jo(s),u=Kp(i,s,u,f,void 0,p),f=Gp(),i!==null&&!En?(Yp(i,s,p),Ea(i,s,p)):(ct&&f&&Op(s),s.flags|=1,Pn(i,s,u,p),s.child)}function gE(i,s,u,f,p,v){return jo(s),s.updateQueue=null,u=mw(s,f,u,p),dw(i),f=Gp(),i!==null&&!En?(Yp(i,s,v),Ea(i,s,v)):(ct&&f&&Op(s),s.flags|=1,Pn(i,s,u,v),s.child)}function pE(i,s,u,f,p){if(jo(s),s.stateNode===null){var v=Vl,k=u.contextType;typeof k=="object"&&k!==null&&(v=Wn(k)),v=new u(f,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ly,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=f,v.state=s.memoizedState,v.refs={},Up(s),k=u.contextType,v.context=typeof k=="object"&&k!==null?Wn(k):Vl,v.state=s.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(oy(s,u,k,f),v.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(k=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),k!==v.state&&ly.enqueueReplaceState(v,v.state,null),kc(s,f,v,p),Sc(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){v=s.stateNode;var N=s.memoizedProps,$=Uo(u,N);v.props=$;var X=v.context,ne=u.contextType;k=Vl,typeof ne=="object"&&ne!==null&&(k=Wn(ne));var se=u.getDerivedStateFromProps;ne=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||X!==k)&&nE(s,v,f,k),ms=!1;var Q=s.memoizedState;v.state=Q,kc(s,f,v,p),Sc(),X=s.memoizedState,N||Q!==X||ms?(typeof se=="function"&&(oy(s,u,se,f),X=s.memoizedState),($=ms||tE(s,u,$,f,Q,X,k))?(ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=X),v.props=f,v.state=X,v.context=k,f=$):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{v=s.stateNode,zp(i,s),k=s.memoizedProps,ne=Uo(u,k),v.props=ne,se=s.pendingProps,Q=v.context,X=u.contextType,$=Vl,typeof X=="object"&&X!==null&&($=Wn(X)),N=u.getDerivedStateFromProps,(X=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==se||Q!==$)&&nE(s,v,f,$),ms=!1,Q=s.memoizedState,v.state=Q,kc(s,f,v,p),Sc();var J=s.memoizedState;k!==se||Q!==J||ms||i!==null&&i.dependencies!==null&&zh(i.dependencies)?(typeof N=="function"&&(oy(s,u,N,f),J=s.memoizedState),(ne=ms||tE(s,u,ne,f,Q,J,$)||i!==null&&i.dependencies!==null&&zh(i.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,J,$),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,J,$)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=J),v.props=f,v.state=J,v.context=$,f=ne):(typeof v.componentDidUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),f=!1)}return v=f,ad(i,s),f=(s.flags&128)!==0,v||f?(v=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&f?(s.child=Yl(s,i.child,null,p),s.child=Yl(s,null,u,p)):Pn(i,s,u,p),s.memoizedState=v.state,i=s.child):i=Ea(i,s,p),i}function yE(i,s,u,f){return vc(),s.flags|=256,Pn(i,s,u,f),s.child}var fy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hy(i){return{baseLanes:i,cachePool:iw()}}function dy(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=ni),i}function vE(i,s,u){var f=s.pendingProps,p=!1,v=(s.flags&128)!==0,k;if((k=v)||(k=i!==null&&i.memoizedState===null?!1:(dn.current&2)!==0),k&&(p=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,i===null){if(ct){if(p?vs(s):bs(),ct){var N=Kt,$;if($=N){e:{for($=N,N=Ui;$.nodeType!==8;){if(!N){N=null;break e}if($=Ai($.nextSibling),$===null){N=null;break e}}N=$}N!==null?(s.memoizedState={dehydrated:N,treeContext:Io!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},$=Cr(18,null,null,0),$.stateNode=N,$.return=s,s.child=$,fr=s,Kt=null,$=!0):$=!1}$||Do(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Xy(N)?s.lanes=32:s.lanes=536870912,null;wa(s)}return N=f.children,f=f.fallback,p?(bs(),p=s.mode,N=sd({mode:"hidden",children:N},p),f=No(f,p,u,null),N.return=s,f.return=s,N.sibling=f,s.child=N,p=s.child,p.memoizedState=hy(u),p.childLanes=dy(i,k,u),s.memoizedState=fy,f):(vs(s),my(s,N))}if($=i.memoizedState,$!==null&&(N=$.dehydrated,N!==null)){if(v)s.flags&256?(vs(s),s.flags&=-257,s=gy(i,s,u)):s.memoizedState!==null?(bs(),s.child=i.child,s.flags|=128,s=null):(bs(),p=f.fallback,N=s.mode,f=sd({mode:"visible",children:f.children},N),p=No(p,N,u,null),p.flags|=2,f.return=s,p.return=s,f.sibling=p,s.child=f,Yl(s,i.child,null,u),f=s.child,f.memoizedState=hy(u),f.childLanes=dy(i,k,u),s.memoizedState=fy,s=p);else if(vs(s),Xy(N)){if(k=N.nextSibling&&N.nextSibling.dataset,k)var X=k.dgst;k=X,f=Error(r(419)),f.stack="",f.digest=k,bc({value:f,source:null,stack:null}),s=gy(i,s,u)}else if(En||xc(i,s,u,!1),k=(u&i.childLanes)!==0,En||k){if(k=kt,k!==null&&(f=u&-u,f=(f&42)!==0?1:ns(f),f=(f&(k.suspendedLanes|u))!==0?0:f,f!==0&&f!==$.retryLane))throw $.retryLane=f,Ll(i,f),Pr(k,i,f),uE;N.data==="$?"||Py(),s=gy(i,s,u)}else N.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=$.treeContext,Kt=Ai(N.nextSibling),fr=s,ct=!0,Po=null,Ui=!1,i!==null&&(Jr[ei++]=ya,Jr[ei++]=va,Jr[ei++]=Io,ya=i.id,va=i.overflow,Io=s),s=my(s,f.children),s.flags|=4096);return s}return p?(bs(),p=f.fallback,N=s.mode,$=i.child,X=$.sibling,f=pa($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,X!==null?p=pa(X,p):(p=No(p,N,u,null),p.flags|=2),p.return=s,f.return=s,f.sibling=p,s.child=f,f=p,p=s.child,N=i.child.memoizedState,N===null?N=hy(u):($=N.cachePool,$!==null?(X=hn._currentValue,$=$.parent!==X?{parent:X,pool:X}:$):$=iw(),N={baseLanes:N.baseLanes|u,cachePool:$}),p.memoizedState=N,p.childLanes=dy(i,k,u),s.memoizedState=fy,f):(vs(s),u=i.child,i=u.sibling,u=pa(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(k=s.deletions,k===null?(s.deletions=[i],s.flags|=16):k.push(i)),s.child=u,s.memoizedState=null,u)}function my(i,s){return s=sd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function sd(i,s){return i=Cr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function gy(i,s,u){return Yl(s,i.child,null,u),i=my(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function bE(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Pp(i.return,s,u)}function py(i,s,u,f,p){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=p)}function xE(i,s,u){var f=s.pendingProps,p=f.revealOrder,v=f.tail;if(Pn(i,s,f.children,u),f=dn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bE(i,u,s);else if(i.tag===19)bE(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(he(dn,f),p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&nd(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),py(s,!1,p,u,v);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&nd(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}py(s,!0,u,null,v);break;case"together":py(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ea(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Ts|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(xc(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=pa(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=pa(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function yy(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&zh(i)))}function Bj(i,s,u){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),ds(s,hn,i.memoizedState.cache),vc();break;case 27:case 5:Ue(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:ds(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(vs(s),s.flags|=128,null):(u&s.child.childLanes)!==0?vE(i,s,u):(vs(s),i=Ea(i,s,u),i!==null?i.sibling:null);vs(s);break;case 19:var p=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(xc(i,s,u,!1),f=(u&s.childLanes)!==0),p){if(f)return xE(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),he(dn,dn.current),f)break;return null;case 22:case 23:return s.lanes=0,dE(i,s,u);case 24:ds(s,hn,i.memoizedState.cache)}return Ea(i,s,u)}function _E(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)En=!0;else{if(!yy(i,u)&&(s.flags&128)===0)return En=!1,Bj(i,s,u);En=(i.flags&131072)!==0}else En=!1,ct&&(s.flags&1048576)!==0&&Q1(s,Uh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,p=f._init;if(f=p(f._payload),s.type=f,typeof f=="function")Sp(f)?(i=Uo(f,i),s.tag=1,s=pE(null,s,f,i,u)):(s.tag=0,s=cy(null,s,f,i,u));else{if(f!=null){if(p=f.$$typeof,p===B){s.tag=11,s=cE(null,s,f,i,u);break e}else if(p===R){s.tag=14,s=fE(null,s,f,i,u);break e}}throw s=pe(f)||f,Error(r(306,s,""))}}return s;case 0:return cy(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,p=Uo(f,s.pendingProps),pE(i,s,f,p,u);case 3:e:{if(ot(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var v=s.memoizedState;p=v.element,zp(i,s),kc(s,f,null,u);var k=s.memoizedState;if(f=k.cache,ds(s,hn,f),f!==v.cache&&Dp(s,[hn],u,!0),Sc(),f=k.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=yE(i,s,f,u);break e}else if(f!==p){p=Qr(Error(r(424)),s),bc(p),s=yE(i,s,f,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Kt=Ai(i.firstChild),fr=s,ct=!0,Po=null,Ui=!0,u=Jw(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(vc(),f===p){s=Ea(i,s,u);break e}Pn(i,s,f,u)}s=s.child}return s;case 26:return ad(i,s),i===null?(u=AT(s.type,null,s.pendingProps,null))?s.memoizedState=u:ct||(u=s.type,i=s.pendingProps,f=xd(Re.current).createElement(u),f[ye]=s,f[Se]=i,Mn(f,u,i),At(f),s.stateNode=f):s.memoizedState=AT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ue(s),i===null&&ct&&(f=s.stateNode=wT(s.type,s.pendingProps,Re.current),fr=s,Ui=!0,p=Kt,Cs(s.type)?(Qy=p,Kt=Ai(f.firstChild)):Kt=p),Pn(i,s,s.pendingProps.children,u),ad(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ct&&((p=f=Kt)&&(f=g4(f,s.type,s.pendingProps,Ui),f!==null?(s.stateNode=f,fr=s,Kt=Ai(f.firstChild),Ui=!1,p=!0):p=!1),p||Do(s)),Ue(s),p=s.type,v=s.pendingProps,k=i!==null?i.memoizedProps:null,f=v.children,Gy(p,v)?f=null:k!==null&&Gy(p,k)&&(s.flags|=32),s.memoizedState!==null&&(p=Kp(i,s,Pj,null,null,u),Wc._currentValue=p),ad(i,s),Pn(i,s,f,u),s.child;case 6:return i===null&&ct&&((i=u=Kt)&&(u=p4(u,s.pendingProps,Ui),u!==null?(s.stateNode=u,fr=s,Kt=null,i=!0):i=!1),i||Do(s)),null;case 13:return vE(i,s,u);case 4:return ot(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Yl(s,null,f,u):Pn(i,s,f,u),s.child;case 11:return cE(i,s,s.type,s.pendingProps,u);case 7:return Pn(i,s,s.pendingProps,u),s.child;case 8:return Pn(i,s,s.pendingProps.children,u),s.child;case 12:return Pn(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,ds(s,s.type,f.value),Pn(i,s,f.children,u),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,jo(s),p=Wn(p),f=f(p),s.flags|=1,Pn(i,s,f,u),s.child;case 14:return fE(i,s,s.type,s.pendingProps,u);case 15:return hE(i,s,s.type,s.pendingProps,u);case 19:return xE(i,s,u);case 31:return f=s.pendingProps,u=s.mode,f={mode:f.mode,children:f.children},i===null?(u=sd(f,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=pa(i.child,f),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return dE(i,s,u);case 24:return jo(s),f=Wn(hn),i===null?(p=Lp(),p===null&&(p=kt,v=Mp(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=u),p=v),s.memoizedState={parent:f,cache:p},Up(s),ds(s,hn,p)):((i.lanes&u)!==0&&(zp(i,s),kc(s,null,null,u),Sc()),p=i.memoizedState,v=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ds(s,hn,f)):(f=v.cache,ds(s,hn,f),f!==p.cache&&Dp(s,[hn],u,!0))),Pn(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ta(i){i.flags|=4}function wE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!NT(s)){if(s=ti.current,s!==null&&((rt&4194048)===rt?zi!==null:(rt&62914560)!==rt&&(rt&536870912)===0||s!==zi))throw Tc=Vp,aw;i.flags|=8192}}function od(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Di():536870912,i.lanes|=s,Zl|=s)}function Dc(i,s){if(!ct)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Bt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function qj(i,s,u){var f=s.pendingProps;switch(Np(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return Bt(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),xa(hn),me(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(yc(s)?Ta(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ew())),Bt(s),null;case 26:return u=s.memoizedState,i===null?(Ta(s),u!==null?(Bt(s),wE(s,u)):(Bt(s),s.flags&=-16777217)):u?u!==i.memoizedState?(Ta(s),Bt(s),wE(s,u)):(Bt(s),s.flags&=-16777217):(i.memoizedProps!==f&&Ta(s),Bt(s),s.flags&=-16777217),null;case 27:Fe(s),u=Re.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Ta(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Bt(s),null}i=Ee.current,yc(s)?Z1(s):(i=wT(p,f,u),s.stateNode=i,Ta(s))}return Bt(s),null;case 5:if(Fe(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Ta(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Bt(s),null}if(i=Ee.current,yc(s))Z1(s);else{switch(p=xd(Re.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(u,{is:f.is}):p.createElement(u)}}i[ye]=s,i[Se]=f;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Mn(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ta(s)}}return Bt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Ta(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Re.current,yc(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,p=fr,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[ye]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||gT(i.nodeValue,u)),i||Do(s)}else i=xd(i).createTextNode(f),i[ye]=s,s.stateNode=i}return Bt(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=yc(s),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[ye]=s}else vc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),p=!1}else p=ew(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(wa(s),s):(wa(s),null)}if(wa(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==p&&(f.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),od(s,s.updateQueue),Bt(s),null;case 4:return me(),i===null&&qy(s.stateNode.containerInfo),Bt(s),null;case 10:return xa(s.type),Bt(s),null;case 19:if(ae(dn),p=s.memoizedState,p===null)return Bt(s),null;if(f=(s.flags&128)!==0,v=p.rendering,v===null)if(f)Dc(p,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=nd(i),v!==null){for(s.flags|=128,Dc(p,!1),i=v.updateQueue,s.updateQueue=i,od(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)X1(u,i),u=u.sibling;return he(dn,dn.current&1|2),s.child}i=i.sibling}p.tail!==null&&_t()>cd&&(s.flags|=128,f=!0,Dc(p,!1),s.lanes=4194304)}else{if(!f)if(i=nd(v),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,od(s,i),Dc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!ct)return Bt(s),null}else 2*_t()-p.renderingStartTime>cd&&u!==536870912&&(s.flags|=128,f=!0,Dc(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(i=p.last,i!==null?i.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=_t(),s.sibling=null,i=dn.current,he(dn,f?i&1|2:i&1),s):(Bt(s),null);case 22:case 23:return wa(s),Fp(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),u=s.updateQueue,u!==null&&od(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&ae(Lo),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),xa(hn),Bt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function $j(i,s){switch(Np(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return xa(hn),me(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Fe(s),null;case 13:if(wa(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));vc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(dn),null;case 4:return me(),null;case 10:return xa(s.type),null;case 22:case 23:return wa(s),Fp(),i!==null&&ae(Lo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return xa(hn),null;case 25:return null;default:return null}}function EE(i,s){switch(Np(s),s.tag){case 3:xa(hn),me();break;case 26:case 27:case 5:Fe(s);break;case 4:me();break;case 13:wa(s);break;case 19:ae(dn);break;case 10:xa(s.type);break;case 22:case 23:wa(s),Fp(),i!==null&&ae(Lo);break;case 24:xa(hn)}}function Mc(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){f=void 0;var v=u.create,k=u.inst;f=v(),k.destroy=f}u=u.next}while(u!==p)}}catch(N){Et(s,s.return,N)}}function xs(i,s,u){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var v=p.next;f=v;do{if((f.tag&i)===i){var k=f.inst,N=k.destroy;if(N!==void 0){k.destroy=void 0,p=s;var $=u,X=N;try{X()}catch(ne){Et(p,$,ne)}}}f=f.next}while(f!==v)}}catch(ne){Et(s,s.return,ne)}}function TE(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{fw(s,u)}catch(f){Et(i,i.return,f)}}}function AE(i,s,u){u.props=Uo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Et(i,s,f)}}function jc(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(p){Et(i,s,p)}}function Bi(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(p){Et(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){Et(i,s,p)}else u.current=null}function SE(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(p){Et(i,i.return,p)}}function vy(i,s,u){try{var f=i.stateNode;c4(f,i.type,u,s),f[Se]=s}catch(p){Et(i,i.return,p)}}function kE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Cs(i.type)||i.tag===4}function by(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||kE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Cs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xy(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=bd));else if(f!==4&&(f===27&&Cs(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(xy(i,s,u),i=i.sibling;i!==null;)xy(i,s,u),i=i.sibling}function ld(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&Cs(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(ld(i,s,u),i=i.sibling;i!==null;)ld(i,s,u),i=i.sibling}function CE(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Mn(s,f,u),s[ye]=i,s[Se]=u}catch(v){Et(i,i.return,v)}}var Aa=!1,Zt=!1,_y=!1,OE=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function Fj(i,s){if(i=i.containerInfo,Hy=Sd,i=z1(i),bp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var k=0,N=-1,$=-1,X=0,ne=0,se=i,Q=null;t:for(;;){for(var J;se!==u||p!==0&&se.nodeType!==3||(N=k+p),se!==v||f!==0&&se.nodeType!==3||($=k+f),se.nodeType===3&&(k+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===i)break t;if(Q===u&&++X===p&&(N=k),Q===v&&++ne===f&&($=k),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}u=N===-1||$===-1?null:{start:N,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ky={focusedElem:i,selectionRange:u},Sd=!1,Tn=s;Tn!==null;)if(s=Tn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Tn=i;else for(;Tn!==null;){switch(s=Tn,v=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,u=s,p=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var Ve=Uo(u.type,p,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(Ve,v),f.__reactInternalSnapshotBeforeUpdate=i}catch(De){Et(u,u.return,De)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Wy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Tn=i;break}Tn=s.return}}function NE(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:_s(i,u),f&4&&Mc(5,u);break;case 1:if(_s(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(k){Et(u,u.return,k)}else{var p=Uo(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(k){Et(u,u.return,k)}}f&64&&TE(u),f&512&&jc(u,u.return);break;case 3:if(_s(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{fw(i,s)}catch(k){Et(u,u.return,k)}}break;case 27:s===null&&f&4&&CE(u);case 26:case 5:_s(i,u),s===null&&f&4&&SE(u),f&512&&jc(u,u.return);break;case 12:_s(i,u);break;case 13:_s(i,u),f&4&&PE(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=Jj.bind(null,u),y4(i,u))));break;case 22:if(f=u.memoizedState!==null||Aa,!f){s=s!==null&&s.memoizedState!==null||Zt,p=Aa;var v=Zt;Aa=f,(Zt=s)&&!v?ws(i,u,(u.subtreeFlags&8772)!==0):_s(i,u),Aa=p,Zt=v}break;case 30:break;default:_s(i,u)}}function IE(i){var s=i.alternate;s!==null&&(i.alternate=null,IE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&pi(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var jt=null,vr=!1;function Sa(i,s,u){for(u=u.child;u!==null;)RE(i,s,u),u=u.sibling}function RE(i,s,u){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(sr,u)}catch{}switch(u.tag){case 26:Zt||Bi(u,s),Sa(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Zt||Bi(u,s);var f=jt,p=vr;Cs(u.type)&&(jt=u.stateNode,vr=!1),Sa(i,s,u),Hc(u.stateNode),jt=f,vr=p;break;case 5:Zt||Bi(u,s);case 6:if(f=jt,p=vr,jt=null,Sa(i,s,u),jt=f,vr=p,jt!==null)if(vr)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(u.stateNode)}catch(v){Et(u,s,v)}else try{jt.removeChild(u.stateNode)}catch(v){Et(u,s,v)}break;case 18:jt!==null&&(vr?(i=jt,xT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Jc(i)):xT(jt,u.stateNode));break;case 4:f=jt,p=vr,jt=u.stateNode.containerInfo,vr=!0,Sa(i,s,u),jt=f,vr=p;break;case 0:case 11:case 14:case 15:Zt||xs(2,u,s),Zt||xs(4,u,s),Sa(i,s,u);break;case 1:Zt||(Bi(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&AE(u,s,f)),Sa(i,s,u);break;case 21:Sa(i,s,u);break;case 22:Zt=(f=Zt)||u.memoizedState!==null,Sa(i,s,u),Zt=f;break;default:Sa(i,s,u)}}function PE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jc(i)}catch(u){Et(s,s.return,u)}}function Hj(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new OE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new OE),s;default:throw Error(r(435,i.tag))}}function wy(i,s){var u=Hj(i);s.forEach(function(f){var p=e4.bind(null,i,f);u.has(f)||(u.add(f),f.then(p,p))})}function Or(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f],v=i,k=s,N=k;e:for(;N!==null;){switch(N.tag){case 27:if(Cs(N.type)){jt=N.stateNode,vr=!1;break e}break;case 5:jt=N.stateNode,vr=!1;break e;case 3:case 4:jt=N.stateNode.containerInfo,vr=!0;break e}N=N.return}if(jt===null)throw Error(r(160));RE(v,k,p),jt=null,vr=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)DE(s,i),s=s.sibling}var Ti=null;function DE(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Or(s,i),Nr(i),f&4&&(xs(3,i,i.return),Mc(3,i),xs(5,i,i.return));break;case 1:Or(s,i),Nr(i),f&512&&(Zt||u===null||Bi(u,u.return)),f&64&&Aa&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var p=Ti;if(Or(s,i),Nr(i),f&512&&(Zt||u===null||Bi(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":v=p.getElementsByTagName("title")[0],(!v||v[at]||v[ye]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(f),p.head.insertBefore(v,p.querySelector("head > title"))),Mn(v,f,u),v[ye]=i,At(v),f=v;break e;case"link":var k=CT("link","href",p).get(f+(u.href||""));if(k){for(var N=0;N<k.length;N++)if(v=k[N],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(N,1);break t}}v=p.createElement(f),Mn(v,f,u),p.head.appendChild(v);break;case"meta":if(k=CT("meta","content",p).get(f+(u.content||""))){for(N=0;N<k.length;N++)if(v=k[N],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(N,1);break t}}v=p.createElement(f),Mn(v,f,u),p.head.appendChild(v);break;default:throw Error(r(468,f))}v[ye]=i,At(v),f=v}i.stateNode=f}else OT(p,i.type,i.stateNode);else i.stateNode=kT(p,f,i.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?OT(p,i.type,i.stateNode):kT(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&vy(i,i.memoizedProps,u.memoizedProps)}break;case 27:Or(s,i),Nr(i),f&512&&(Zt||u===null||Bi(u,u.return)),u!==null&&f&4&&vy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Or(s,i),Nr(i),f&512&&(Zt||u===null||Bi(u,u.return)),i.flags&32){p=i.stateNode;try{Wr(p,"")}catch(J){Et(i,i.return,J)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,vy(i,p,u!==null?u.memoizedProps:p)),f&1024&&(_y=!0);break;case 6:if(Or(s,i),Nr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(J){Et(i,i.return,J)}}break;case 3:if(Ed=null,p=Ti,Ti=_d(s.containerInfo),Or(s,i),Ti=p,Nr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Jc(s.containerInfo)}catch(J){Et(i,i.return,J)}_y&&(_y=!1,ME(i));break;case 4:f=Ti,Ti=_d(i.stateNode.containerInfo),Or(s,i),Nr(i),Ti=f;break;case 12:Or(s,i),Nr(i);break;case 13:Or(s,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Cy=_t()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,wy(i,f)));break;case 22:p=i.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,X=Aa,ne=Zt;if(Aa=X||p,Zt=ne||$,Or(s,i),Zt=ne,Aa=X,Nr(i),f&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(u===null||$||Aa||Zt||zo(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){$=u=s;try{if(v=$.stateNode,p)k=v.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{N=$.stateNode;var se=$.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;N.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(J){Et($,$.return,J)}}}else if(s.tag===6){if(u===null){$=s;try{$.stateNode.nodeValue=p?"":$.memoizedProps}catch(J){Et($,$.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,wy(i,u))));break;case 19:Or(s,i),Nr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,wy(i,f)));break;case 30:break;case 21:break;default:Or(s,i),Nr(i)}}function Nr(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(kE(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var p=u.stateNode,v=by(i);ld(i,v,p);break;case 5:var k=u.stateNode;u.flags&32&&(Wr(k,""),u.flags&=-33);var N=by(i);ld(i,N,k);break;case 3:case 4:var $=u.stateNode.containerInfo,X=by(i);xy(i,X,$);break;default:throw Error(r(161))}}catch(ne){Et(i,i.return,ne)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ME(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ME(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function _s(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)NE(i,s.alternate,s),s=s.sibling}function zo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:xs(4,s,s.return),zo(s);break;case 1:Bi(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&AE(s,s.return,u),zo(s);break;case 27:Hc(s.stateNode);case 26:case 5:Bi(s,s.return),zo(s);break;case 22:s.memoizedState===null&&zo(s);break;case 30:zo(s);break;default:zo(s)}i=i.sibling}}function ws(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=i,v=s,k=v.flags;switch(v.tag){case 0:case 11:case 15:ws(p,v,u),Mc(4,v);break;case 1:if(ws(p,v,u),f=v,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){Et(f,f.return,X)}if(f=v,p=f.updateQueue,p!==null){var N=f.stateNode;try{var $=p.shared.hiddenCallbacks;if($!==null)for(p.shared.hiddenCallbacks=null,p=0;p<$.length;p++)cw($[p],N)}catch(X){Et(f,f.return,X)}}u&&k&64&&TE(v),jc(v,v.return);break;case 27:CE(v);case 26:case 5:ws(p,v,u),u&&f===null&&k&4&&SE(v),jc(v,v.return);break;case 12:ws(p,v,u);break;case 13:ws(p,v,u),u&&k&4&&PE(p,v);break;case 22:v.memoizedState===null&&ws(p,v,u),jc(v,v.return);break;case 30:break;default:ws(p,v,u)}s=s.sibling}}function Ey(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&_c(u))}function Ty(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&_c(i))}function qi(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jE(i,s,u,f),s=s.sibling}function jE(i,s,u,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:qi(i,s,u,f),p&2048&&Mc(9,s);break;case 1:qi(i,s,u,f);break;case 3:qi(i,s,u,f),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&_c(i)));break;case 12:if(p&2048){qi(i,s,u,f),i=s.stateNode;try{var v=s.memoizedProps,k=v.id,N=v.onPostCommit;typeof N=="function"&&N(k,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){Et(s,s.return,$)}}else qi(i,s,u,f);break;case 13:qi(i,s,u,f);break;case 23:break;case 22:v=s.stateNode,k=s.alternate,s.memoizedState!==null?v._visibility&2?qi(i,s,u,f):Lc(i,s):v._visibility&2?qi(i,s,u,f):(v._visibility|=2,Wl(i,s,u,f,(s.subtreeFlags&10256)!==0)),p&2048&&Ey(k,s);break;case 24:qi(i,s,u,f),p&2048&&Ty(s.alternate,s);break;default:qi(i,s,u,f)}}function Wl(i,s,u,f,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=i,k=s,N=u,$=f,X=k.flags;switch(k.tag){case 0:case 11:case 15:Wl(v,k,N,$,p),Mc(8,k);break;case 23:break;case 22:var ne=k.stateNode;k.memoizedState!==null?ne._visibility&2?Wl(v,k,N,$,p):Lc(v,k):(ne._visibility|=2,Wl(v,k,N,$,p)),p&&X&2048&&Ey(k.alternate,k);break;case 24:Wl(v,k,N,$,p),p&&X&2048&&Ty(k.alternate,k);break;default:Wl(v,k,N,$,p)}s=s.sibling}}function Lc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,p=f.flags;switch(f.tag){case 22:Lc(u,f),p&2048&&Ey(f.alternate,f);break;case 24:Lc(u,f),p&2048&&Ty(f.alternate,f);break;default:Lc(u,f)}s=s.sibling}}var Vc=8192;function Xl(i){if(i.subtreeFlags&Vc)for(i=i.child;i!==null;)LE(i),i=i.sibling}function LE(i){switch(i.tag){case 26:Xl(i),i.flags&Vc&&i.memoizedState!==null&&N4(Ti,i.memoizedState,i.memoizedProps);break;case 5:Xl(i);break;case 3:case 4:var s=Ti;Ti=_d(i.stateNode.containerInfo),Xl(i),Ti=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Vc,Vc=16777216,Xl(i),Vc=s):Xl(i));break;default:Xl(i)}}function VE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Uc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Tn=f,zE(f,i)}VE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)UE(i),i=i.sibling}function UE(i){switch(i.tag){case 0:case 11:case 15:Uc(i),i.flags&2048&&xs(9,i,i.return);break;case 3:Uc(i);break;case 12:Uc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ud(i)):Uc(i);break;default:Uc(i)}}function ud(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Tn=f,zE(f,i)}VE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:xs(8,s,s.return),ud(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,ud(s));break;default:ud(s)}i=i.sibling}}function zE(i,s){for(;Tn!==null;){var u=Tn;switch(u.tag){case 0:case 11:case 15:xs(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:_c(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Tn=f;else e:for(u=i;Tn!==null;){f=Tn;var p=f.sibling,v=f.return;if(IE(f),f===u){Tn=null;break e}if(p!==null){p.return=v,Tn=p;break e}Tn=v}}}var Kj={getCacheForType:function(i){var s=Wn(hn),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},Gj=typeof WeakMap=="function"?WeakMap:Map,dt=0,kt=null,Qe=null,rt=0,mt=0,Ir=null,Es=!1,Ql=!1,Ay=!1,ka=0,Gt=0,Ts=0,Bo=0,Sy=0,ni=0,Zl=0,zc=null,br=null,ky=!1,Cy=0,cd=1/0,fd=null,As=null,Dn=0,Ss=null,Jl=null,eu=0,Oy=0,Ny=null,BE=null,Bc=0,Iy=null;function Rr(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(Z.T!==null){var i=Bl;return i!==0?i:Vy()}return de()}function qE(){ni===0&&(ni=(rt&536870912)===0||ct?ho():536870912);var i=ti.current;return i!==null&&(i.flags|=32),ni}function Pr(i,s,u){(i===kt&&(mt===2||mt===9)||i.cancelPendingCommit!==null)&&(tu(i,0),ks(i,rt,ni,!1)),Ut(i,u),((dt&2)===0||i!==kt)&&(i===kt&&((dt&2)===0&&(Bo|=u),Gt===4&&ks(i,rt,ni,!1)),$i(i))}function $E(i,s,u){if((dt&6)!==0)throw Error(r(327));var f=!u&&(s&124)===0&&(s&i.expiredLanes)===0||Pi(i,s),p=f?Xj(i,s):Dy(i,s,!0),v=f;do{if(p===0){Ql&&!f&&ks(i,s,0,!1);break}else{if(u=i.current.alternate,v&&!Yj(u)){p=Dy(i,s,!1),v=!1;continue}if(p===2){if(v=s,i.errorRecoveryDisabledLanes&v)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;e:{var N=i;p=zc;var $=N.current.memoizedState.isDehydrated;if($&&(tu(N,k).flags|=256),k=Dy(N,k,!1),k!==2){if(Ay&&!$){N.errorRecoveryDisabledLanes|=v,Bo|=v,p=4;break e}v=br,br=p,v!==null&&(br===null?br=v:br.push.apply(br,v))}p=k}if(v=!1,p!==2)continue}}if(p===1){tu(i,0),ks(i,s,0,!0);break}e:{switch(f=i,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ks(f,s,ni,!Es);break e;case 2:br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Cy+300-_t(),10<p)){if(ks(f,s,ni,!Es),Kn(f,0,!0)!==0)break e;f.timeoutHandle=vT(FE.bind(null,f,u,br,fd,ky,s,ni,Bo,Zl,Es,v,2,-0,0),p);break e}FE(f,u,br,fd,ky,s,ni,Bo,Zl,Es,v,0,-0,0)}}break}while(!0);$i(i)}function FE(i,s,u,f,p,v,k,N,$,X,ne,se,Q,J){if(i.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Yc={stylesheets:null,count:0,unsuspend:O4},LE(s),se=I4(),se!==null)){i.cancelPendingCommit=se(QE.bind(null,i,s,v,u,f,p,k,N,$,ne,1,Q,J)),ks(i,v,k,!X);return}QE(i,s,v,u,f,p,k,N,$)}function Yj(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var p=u[f],v=p.getSnapshot;p=p.value;try{if(!kr(v(),p))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(i,s,u,f){s&=~Sy,s&=~Bo,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var p=s;0<p;){var v=31-bn(p),k=1<<v;f[v]=-1,p&=~k}u!==0&&Hr(i,u,s)}function hd(){return(dt&6)===0?(qc(0),!1):!0}function Ry(){if(Qe!==null){if(mt===0)var i=Qe.return;else i=Qe,ba=Mo=null,Wp(i),Gl=null,Rc=0,i=Qe;for(;i!==null;)EE(i.alternate,i),i=i.return;Qe=null}}function tu(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,h4(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ry(),kt=i,Qe=u=pa(i.current,null),rt=s,mt=0,Ir=null,Es=!1,Ql=Pi(i,s),Ay=!1,Zl=ni=Sy=Bo=Ts=Gt=0,br=zc=null,ky=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var p=31-bn(f),v=1<<p;s|=i[p],f&=~v}return ka=s,Dh(),u}function HE(i,s){Ke=null,Z.H=Jh,s===Ec||s===$h?(s=lw(),mt=3):s===aw?(s=lw(),mt=4):mt=s===uE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ir=s,Qe===null&&(Gt=1,id(i,Qr(s,i.current)))}function KE(){var i=Z.H;return Z.H=Jh,i===null?Jh:i}function GE(){var i=Z.A;return Z.A=Kj,i}function Py(){Gt=4,Es||(rt&4194048)!==rt&&ti.current!==null||(Ql=!0),(Ts&134217727)===0&&(Bo&134217727)===0||kt===null||ks(kt,rt,ni,!1)}function Dy(i,s,u){var f=dt;dt|=2;var p=KE(),v=GE();(kt!==i||rt!==s)&&(fd=null,tu(i,s)),s=!1;var k=Gt;e:do try{if(mt!==0&&Qe!==null){var N=Qe,$=Ir;switch(mt){case 8:Ry(),k=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(s=!0);var X=mt;if(mt=0,Ir=null,nu(i,N,$,X),u&&Ql){k=0;break e}break;default:X=mt,mt=0,Ir=null,nu(i,N,$,X)}}Wj(),k=Gt;break}catch(ne){HE(i,ne)}while(!0);return s&&i.shellSuspendCounter++,ba=Mo=null,dt=f,Z.H=p,Z.A=v,Qe===null&&(kt=null,rt=0,Dh()),k}function Wj(){for(;Qe!==null;)YE(Qe)}function Xj(i,s){var u=dt;dt|=2;var f=KE(),p=GE();kt!==i||rt!==s?(fd=null,cd=_t()+500,tu(i,s)):Ql=Pi(i,s);e:do try{if(mt!==0&&Qe!==null){s=Qe;var v=Ir;t:switch(mt){case 1:mt=0,Ir=null,nu(i,s,v,1);break;case 2:case 9:if(sw(v)){mt=0,Ir=null,WE(s);break}s=function(){mt!==2&&mt!==9||kt!==i||(mt=7),$i(i)},v.then(s,s);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:sw(v)?(mt=0,Ir=null,WE(s)):(mt=0,Ir=null,nu(i,s,v,7));break;case 5:var k=null;switch(Qe.tag){case 26:k=Qe.memoizedState;case 5:case 27:var N=Qe;if(!k||NT(k)){mt=0,Ir=null;var $=N.sibling;if($!==null)Qe=$;else{var X=N.return;X!==null?(Qe=X,dd(X)):Qe=null}break t}}mt=0,Ir=null,nu(i,s,v,5);break;case 6:mt=0,Ir=null,nu(i,s,v,6);break;case 8:Ry(),Gt=6;break e;default:throw Error(r(462))}}Qj();break}catch(ne){HE(i,ne)}while(!0);return ba=Mo=null,Z.H=f,Z.A=p,dt=u,Qe!==null?0:(kt=null,rt=0,Dh(),Gt)}function Qj(){for(;Qe!==null&&!Ht();)YE(Qe)}function YE(i){var s=_E(i.alternate,i,ka);i.memoizedProps=i.pendingProps,s===null?dd(i):Qe=s}function WE(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=gE(u,s,s.pendingProps,s.type,void 0,rt);break;case 11:s=gE(u,s,s.pendingProps,s.type.render,s.ref,rt);break;case 5:Wp(s);default:EE(u,s),s=Qe=X1(s,ka),s=_E(u,s,ka)}i.memoizedProps=i.pendingProps,s===null?dd(i):Qe=s}function nu(i,s,u,f){ba=Mo=null,Wp(s),Gl=null,Rc=0;var p=s.return;try{if(zj(i,p,s,u,rt)){Gt=1,id(i,Qr(u,i.current)),Qe=null;return}}catch(v){if(p!==null)throw Qe=p,v;Gt=1,id(i,Qr(u,i.current)),Qe=null;return}s.flags&32768?(ct||f===1?i=!0:Ql||(rt&536870912)!==0?i=!1:(Es=i=!0,(f===2||f===9||f===3||f===6)&&(f=ti.current,f!==null&&f.tag===13&&(f.flags|=16384))),XE(s,i)):dd(s)}function dd(i){var s=i;do{if((s.flags&32768)!==0){XE(s,Es);return}i=s.return;var u=qj(s.alternate,s,ka);if(u!==null){Qe=u;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=i}while(s!==null);Gt===0&&(Gt=5)}function XE(i,s){do{var u=$j(i.alternate,i);if(u!==null){u.flags&=32767,Qe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=u}while(i!==null);Gt=6,Qe=null}function QE(i,s,u,f,p,v,k,N,$){i.cancelPendingCommit=null;do md();while(Dn!==0);if((dt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=Tp,Tl(i,u,v,k,N,$),i===kt&&(Qe=kt=null,rt=0),Jl=s,Ss=i,eu=u,Oy=v,Ny=p,BE=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,t4(Tr,function(){return nT(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,p=ue.p,ue.p=2,k=dt,dt|=4;try{Fj(i,s,u)}finally{dt=k,ue.p=p,Z.T=f}}Dn=1,ZE(),JE(),eT()}}function ZE(){if(Dn===1){Dn=0;var i=Ss,s=Jl,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var f=ue.p;ue.p=2;var p=dt;dt|=4;try{DE(s,i);var v=Ky,k=z1(i.containerInfo),N=v.focusedElem,$=v.selectionRange;if(k!==N&&N&&N.ownerDocument&&U1(N.ownerDocument.documentElement,N)){if($!==null&&bp(N)){var X=$.start,ne=$.end;if(ne===void 0&&(ne=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(ne,N.value.length);else{var se=N.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),Ve=N.textContent.length,De=Math.min($.start,Ve),xt=$.end===void 0?De:Math.min($.end,Ve);!J.extend&&De>xt&&(k=xt,xt=De,De=k);var G=V1(N,De),K=V1(N,xt);if(G&&K&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==K.node||J.focusOffset!==K.offset)){var Y=se.createRange();Y.setStart(G.node,G.offset),J.removeAllRanges(),De>xt?(J.addRange(Y),J.extend(K.node,K.offset)):(Y.setEnd(K.node,K.offset),J.addRange(Y))}}}}for(se=[],J=N;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<se.length;N++){var re=se[N];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Sd=!!Hy,Ky=Hy=null}finally{dt=p,ue.p=f,Z.T=u}}i.current=s,Dn=2}}function JE(){if(Dn===2){Dn=0;var i=Ss,s=Jl,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var f=ue.p;ue.p=2;var p=dt;dt|=4;try{NE(i,s.alternate,s)}finally{dt=p,ue.p=f,Z.T=u}}Dn=3}}function eT(){if(Dn===4||Dn===3){Dn=0,Wt();var i=Ss,s=Jl,u=eu,f=BE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,Jl=Ss=null,tT(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(As=null),rs(u),s=s.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(sr,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=Z.T,p=ue.p,ue.p=2,Z.T=null;try{for(var v=i.onRecoverableError,k=0;k<f.length;k++){var N=f[k];v(N.value,{componentStack:N.stack})}}finally{Z.T=s,ue.p=p}}(eu&3)!==0&&md(),$i(i),p=i.pendingLanes,(u&4194090)!==0&&(p&42)!==0?i===Iy?Bc++:(Bc=0,Iy=i):Bc=0,qc(0)}}function tT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,_c(s)))}function md(i){return ZE(),JE(),eT(),nT()}function nT(){if(Dn!==5)return!1;var i=Ss,s=Oy;Oy=0;var u=rs(eu),f=Z.T,p=ue.p;try{ue.p=32>u?32:u,Z.T=null,u=Ny,Ny=null;var v=Ss,k=eu;if(Dn=0,Jl=Ss=null,eu=0,(dt&6)!==0)throw Error(r(331));var N=dt;if(dt|=4,UE(v.current),jE(v,v.current,k,u),dt=N,qc(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(sr,v)}catch{}return!0}finally{ue.p=p,Z.T=f,tT(i,s)}}function rT(i,s,u){s=Qr(u,s),s=uy(i.stateNode,s,2),i=ps(i,s,2),i!==null&&(Ut(i,2),$i(i))}function Et(i,s,u){if(i.tag===3)rT(i,i,u);else for(;s!==null;){if(s.tag===3){rT(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(As===null||!As.has(f))){i=Qr(u,i),u=oE(2),f=ps(s,u,2),f!==null&&(lE(u,f,s,i),Ut(f,2),$i(f));break}}s=s.return}}function My(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Gj;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(u)||(Ay=!0,p.add(u),i=Zj.bind(null,i,s,u),s.then(i,i))}function Zj(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,kt===i&&(rt&u)===u&&(Gt===4||Gt===3&&(rt&62914560)===rt&&300>_t()-Cy?(dt&2)===0&&tu(i,0):Sy|=u,Zl===rt&&(Zl=0)),$i(i)}function iT(i,s){s===0&&(s=Di()),i=Ll(i,s),i!==null&&(Ut(i,s),$i(i))}function Jj(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),iT(i,u)}function e4(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),iT(i,u)}function t4(i,s){return Nt(i,s)}var gd=null,ru=null,jy=!1,pd=!1,Ly=!1,qo=0;function $i(i){i!==ru&&i.next===null&&(ru===null?gd=ru=i:ru=ru.next=i),pd=!0,jy||(jy=!0,r4())}function qc(i,s){if(!Ly&&pd){Ly=!0;do for(var u=!1,f=gd;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var v=0;else{var k=f.suspendedLanes,N=f.pingedLanes;v=(1<<31-bn(42|i)+1)-1,v&=p&~(k&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,lT(f,v))}else v=rt,v=Kn(f,f===kt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Pi(f,v)||(u=!0,lT(f,v));f=f.next}while(u);Ly=!1}}function n4(){aT()}function aT(){pd=jy=!1;var i=0;qo!==0&&(f4()&&(i=qo),qo=0);for(var s=_t(),u=null,f=gd;f!==null;){var p=f.next,v=sT(f,s);v===0?(f.next=null,u===null?gd=p:u.next=p,p===null&&(ru=u)):(u=f,(i!==0||(v&3)!==0)&&(pd=!0)),f=p}qc(i)}function sT(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var k=31-bn(v),N=1<<k,$=p[k];$===-1?((N&u)===0||(N&f)!==0)&&(p[k]=or(N,s)):$<=s&&(i.expiredLanes|=N),v&=~N}if(s=kt,u=rt,u=Kn(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(mt===2||mt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Je(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Pi(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&Je(f),rs(u)){case 2:case 8:u=wt;break;case 32:u=Tr;break;case 268435456:u=oa;break;default:u=Tr}return f=oT.bind(null,i),u=Nt(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&Je(f),i.callbackPriority=2,i.callbackNode=null,2}function oT(i,s){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(md()&&i.callbackNode!==u)return null;var f=rt;return f=Kn(i,i===kt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:($E(i,f,s),sT(i,_t()),i.callbackNode!=null&&i.callbackNode===u?oT.bind(null,i):null)}function lT(i,s){if(md())return null;$E(i,s,!0)}function r4(){d4(function(){(dt&6)!==0?Nt(Vt,n4):aT()})}function Vy(){return qo===0&&(qo=ho()),qo}function uT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:bi(""+i)}function cT(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function i4(i,s,u,f,p){if(s==="submit"&&u&&u.stateNode===p){var v=uT((p[Se]||null).action),k=f.submitter;k&&(s=(s=k[Se]||null)?uT(s.formAction):k.getAttribute("formAction"),s!==null&&(v=s,k=null));var N=new _o("action","action",null,f,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(qo!==0){var $=k?cT(p,k):new FormData(p);iy(u,{pending:!0,data:$,method:p.method,action:v},null,$)}}else typeof v=="function"&&(N.preventDefault(),$=k?cT(p,k):new FormData(p),iy(u,{pending:!0,data:$,method:p.method,action:v},v,$))},currentTarget:p}]})}}for(var Uy=0;Uy<Ep.length;Uy++){var zy=Ep[Uy],a4=zy.toLowerCase(),s4=zy[0].toUpperCase()+zy.slice(1);Ei(a4,"on"+s4)}Ei($1,"onAnimationEnd"),Ei(F1,"onAnimationIteration"),Ei(H1,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Ej,"onTransitionRun"),Ei(Tj,"onTransitionStart"),Ei(Aj,"onTransitionCancel"),Ei(K1,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($c));function fT(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],p=f.event;f=f.listeners;e:{var v=void 0;if(s)for(var k=f.length-1;0<=k;k--){var N=f[k],$=N.instance,X=N.currentTarget;if(N=N.listener,$!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=X;try{v(p)}catch(ne){rd(ne)}p.currentTarget=null,v=$}else for(k=0;k<f.length;k++){if(N=f[k],$=N.instance,X=N.currentTarget,N=N.listener,$!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=X;try{v(p)}catch(ne){rd(ne)}p.currentTarget=null,v=$}}}}function Ze(i,s){var u=s[It];u===void 0&&(u=s[It]=new Set);var f=i+"__bubble";u.has(f)||(hT(s,i,2,!1),u.add(f))}function By(i,s,u){var f=0;s&&(f|=4),hT(u,i,f,s)}var yd="_reactListening"+Math.random().toString(36).slice(2);function qy(i){if(!i[yd]){i[yd]=!0,is.forEach(function(u){u!=="selectionchange"&&(o4.has(u)||By(u,!1,i),By(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[yd]||(s[yd]=!0,By("selectionchange",!1,s))}}function hT(i,s,u,f){switch(jT(s)){case 2:var p=D4;break;case 8:p=M4;break;default:p=nv}u=p.bind(null,s,u,i),p=void 0,!ma||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function $y(i,s,u,f,p){var v=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var N=f.stateNode.containerInfo;if(N===p)break;if(k===4)for(k=f.return;k!==null;){var $=k.tag;if(($===3||$===4)&&k.stateNode.containerInfo===p)return;k=k.return}for(;N!==null;){if(k=Gn(N),k===null)return;if($=k.tag,$===5||$===6||$===26||$===27){f=v=k;continue e}N=N.parentNode}}f=f.return}vo(function(){var X=v,ne=sc(u),se=[];e:{var Q=G1.get(i);if(Q!==void 0){var J=_o,Ve=i;switch(i){case"keypress":if(bo(u)===0)break e;case"keydown":case"keyup":J=Pl;break;case"focusin":Ve="focus",J=Nl;break;case"focusout":Ve="blur",J=Nl;break;case"beforeblur":case"afterblur":J=Nl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=hs;break;case $1:case F1:case H1:J=lc;break;case K1:J=w;break;case"scroll":case"scrollend":J=Eo;break;case"wheel":J=M;break;case"copy":case"cut":case"paste":J=kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=fc;break;case"toggle":case"beforetoggle":J=ee}var De=(s&4)!==0,xt=!De&&(i==="scroll"||i==="scrollend"),G=De?Q!==null?Q+"Capture":null:Q;De=[];for(var K=X,Y;K!==null;){var re=K;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||G===null||(re=cs(K,G),re!=null&&De.push(Fc(K,re,Y))),xt)break;K=K.return}0<De.length&&(Q=new J(Q,Ve,null,u,ne),se.push({event:Q,listeners:De}))}}if((s&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Q&&u!==ac&&(Ve=u.relatedTarget||u.fromElement)&&(Gn(Ve)||Ve[Be]))break e;if((J||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Ve=u.relatedTarget||u.toElement,J=X,Ve=Ve?Gn(Ve):null,Ve!==null&&(xt=o(Ve),De=Ve.tag,Ve!==xt||De!==5&&De!==27&&De!==6)&&(Ve=null)):(J=null,Ve=X),J!==Ve)){if(De=So,re="onMouseLeave",G="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(De=fc,re="onPointerLeave",G="onPointerEnter",K="pointer"),xt=J==null?Q:Rn(J),Y=Ve==null?Q:Rn(Ve),Q=new De(re,K+"leave",J,u,ne),Q.target=xt,Q.relatedTarget=Y,re=null,Gn(ne)===X&&(De=new De(G,K+"enter",Ve,u,ne),De.target=Y,De.relatedTarget=xt,re=De),xt=re,J&&Ve)t:{for(De=J,G=Ve,K=0,Y=De;Y;Y=iu(Y))K++;for(Y=0,re=G;re;re=iu(re))Y++;for(;0<K-Y;)De=iu(De),K--;for(;0<Y-K;)G=iu(G),Y--;for(;K--;){if(De===G||G!==null&&De===G.alternate)break t;De=iu(De),G=iu(G)}De=null}else De=null;J!==null&&dT(se,Q,J,De,!1),Ve!==null&&xt!==null&&dT(se,xt,Ve,De,!0)}}e:{if(Q=X?Rn(X):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var _e=R1;else if(N1(Q))if(P1)_e=xj;else{_e=vj;var We=yj}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&kl(X.elementType)&&(_e=R1):_e=bj;if(_e&&(_e=_e(i,X))){I1(se,_e,u,ne);break e}We&&We(i,Q,X),i==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&nc(Q,"number",Q.value)}switch(We=X?Rn(X):window,i){case"focusin":(N1(We)||We.contentEditable==="true")&&(Dl=We,xp=X,pc=null);break;case"focusout":pc=xp=Dl=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,B1(se,u,ne);break;case"selectionchange":if(wj)break;case"keydown":case"keyup":B1(se,u,ne)}var ke;if(qe)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else wi?xi(i,u)&&(Me="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(Xt&&u.locale!=="ko"&&(wi||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&wi&&(ke=Th()):(Xr=ne,St="value"in Xr?Xr.value:Xr.textContent,wi=!0)),We=vd(X,Me),0<We.length&&(Me=new cc(Me,i,null,u,ne),se.push({event:Me,listeners:We}),ke?Me.data=ke:(ke=_i(u),ke!==null&&(Me.data=ke)))),(ke=ht?hc(i,u):mj(i,u))&&(Me=vd(X,"onBeforeInput"),0<Me.length&&(We=new cc("onBeforeInput","beforeinput",null,u,ne),se.push({event:We,listeners:Me}),We.data=ke)),i4(se,i,X,u,ne)}fT(se,s)})}function Fc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function vd(i,s){for(var u=s+"Capture",f=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=cs(i,u),p!=null&&f.unshift(Fc(i,p,v)),p=cs(i,s),p!=null&&f.push(Fc(i,p,v))),i.tag===3)return f;i=i.return}return[]}function iu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function dT(i,s,u,f,p){for(var v=s._reactName,k=[];u!==null&&u!==f;){var N=u,$=N.alternate,X=N.stateNode;if(N=N.tag,$!==null&&$===f)break;N!==5&&N!==26&&N!==27||X===null||($=X,p?(X=cs(u,v),X!=null&&k.unshift(Fc(u,X,$))):p||(X=cs(u,v),X!=null&&k.push(Fc(u,X,$)))),u=u.return}k.length!==0&&i.push({event:s,listeners:k})}var l4=/\r\n?/g,u4=/\u0000|\uFFFD/g;function mT(i){return(typeof i=="string"?i:""+i).replace(l4,`
`).replace(u4,"")}function gT(i,s){return s=mT(s),mT(i)===s}function bd(){}function bt(i,s,u,f,p,v){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Wr(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Wr(i,""+f);break;case"className":yi(i,"class",f);break;case"tabIndex":yi(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(i,u,f);break;case"style":ic(i,f,v);break;case"data":if(s!=="object"){yi(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=bi(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(s!=="input"&&bt(i,s,"name",p.name,p,null),bt(i,s,"formEncType",p.formEncType,p,null),bt(i,s,"formMethod",p.formMethod,p,null),bt(i,s,"formTarget",p.formTarget,p,null)):(bt(i,s,"encType",p.encType,p,null),bt(i,s,"method",p.method,p,null),bt(i,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=bi(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=bd);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=bi(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),Ar(i,"popover",f);break;case"xlinkActuate":_n(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":_n(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":_n(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":_n(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":_n(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":_n(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":_n(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":_n(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":_n(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ar(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=_h.get(u)||u,Ar(i,u,f))}}function Fy(i,s,u,f,p,v){switch(u){case"style":ic(i,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Wr(i,f):(typeof f=="number"||typeof f=="bigint")&&Wr(i,""+f);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"onClick":f!=null&&(i.onclick=bd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ji.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),s=u.slice(2,p?u.length-7:void 0),v=i[Se]||null,v=v!=null?v[u]:null,typeof v=="function"&&i.removeEventListener(s,v,p),typeof f=="function")){typeof v!="function"&&v!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,p);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):Ar(i,u,f)}}}function Mn(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var f=!1,p=!1,v;for(v in u)if(u.hasOwnProperty(v)){var k=u[v];if(k!=null)switch(v){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:bt(i,s,v,k,u,null)}}p&&bt(i,s,"srcSet",u.srcSet,u,null),f&&bt(i,s,"src",u.src,u,null);return;case"input":Ze("invalid",i);var N=v=k=p=null,$=null,X=null;for(f in u)if(u.hasOwnProperty(f)){var ne=u[f];if(ne!=null)switch(f){case"name":p=ne;break;case"type":k=ne;break;case"checked":$=ne;break;case"defaultChecked":X=ne;break;case"value":v=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:bt(i,s,f,ne,u,null)}}tc(i,v,N,$,X,k,p,!1),os(i);return;case"select":Ze("invalid",i),f=k=v=null;for(p in u)if(u.hasOwnProperty(p)&&(N=u[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":k=N;break;case"multiple":f=N;default:bt(i,s,p,N,u,null)}s=v,u=k,i.multiple=!!f,s!=null?ls(i,!!f,s,!1):u!=null&&ls(i,!!f,u,!0);return;case"textarea":Ze("invalid",i),v=p=f=null;for(k in u)if(u.hasOwnProperty(k)&&(N=u[k],N!=null))switch(k){case"value":f=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:bt(i,s,k,N,u,null)}xh(i,f,p,v),os(i);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(f=u[$],f!=null))switch($){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:bt(i,s,$,f,u,null)}return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(f=0;f<$c.length;f++)Ze($c[f],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:bt(i,s,X,f,u,null)}return;default:if(kl(s)){for(ne in u)u.hasOwnProperty(ne)&&(f=u[ne],f!==void 0&&Fy(i,s,ne,f,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(f=u[N],f!=null&&bt(i,s,N,f,u,null))}function c4(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,k=null,N=null,$=null,X=null,ne=null;for(J in u){var se=u[J];if(u.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":$=se;default:f.hasOwnProperty(J)||bt(i,s,J,null,f,se)}}for(var Q in f){var J=f[Q];if(se=u[Q],f.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":v=J;break;case"name":p=J;break;case"checked":X=J;break;case"defaultChecked":ne=J;break;case"value":k=J;break;case"defaultValue":N=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==se&&bt(i,s,Q,J,f,se)}}ec(i,k,N,$,X,ne,v,p);return;case"select":J=k=N=Q=null;for(v in u)if($=u[v],u.hasOwnProperty(v)&&$!=null)switch(v){case"value":break;case"multiple":J=$;default:f.hasOwnProperty(v)||bt(i,s,v,null,f,$)}for(p in f)if(v=f[p],$=u[p],f.hasOwnProperty(p)&&(v!=null||$!=null))switch(p){case"value":Q=v;break;case"defaultValue":N=v;break;case"multiple":k=v;default:v!==$&&bt(i,s,p,v,f,$)}s=N,u=k,f=J,Q!=null?ls(i,!!u,Q,!1):!!f!=!!u&&(s!=null?ls(i,!!u,s,!0):ls(i,!!u,u?[]:"",!1));return;case"textarea":J=Q=null;for(N in u)if(p=u[N],u.hasOwnProperty(N)&&p!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:bt(i,s,N,null,f,p)}for(k in f)if(p=f[k],v=u[k],f.hasOwnProperty(k)&&(p!=null||v!=null))switch(k){case"value":Q=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&bt(i,s,k,p,f,v)}bh(i,Q,J);return;case"option":for(var Ve in u)if(Q=u[Ve],u.hasOwnProperty(Ve)&&Q!=null&&!f.hasOwnProperty(Ve))switch(Ve){case"selected":i.selected=!1;break;default:bt(i,s,Ve,null,f,Q)}for($ in f)if(Q=f[$],J=u[$],f.hasOwnProperty($)&&Q!==J&&(Q!=null||J!=null))switch($){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:bt(i,s,$,Q,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)Q=u[De],u.hasOwnProperty(De)&&Q!=null&&!f.hasOwnProperty(De)&&bt(i,s,De,null,f,Q);for(X in f)if(Q=f[X],J=u[X],f.hasOwnProperty(X)&&Q!==J&&(Q!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:bt(i,s,X,Q,f,J)}return;default:if(kl(s)){for(var xt in u)Q=u[xt],u.hasOwnProperty(xt)&&Q!==void 0&&!f.hasOwnProperty(xt)&&Fy(i,s,xt,void 0,f,Q);for(ne in f)Q=f[ne],J=u[ne],!f.hasOwnProperty(ne)||Q===J||Q===void 0&&J===void 0||Fy(i,s,ne,Q,f,J);return}}for(var G in u)Q=u[G],u.hasOwnProperty(G)&&Q!=null&&!f.hasOwnProperty(G)&&bt(i,s,G,null,f,Q);for(se in f)Q=f[se],J=u[se],!f.hasOwnProperty(se)||Q===J||Q==null&&J==null||bt(i,s,se,Q,f,J)}var Hy=null,Ky=null;function xd(i){return i.nodeType===9?i:i.ownerDocument}function pT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Gy(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yy=null;function f4(){var i=window.event;return i&&i.type==="popstate"?i===Yy?!1:(Yy=i,!0):(Yy=null,!1)}var vT=typeof setTimeout=="function"?setTimeout:void 0,h4=typeof clearTimeout=="function"?clearTimeout:void 0,bT=typeof Promise=="function"?Promise:void 0,d4=typeof queueMicrotask=="function"?queueMicrotask:typeof bT<"u"?function(i){return bT.resolve(null).then(i).catch(m4)}:vT;function m4(i){setTimeout(function(){throw i})}function Cs(i){return i==="head"}function xT(i,s){var u=s,f=0,p=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<f&&8>f){u=f;var k=i.ownerDocument;if(u&1&&Hc(k.documentElement),u&2&&Hc(k.body),u&4)for(u=k.head,Hc(u),k=u.firstChild;k;){var N=k.nextSibling,$=k.nodeName;k[at]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=N}}if(p===0){i.removeChild(v),Jc(s);return}p--}else u==="$"||u==="$?"||u==="$!"?p++:f=u.charCodeAt(0)-48;else f=0;u=v}while(u);Jc(s)}function Wy(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wy(u),pi(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function g4(i,s,u,f){for(;i.nodeType===1;){var p=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[at])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Ai(i.nextSibling),i===null)break}return null}function p4(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ai(i.nextSibling),i===null))return null;return i}function Xy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function y4(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Ai(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Qy=null;function _T(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function wT(i,s,u){switch(s=xd(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Hc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);pi(i)}var ri=new Map,ET=new Set;function _d(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ca=ue.d;ue.d={f:v4,r:b4,D:x4,C:_4,L:w4,m:E4,X:A4,S:T4,M:S4};function v4(){var i=Ca.f(),s=hd();return i||s}function b4(i){var s=cn(i);s!==null&&s.tag===5&&s.type==="form"?$w(s):Ca.r(i)}var au=typeof document>"u"?null:document;function TT(i,s,u){var f=au;if(f&&typeof s=="string"&&s){var p=wn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),ET.has(p)||(ET.add(p),i={rel:i,crossOrigin:u,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),Mn(s,"link",i),At(s),f.head.appendChild(s)))}}function x4(i){Ca.D(i),TT("dns-prefetch",i,null)}function _4(i,s){Ca.C(i,s),TT("preconnect",i,s)}function w4(i,s,u){Ca.L(i,s,u);var f=au;if(f&&i&&s){var p='link[rel="preload"][as="'+wn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+wn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+wn(u.imageSizes)+'"]')):p+='[href="'+wn(i)+'"]';var v=p;switch(s){case"style":v=su(i);break;case"script":v=ou(i)}ri.has(v)||(i=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),ri.set(v,i),f.querySelector(p)!==null||s==="style"&&f.querySelector(Kc(v))||s==="script"&&f.querySelector(Gc(v))||(s=f.createElement("link"),Mn(s,"link",i),At(s),f.head.appendChild(s)))}}function E4(i,s){Ca.m(i,s);var u=au;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+wn(f)+'"][href="'+wn(i)+'"]',v=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ou(i)}if(!ri.has(v)&&(i=m({rel:"modulepreload",href:i},s),ri.set(v,i),u.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Gc(v)))return}f=u.createElement("link"),Mn(f,"link",i),At(f),u.head.appendChild(f)}}}function T4(i,s,u){Ca.S(i,s,u);var f=au;if(f&&i){var p=Kr(f).hoistableStyles,v=su(i);s=s||"default";var k=p.get(v);if(!k){var N={loading:0,preload:null};if(k=f.querySelector(Kc(v)))N.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},u),(u=ri.get(v))&&Zy(i,u);var $=k=f.createElement("link");At($),Mn($,"link",i),$._p=new Promise(function(X,ne){$.onload=X,$.onerror=ne}),$.addEventListener("load",function(){N.loading|=1}),$.addEventListener("error",function(){N.loading|=2}),N.loading|=4,wd(k,s,f)}k={type:"stylesheet",instance:k,count:1,state:N},p.set(v,k)}}}function A4(i,s){Ca.X(i,s);var u=au;if(u&&i){var f=Kr(u).hoistableScripts,p=ou(i),v=f.get(p);v||(v=u.querySelector(Gc(p)),v||(i=m({src:i,async:!0},s),(s=ri.get(p))&&Jy(i,s),v=u.createElement("script"),At(v),Mn(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(p,v))}}function S4(i,s){Ca.M(i,s);var u=au;if(u&&i){var f=Kr(u).hoistableScripts,p=ou(i),v=f.get(p);v||(v=u.querySelector(Gc(p)),v||(i=m({src:i,async:!0,type:"module"},s),(s=ri.get(p))&&Jy(i,s),v=u.createElement("script"),At(v),Mn(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(p,v))}}function AT(i,s,u,f){var p=(p=Re.current)?_d(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=su(u.href),u=Kr(p).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=su(u.href);var v=Kr(p).hoistableStyles,k=v.get(i);if(k||(p=p.ownerDocument||p,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,k),(v=p.querySelector(Kc(i)))&&!v._p&&(k.instance=v,k.state.loading=5),ri.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ri.set(i,u),v||k4(p,i,u,k.state))),s&&f===null)throw Error(r(528,""));return k}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ou(u),u=Kr(p).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function su(i){return'href="'+wn(i)+'"'}function Kc(i){return'link[rel="stylesheet"]['+i+"]"}function ST(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function k4(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Mn(s,"link",u),At(s),i.head.appendChild(s))}function ou(i){return'[src="'+wn(i)+'"]'}function Gc(i){return"script[async]"+i}function kT(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+wn(u.href)+'"]');if(f)return s.instance=f,At(f),f;var p=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),At(f),Mn(f,"style",p),wd(f,u.precedence,i),s.instance=f;case"stylesheet":p=su(u.href);var v=i.querySelector(Kc(p));if(v)return s.state.loading|=4,s.instance=v,At(v),v;f=ST(u),(p=ri.get(p))&&Zy(f,p),v=(i.ownerDocument||i).createElement("link"),At(v);var k=v;return k._p=new Promise(function(N,$){k.onload=N,k.onerror=$}),Mn(v,"link",f),s.state.loading|=4,wd(v,u.precedence,i),s.instance=v;case"script":return v=ou(u.src),(p=i.querySelector(Gc(v)))?(s.instance=p,At(p),p):(f=u,(p=ri.get(v))&&(f=m({},u),Jy(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),At(p),Mn(p,"link",f),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,wd(f,u.precedence,i));return s.instance}function wd(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,v=p,k=0;k<f.length;k++){var N=f[k];if(N.dataset.precedence===s)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Zy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Jy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Ed=null;function CT(i,s,u){if(Ed===null){var f=new Map,p=Ed=new Map;p.set(u,f)}else p=Ed,f=p.get(u),f||(f=new Map,p.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),p=0;p<u.length;p++){var v=u[p];if(!(v[at]||v[ye]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var k=v.getAttribute(s)||"";k=i+k;var N=f.get(k);N?N.push(v):f.set(k,[v])}}return f}function OT(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function C4(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function NT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Yc=null;function O4(){}function N4(i,s,u){if(Yc===null)throw Error(r(475));var f=Yc;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=su(u.href),v=i.querySelector(Kc(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Td.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=v,At(v);return}v=i.ownerDocument||i,u=ST(u),(p=ri.get(p))&&Zy(u,p),v=v.createElement("link"),At(v);var k=v;k._p=new Promise(function(N,$){k.onload=N,k.onerror=$}),Mn(v,"link",u),s.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Td.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function I4(){if(Yc===null)throw Error(r(475));var i=Yc;return i.stylesheets&&i.count===0&&ev(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&ev(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Td(){if(this.count--,this.count===0){if(this.stylesheets)ev(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ad=null;function ev(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ad=new Map,s.forEach(R4,i),Ad=null,Td.call(i))}function R4(i,s){if(!(s.state.loading&4)){var u=Ad.get(i);if(u)var f=u.get(null);else{u=new Map,Ad.set(i,u);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var k=p[v];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),f=k)}f&&u.set(null,f)}p=s.instance,k=p.getAttribute("data-precedence"),v=u.get(k)||f,v===f&&u.set(null,p),u.set(k,p),this.count++,f=Td.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Wc={$$typeof:L,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function P4(i,s,u,f,p,v,k,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.hiddenUpdates=Fr(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function IT(i,s,u,f,p,v,k,N,$,X,ne,se){return i=new P4(i,s,u,k,N,$,X,se),s=1,v===!0&&(s|=24),v=Cr(3,null,null,s),i.current=v,v.stateNode=i,s=Mp(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:s},Up(v),i}function RT(i){return i?(i=Vl,i):Vl}function PT(i,s,u,f,p,v){p=RT(p),f.context===null?f.context=p:f.pendingContext=p,f=gs(s),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=ps(i,f,s),u!==null&&(Pr(u,i,s),Ac(u,i,s))}function DT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function tv(i,s){DT(i,s),(i=i.alternate)&&DT(i,s)}function MT(i){if(i.tag===13){var s=Ll(i,67108864);s!==null&&Pr(s,i,67108864),tv(i,67108864)}}var Sd=!0;function D4(i,s,u,f){var p=Z.T;Z.T=null;var v=ue.p;try{ue.p=2,nv(i,s,u,f)}finally{ue.p=v,Z.T=p}}function M4(i,s,u,f){var p=Z.T;Z.T=null;var v=ue.p;try{ue.p=8,nv(i,s,u,f)}finally{ue.p=v,Z.T=p}}function nv(i,s,u,f){if(Sd){var p=rv(f);if(p===null)$y(i,s,f,kd,u),LT(i,f);else if(L4(p,i,s,u,f))f.stopPropagation();else if(LT(i,f),s&4&&-1<j4.indexOf(i)){for(;p!==null;){var v=cn(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var k=pt(v.pendingLanes);if(k!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;k;){var $=1<<31-bn(k);N.entanglements[1]|=$,k&=~$}$i(v),(dt&6)===0&&(cd=_t()+500,qc(0))}}break;case 13:N=Ll(v,2),N!==null&&Pr(N,v,2),hd(),tv(v,2)}if(v=rv(f),v===null&&$y(i,s,f,kd,u),v===p)break;p=v}p!==null&&f.stopPropagation()}else $y(i,s,f,null,u)}}function rv(i){return i=sc(i),iv(i)}var kd=null;function iv(i){if(kd=null,i=Gn(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return kd=i,null}function jT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gi()){case Vt:return 2;case wt:return 8;case Tr:case ir:return 32;case oa:return 268435456;default:return 32}default:return 32}}var av=!1,Os=null,Ns=null,Is=null,Xc=new Map,Qc=new Map,Rs=[],j4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LT(i,s){switch(i){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Xc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(s.pointerId)}}function Zc(i,s,u,f,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[p]},s!==null&&(s=cn(s),s!==null&&MT(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function L4(i,s,u,f,p){switch(s){case"focusin":return Os=Zc(Os,i,s,u,f,p),!0;case"dragenter":return Ns=Zc(Ns,i,s,u,f,p),!0;case"mouseover":return Is=Zc(Is,i,s,u,f,p),!0;case"pointerover":var v=p.pointerId;return Xc.set(v,Zc(Xc.get(v)||null,i,s,u,f,p)),!0;case"gotpointercapture":return v=p.pointerId,Qc.set(v,Zc(Qc.get(v)||null,i,s,u,f,p)),!0}return!1}function VT(i){var s=Gn(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,we(i.priority,function(){if(u.tag===13){var f=Rr();f=ns(f);var p=Ll(u,f);p!==null&&Pr(p,u,f),tv(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=rv(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ac=f,u.target.dispatchEvent(f),ac=null}else return s=cn(u),s!==null&&MT(s),i.blockedOn=u,!1;s.shift()}return!0}function UT(i,s,u){Cd(i)&&u.delete(s)}function V4(){av=!1,Os!==null&&Cd(Os)&&(Os=null),Ns!==null&&Cd(Ns)&&(Ns=null),Is!==null&&Cd(Is)&&(Is=null),Xc.forEach(UT),Qc.forEach(UT)}function Od(i,s){i.blockedOn===s&&(i.blockedOn=null,av||(av=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V4)))}var Nd=null;function zT(i){Nd!==i&&(Nd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nd===i&&(Nd=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],p=i[s+2];if(typeof f!="function"){if(iv(f||u)===null)continue;break}var v=cn(u);v!==null&&(i.splice(s,3),s-=3,iy(v,{pending:!0,data:p,method:u.method,action:f},f,p))}}))}function Jc(i){function s($){return Od($,i)}Os!==null&&Od(Os,i),Ns!==null&&Od(Ns,i),Is!==null&&Od(Is,i),Xc.forEach(s),Qc.forEach(s);for(var u=0;u<Rs.length;u++){var f=Rs[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Rs.length&&(u=Rs[0],u.blockedOn===null);)VT(u),u.blockedOn===null&&Rs.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var p=u[f],v=u[f+1],k=p[Se]||null;if(typeof v=="function")k||zT(u);else if(k){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,k=v[Se]||null)N=k.formAction;else if(iv(p)!==null)continue}else N=k.action;typeof N=="function"?u[f+1]=N:(u.splice(f,3),f-=3),zT(u)}}}function sv(i){this._internalRoot=i}Id.prototype.render=sv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=Rr();PT(u,f,i,s,null,null)},Id.prototype.unmount=sv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;PT(i.current,2,null,i,null,null),hd(),s[Be]=null}};function Id(i){this._internalRoot=i}Id.prototype.unstable_scheduleHydration=function(i){if(i){var s=de();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Rs.length&&s!==0&&s<Rs[u].priority;u++);Rs.splice(u,0,i),u===0&&VT(i)}};var BT=e.version;if(BT!=="19.1.1")throw Error(r(527,BT,"19.1.1"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var U4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{sr=Rd.inject(U4),un=Rd}catch{}}return tf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,f="",p=rE,v=iE,k=aE,N=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=IT(i,1,!1,null,null,u,f,p,v,k,N,null),i[Be]=s.current,qy(i),new sv(s)},tf.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var f=!1,p="",v=rE,k=iE,N=aE,$=null,X=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&($=u.unstable_transitionCallbacks),u.formState!==void 0&&(X=u.formState)),s=IT(i,1,!0,s,u??null,f,p,v,k,N,$,X),s.context=RT(null),u=s.current,f=Rr(),f=ns(f),p=gs(f),p.callback=null,ps(u,p,f),u=f,s.current.lanes=u,Ut(s,u),$i(s),i[Be]=s.current,qy(i),new Id(s)},tf.version="19.1.1",tf}var QT;function Q4(){if(QT)return uv.exports;QT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uv.exports=X4(),uv.exports}var Z4=Q4();const J4=()=>{};var ZT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},e3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],l=t[n++],c=t[n++],h=((a&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},uO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],l=a+1<t.length,c=l?t[a+1]:0,h=a+2<t.length,d=h?t[a+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let b=(c&15)<<2|d>>6,_=d&63;h||(_=64,l||(b=64)),r.push(n[m],n[y],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||c==null||d==null||y==null)throw new t3;const b=o<<2|c>>4;if(r.push(b),d!==64){const _=c<<4&240|d>>2;if(r.push(_),y!==64){const E=d<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n3=function(t){const e=lO(t);return uO.encodeByteArray(e,!0)},pm=function(t){return n3(t).replace(/\./g,"")},cO=function(t){try{return uO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=()=>r3().__FIREBASE_DEFAULTS__,a3=()=>{if(typeof process>"u"||typeof ZT>"u")return;const t=ZT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cO(t[1]);return e&&JSON.parse(e)},xg=()=>{try{return J4()||i3()||a3()||s3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fO=t=>xg()?.emulatorHosts?.[t],o3=t=>{const e=fO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hO=()=>xg()?.config,dO=t=>xg()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pm(JSON.stringify(n)),pm(JSON.stringify(l)),""].join(".")}const vf={};function c3(){const t={prod:[],emulator:[]};for(const e of Object.keys(vf))vf[e]?t.emulator.push(e):t.prod.push(e);return t}function f3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let JT=!1;function gO(t,e){if(typeof window>"u"||typeof document>"u"||!Lu(window.location.host)||vf[t]===e||vf[t]||JT)return;vf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=c3().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{JT=!0,l()},b}function m(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=f3(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),I=n("preprendIcon"),D=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const L=b.element;c(L),m(T,S);const B=d();h(D,I),L.append(D,E,T,B),document.body.appendChild(L)}o?(E.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())}function d3(){const t=xg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y3(){const t=nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v3(){return!d3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b3(){try{return typeof indexedDB=="object"}catch{return!1}}function x3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="FirebaseError";class Xa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_3,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xf.prototype.create)}}class Xf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?w3(o,r):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new Xa(a,c,r)}}function w3(t,e){return t.replace(E3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const E3=/\{\$([^}]+)}/g;function T3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function al(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],l=e[a];if(eA(o)&&eA(l)){if(!al(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function eA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function ff(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A3(t,e){const n=new S3(t,e);return n.subscribe.bind(n)}class S3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");k3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=dv),a.error===void 0&&(a.error=dv),a.complete===void 0&&(a.complete=dv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t){return t&&t._delegate?t._delegate:t}class sl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N3(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function O3(t){return t===Fo?void 0:t}function N3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const R3={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},P3=et.INFO,D3={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},M3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=D3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fx{constructor(e){this.name=e,this._logLevel=P3,this._logHandler=M3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const j3=(t,e)=>e.some(n=>t instanceof n);let tA,nA;function L3(){return tA||(tA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V3(){return nA||(nA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pO=new WeakMap,Q0=new WeakMap,yO=new WeakMap,mv=new WeakMap,hx=new WeakMap;function U3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Fs(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&pO.set(n,t)}).catch(()=>{}),hx.set(e,t),e}function z3(t){if(Q0.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Q0.set(t,e)}let Z0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B3(t){Z0=t(Z0)}function q3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gv(this),e,...n);return yO.set(r,e.sort?e.sort():[e]),Fs(r)}:V3().includes(t)?function(...e){return t.apply(gv(this),e),Fs(pO.get(this))}:function(...e){return Fs(t.apply(gv(this),e))}}function $3(t){return typeof t=="function"?q3(t):(t instanceof IDBTransaction&&z3(t),j3(t,L3())?new Proxy(t,Z0):t)}function Fs(t){if(t instanceof IDBRequest)return U3(t);if(mv.has(t))return mv.get(t);const e=$3(t);return e!==t&&(mv.set(t,e),hx.set(e,t)),e}const gv=t=>hx.get(t);function F3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(t,e),c=Fs(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Fs(l.result),h.oldVersion,h.newVersion,Fs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const H3=["get","getKey","getAll","getAllKeys","count"],K3=["put","add","delete","clear"],pv=new Map;function rA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=K3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||H3.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,a?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),a&&h.done]))[0]};return pv.set(e,o),o}B3(t=>({...t,get:(e,n,r)=>rA(e,n)||t.get(e,n,r),has:(e,n)=>!!rA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y3(t){return t.getComponent()?.type==="VERSION"}const J0="@firebase/app",iA="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new fx("@firebase/app"),W3="@firebase/app-compat",X3="@firebase/analytics-compat",Q3="@firebase/analytics",Z3="@firebase/app-check-compat",J3="@firebase/app-check",e6="@firebase/auth",t6="@firebase/auth-compat",n6="@firebase/database",r6="@firebase/data-connect",i6="@firebase/database-compat",a6="@firebase/functions",s6="@firebase/functions-compat",o6="@firebase/installations",l6="@firebase/installations-compat",u6="@firebase/messaging",c6="@firebase/messaging-compat",f6="@firebase/performance",h6="@firebase/performance-compat",d6="@firebase/remote-config",m6="@firebase/remote-config-compat",g6="@firebase/storage",p6="@firebase/storage-compat",y6="@firebase/firestore",v6="@firebase/ai",b6="@firebase/firestore-compat",x6="firebase",_6="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="[DEFAULT]",w6={[J0]:"fire-core",[W3]:"fire-core-compat",[Q3]:"fire-analytics",[X3]:"fire-analytics-compat",[J3]:"fire-app-check",[Z3]:"fire-app-check-compat",[e6]:"fire-auth",[t6]:"fire-auth-compat",[n6]:"fire-rtdb",[r6]:"fire-data-connect",[i6]:"fire-rtdb-compat",[a6]:"fire-fn",[s6]:"fire-fn-compat",[o6]:"fire-iid",[l6]:"fire-iid-compat",[u6]:"fire-fcm",[c6]:"fire-fcm-compat",[f6]:"fire-perf",[h6]:"fire-perf-compat",[d6]:"fire-rc",[m6]:"fire-rc-compat",[g6]:"fire-gcs",[p6]:"fire-gcs-compat",[y6]:"fire-fst",[b6]:"fire-fst-compat",[v6]:"fire-vertex","fire-js":"fire-js",[x6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new Map,E6=new Map,tb=new Map;function aA(t,e){try{t.container.addComponent(e)}catch(n){qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _u(t){const e=t.name;if(tb.has(e))return qa.debug(`There were multiple attempts to register component ${e}.`),!1;tb.set(e,t);for(const n of ym.values())aA(n,t);for(const n of E6.values())aA(n,t);return!0}function dx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Si(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Xf("app","Firebase",T6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=_6;function vO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:eb,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Hs.create("bad-app-name",{appName:String(a)});if(n||(n=hO()),!n)throw Hs.create("no-options");const o=ym.get(a);if(o){if(al(n,o.options)&&al(r,o.config))return o;throw Hs.create("duplicate-app",{appName:a})}const l=new I3(a);for(const h of tb.values())l.addComponent(h);const c=new A6(n,r,l);return ym.set(a,c),c}function bO(t=eb){const e=ym.get(t);if(!e&&t===eb&&hO())return vO();if(!e)throw Hs.create("no-app",{appName:t});return e}function Ks(t,e,n){let r=w6[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qa.warn(l.join(" "));return}_u(new sl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="firebase-heartbeat-database",k6=1,kf="firebase-heartbeat-store";let yv=null;function xO(){return yv||(yv=F3(S6,k6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),yv}async function C6(t){try{const n=(await xO()).transaction(kf),r=await n.objectStore(kf).get(_O(t));return await n.done,r}catch(e){if(e instanceof Xa)qa.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e?.message});qa.warn(n.message)}}}async function sA(t,e){try{const r=(await xO()).transaction(kf,"readwrite");await r.objectStore(kf).put(e,_O(t)),await r.done}catch(n){if(n instanceof Xa)qa.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n?.message});qa.warn(r.message)}}}function _O(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=1024,N6=30;class I6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>N6){const a=D6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oA(),{heartbeatsToSend:n,unsentEntries:r}=R6(this._heartbeatsCache.heartbeats),a=pm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return qa.warn(e),""}}}function oA(){return new Date().toISOString().substring(0,10)}function R6(t,e=O6){const n=[];let r=t.slice();for(const a of t){const o=n.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),lA(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b3()?x3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lA(t){return pm(JSON.stringify({version:2,heartbeats:t})).length}function D6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){_u(new sl("platform-logger",e=>new G3(e),"PRIVATE")),_u(new sl("heartbeat",e=>new I6(e),"PRIVATE")),Ks(J0,iA,t),Ks(J0,iA,"esm2020"),Ks("fire-js","")}M6("");var j6="firebase",L6="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(j6,L6,"app");function wO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V6=wO,EO=new Xf("auth","Firebase",wO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new fx("@firebase/auth");function U6(t,...e){vm.logLevel<=et.WARN&&vm.warn(`Auth (${Vu}): ${t}`,...e)}function rm(t,...e){vm.logLevel<=et.ERROR&&vm.error(`Auth (${Vu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,...e){throw mx(t,...e)}function Yi(t,...e){return mx(t,...e)}function TO(t,e,n){const r={...V6(),[e]:n};return new Xf("auth","Firebase",r).create(e,{appName:t.name})}function Gs(t){return TO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EO.create(t,...e)}function je(t,e,...n){if(!t)throw mx(e,...n)}function Pa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rm(e),new Error(e)}function $a(t,e){t||Pa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return typeof self<"u"&&self.location?.href||""}function z6(){return uA()==="http:"||uA()==="https:"}function uA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z6()||g3()||"connection"in navigator)?navigator.onLine:!0}function q6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.shortDelay=e,this.longDelay=n,$a(n>e,"Short delay should be less than long delay!"),this.isMobile=h3()||p3()}get(){return B6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){$a(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H6=new Zf(3e4,6e4);function ml(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function oo(t,e,n,r,a={}){return SO(t,a,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Qf({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:h,...o};return m3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Lu(t.emulatorConfig.host)&&(d.credentials="include"),AO.fetch()(await kO(t,t.config.apiHost,n,c),d)})}async function SO(t,e,n){t._canInitEmulator=!1;const r={...$6,...e};try{const a=new G6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Pd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Pd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Pd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw TO(t,m,d);Ii(t,m)}}catch(a){if(a instanceof Xa)throw a;Ii(t,"network-request-failed",{message:String(a)})}}async function _g(t,e,n,r,a={}){const o=await oo(t,e,n,r,a);return"mfaPendingCredential"in o&&Ii(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function kO(t,e,n,r){const a=`${e}${n}?${r}`,o=t,l=o.config.emulator?gx(t.config,a):`${t.config.apiScheme}://${a}`;return F6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function K6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yi(this.auth,"network-request-failed")),H6.get())})}}function Pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Yi(t,e,r);return a.customData._tokenResponse=n,a}function cA(t){return t!==void 0&&t.enterprise!==void 0}class Y6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W6(t,e){return oo(t,"GET","/v2/recaptchaConfig",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e){return oo(t,"POST","/v1/accounts:delete",e)}async function bm(t,e){return oo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q6(t,e=!1){const n=Ur(t),r=await n.getIdToken(e),a=px(r);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,l=o?.sign_in_provider;return{claims:a,token:r,authTime:bf(vv(a.auth_time)),issuedAtTime:bf(vv(a.iat)),expirationTime:bf(vv(a.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function vv(t){return Number(t)*1e3}function px(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rm("JWT malformed, contained fewer than 3 sections"),null;try{const a=cO(n);return a?JSON.parse(a):(rm("Failed to decode base64 JWT payload"),null)}catch(a){return rm("Caught error parsing JWT payload as JSON",a?.toString()),null}}function fA(t){const e=px(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xa&&Z6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bf(this.lastLoginAt),this.creationTime=bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(t){const e=t.auth,n=await t.getIdToken(),r=await Cf(t,bm(e,{idToken:n}));je(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?CO(a.providerUserInfo):[],l=tL(t.providerData,o),c=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!l?.length,d=c?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new rb(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function eL(t){const e=Ur(t);await xm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tL(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function CO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e){const n=await SO(t,{},async()=>{const r=Qf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,l=await kO(t,a,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&Lu(t.emulatorConfig.host)&&(h.credentials="include"),AO.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rL(t,e){return oo(t,"POST","/v2/accounts:revokeToken",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=fA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await nL(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,l=new gu;return r&&(je(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(je(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),o&&(je(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return Pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new J6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new rb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Cf(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q6(this,e)}reload(){return eL(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(Gs(this.auth));const e=await this.getIdToken();return await Cf(this,X6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:_,providerData:E,stsTokenManager:S}=n;je(y&&S,e,"internal-error");const T=gu.fromJSON(this.name,S);je(typeof y=="string",e,"internal-error"),Ds(r,e.name),Ds(a,e.name),je(typeof b=="boolean",e,"internal-error"),je(typeof _=="boolean",e,"internal-error"),Ds(o,e.name),Ds(l,e.name),Ds(c,e.name),Ds(h,e.name),Ds(d,e.name),Ds(m,e.name);const I=new Oi({uid:y,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:T,createdAt:d,lastLoginAt:m});return E&&Array.isArray(E)&&(I.providerData=E.map(D=>({...D}))),h&&(I._redirectEventId=h),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new gu;a.updateFromServerResponse(n);const o=new Oi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await xm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];je(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?CO(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!o?.length,c=new gu;c.updateFromIdToken(r);const h=new Oi({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new rb(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Map;function Da(t){$a(t instanceof Function,"Expected a class definition");let e=hA.get(t);return e?($a(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OO.type="NONE";const dA=OO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e,n){return`firebase:${t}:${e}:${n}`}class pu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=im(this.userKey,a.apiKey,o),this.fullPersistenceKey=im("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bm(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pu(Da(dA),e,r);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Da(dA);const l=im(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(l);if(m){let y;if(typeof m=="string"){const b=await bm(e,{idToken:m}).catch(()=>{});if(!b)break;y=await Oi._fromGetAccountInfoResponse(e,b,m)}else y=Oi._fromJSON(e,m);d!==o&&(c=y),o=d;break}}catch{}const h=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new pu(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new pu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MO(e))return"Blackberry";if(jO(e))return"Webos";if(IO(e))return"Safari";if((e.includes("chrome/")||RO(e))&&!e.includes("edge/"))return"Chrome";if(DO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NO(t=nr()){return/firefox\//i.test(t)}function IO(t=nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RO(t=nr()){return/crios\//i.test(t)}function PO(t=nr()){return/iemobile/i.test(t)}function DO(t=nr()){return/android/i.test(t)}function MO(t=nr()){return/blackberry/i.test(t)}function jO(t=nr()){return/webos/i.test(t)}function yx(t=nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iL(t=nr()){return yx(t)&&!!window.navigator?.standalone}function aL(){return y3()&&document.documentMode===10}function LO(t=nr()){return yx(t)||DO(t)||jO(t)||MO(t)||/windows phone/i.test(t)||PO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t,e=[]){let n;switch(t){case"Browser":n=mA(nr());break;case"Worker":n=`${mA(nr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e={}){return oo(t,"GET","/v2/passwordPolicy",ml(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=6;class uL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gA(this),this.idTokenSubscription=new gA(this),this.beforeStateQueue=new sL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Da(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bm(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Si(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(Gs(this));const n=e?Ur(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oL(this),n=new uL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Da(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await pu.create(this,[Da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Uu(t){return Ur(t)}class gA{constructor(e){this.auth=e,this.observer=null,this.addObserver=A3(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fL(t){wg=t}function UO(t){return wg.loadJS(t)}function hL(){return wg.recaptchaEnterpriseScript}function dL(){return wg.gapiScript}function mL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gL{constructor(){this.enterprise=new pL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yL="recaptcha-enterprise",zO="NO_RECAPTCHA";class vL{constructor(e){this.type=yL,this.auth=Uu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{W6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new Y6(h);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function a(o,l,c){const h=window.grecaptcha;cA(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(d=>{l(d)}).catch(()=>{l(zO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&cA(window.grecaptcha))a(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=hL();h.length!==0&&(h+=c),UO(h).then(()=>{a(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function pA(t,e,n,r=!1,a=!1){const o=new vL(t);let l;if(a)l=zO;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function yA(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await pA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await pA(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e){const n=dx(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(al(o,e??{}))return a;Ii(a,"already-initialized")}return n.initialize({options:e})}function xL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Da);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _L(t,e,n){const r=Uu(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=BO(e),{host:l,port:c}=wL(e),h=c===null?"":`:${c}`,d={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(al(d,r.config.emulator)&&al(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Lu(l)?(mO(`${o}//${l}${h}`),gO("Auth",!0)):EL()}function BO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wL(t){const e=BO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:vA(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:vA(l)}}}function vA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pa("not implemented")}_getIdTokenResponse(e){return Pa("not implemented")}_linkToIdToken(e,n){return Pa("not implemented")}_getReauthenticationResolver(e){return Pa("not implemented")}}async function TL(t,e){return oo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){return _g(t,"POST","/v1/accounts:signInWithPassword",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e){return _g(t,"POST","/v1/accounts:signInWithEmailLink",ml(t,e))}async function kL(t,e){return _g(t,"POST","/v1/accounts:signInWithEmailLink",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends vx{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Of(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Of(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yA(e,n,"signInWithPassword",AL);case"emailLink":return SL(e,{email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yA(e,r,"signUpPassword",TL);case"emailLink":return kL(e,{idToken:n,email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e){return _g(t,"POST","/v1/accounts:signInWithIdp",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="http://localhost";class ol extends vx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ol(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const l=new ol(r,a);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return yu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yu(e,n)}buildRequest(){const e={requestUri:CL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NL(t){const e=cf(ff(t)).link,n=e?cf(ff(e)).deep_link_id:null,r=cf(ff(t)).deep_link_id;return(r?cf(ff(r)).link:null)||r||n||e||t}class bx{constructor(e){const n=cf(ff(e)),r=n.apiKey??null,a=n.oobCode??null,o=OL(n.mode??null);je(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NL(e);try{return new bx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.providerId=zu.PROVIDER_ID}static credential(e,n){return Of._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bx.parseLink(n);return je(r,"argument-error"),Of._fromEmailAndCode(e,r.code,r.tenantId)}}zu.PROVIDER_ID="password";zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends qO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Jf{constructor(){super("facebook.com")}static credential(e){return ol._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Jf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ol._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Jf{constructor(){super("github.com")}static credential(e){return ol._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Jf{constructor(){super("twitter.com")}static credential(e,n){return ol._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Oi._fromIdTokenResponse(e,r,a),l=bA(r);return new wu({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=bA(r);return new wu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function bA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends Xa{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new _m(e,n,r,a)}}function $O(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(t,o,e,r):o})}async function IL(t,e,n=!1){const r=await Cf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e,n=!1){const{auth:r}=t;if(Si(r.app))return Promise.reject(Gs(r));const a="reauthenticate";try{const o=await Cf(t,$O(r,a,e,t),n);je(o.idToken,r,"internal-error");const l=px(o.idToken);je(l,r,"internal-error");const{sub:c}=l;return je(t.uid===c,r,"user-mismatch"),wu._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ii(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e,n=!1){if(Si(t.app))return Promise.reject(Gs(t));const r="signIn",a=await $O(t,r,e),o=await wu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function PL(t,e){return FO(Uu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t){const e=Uu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ML(t,e,n){return Si(t.app)?Promise.reject(Gs(t)):PL(Ur(t),zu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DL(t),r})}function jL(t,e,n,r){return Ur(t).onIdTokenChanged(e,n,r)}function LL(t,e,n){return Ur(t).beforeAuthStateChanged(e,n)}function VL(t,e,n,r){return Ur(t).onAuthStateChanged(e,n,r)}function xA(t){return Ur(t).signOut()}const wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wm,"1"),this.storage.removeItem(wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=1e3,zL=10;class KO extends HO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);aL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,zL):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KO.type="LOCAL";const BL=KO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO extends HO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GO.type="SESSION";const YO=GO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Eg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(l).map(async d=>d(n.origin,o)),h=await qL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const d=xx("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(y){const b=y;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(b.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return window}function FL(t){Wi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function HL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KL(){return navigator?.serviceWorker?.controller||null}function GL(){return WO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="firebaseLocalStorageDb",YL=1,Em="firebaseLocalStorage",QO="fbase_key";class eh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tg(t,e){return t.transaction([Em],e?"readwrite":"readonly").objectStore(Em)}function WL(){const t=indexedDB.deleteDatabase(XO);return new eh(t).toPromise()}function ib(){const t=indexedDB.open(XO,YL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Em,{keyPath:QO})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Em)?e(r):(r.close(),await WL(),e(await ib()))})})}async function _A(t,e,n){const r=Tg(t,!0).put({[QO]:e,value:n});return new eh(r).toPromise()}async function XL(t,e){const n=Tg(t,!1).get(e),r=await new eh(n).toPromise();return r===void 0?null:r.value}function wA(t,e){const n=Tg(t,!0).delete(e);return new eh(n).toPromise()}const QL=800,ZL=3;class ZO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ib(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eg._getInstance(GL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HL(),!this.activeServiceWorker)return;this.sender=new $L(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ib();return await _A(e,wm,"1"),await wA(e,wm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_A(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Tg(a,!1).getAll();return new eh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZO.type="LOCAL";const JL=ZO;new Zf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t,e){return e?Da(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tV(t){return FO(t.auth,new _x(t),t.bypassAuthState)}function nV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),RL(n,new _x(t),t.bypassAuthState)}async function rV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),IL(n,new _x(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tV;case"linkViaPopup":case"linkViaRedirect":return rV;case"reauthViaPopup":case"reauthViaRedirect":return nV;default:Ii(this.auth,"internal-error")}}resolve(e){$a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new Zf(2e3,1e4);class du extends JO{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,du.currentPopupAction&&du.currentPopupAction.cancel(),du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){$a(this.filter.length===1,"Popup operations only handle one event");const e=xx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,du.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iV.get())};e()}}du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="pendingRedirect",am=new Map;class sV extends JO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=am.get(this.auth._key());if(!e){try{const r=await oV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}am.set(this.auth._key(),e)}return this.bypassAuthState||am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oV(t,e){const n=cV(e),r=uV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function lV(t,e){am.set(t._key(),e)}function uV(t){return Da(t._redirectPersistence)}function cV(t){return im(aV,t.config.apiKey,t.name)}async function fV(t,e,n=!1){if(Si(t.app))return Promise.reject(Gs(t));const r=Uu(t),a=eV(r,e),l=await new sV(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=600*1e3;class dV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eN(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hV&&this.cachedEventUids.clear(),this.cachedEventUids.has(EA(e))}saveEventToCache(e){this.cachedEventUids.add(EA(e)),this.lastProcessedEventTime=Date.now()}}function EA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e={}){return oo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yV=/^https?/;async function vV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gV(t);for(const n of e)try{if(bV(n))return}catch{}Ii(t,"unauthorized-domain")}function bV(t){const e=nb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!yV.test(n))return!1;if(pV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new Zf(3e4,6e4);function TA(){const t=Wi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _V(t){return new Promise((e,n)=>{function r(){TA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TA(),n(Yi(t,"network-request-failed"))},timeout:xV.get()})}if(Wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wi().gapi?.load)r();else{const a=mL("iframefcb");return Wi()[a]=()=>{gapi.load?r():n(Yi(t,"network-request-failed"))},UO(`${dL()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw sm=null,e})}let sm=null;function wV(t){return sm=sm||_V(t),sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new Zf(5e3,15e3),TV="__/auth/iframe",AV="emulator/auth/iframe",SV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CV(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gx(e,AV):`https://${t.config.authDomain}/${TV}`,r={apiKey:e.apiKey,appName:t.name,v:Vu},a=kV.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qf(r).slice(1)}`}async function OV(t){const e=await wV(t),n=Wi().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:CV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SV,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const l=Yi(t,"network-request-failed"),c=Wi().setTimeout(()=>{o(l)},EV.get());function h(){Wi().clearTimeout(c),a(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IV=500,RV=600,PV="_blank",DV="http://localhost";class AA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MV(t,e,n,r=IV,a=RV){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...NV,width:r.toString(),height:a.toString(),top:o,left:l},d=nr().toLowerCase();n&&(c=RO(d)?PV:n),NO(d)&&(e=e||DV,h.scrollbars="yes");const m=Object.entries(h).reduce((b,[_,E])=>`${b}${_}=${E},`,"");if(iL(d)&&c!=="_self")return jV(e||"",c),new AA(null);const y=window.open(e||"",c,m);je(y,t,"popup-blocked");try{y.focus()}catch{}return new AA(y)}function jV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="__/auth/handler",VV="emulator/auth/handler",UV=encodeURIComponent("fac");async function SA(t,e,n,r,a,o){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vu,eventId:a};if(e instanceof qO){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",T3(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Jf){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),d=h?`#${UV}=${encodeURIComponent(h)}`:"";return`${zV(t)}?${Qf(c).slice(1)}${d}`}function zV({config:t}){return t.emulator?gx(t,VV):`https://${t.authDomain}/${LV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="webStorageSupport";class BV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YO,this._completeRedirectFn=fV,this._overrideRedirectResult=lV}async _openPopup(e,n,r,a){$a(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await SA(e,n,r,nb(),a);return MV(e,o,xx())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await SA(e,n,r,nb(),a);return FL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):($a(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OV(e),r=new dV(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bv,{type:bv},a=>{const o=a?.[0]?.[bv];o!==void 0&&n(!!o),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LO()||IO()||yx()}}const qV=BV;var kA="@firebase/auth",CA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HV(t){_u(new sl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VO(t)},d=new cL(r,a,o,h);return xL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_u(new sl("auth-internal",e=>{const n=Uu(e.getProvider("auth").getImmediate());return(r=>new $V(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(kA,CA,FV(t)),Ks(kA,CA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=300,GV=dO("authIdTokenMaxAge")||KV;let OA=null;const YV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GV)return;const a=n?.token;OA!==a&&(OA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function WV(t=bO()){const e=dx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bL(t,{popupRedirectResolver:qV,persistence:[JL,BL,YO]}),r=dO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=YV(o.toString());LL(n,l,()=>l(n.currentUser)),jL(n,c=>l(c))}}const a=fO("auth");return a&&_L(n,`http://${a}`),n}function XV(){return document.getElementsByTagName("head")?.[0]??document}fL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Yi("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",XV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HV("Browser");var NA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,tN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,O){function P(){}P.prototype=O.prototype,R.F=O.prototype,R.prototype=new P,R.prototype.constructor=R,R.D=function(U,j,z){for(var V=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)V[pe-2]=arguments[pe];return O.prototype[j].apply(U,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,O,P){P||(P=0);const U=Array(16);if(typeof O=="string")for(var j=0;j<16;++j)U[j]=O.charCodeAt(P++)|O.charCodeAt(P++)<<8|O.charCodeAt(P++)<<16|O.charCodeAt(P++)<<24;else for(j=0;j<16;++j)U[j]=O[P++]|O[P++]<<8|O[P++]<<16|O[P++]<<24;O=R.g[0],P=R.g[1],j=R.g[2];let z=R.g[3],V;V=O+(z^P&(j^z))+U[0]+3614090360&4294967295,O=P+(V<<7&4294967295|V>>>25),V=z+(j^O&(P^j))+U[1]+3905402710&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(P^z&(O^P))+U[2]+606105819&4294967295,j=z+(V<<17&4294967295|V>>>15),V=P+(O^j&(z^O))+U[3]+3250441966&4294967295,P=j+(V<<22&4294967295|V>>>10),V=O+(z^P&(j^z))+U[4]+4118548399&4294967295,O=P+(V<<7&4294967295|V>>>25),V=z+(j^O&(P^j))+U[5]+1200080426&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(P^z&(O^P))+U[6]+2821735955&4294967295,j=z+(V<<17&4294967295|V>>>15),V=P+(O^j&(z^O))+U[7]+4249261313&4294967295,P=j+(V<<22&4294967295|V>>>10),V=O+(z^P&(j^z))+U[8]+1770035416&4294967295,O=P+(V<<7&4294967295|V>>>25),V=z+(j^O&(P^j))+U[9]+2336552879&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(P^z&(O^P))+U[10]+4294925233&4294967295,j=z+(V<<17&4294967295|V>>>15),V=P+(O^j&(z^O))+U[11]+2304563134&4294967295,P=j+(V<<22&4294967295|V>>>10),V=O+(z^P&(j^z))+U[12]+1804603682&4294967295,O=P+(V<<7&4294967295|V>>>25),V=z+(j^O&(P^j))+U[13]+4254626195&4294967295,z=O+(V<<12&4294967295|V>>>20),V=j+(P^z&(O^P))+U[14]+2792965006&4294967295,j=z+(V<<17&4294967295|V>>>15),V=P+(O^j&(z^O))+U[15]+1236535329&4294967295,P=j+(V<<22&4294967295|V>>>10),V=O+(j^z&(P^j))+U[1]+4129170786&4294967295,O=P+(V<<5&4294967295|V>>>27),V=z+(P^j&(O^P))+U[6]+3225465664&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^P&(z^O))+U[11]+643717713&4294967295,j=z+(V<<14&4294967295|V>>>18),V=P+(z^O&(j^z))+U[0]+3921069994&4294967295,P=j+(V<<20&4294967295|V>>>12),V=O+(j^z&(P^j))+U[5]+3593408605&4294967295,O=P+(V<<5&4294967295|V>>>27),V=z+(P^j&(O^P))+U[10]+38016083&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^P&(z^O))+U[15]+3634488961&4294967295,j=z+(V<<14&4294967295|V>>>18),V=P+(z^O&(j^z))+U[4]+3889429448&4294967295,P=j+(V<<20&4294967295|V>>>12),V=O+(j^z&(P^j))+U[9]+568446438&4294967295,O=P+(V<<5&4294967295|V>>>27),V=z+(P^j&(O^P))+U[14]+3275163606&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^P&(z^O))+U[3]+4107603335&4294967295,j=z+(V<<14&4294967295|V>>>18),V=P+(z^O&(j^z))+U[8]+1163531501&4294967295,P=j+(V<<20&4294967295|V>>>12),V=O+(j^z&(P^j))+U[13]+2850285829&4294967295,O=P+(V<<5&4294967295|V>>>27),V=z+(P^j&(O^P))+U[2]+4243563512&4294967295,z=O+(V<<9&4294967295|V>>>23),V=j+(O^P&(z^O))+U[7]+1735328473&4294967295,j=z+(V<<14&4294967295|V>>>18),V=P+(z^O&(j^z))+U[12]+2368359562&4294967295,P=j+(V<<20&4294967295|V>>>12),V=O+(P^j^z)+U[5]+4294588738&4294967295,O=P+(V<<4&4294967295|V>>>28),V=z+(O^P^j)+U[8]+2272392833&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^P)+U[11]+1839030562&4294967295,j=z+(V<<16&4294967295|V>>>16),V=P+(j^z^O)+U[14]+4259657740&4294967295,P=j+(V<<23&4294967295|V>>>9),V=O+(P^j^z)+U[1]+2763975236&4294967295,O=P+(V<<4&4294967295|V>>>28),V=z+(O^P^j)+U[4]+1272893353&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^P)+U[7]+4139469664&4294967295,j=z+(V<<16&4294967295|V>>>16),V=P+(j^z^O)+U[10]+3200236656&4294967295,P=j+(V<<23&4294967295|V>>>9),V=O+(P^j^z)+U[13]+681279174&4294967295,O=P+(V<<4&4294967295|V>>>28),V=z+(O^P^j)+U[0]+3936430074&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^P)+U[3]+3572445317&4294967295,j=z+(V<<16&4294967295|V>>>16),V=P+(j^z^O)+U[6]+76029189&4294967295,P=j+(V<<23&4294967295|V>>>9),V=O+(P^j^z)+U[9]+3654602809&4294967295,O=P+(V<<4&4294967295|V>>>28),V=z+(O^P^j)+U[12]+3873151461&4294967295,z=O+(V<<11&4294967295|V>>>21),V=j+(z^O^P)+U[15]+530742520&4294967295,j=z+(V<<16&4294967295|V>>>16),V=P+(j^z^O)+U[2]+3299628645&4294967295,P=j+(V<<23&4294967295|V>>>9),V=O+(j^(P|~z))+U[0]+4096336452&4294967295,O=P+(V<<6&4294967295|V>>>26),V=z+(P^(O|~j))+U[7]+1126891415&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~P))+U[14]+2878612391&4294967295,j=z+(V<<15&4294967295|V>>>17),V=P+(z^(j|~O))+U[5]+4237533241&4294967295,P=j+(V<<21&4294967295|V>>>11),V=O+(j^(P|~z))+U[12]+1700485571&4294967295,O=P+(V<<6&4294967295|V>>>26),V=z+(P^(O|~j))+U[3]+2399980690&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~P))+U[10]+4293915773&4294967295,j=z+(V<<15&4294967295|V>>>17),V=P+(z^(j|~O))+U[1]+2240044497&4294967295,P=j+(V<<21&4294967295|V>>>11),V=O+(j^(P|~z))+U[8]+1873313359&4294967295,O=P+(V<<6&4294967295|V>>>26),V=z+(P^(O|~j))+U[15]+4264355552&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~P))+U[6]+2734768916&4294967295,j=z+(V<<15&4294967295|V>>>17),V=P+(z^(j|~O))+U[13]+1309151649&4294967295,P=j+(V<<21&4294967295|V>>>11),V=O+(j^(P|~z))+U[4]+4149444226&4294967295,O=P+(V<<6&4294967295|V>>>26),V=z+(P^(O|~j))+U[11]+3174756917&4294967295,z=O+(V<<10&4294967295|V>>>22),V=j+(O^(z|~P))+U[2]+718787259&4294967295,j=z+(V<<15&4294967295|V>>>17),V=P+(z^(j|~O))+U[9]+3951481745&4294967295,R.g[0]=R.g[0]+O&4294967295,R.g[1]=R.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+j&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,O){O===void 0&&(O=R.length);const P=O-this.blockSize,U=this.C;let j=this.h,z=0;for(;z<O;){if(j==0)for(;z<=P;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<O;)if(U[j++]=R.charCodeAt(z++),j==this.blockSize){a(this,U),j=0;break}}else for(;z<O;)if(U[j++]=R[z++],j==this.blockSize){a(this,U),j=0;break}}this.h=j,this.o+=O},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var O=1;O<R.length-8;++O)R[O]=0;O=this.o*8;for(var P=R.length-8;P<R.length;++P)R[P]=O&255,O/=256;for(this.v(R),R=Array(16),O=0,P=0;P<4;++P)for(let U=0;U<32;U+=8)R[O++]=this.g[P]>>>U&255;return R};function o(R,O){var P=c;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=O(R)}function l(R,O){this.h=O;const P=[];let U=!0;for(let j=R.length-1;j>=0;j--){const z=R[j]|0;U&&z==O||(P[j]=z,U=!1)}this.g=P}var c={};function h(R){return-128<=R&&R<128?o(R,function(O){return new l([O|0],O<0?-1:0)}):new l([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return y;if(R<0)return T(d(-R));const O=[];let P=1;for(let U=0;R>=P;U++)O[U]=R/P|0,P*=4294967296;return new l(O,0)}function m(R,O){if(R.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(R.charAt(0)=="-")return T(m(R.substring(1),O));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=d(Math.pow(O,8));let U=y;for(let z=0;z<R.length;z+=8){var j=Math.min(8,R.length-z);const V=parseInt(R.substring(z,z+j),O);j<8?(j=d(Math.pow(O,j)),U=U.j(j).add(d(V))):(U=U.j(P),U=U.add(d(V)))}return U}var y=h(0),b=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-T(this).m();let R=0,O=1;for(let P=0;P<this.g.length;P++){const U=this.i(P);R+=(U>=0?U:4294967296+U)*O,O*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(E(this))return"0";if(S(this))return"-"+T(this).toString(R);const O=d(Math.pow(R,6));var P=this;let U="";for(;;){const j=B(P,O).g;P=I(P,j.j(O));let z=((P.g.length>0?P.g[0]:P.h)>>>0).toString(R);if(P=j,E(P))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function E(R){if(R.h!=0)return!1;for(let O=0;O<R.g.length;O++)if(R.g[O]!=0)return!1;return!0}function S(R){return R.h==-1}t.l=function(R){return R=I(this,R),S(R)?-1:E(R)?0:1};function T(R){const O=R.g.length,P=[];for(let U=0;U<O;U++)P[U]=~R.g[U];return new l(P,~R.h).add(b)}t.abs=function(){return S(this)?T(this):this},t.add=function(R){const O=Math.max(this.g.length,R.g.length),P=[];let U=0;for(let j=0;j<=O;j++){let z=U+(this.i(j)&65535)+(R.i(j)&65535),V=(z>>>16)+(this.i(j)>>>16)+(R.i(j)>>>16);U=V>>>16,z&=65535,V&=65535,P[j]=V<<16|z}return new l(P,P[P.length-1]&-2147483648?-1:0)};function I(R,O){return R.add(T(O))}t.j=function(R){if(E(this)||E(R))return y;if(S(this))return S(R)?T(this).j(T(R)):T(T(this).j(R));if(S(R))return T(this.j(T(R)));if(this.l(_)<0&&R.l(_)<0)return d(this.m()*R.m());const O=this.g.length+R.g.length,P=[];for(var U=0;U<2*O;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(let j=0;j<R.g.length;j++){const z=this.i(U)>>>16,V=this.i(U)&65535,pe=R.i(j)>>>16,ve=R.i(j)&65535;P[2*U+2*j]+=V*ve,D(P,2*U+2*j),P[2*U+2*j+1]+=z*ve,D(P,2*U+2*j+1),P[2*U+2*j+1]+=V*pe,D(P,2*U+2*j+1),P[2*U+2*j+2]+=z*pe,D(P,2*U+2*j+2)}for(R=0;R<O;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=O;R<2*O;R++)P[R]=0;return new l(P,0)};function D(R,O){for(;(R[O]&65535)!=R[O];)R[O+1]+=R[O]>>>16,R[O]&=65535,O++}function L(R,O){this.g=R,this.h=O}function B(R,O){if(E(O))throw Error("division by zero");if(E(R))return new L(y,y);if(S(R))return O=B(T(R),O),new L(T(O.g),T(O.h));if(S(O))return O=B(R,T(O)),new L(T(O.g),O.h);if(R.g.length>30){if(S(R)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var P=b,U=O;U.l(R)<=0;)P=q(P),U=q(U);var j=F(P,1),z=F(U,1);for(U=F(U,2),P=F(P,2);!E(U);){var V=z.add(U);V.l(R)<=0&&(j=j.add(P),z=V),U=F(U,1),P=F(P,1)}return O=I(R,j.j(O)),new L(j,O)}for(j=y;R.l(O)>=0;){for(P=Math.max(1,Math.floor(R.m()/O.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=d(P),V=z.j(O);S(V)||V.l(R)>0;)P-=U,z=d(P),V=z.j(O);E(z)&&(z=b),j=j.add(z),R=I(R,V)}return new L(j,R)}t.B=function(R){return B(this,R).h},t.and=function(R){const O=Math.max(this.g.length,R.g.length),P=[];for(let U=0;U<O;U++)P[U]=this.i(U)&R.i(U);return new l(P,this.h&R.h)},t.or=function(R){const O=Math.max(this.g.length,R.g.length),P=[];for(let U=0;U<O;U++)P[U]=this.i(U)|R.i(U);return new l(P,this.h|R.h)},t.xor=function(R){const O=Math.max(this.g.length,R.g.length),P=[];for(let U=0;U<O;U++)P[U]=this.i(U)^R.i(U);return new l(P,this.h^R.h)};function q(R){const O=R.g.length+1,P=[];for(let U=0;U<O;U++)P[U]=R.i(U)<<1|R.i(U-1)>>>31;return new l(P,R.h)}function F(R,O){const P=O>>5;O%=32;const U=R.g.length-P,j=[];for(let z=0;z<U;z++)j[z]=O>0?R.i(z+P)>>>O|R.i(z+P+1)<<32-O:R.i(z+P);return new l(j,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tN=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Ys=l}).apply(typeof NA<"u"?NA:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nN,hf,rN,om,ab,iN,aN,sN;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var w=0;w<g.length;++w){var A=g[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function a(g,w){if(w)e:{var A=r;g=g.split(".");for(var M=0;M<g.length-1;M++){var W=g[M];if(!(W in A))break e;A=A[W]}g=g[g.length-1],M=A[g],w=w(M),w!=M&&w!=null&&e(A,g,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(w){var A=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&A.push([M,w[M]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function h(g,w,A){return g.call.apply(g.bind,arguments)}function d(g,w,A){return d=h,d.apply(null,arguments)}function m(g,w){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function y(g,w){function A(){}A.prototype=w.prototype,g.Z=w.prototype,g.prototype=new A,g.prototype.constructor=g,g.Ob=function(M,W,ee){for(var fe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)fe[qe-2]=arguments[qe];return w.prototype[W].apply(M,fe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const w=g.length;if(w>0){const A=Array(w);for(let M=0;M<w;M++)A[M]=g[M];return A}return[]}function E(g,w){for(let M=1;M<arguments.length;M++){const W=arguments[M];var A=typeof W;if(A=A!="object"?A:W?Array.isArray(W)?"array":A:"null",A=="array"||A=="object"&&typeof W.length=="number"){A=g.length||0;const ee=W.length||0;g.length=A+ee;for(let fe=0;fe<ee;fe++)g[A+fe]=W[fe]}else g.push(W)}}class S{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(g){l.setTimeout(()=>{throw g},0)}function I(){var g=R;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class D{constructor(){this.h=this.g=null}add(w,A){const M=L.get();M.set(w,A),this.h?this.h.next=M:this.g=M,this.h=M}}var L=new S(()=>new B,g=>g.reset());class B{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let q,F=!1,R=new D,O=()=>{const g=Promise.resolve(void 0);q=()=>{g.then(P)}};function P(){for(var g;g=I();){try{g.h.call(g.g)}catch(A){T(A)}var w=L;w.j(g),w.h<100&&(w.h++,g.next=w.g,w.g=g)}F=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};l.addEventListener("test",A,w),l.removeEventListener("test",A,w)}catch{}return g})();function V(g){return/^[\s\xa0]*$/.test(g)}function pe(g,w){j.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,w)}y(pe,j),pe.prototype.init=function(g,w){const A=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget,w||(A=="mouseover"?w=g.fromElement:A=="mouseout"&&(w=g.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ue(g,w,A,M,W){this.listener=g,this.proxy=null,this.src=w,this.type=A,this.capture=!!M,this.ha=W,this.key=++Z,this.da=this.fa=!1}function ge(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Te(g,w,A){for(const M in g)w.call(A,g[M],M,g)}function H(g,w){for(const A in g)w.call(void 0,g[A],A,g)}function ie(g){const w={};for(const A in g)w[A]=g[A];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(g,w){let A,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(A in M)g[A]=M[A];for(let ee=0;ee<ae.length;ee++)A=ae[ee],Object.prototype.hasOwnProperty.call(M,A)&&(g[A]=M[A])}}function Ee(g){this.src=g,this.g={},this.h=0}Ee.prototype.add=function(g,w,A,M,W){const ee=g.toString();g=this.g[ee],g||(g=this.g[ee]=[],this.h++);const fe=Re(g,w,M,W);return fe>-1?(w=g[fe],A||(w.fa=!1)):(w=new ue(w,this.src,ee,!!M,W),w.fa=A,g.push(w)),w};function Ie(g,w){const A=w.type;if(A in g.g){var M=g.g[A],W=Array.prototype.indexOf.call(M,w,void 0),ee;(ee=W>=0)&&Array.prototype.splice.call(M,W,1),ee&&(ge(w),g.g[A].length==0&&(delete g.g[A],g.h--))}}function Re(g,w,A,M){for(let W=0;W<g.length;++W){const ee=g[W];if(!ee.da&&ee.listener==w&&ee.capture==!!A&&ee.ha==M)return W}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),ot={};function me(g,w,A,M,W){if(Array.isArray(w)){for(let ee=0;ee<w.length;ee++)me(g,w[ee],A,M,W);return null}return A=gi(A),g&&g[ve]?g.J(w,A,c(M)?!!M.capture:!1,W):Ue(g,w,A,!1,M,W)}function Ue(g,w,A,M,W,ee){if(!w)throw Error("Invalid event type");const fe=c(W)?!!W.capture:!!W;let qe=Wt(g);if(qe||(g[Ft]=qe=new Ee(g)),A=qe.add(w,A,M,fe,ee),A.proxy)return A;if(M=Fe(),A.proxy=M,M.src=g,M.listener=A,g.addEventListener)z||(W=fe),W===void 0&&(W=!1),g.addEventListener(w.toString(),M,W);else if(g.attachEvent)g.attachEvent(Je(w.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Fe(){function g(A){return w.call(g.src,g.listener,A)}const w=Ht;return g}function ce(g,w,A,M,W){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)ce(g,w[ee],A,M,W);else M=c(M)?!!M.capture:!!M,A=gi(A),g&&g[ve]?(g=g.i,ee=String(w).toString(),ee in g.g&&(w=g.g[ee],A=Re(w,A,M,W),A>-1&&(ge(w[A]),Array.prototype.splice.call(w,A,1),w.length==0&&(delete g.g[ee],g.h--)))):g&&(g=Wt(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Re(w,A,M,W)),(A=g>-1?w[g]:null)&&Nt(A))}function Nt(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[ve])Ie(w.i,g);else{var A=g.type,M=g.proxy;w.removeEventListener?w.removeEventListener(A,M,g.capture):w.detachEvent?w.detachEvent(Je(A),M):w.addListener&&w.removeListener&&w.removeListener(M),(A=Wt(w))?(Ie(A,g),A.h==0&&(A.src=null,w[Ft]=null)):ge(g)}}}function Je(g){return g in ot?ot[g]:ot[g]="on"+g}function Ht(g,w){if(g.da)g=!0;else{w=new pe(w,this);const A=g.listener,M=g.ha||g.src;g.fa&&Nt(g),g=A.call(M,w)}return g}function Wt(g){return g=g[Ft],g instanceof Ee?g:null}var _t="__closure_events_fn_"+(Math.random()*1e9>>>0);function gi(g){return typeof g=="function"?g:(g[_t]||(g[_t]=function(w){return g.handleEvent(w)}),g[_t])}function Vt(){U.call(this),this.i=new Ee(this),this.M=this,this.G=null}y(Vt,U),Vt.prototype[ve]=!0,Vt.prototype.removeEventListener=function(g,w,A,M){ce(this,g,w,A,M)};function wt(g,w){var A,M=g.G;if(M)for(A=[];M;M=M.G)A.push(M);if(g=g.M,M=w.type||w,typeof w=="string")w=new j(w,g);else if(w instanceof j)w.target=w.target||g;else{var W=w;w=new j(M,g),he(w,W)}W=!0;let ee,fe;if(A)for(fe=A.length-1;fe>=0;fe--)ee=w.g=A[fe],W=Tr(ee,M,!0,w)&&W;if(ee=w.g=g,W=Tr(ee,M,!0,w)&&W,W=Tr(ee,M,!1,w)&&W,A)for(fe=0;fe<A.length;fe++)ee=w.g=A[fe],W=Tr(ee,M,!1,w)&&W}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var g=this.i;for(const w in g.g){const A=g.g[w];for(let M=0;M<A.length;M++)ge(A[M]);delete g.g[w],g.h--}}this.G=null},Vt.prototype.J=function(g,w,A,M){return this.i.add(String(g),w,!1,A,M)},Vt.prototype.K=function(g,w,A,M){return this.i.add(String(g),w,!0,A,M)};function Tr(g,w,A,M){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let ee=0;ee<w.length;++ee){const fe=w[ee];if(fe&&!fe.da&&fe.capture==A){const qe=fe.listener,Rt=fe.ha||fe.src;fe.fa&&Ie(g.i,fe),W=qe.call(Rt,M)!==!1&&W}}return W&&!M.defaultPrevented}function ir(g,w){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(g,w||0)}function oa(g){g.g=ir(()=>{g.g=null,g.i&&(g.i=!1,oa(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class ar extends U{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(g){U.call(this),this.h=g,this.g={}}y(la,U);var sr=[];function un(g){Te(g.g,function(w,A){this.g.hasOwnProperty(A)&&Nt(w)},g),g.g={}}la.prototype.N=function(){la.Z.N.call(this),un(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=l.JSON.stringify,bn=l.JSON.parse,ua=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function In(){}function El(){}var $r={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ri(){j.call(this,"d")}y(Ri,j);function pt(){j.call(this,"c")}y(pt,j);var Kn={},Pi=null;function or(){return Pi=Pi||new Vt}Kn.Ia="serverreachability";function ho(g){j.call(this,Kn.Ia,g)}y(ho,j);function Di(g){const w=or();wt(w,new ho(w))}Kn.STAT_EVENT="statevent";function Fr(g,w){j.call(this,Kn.STAT_EVENT,g),this.stat=w}y(Fr,j);function Ut(g){const w=or();wt(w,new Fr(w,g))}Kn.Ja="timingevent";function Tl(g,w){j.call(this,Kn.Ja,g),this.size=w}y(Tl,j);function Hr(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},w)}function Mi(){this.g=!0}Mi.prototype.ua=function(){this.g=!1};function ns(g,w,A,M,W,ee){g.info(function(){if(g.g)if(ee){var fe="",qe=ee.split("&");for(let ht=0;ht<qe.length;ht++){var Rt=qe[ht].split("=");if(Rt.length>1){const Xt=Rt[0];Rt=Rt[1];const Sr=Xt.split("_");fe=Sr.length>=2&&Sr[1]=="type"?fe+(Xt+"="+Rt+"&"):fe+(Xt+"=redacted&")}}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+w+`
`+A+`
`+fe})}function rs(g,w,A,M,W,ee,fe){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+w+`
`+A+`
`+ee+" "+fe})}function de(g,w,A,M){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ae(g,A)+(M?" "+M:"")})}function we(g,w){g.info(function(){return"TIMEOUT: "+w})}Mi.prototype.info=function(){};function Ae(g,w){if(!g.g)return w;if(!w)return null;try{const ee=JSON.parse(w);if(ee){for(g=0;g<ee.length;g++)if(Array.isArray(ee[g])){var A=ee[g];if(!(A.length<2)){var M=A[1];if(Array.isArray(M)&&!(M.length<1)){var W=M[0];if(W!="noop"&&W!="stop"&&W!="close")for(let fe=1;fe<M.length;fe++)M[fe]=""}}}}return Hn(ee)}catch{return w}}var ye={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Se={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Be;function It(){}y(It,In),It.prototype.g=function(){return new XMLHttpRequest},Be=new It;function xn(g){return encodeURIComponent(String(g))}function Ye(g){var w=1;g=g.split(":");const A=[];for(;w>0&&g.length;)A.push(g.shift()),w--;return g.length&&A.push(g.join(":")),A}function Xe(g,w,A,M){this.j=g,this.i=w,this.l=A,this.S=M||1,this.V=new la(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}var pi={},Gn={};function cn(g,w,A){g.M=1,g.A=ha(zt(w)),g.u=A,g.R=!0,Rn(g,null)}function Rn(g,w){g.F=Date.now(),ji(g),g.B=zt(g.A);var A=g.B,M=g.S;Array.isArray(M)||(M=[String(M)]),_h(A.i,"t",M),g.C=0,A=g.j.L,g.h=new at,g.g=Rl(g.j,A?w:null,!g.u),g.P>0&&(g.O=new ar(d(g.Y,g,g.g),g.P)),w=g.V,A=g.g,M=g.ba;var W="readystatechange";Array.isArray(W)||(W&&(sr[0]=W.toString()),W=sr);for(let ee=0;ee<W.length;ee++){const fe=me(A,W[ee],M||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=g.J?ie(g.J):{},g.u?(g.v||(g.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,w)):(g.v="GET",g.g.ea(g.B,g.v,null,w)),Di(),ns(g.i,g.v,g.B,g.l,g.S,g.u)}Xe.prototype.ba=function(g){g=g.target;const w=this.O;w&&Yn(g)==3?w.j():this.Y(g)},Xe.prototype.Y=function(g){try{if(g==this.g)e:{const qe=Yn(this.g),Rt=this.g.ya(),ht=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||_o(this.g)))){this.K||qe!=4||Rt==7||(Rt==8||ht<=0?Di(3):Di(2)),pr(this);var w=this.g.ca();this.X=w;var A=Kr(this);if(this.o=w==200,rs(this.i,this.v,this.B,this.l,this.S,qe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,W=this.g;if((M=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(M)){var ee=M;break t}}ee=null}if(g=ee)de(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,as(this,g);else{this.o=!1,this.m=3,Ut(12),Yr(this),ca(this);break e}}if(this.R){g=!0;let Xt;for(;!this.K&&this.C<A.length;)if(Xt=is(this,A),Xt==Gn){qe==4&&(this.m=4,Ut(14),g=!1),de(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==pi){this.m=4,Ut(15),de(this.i,this.l,A,"[Invalid Chunk]"),g=!1;break}else de(this.i,this.l,Xt,null),as(this,Xt);if(At(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||A.length!=0||this.h.h||(this.m=1,Ut(16),g=!1),this.o=this.o&&g,!g)de(this.i,this.l,A,"[Invalid Chunked Response]"),Yr(this),ca(this);else if(A.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),uc(fe),fe.P=!0,Ut(11))}}else de(this.i,this.l,A,null),as(this,A);qe==4&&Yr(this),this.o&&!this.K&&(qe==4?cc(this.j,this):(this.o=!1,ji(this)))}else wo(this.g),w==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Yr(this),ca(this)}}}catch{}finally{}};function Kr(g){if(!At(g))return g.g.la();const w=_o(g.g);if(w==="")return"";let A="";const M=w.length,W=Yn(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Yr(g),ca(g),"";g.h.i=new l.TextDecoder}for(let ee=0;ee<M;ee++)g.h.h=!0,A+=g.h.i.decode(w[ee],{stream:!(W&&ee==M-1)});return w.length=0,g.h.g+=A,g.C=0,g.h.g}function At(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function is(g,w){var A=g.C,M=w.indexOf(`
`,A);return M==-1?Gn:(A=Number(w.substring(A,M)),isNaN(A)?pi:(M+=1,M+A>w.length?Gn:(w=w.slice(M,M+A),g.C=M+A,w)))}Xe.prototype.cancel=function(){this.K=!0,Yr(this)};function ji(g){g.T=Date.now()+g.H,Gr(g,g.H)}function Gr(g,w){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Hr(d(g.aa,g),w)}function pr(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Xe.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(we(this.i,this.B),this.M!=2&&(Di(),Ut(17)),Yr(this),this.m=2,ca(this)):Gr(this,this.T-g)};function ca(g){g.j.I==0||g.K||cc(g.j,g)}function Yr(g){pr(g);var w=g.O;w&&typeof w.dispose=="function"&&w.dispose(),g.O=null,un(g.V),g.g&&(w=g.g,g.g=null,w.abort(),w.dispose())}function as(g,w){try{var A=g.j;if(A.I!=0&&(A.g==g||st(A.h,g))){if(!g.L&&st(A.h,g)&&A.I==3){try{var M=A.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<g.F)Il(A),Li(A);else break e;lc(A),Ut(18)}}else A.xa=W[1],0<A.xa-A.K&&W[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Hr(d(A.Va,A),6e3));_n(A.h)<=1&&A.ta&&(A.ta=void 0)}else ga(A,11)}else if((g.L||A.g==g)&&Il(A),!V(w))for(W=A.Ba.g.parse(w),w=0;w<W.length;w++){let ht=W[w];const Xt=ht[0];if(!(Xt<=A.K))if(A.K=Xt,ht=ht[1],A.I==2)if(ht[0]=="c"){A.M=ht[1],A.ba=ht[2];const Sr=ht[3];Sr!=null&&(A.ka=Sr,A.j.info("VER="+A.ka));const Vi=ht[4];Vi!=null&&(A.za=Vi,A.j.info("SVER="+A.za));const xi=ht[5];xi!=null&&typeof xi=="number"&&xi>0&&(M=1.5*xi,A.O=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const _i=g.g;if(_i){const wi=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var ee=M.h;ee.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Mt(ee,ee.h),ee.h=null))}if(M.G){const hc=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;hc&&(M.wa=hc,yt(M.J,M.G,hc))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-g.F,A.j.info("Handshake RTT: "+A.T+"ms")),M=A;var fe=g;if(M.na=Nh(M,M.L?M.ba:null,M.W),fe.L){fa(M.h,fe);var qe=fe,Rt=M.O;Rt&&(qe.H=Rt),qe.D&&(pr(qe),ji(qe)),M.g=fe}else Sh(M);A.i.length>0&&So(A)}else ht[0]!="stop"&&ht[0]!="close"||ga(A,7);else A.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?ga(A,7):To(A):ht[0]!="noop"&&A.l&&A.l.qa(ht),A.A=0)}}Di(4)}catch{}}var mo=class{constructor(g,w){this.g=g,this.map=w}};function Ar(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yi(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function _n(g){return g.h?1:g.g?g.g.size:0}function st(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Mt(g,w){g.g?g.g.add(w):g.h=w}function fa(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}Ar.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Al(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const A of g.g.values())w=w.concat(A.G);return w}return _(g.i)}var Sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gp(g,w){if(g){g=g.split("&");for(let A=0;A<g.length;A++){const M=g[A].indexOf("=");let W,ee=null;M>=0?(W=g[A].substring(0,M),ee=g[A].substring(M+1)):W=g[A],w(W,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function vi(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;g instanceof vi?(this.l=g.l,ss(this,g.j),this.o=g.o,this.g=g.g,go(this,g.u),this.h=g.h,os(this,wh(g.i)),this.m=g.m):g&&(w=String(g).match(Sl))?(this.l=!1,ss(this,w[1]||"",!0),this.o=po(w[2]||""),this.g=po(w[3]||"",!0),go(this,w[4]),this.h=po(w[5]||"",!0),os(this,w[6]||"",!0),this.m=po(w[7]||"")):(this.l=!1,this.i=new Wr(null,this.l))}vi.prototype.toString=function(){const g=[];var w=this.j;w&&g.push(wn(w,tc,!0),":");var A=this.g;return(A||w=="file")&&(g.push("//"),(w=this.o)&&g.push(wn(w,tc,!0),"@"),g.push(xn(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&g.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(wn(A,A.charAt(0)=="/"?ls:nc,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",wn(A,xh)),g.join("")},vi.prototype.resolve=function(g){const w=zt(this);let A=!!g.j;A?ss(w,g.j):A=!!g.o,A?w.o=g.o:A=!!g.g,A?w.g=g.g:A=g.u!=null;var M=g.h;if(A)go(w,g.u);else if(A=!!g.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var W=w.h.lastIndexOf("/");W!=-1&&(M=w.h.slice(0,W+1)+M)}if(W=M,W==".."||W==".")M="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){M=W.lastIndexOf("/",0)==0,W=W.split("/");const ee=[];for(let fe=0;fe<W.length;){const qe=W[fe++];qe=="."?M&&fe==W.length&&ee.push(""):qe==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),M&&fe==W.length&&ee.push("")):(ee.push(qe),M=!0)}M=ee.join("/")}else M=W}return A?w.h=M:A=g.i.toString()!=="",A?os(w,wh(g.i)):A=!!g.m,A&&(w.m=g.m),w};function zt(g){return new vi(g)}function ss(g,w,A){g.j=A?po(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function go(g,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);g.u=w}else g.u=null}function os(g,w,A){w instanceof Wr?(g.i=w,ac(g.i,g.l)):(A||(w=wn(w,bh)),g.i=new Wr(w,g.l))}function yt(g,w,A){g.i.set(w,A)}function ha(g){return yt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function po(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function wn(g,w,A){return typeof g=="string"?(g=encodeURI(g).replace(w,ec),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ec(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var tc=/[#\/\?@]/g,nc=/[#\?:]/g,ls=/[#\?]/g,bh=/[#\?@]/g,xh=/#/g;function Wr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function da(g){g.g||(g.g=new Map,g.h=0,g.i&&gp(g.i,function(w,A){g.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=Wr.prototype,t.add=function(g,w){da(this),this.i=null,g=bi(this,g);let A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(w),this.h+=1,this};function rc(g,w){da(g),w=bi(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function ic(g,w){return da(g),w=bi(g,w),g.g.has(w)}t.forEach=function(g,w){da(this),this.g.forEach(function(A,M){A.forEach(function(W){g.call(w,W,M,this)},this)},this)};function kl(g,w){da(g);let A=[];if(typeof w=="string")ic(g,w)&&(A=A.concat(g.g.get(bi(g,w))));else for(g=Array.from(g.g.values()),w=0;w<g.length;w++)A=A.concat(g[w]);return A}t.set=function(g,w){return da(this),this.i=null,g=bi(this,g),ic(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=kl(this,g),g.length>0?String(g[0]):w):w};function _h(g,w,A){rc(g,w),A.length>0&&(g.i=null,g.g.set(bi(g,w),_(A)),g.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var A=w[M];const W=xn(A);A=kl(this,A);for(let ee=0;ee<A.length;ee++){let fe=W;A[ee]!==""&&(fe+="="+xn(A[ee])),g.push(fe)}}return this.i=g.join("&")};function wh(g){const w=new Wr;return w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),w}function bi(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function ac(g,w){w&&!g.j&&(da(g),g.i=null,g.g.forEach(function(A,M){const W=M.toLowerCase();M!=W&&(rc(this,M),_h(this,W,A))},g)),g.j=w}function sc(g,w){const A=new Mi;if(l.Image){const M=new Image;M.onload=m(lr,A,"TestLoadImage: loaded",!0,w,M),M.onerror=m(lr,A,"TestLoadImage: error",!1,w,M),M.onabort=m(lr,A,"TestLoadImage: abort",!1,w,M),M.ontimeout=m(lr,A,"TestLoadImage: timeout",!1,w,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else w(!1)}function us(g,w){const A=new Mi,M=new AbortController,W=setTimeout(()=>{M.abort(),lr(A,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:M.signal}).then(ee=>{clearTimeout(W),ee.ok?lr(A,"TestPingServer: ok",!0,w):lr(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),lr(A,"TestPingServer: error",!1,w)})}function lr(g,w,A,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(A)}catch{}}function Eh(){this.g=new ua}function yo(g){this.i=g.Sb||null,this.h=g.ab||!1}y(yo,In),yo.prototype.g=function(){return new vo(this.i,this.h)};function vo(g,w){Vt.call(this),this.H=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(vo,Vt),t=vo.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=w,this.readyState=1,ma(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(w.body=g),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cs(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function cs(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?ur(this):ma(this),this.readyState==3&&cs(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,ur(this))},t.Na=function(g){this.g&&(this.response=g,ur(this))},t.ga=function(){this.g&&ur(this)};function ur(g){g.readyState=4,g.l=null,g.j=null,g.B=null,ma(g)}t.setRequestHeader=function(g,w){this.A.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=w.next();return g.join(`\r
`)};function ma(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function fs(g){let w="";return Te(g,function(A,M){w+=M,w+=":",w+=A,w+=`\r
`}),w}function Xr(g,w,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=fs(A),typeof g=="string"?A!=null&&xn(A):yt(g,w,A))}function St(g){Vt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(St,Vt);var Cl=/^https?$/i,Th=["POST","PUT"];t=St.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,w,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Be.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ee){bo(this,ee);return}if(g=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)A.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ee of M.keys())A.set(ee,M.get(ee));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(ee=>ee.toLowerCase()=="content-type"),W=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Th,w,void 0)>=0)||M||W||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of A)this.g.setRequestHeader(ee,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ee){bo(this,ee)}};function bo(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.o=5,xo(g),fn(g)}function xo(g){g.A||(g.A=!0,wt(g,"complete"),wt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,wt(this,"complete"),wt(this,"abort"),fn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),St.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?oc(this):this.Xa())},t.Xa=function(){oc(this)};function oc(g){if(g.h&&typeof o<"u"){if(g.v&&Yn(g)==4)setTimeout(g.Ca.bind(g),0);else if(wt(g,"readystatechange"),Yn(g)==4){g.h=!1;try{const ee=g.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var M;if(M=ee===0){let fe=String(g.D).match(Sl)[1]||null;!fe&&l.self&&l.self.location&&(fe=l.self.location.protocol.slice(0,-1)),M=!Cl.test(fe?fe.toLowerCase():"")}A=M}if(A)wt(g,"complete"),wt(g,"success");else{g.o=6;try{var W=Yn(g)>2?g.g.statusText:""}catch{W=""}g.l=W+" ["+g.ca()+"]",xo(g)}}finally{fn(g)}}}}function fn(g,w){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const A=g.g;g.g=null,w||wt(g,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Yn(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),bn(w)}};function _o(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function wo(g){const w={};g=(g.g&&Yn(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(V(g[M]))continue;var A=Ye(g[M]);const W=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ee=w[W]||[];w[W]=ee,ee.push(A)}H(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eo(g,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||w}function Ol(g){this.za=0,this.i=[],this.j=new Mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Eo("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Eo("baseRetryDelayMs",5e3,g),this.Za=Eo("retryDelaySeedMs",1e4,g),this.Ta=Eo("forwardChannelMaxRetries",2,g),this.va=Eo("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Ar(g&&g.concurrentRequestLimit),this.Ba=new Eh,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ol.prototype,t.ka=8,t.I=1,t.connect=function(g,w,A,M){Ut(0),this.W=g,this.H=w||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.J=Nh(this,null,this.W),So(this)};function To(g){if(Ao(g),g.I==3){var w=g.V++,A=zt(g.J);if(yt(A,"SID",g.M),yt(A,"RID",w),yt(A,"TYPE","terminate"),ko(g,A),w=new Xe(g,g.j,w),w.M=2,w.A=ha(zt(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!A&&l.Image&&(new Image().src=w.A,A=!0),A||(w.g=Rl(w.j,null),w.g.ea(w.A)),w.F=Date.now(),ji(w)}Oh(g)}function Li(g){g.g&&(uc(g),g.g.cancel(),g.g=null)}function Ao(g){Li(g),g.v&&(l.clearTimeout(g.v),g.v=null),Il(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function So(g){if(!yi(g.h)&&!g.m){g.m=!0;var w=g.Ea;q||O(),F||(q(),F=!0),R.add(w,g),g.D=0}}function pp(g,w){return _n(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=w.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Hr(d(g.Ea,g,w),Ch(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const W=new Xe(this,this.j,g);let ee=this.o;if(this.U&&(ee?(ee=ie(ee),he(ee,this.U)):ee=this.U),this.u!==null||this.R||(W.J=ee,ee=null),this.S)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=Nl(this,W,w),A=zt(this.J),yt(A,"RID",g),yt(A,"CVER",22),this.G&&yt(A,"X-HTTP-Session-Id",this.G),ko(this,A),ee&&(this.R?w="headers="+xn(fs(ee))+"&"+w:this.u&&Xr(A,this.u,ee)),Mt(this.h,W),this.Ra&&yt(A,"TYPE","init"),this.S?(yt(A,"$req",w),yt(A,"SID","null"),W.U=!0,cn(W,A,null)):cn(W,A,w),this.I=2}}else this.I==3&&(g?Ah(this,g):this.i.length==0||yi(this.h)||Ah(this))};function Ah(g,w){var A;w?A=w.l:A=g.V++;const M=zt(g.J);yt(M,"SID",g.M),yt(M,"RID",A),yt(M,"AID",g.K),ko(g,M),g.u&&g.o&&Xr(M,g.u,g.o),A=new Xe(g,g.j,A,g.D+1),g.u===null&&(A.J=g.o),w&&(g.i=w.G.concat(g.i)),w=Nl(g,A,1e3),A.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Mt(g.h,A),cn(A,M,w)}function ko(g,w){g.H&&Te(g.H,function(A,M){yt(w,M,A)}),g.l&&Te({},function(A,M){yt(w,M,A)})}function Nl(g,w,A){A=Math.min(g.i.length,A);const M=g.l?d(g.l.Ka,g.l,g):null;e:{var W=g.i;let qe=-1;for(;;){const Rt=["count="+A];qe==-1?A>0?(qe=W[0].g,Rt.push("ofs="+qe)):qe=0:Rt.push("ofs="+qe);let ht=!0;for(let Xt=0;Xt<A;Xt++){var ee=W[Xt].g;const Sr=W[Xt].map;if(ee-=qe,ee<0)qe=Math.max(0,W[Xt].g-100),ht=!1;else try{ee="req"+ee+"_"||"";try{var fe=Sr instanceof Map?Sr:Object.entries(Sr);for(const[Vi,xi]of fe){let _i=xi;c(xi)&&(_i=Hn(xi)),Rt.push(ee+Vi+"="+encodeURIComponent(_i))}}catch(Vi){throw Rt.push(ee+"type="+encodeURIComponent("_badmap")),Vi}}catch{M&&M(Sr)}}if(ht){fe=Rt.join("&");break e}}fe=void 0}return g=g.i.splice(0,A),w.G=g,fe}function Sh(g){if(!g.g&&!g.v){g.Y=1;var w=g.Da;q||O(),F||(q(),F=!0),R.add(w,g),g.A=0}}function lc(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Hr(d(g.Da,g),Ch(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,kh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Hr(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),Li(this),kh(this))};function uc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function kh(g){g.g=new Xe(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var w=zt(g.na);yt(w,"RID","rpc"),yt(w,"SID",g.M),yt(w,"AID",g.K),yt(w,"CI",g.F?"0":"1"),!g.F&&g.ia&&yt(w,"TO",g.ia),yt(w,"TYPE","xmlhttp"),ko(g,w),g.u&&g.o&&Xr(w,g.u,g.o),g.O&&(g.g.H=g.O);var A=g.g;g=g.ba,A.M=1,A.A=ha(zt(w)),A.u=null,A.R=!0,Rn(A,g)}t.Va=function(){this.C!=null&&(this.C=null,Li(this),lc(this),Ut(19))};function Il(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function cc(g,w){var A=null;if(g.g==w){Il(g),uc(g),g.g=null;var M=2}else if(st(g.h,w))A=w.G,fa(g.h,w),M=1;else return;if(g.I!=0){if(w.o)if(M==1){A=w.u?w.u.length:0,w=Date.now()-w.F;var W=g.D;M=or(),wt(M,new Tl(M,A)),So(g)}else Sh(g);else if(W=w.m,W==3||W==0&&w.X>0||!(M==1&&pp(g,w)||M==2&&lc(g)))switch(A&&A.length>0&&(w=g.h,w.i=w.i.concat(A)),W){case 1:ga(g,5);break;case 4:ga(g,10);break;case 3:ga(g,6);break;default:ga(g,2)}}}function Ch(g,w){let A=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(A*=2),A*w}function ga(g,w){if(g.j.info("Error code "+w),w==2){var A=d(g.bb,g),M=g.Ua;const W=!M;M=new vi(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ss(M,"https"),ha(M),W?sc(M.toString(),A):us(M.toString(),A)}else Ut(2);g.I=0,g.l&&g.l.pa(w),Oh(g),Ao(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Oh(g){if(g.I=0,g.ja=[],g.l){const w=Al(g.h);(w.length!=0||g.i.length!=0)&&(E(g.ja,w),E(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Nh(g,w,A){var M=A instanceof vi?zt(A):new vi(A);if(M.g!="")w&&(M.g=w+"."+M.g),go(M,M.u);else{var W=l.location;M=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const ee=new vi(null);M&&ss(ee,M),w&&(ee.g=w),W&&go(ee,W),A&&(ee.h=A),M=ee}return A=g.G,w=g.wa,A&&w&&yt(M,A,w),yt(M,"VER",g.ka),ko(g,M),M}function Rl(g,w,A){if(w&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Aa&&!g.ma?new St(new yo({ab:A})):new St(g.ma),w.Fa(g.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ih(){}t=Ih.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pl(){}Pl.prototype.g=function(g,w){return new cr(g,w)};function cr(g,w){Vt.call(this),this.g=new Ol(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(g?g["X-WebChannel-Client-Profile"]=w.sa:g={"X-WebChannel-Client-Profile":w.sa}),this.g.U=g,(g=w&&w.Qb)&&!V(g)&&(this.g.u=g),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new hs(this)}y(cr,Vt),cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){To(this.g)},cr.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.v&&(A={},A.__data__=Hn(g),g=A);w.i.push(new mo(w.Ya++,g)),w.I==3&&So(w)},cr.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,cr.Z.N.call(this)};function fc(g){Ri.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const A in w){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}y(fc,Ri);function Rh(){pt.call(this),this.status=1}y(Rh,pt);function hs(g){this.g=g}y(hs,Ih),hs.prototype.ra=function(){wt(this.g,"a")},hs.prototype.qa=function(g){wt(this.g,new fc(g))},hs.prototype.pa=function(g){wt(this.g,new Rh)},hs.prototype.oa=function(){wt(this.g,"b")},Pl.prototype.createWebChannel=Pl.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,sN=function(){return new Pl},aN=function(){return or()},iN=Kn,ab={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,om=ye,Se.COMPLETE="complete",rN=Se,El.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,hf=El,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,nN=St}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});const IA="@firebase/firestore",RA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=new fx("@firebase/firestore");function uu(){return ll.logLevel}function be(t,...e){if(ll.logLevel<=et.DEBUG){const n=e.map(wx);ll.debug(`Firestore (${Bu}): ${t}`,...n)}}function Fa(t,...e){if(ll.logLevel<=et.ERROR){const n=e.map(wx);ll.error(`Firestore (${Bu}): ${t}`,...n)}}function Eu(t,...e){if(ll.logLevel<=et.WARN){const n=e.map(wx);ll.warn(`Firestore (${Bu}): ${t}`,...n)}}function wx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oN(t,r,n)}function oN(t,e,n){let r=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fa(r),new Error(r)}function ft(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||oN(e,a,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jn.UNAUTHENTICATED)))}shutdown(){}}class ZV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JV{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ws,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},c=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ws)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new lN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class e5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const r=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new PA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=r5(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function sb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return xv(a)===xv(o)?tt(a,o):xv(a)?1:-1}return tt(t.length,e.length)}const i5=55296,a5=57343;function xv(t){const e=t.charCodeAt(0);return e>=i5&&e<=a5}function Tu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="__name__";class Hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Hi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return tt(e.length,n.length)}static compareSegments(e,n){const r=Hi.isNumericId(e),a=Hi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):sb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class qt extends Hi{construct(e,n,r){return new qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new qt(n)}static emptyPath(){return new qt([])}}const s5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends Hi{construct(e,n,r){return new Un(e,n,r)}static isValidIdentifier(e){return s5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DA}static keyField(){return new Un([DA])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(r+=c,a++):(o(),a++)}if(o(),l)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(qt.fromString(e))}static fromName(e){return new Pe(qt.fromString(e).popFirst(5))}static empty(){return new Pe(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new qt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e,n){if(!n)throw new Ce(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l5(t,e,n,r){if(e===!0&&r===!0)throw new Ce(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MA(t){if(!Pe.isDocumentKey(t))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function Nf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tx(t);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function th(t,e){if(!uN(t))throw new Ce(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ce(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=-62135596800,LA=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LA);return new Dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jA)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LA}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(th(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:sn("string",Dt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Dt(0,0))}static max(){return new ze(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=-1;function u5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new Zs(a,Pe.empty(),e)}function c5(t){return new Zs(t.readTime,t.key,If)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(ze.min(),Pe.empty(),If)}static max(){return new Zs(ze.max(),Pe.empty(),If)}}function f5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==h5)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let a=0,o=0,l=!1;e.forEach((c=>{++a,c.next((()=>{++o,l&&o===a&&n()}),(h=>r(h)))})),l=!0,o===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((a=>a?oe.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,a)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const d=h;n(e[d]).next((m=>{l[d]=m,++c,c===o&&r(l)}),(m=>a(m)))}}))}static doWhile(e,n){return new oe(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function m5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ag.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=-1;function Sg(t){return t==null}function Tm(t){return t===0&&1/t==-1/0}function g5(t){return typeof t=="number"&&Number.isInteger(t)&&!Tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="";function p5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VA(e)),e=y5(t.get(n),e);return VA(e)}function y5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case cN:n+="";break;default:n+=o}}return n}function VA(t){return t+cN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=a??Ln.EMPTY,this.right=o??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new Ln(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ln.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zA(this.data.getIterator())}getIteratorFrom(e){return new zA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class zA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Ni([])}unionWith(e){let n=new pn(Un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hN("Invalid base64 string: "+o):o}})(e);return new qn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o})(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const v5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=v5.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="server_timestamp",mN="__type__",gN="__previous_value__",pN="__local_write_time__";function Sx(t){return(t?.mapValue?.fields||{})[mN]?.stringValue===dN}function kg(t){const e=t.mapValue.fields[gN];return Sx(e)?kg(e):e}function Rf(t){const e=Js(t.mapValue.fields[pN].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,a,o,l,c,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Am="(default)";class Pf{constructor(e,n){this.projectId=e,this.database=n||Am}static empty(){return new Pf("","")}get isDefaultDatabase(){return this.database===Am}isEqual(e){return e instanceof Pf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="__type__",x5="__max__",jd={mapValue:{}},vN="__vector__",Sm="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sx(t)?4:w5(t)?9007199254740991:_5(t)?10:11:Le(28295,{value:t})}function ta(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rf(t).isEqual(Rf(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=Js(a.timestampValue),c=Js(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return eo(a.bytesValue).isEqual(eo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return en(a.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(a.geoPointValue.longitude)===en(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return en(a.integerValue)===en(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=en(a.doubleValue),c=en(o.doubleValue);return l===c?Tm(l)===Tm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Tu(t.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:case 11:return(function(a,o){const l=a.mapValue.fields||{},c=o.mapValue.fields||{};if(UA(l)!==UA(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ta(l[h],c[h])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Df(t,e){return(t.values||[]).find((n=>ta(n,e)))!==void 0}function Au(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=en(o.integerValue||o.doubleValue),h=en(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return BA(t.timestampValue,e.timestampValue);case 4:return BA(Rf(t),Rf(e));case 5:return sb(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=eo(o),h=eo(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=tt(c[d],h[d]);if(m!==0)return m}return tt(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=tt(en(o.latitude),en(l.latitude));return c!==0?c:tt(en(o.longitude),en(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return qA(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},h=l.fields||{},d=c[Sm]?.arrayValue,m=h[Sm]?.arrayValue,y=tt(d?.values?.length||0,m?.values?.length||0);return y!==0?y:qA(d,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===jd.mapValue&&l===jd.mapValue)return 0;if(o===jd.mapValue)return 1;if(l===jd.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const b=sb(h[y],m[y]);if(b!==0)return b;const _=Au(c[h[y]],d[m[y]]);if(_!==0)return _}return tt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function BA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=Js(t),r=Js(e),a=tt(n.seconds,r.seconds);return a!==0?a:tt(n.nanos,r.nanos)}function qA(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Au(n[a],r[a]);if(o)return o}return tt(n.length,r.length)}function Su(t){return ob(t)}function ob(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return eo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=ob(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${ob(n.fields[l])}`;return a+"}"})(t.mapValue):Le(61005,{value:t})}function lm(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kg(t);return e?16+lm(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+lm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return gl(r.fields,((o,l)=>{a+=o.length+lm(l)})),a})(t.mapValue);default:throw Le(13486,{value:t})}}function lb(t){return!!t&&"integerValue"in t}function kx(t){return!!t&&"arrayValue"in t}function $A(t){return!!t&&"nullValue"in t}function FA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function um(t){return!!t&&"mapValue"in t}function _5(t){return(t?.mapValue?.fields||{})[yN]?.stringValue===vN}function xf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=xf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xf(t.arrayValue.values[n]);return e}return{...t}}function w5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!um(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xf(n)}setAll(e){let n=Un.emptyPath(),r={},a=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=c.popLast()}l?r[c.lastSegment()]=xf(l):a.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());um(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];um(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){gl(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new si(xf(this.value))}}function bN(t){const e=[];return gl(t.fields,((n,r)=>{const a=new Un([n]);if(um(r)){const o=bN(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)})),new Ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,a,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new er(e,0,ze.min(),ze.min(),ze.min(),si.empty(),0)}static newFoundDocument(e,n,r,a){return new er(e,1,n,ze.min(),r,a,0)}static newNoDocument(e,n){return new er(e,2,n,ze.min(),ze.min(),si.empty(),0)}static newUnknownDocument(e,n){return new er(e,3,n,ze.min(),ze.min(),si.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.position=e,this.inclusive=n}}function HA(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],l=t.position[a];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(l.referenceValue),n.key):r=Au(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ta(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n="asc"){this.field=e,this.dir=n}}function E5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{}class gn extends xN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A5(e,n,r):n==="array-contains"?new C5(e,r):n==="in"?new O5(e,r):n==="not-in"?new N5(e,r):n==="array-contains-any"?new I5(e,r):new gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S5(e,r):new k5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Au(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(Au(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class na extends xN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new na(e,n)}matches(e){return _N(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _N(t){return t.op==="and"}function wN(t){return T5(t)&&_N(t)}function T5(t){for(const e of t.filters)if(e instanceof na)return!1;return!0}function ub(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+Su(t.value);if(wN(t))return t.filters.map((e=>ub(e))).join(",");{const e=t.filters.map((n=>ub(n))).join(",");return`${t.op}(${e})`}}function EN(t,e){return t instanceof gn?(function(r,a){return a instanceof gn&&r.op===a.op&&r.field.isEqual(a.field)&&ta(r.value,a.value)})(t,e):t instanceof na?(function(r,a){return a instanceof na&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,l,c)=>o&&EN(l,a.filters[c])),!0):!1})(t,e):void Le(19439)}function TN(t){return t instanceof gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Su(n.value)}`})(t):t instanceof na?(function(n){return n.op.toString()+" {"+n.getFilters().map(TN).join(" ,")+"}"})(t):"Filter"}class A5 extends gn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class S5 extends gn{constructor(e,n){super(e,"in",n),this.keys=AN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class k5 extends gn{constructor(e,n){super(e,"not-in",n),this.keys=AN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function AN(t,e){return(e.arrayValue?.values||[]).map((n=>Pe.fromName(n.referenceValue)))}class C5 extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kx(n)&&Df(n.arrayValue,this.value)}}class O5 extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Df(this.value.arrayValue,n)}}class N5 extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Df(this.value.arrayValue,n)}}class I5 extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Df(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n=null,r=[],a=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function GA(t,e=null,n=[],r=[],a=null,o=null,l=null){return new R5(t,e,n,r,a,o,l)}function Cx(t){const e=$e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ub(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Sg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Su(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Su(r))).join(",")),e.Te=n}return e.Te}function Ox(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KA(t.startAt,e.startAt)&&KA(t.endAt,e.endAt)}function cb(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n=null,r=[],a=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P5(t,e,n,r,a,o,l,c){return new Cg(t,e,n,r,a,o,l,c)}function Nx(t){return new Cg(t)}function YA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D5(t){return t.collectionGroup!==null}function _f(t){const e=$e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new pn(Un.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Cm(o,r))})),n.has(Un.keyField().canonicalString())||e.Ie.push(new Cm(Un.keyField(),r))}return e.Ie}function Xi(t){const e=$e(t);return e.Ee||(e.Ee=M5(e,_f(t))),e.Ee}function M5(t,e){if(t.limitType==="F")return GA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Cm(a.field,o)}));const n=t.endAt?new km(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new km(t.startAt.position,t.startAt.inclusive):null;return GA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fb(t,e,n){return new Cg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Og(t,e){return Ox(Xi(t),Xi(e))&&t.limitType===e.limitType}function SN(t){return`${Cx(Xi(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>TN(a))).join(", ")}]`),Sg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Su(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Su(a))).join(",")),`Target(${r})`})(Xi(t))}; limitType=${t.limitType})`}function Ng(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of _f(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,c,h){const d=HA(l,c,h);return l.inclusive?d<=0:d<0})(r.startAt,_f(r),a)||r.endAt&&!(function(l,c,h){const d=HA(l,c,h);return l.inclusive?d>=0:d>0})(r.endAt,_f(r),a))})(t,e)}function j5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kN(t){return(e,n)=>{let r=!1;for(const a of _f(t)){const o=L5(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function L5(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):(function(o,l,c){const h=l.data.field(o),d=c.data.field(o);return h!==null&&d!==null?Au(h,d):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){gl(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return fN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new $t(Pe.comparator);function Ha(){return V5}const CN=new $t(Pe.comparator);function df(...t){let e=CN;for(const n of t)e=e.insert(n.key,n);return e}function ON(t){let e=CN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wo(){return wf()}function NN(){return wf()}function wf(){return new pl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const U5=new $t(Pe.comparator),z5=new pn(Pe.comparator);function nt(...t){let e=z5;for(const n of t)e=e.add(n);return e}const B5=new pn(tt);function q5(){return B5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tm(e)?"-0":e}}function IN(t){return{integerValue:""+t}}function $5(t,e){return g5(e)?IN(e):Ix(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this._=void 0}}function F5(t,e,n){return t instanceof Om?(function(a,o){const l={fields:{[mN]:{stringValue:dN},[pN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Sx(o)&&(o=kg(o)),o&&(l.fields[gN]=o),{mapValue:l}})(n,e):t instanceof Mf?PN(t,e):t instanceof jf?DN(t,e):(function(a,o){const l=RN(a,o),c=WA(l)+WA(a.Ae);return lb(l)&&lb(a.Ae)?IN(c):Ix(a.serializer,c)})(t,e)}function H5(t,e,n){return t instanceof Mf?PN(t,e):t instanceof jf?DN(t,e):n}function RN(t,e){return t instanceof Nm?(function(r){return lb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Om extends Ig{}class Mf extends Ig{constructor(e){super(),this.elements=e}}function PN(t,e){const n=MN(e);for(const r of t.elements)n.some((a=>ta(a,r)))||n.push(r);return{arrayValue:{values:n}}}class jf extends Ig{constructor(e){super(),this.elements=e}}function DN(t,e){let n=MN(e);for(const r of t.elements)n=n.filter((a=>!ta(a,r)));return{arrayValue:{values:n}}}class Nm extends Ig{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WA(t){return en(t.integerValue||t.doubleValue)}function MN(t){return kx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function K5(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Mf&&a instanceof Mf||r instanceof jf&&a instanceof jf?Tu(r.elements,a.elements,ta):r instanceof Nm&&a instanceof Nm?ta(r.Ae,a.Ae):r instanceof Om&&a instanceof Om})(t.transform,e.transform)}class G5{constructor(e,n){this.version=e,this.transformResults=n}}class Va{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Va}static exists(e){return new Va(void 0,e)}static updateTime(e){return new Va(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rg{}function jN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VN(t.key,Va.none()):new nh(t.key,t.data,Va.none());{const n=t.data,r=si.empty();let a=new pn(Un.comparator);for(let o of e.fields)if(!a.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new yl(t.key,r,new Ni(a.toArray()),Va.none())}}function Y5(t,e,n){t instanceof nh?(function(a,o,l){const c=a.value.clone(),h=QA(a.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof yl?(function(a,o,l){if(!cm(a.precondition,o))return void o.convertToUnknownDocument(l.version);const c=QA(a.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(LN(a)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Ef(t,e,n,r){return t instanceof nh?(function(o,l,c,h){if(!cm(o.precondition,l))return c;const d=o.value.clone(),m=ZA(o.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof yl?(function(o,l,c,h){if(!cm(o.precondition,l))return c;const d=ZA(o.fieldTransforms,h,l),m=l.data;return m.setAll(LN(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,l,c){return cm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function W5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=RN(r.transform,a||null);o!=null&&(n===null&&(n=si.empty()),n.set(r.field,o))}return n||null}function XA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Tu(r,a,((o,l)=>K5(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nh extends Rg{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class yl extends Rg{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function QA(t,e,n){const r=new Map;ft(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],l=o.transform,c=e.data.field(o.field);r.set(o.field,H5(l,c,n[a]))}return r}function ZA(t,e,n){const r=new Map;for(const a of t){const o=a.transform,l=n.data.field(a.field);r.set(a.field,F5(o,l,e))}return r}class VN extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X5 extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&Y5(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ef(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ef(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NN();return this.mutations.forEach((a=>{const o=e.get(a.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(a.key)?null:c;const h=jN(l,c);h!==null&&r.set(a.key,h),l.isValidDocument()||l.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,((n,r)=>XA(n,r)))&&Tu(this.baseMutations,e.baseMutations,((n,r)=>XA(n,r)))}}class Rx{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return U5})();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new Rx(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,it;function e9(t){switch(t){case le.OK:return Le(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function UN(t){if(t===void 0)return Fa("GRPC error has no .code"),le.UNKNOWN;switch(t){case an.OK:return le.OK;case an.CANCELLED:return le.CANCELLED;case an.UNKNOWN:return le.UNKNOWN;case an.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case an.INTERNAL:return le.INTERNAL;case an.UNAVAILABLE:return le.UNAVAILABLE;case an.UNAUTHENTICATED:return le.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case an.NOT_FOUND:return le.NOT_FOUND;case an.ALREADY_EXISTS:return le.ALREADY_EXISTS;case an.PERMISSION_DENIED:return le.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case an.ABORTED:return le.ABORTED;case an.OUT_OF_RANGE:return le.OUT_OF_RANGE;case an.UNIMPLEMENTED:return le.UNIMPLEMENTED;case an.DATA_LOSS:return le.DATA_LOSS;default:return Le(39323,{code:t})}}(it=an||(an={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new Ys([4294967295,4294967295],0);function JA(t){const e=t9().encode(t),n=new tN;return n.update(e),new Uint8Array(n.digest())}function eS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ys([n,r],0),new Ys([a,o],0)]}class Px{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mf(`Invalid padding: ${n}`);if(r<0)throw new mf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ys.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ys.fromNumber(r)));return a.compare(n9)===1&&(a=new Ys([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JA(e),[r,a]=eS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Px(o,a,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=JA(e),[r,a]=eS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,rh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pg(ze.min(),a,new $t(tt),Ha(),nt())}}class rh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rh(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class zN{constructor(e,n){this.targetId=e,this.Ce=n}}class BN{constructor(e,n,r=qn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class tS{constructor(){this.ve=0,this.Fe=nS(),this.Me=qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),n=nt(),r=nt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Le(38017,{changeType:o})}})),new rh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=nS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class r9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ha(),this.Je=Ld(),this.He=Ld(),this.Ye=new $t(tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(cb(o))if(r===0){const l=new Pe(o.path);this.et(n,l,er.newNoDocument(l,ze.min()))}else ft(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let l,c;try{l=eo(r).toUint8Array()}catch(h){if(h instanceof hN)return Eu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Px(l,a,o)}catch(h){return Eu(h instanceof mf?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&cb(c.target)){const h=new Pe(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,er.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=nt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const a=new Pg(e,n,this.Ye,this.je,r);return this.je=Ha(),this.Je=Ld(),this.He=Ld(),this.Ye=new $t(tt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pn(tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pn(tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ld(){return new $t(Pe.comparator)}function nS(){return new $t(Pe.comparator)}const i9={asc:"ASCENDING",desc:"DESCENDING"},a9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s9={and:"AND",or:"OR"};class o9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hb(t,e){return t.useProto3Json||Sg(e)?e:{value:e}}function Im(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l9(t,e){return Im(t,e.toTimestamp())}function Qi(t){return ft(!!t,49232),ze.fromTimestamp((function(n){const r=Js(n);return new Dt(r.seconds,r.nanos)})(t))}function Dx(t,e){return db(t,e).canonicalString()}function db(t,e){const n=(function(a){return new qt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $N(t){const e=qt.fromString(t);return ft(YN(e),10190,{key:e.toString()}),e}function mb(t,e){return Dx(t.databaseId,e.path)}function _v(t,e){const n=$N(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(HN(n))}function FN(t,e){return Dx(t.databaseId,e)}function u9(t){const e=$N(t);return e.length===4?qt.emptyPath():HN(e)}function gb(t){return new qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HN(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rS(t,e,n){return{name:mb(t,e),fields:n.value.mapValue.fields}}function c9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Le(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(ft(m===void 0||typeof m=="string",58123),qn.fromBase64String(m||"")):(ft(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),qn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?le.UNKNOWN:UN(d.code);return new Ce(m,d.message||"")})(l);n=new BN(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=_v(t,r.document.name),o=Qi(r.document.updateTime),l=r.document.createTime?Qi(r.document.createTime):ze.min(),c=new si({mapValue:{fields:r.document.fields}}),h=er.newFoundDocument(a,o,l,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new fm(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=_v(t,r.document),o=r.readTime?Qi(r.readTime):ze.min(),l=er.newNoDocument(a,o),c=r.removedTargetIds||[];n=new fm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=_v(t,r.document),o=r.removedTargetIds||[];n=new fm([],o,a,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new J5(a,o),c=r.targetId;n=new zN(c,l)}}return n}function f9(t,e){let n;if(e instanceof nh)n={update:rS(t,e.key,e.value)};else if(e instanceof VN)n={delete:mb(t,e.key)};else if(e instanceof yl)n={update:rS(t,e.key,e.data),updateMask:x9(e.fieldMask)};else{if(!(e instanceof X5))return Le(16599,{Vt:e.type});n={verify:mb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Om)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof jf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Le(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:l9(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function h9(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((n=>(function(a,o){let l=a.updateTime?Qi(a.updateTime):Qi(o);return l.isEqual(ze.min())&&(l=Qi(o)),new G5(l,a.transformResults||[])})(n,e)))):[]}function d9(t,e){return{documents:[FN(t,e.path)]}}function m9(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FN(t,a);const o=(function(d){if(d.length!==0)return GN(na.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((m=>(function(b){return{field:fu(b.field),direction:y9(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=hb(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:a}}function g9(t){let e=u9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ft(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(y){const b=KN(y);return b instanceof na&&wN(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((b=>(function(E){return new Cm(hu(E.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let b;return b=typeof y=="object"?y.value:y,Sg(b)?null:b})(n.limit));let h=null;n.startAt&&(h=(function(y){const b=!!y.before,_=y.values||[];return new km(_,b)})(n.startAt));let d=null;return n.endAt&&(d=(function(y){const b=!y.before,_=y.values||[];return new km(_,b)})(n.endAt)),P5(e,a,l,o,c,"F",h,d)}function p9(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=hu(n.unaryFilter.field);return gn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hu(n.unaryFilter.field);return gn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hu(n.unaryFilter.field);return gn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return gn.create(hu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return na.create(n.compositeFilter.filters.map((r=>KN(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function y9(t){return i9[t]}function v9(t){return a9[t]}function b9(t){return s9[t]}function fu(t){return{fieldPath:t.canonicalString()}}function hu(t){return Un.fromServerFormat(t.fieldPath)}function GN(t){return t instanceof gn?(function(n){if(n.op==="=="){if(FA(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NAN"}};if($A(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FA(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NAN"}};if($A(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(n.field),op:v9(n.op),value:n.value}}})(t):t instanceof na?(function(n){const r=n.getFilters().map((a=>GN(a)));return r.length===1?r[0]:{compositeFilter:{op:b9(n.op),filters:r}}})(t):Le(54877,{filter:t})}function x9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,a,o=ze.min(),l=ze.min(),c=qn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.yt=e}}function w9(t){const e=g9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.Cn=new T9}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Zs.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class T9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new pn(qt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new pn(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WN=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(WN,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ku(0)}static cr(){return new ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="LruGarbageCollector",A9=1048576;function sS([t,e],[n,r]){const a=tt(t,n);return a===0?tt(e,r):a}class S9{constructor(e){this.Ir=e,this.buffer=new pn(sS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(aS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$u(n)?be(aS,"Ignoring IndexedDB error during garbage collection: ",n):await qu(n)}await this.Vr(3e5)}))}}class C9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Ag.ce);const r=new S9(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(iS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,l,c,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,l=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(d=Date.now(),uu()<=et.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y}))))}}function O9(t,e){return new C9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.changes=new pl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Ef(r.mutation,a,Ni.empty(),Dt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=nt()){const a=Wo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let l=df();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Wo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,nt())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,a){let o=Ha();const l=wf(),c=(function(){return wf()})();return n.forEach(((h,d)=>{const m=r.get(d.key);a.has(d.key)&&(m===void 0||m.mutation instanceof yl)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Ef(m.mutation,d,m.mutation.getFieldMask(),Dt.now())):l.set(d.key,Ni.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>c.set(d,new I9(m,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=wf();let a=new $t(((l,c)=>l-c)),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||Ni.empty();m=c.applyToLocalView(d,m),r.set(h,m);const y=(a.get(c.batchId)||nt()).add(h);a=a.insert(c.batchId,y)}))})).next((()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,y=NN();m.forEach((b=>{if(!o.has(b)){const _=jN(n.get(b),r.get(b));_!==null&&y.set(b,_),o=o.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,y))}return oe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):oe.resolve(Wo());let c=If,h=o;return l.next((d=>oe.forEach(d,((m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?oe.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{h=h.insert(m,b)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,h,d,nt()))).next((m=>({batchId:c,changes:ON(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((r=>{let a=df();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let l=df();return this.indexManager.getCollectionParents(e,o).next((c=>oe.forEach(c,(h=>{const d=(function(y,b){return new Cg(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((m=>{m.forEach(((y,b)=>{l=l.insert(y,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((l=>{o.forEach(((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,er.newInvalidDocument(m)))}));let c=df();return l.forEach(((h,d)=>{const m=o.get(h);m!==void 0&&Ef(m.mutation,d,Ni.empty(),Dt.now()),Ng(n,d)&&(c=c.insert(h,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:w9(a.bundledQuery),readTime:Qi(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.overlays=new $t(Pe.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wo();return oe.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const a=Wo(),o=n.length+1,l=new Pe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new $t(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=Wo(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Wo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=a)););return oe.resolve(c)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Z5(n,r));let o=this.qr.get(n);o===void 0&&(o=nt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.Qr=new pn(Sn.$r),this.Ur=new pn(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Sn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Pe(new qt([])),r=new Sn(n,e),a=new Sn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pe(new qt([])),r=new Sn(n,e),a=new Sn(n,e+1);let o=nt();return this.Ur.forEachInRange([r,a],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Sn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pe.comparator(e.key,n.key)||tt(e.Yr,n.Yr)}static Kr(e,n){return tt(e.Yr,n.Yr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pn(Sn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q5(o,n,r,a);this.mutationQueue.push(l);for(const c of a)this.Zr=this.Zr.add(new Sn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Ax:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),a=new Sn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(l=>{const c=this.Xr(l.Yr);o.push(c)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(tt);return n.forEach((a=>{const o=new Sn(a,0),l=new Sn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const l=new Sn(new Pe(o),0);let c=new pn(tt);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(h.Yr)),!0)}),l),oe.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(a=>{const o=new Sn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Sn(n,0),a=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.ri=e,this.docs=(function(){return new $t(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():er.newInvalidDocument(n))}getEntries(e,n){let r=Ha();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():er.newInvalidDocument(a))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Ha();const l=n.path,c=new Pe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||f5(c5(m),r)<=0||(a.has(m.key)||Ng(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Le(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new V9(this)}getSize(e){return oe.resolve(this.size)}}class V9 extends N9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.persistence=e,this.si=new pl((n=>Cx(n)),Ox),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new Mx,this.targetCount=0,this.ai=ku.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ku(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),oe.waitFor(o).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((l=>{o.push(a.markPotentiallyOrphaned(e,l))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ag(0),this.li=!1,this.li=!0,this.hi=new M9,this.referenceDelegate=e(this),this.Pi=new U9(this),this.indexManager=new E9,this.remoteDocumentCache=(function(a){return new L9(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _9(n),this.Ii=new P9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new j9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const a=new z9(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class z9 extends d5{constructor(e){super(),this.currentSequenceNumber=e}}class jx{constructor(e){this.persistence=e,this.Ri=new Mx,this.Vi=null}static mi(e){return new jx(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const a=Pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rm{constructor(e,n){this.persistence=e,this.pi=new pl((r=>p5(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=O9(this,n)}static mi(e,n){return new Rm(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?oe.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,ze.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lm(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=nt(),a=nt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Lx(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v3()?8:m5(nr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new B9;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(uu()<=et.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(uu()<=et.DEBUG&&be("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(uu()<=et.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):oe.resolve())}ys(e,n){if(YA(n))return oe.resolve(null);let r=Xi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=fb(n,null,"F"),r=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=nt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,c);return this.Cs(n,d,l,h.readTime)?this.ys(e,fb(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,a){return YA(n)||a.isEqual(ze.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,a)?oe.resolve(null):(uu()<=et.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cu(n)),this.vs(e,l,n,u5(a,If)).next((c=>c)))}))}Ds(e,n){let r=new pn(kN(e));return n.forEach(((a,o)=>{Ng(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return uu()<=et.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",cu(n)),this.ps.getDocumentsMatchingQuery(e,n,Zs.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="LocalStore",$9=3e8;class F9{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new $t(tt),this.xs=new pl((o=>Cx(o)),Ox),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function H9(t,e,n,r){return new F9(t,e,n,r)}async function QN(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=nt();for(const d of a){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function K9(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,m){const y=d.batch,b=y.keys();let _=oe.resolve();return b.forEach((E=>{_=_.next((()=>m.getEntry(h,E))).next((S=>{const T=d.docVersions.get(E);ft(T!==null,48541),S.version.compareTo(T)<0&&(y.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),m.addEntry(S)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=nt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function ZN(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function G9(t,e){const n=$e(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const c=[];e.targetChanges.forEach(((m,y)=>{const b=a.get(y);if(!b)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y))));let _=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(qn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),a=a.insert(y,_),(function(S,T,I){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=$9?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(b,_,m)&&c.push(n.Pi.updateTargetData(o,_))}));let h=Ha(),d=nt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(Y9(o,l,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!r.isEqual(ze.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return oe.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function Y9(t,e,n){let r=nt(),a=nt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Ha();return n.forEach(((c,h)=>{const d=o.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):be(Vx,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:l,qs:a}}))}function W9(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ax),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X9(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,oe.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new $s(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function pb(t,e,n){const r=$e(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!$u(l))throw l;be(Vx,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function oS(t,e,n){const r=$e(t);let a=ze.min(),o=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,d,m){const y=$e(h),b=y.xs.get(m);return b!==void 0?oe.resolve(y.Ms.get(b)):y.Pi.getTargetData(d,m)})(r,l,Xi(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:ze.min(),n?o:nt()))).next((c=>(Q9(r,j5(e),c),{documents:c,Qs:o})))))}function Q9(t,e,n){let r=t.Os.get(e)||ze.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class lS{constructor(){this.activeTargetIds=q5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z9{constructor(){this.Mo=new lS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="ConnectivityMonitor";class cS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(uS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(uS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd=null;function yb(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="RestConnection",eU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Am?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const l=yb(),c=this.zo(e,n.toUriEncodedString());be(wv,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:d}=new URL(c),m=Lu(d);return this.Jo(e,c,h,r,m).then((y=>(be(wv,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Eu(wv,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,n,r,a,o,l){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=eU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class rU extends tU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const l=yb();return new Promise(((c,h)=>{const d=new nN;d.setWithCredentials(!0),d.listenOnce(rN.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case om.NO_ERROR:const y=d.getResponseJson();be(Qn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case om.TIMEOUT:be(Qn,`RPC '${e}' ${l} timed out`),h(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case om.HTTP_ERROR:const b=d.getStatus();if(be(Qn,`RPC '${e}' ${l} failed with status:`,b,"response text:",d.getResponseText()),b>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_?.error;if(E&&E.status&&E.message){const S=(function(I){const D=I.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(D)>=0?D:le.UNKNOWN})(E.status);h(new Ce(S,E.message))}else h(new Ce(le.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{be(Qn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(a);be(Qn,`RPC '${e}' ${l} sending request:`,a),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const a=yb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sN(),c=aN(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");be(Qn,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=l.createWebChannel(m,h);this.I_(y);let b=!1,_=!1;const E=new nU({Yo:T=>{_?be(Qn,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(b||(be(Qn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),b=!0),be(Qn,`RPC '${e}' stream ${a} sending:`,T),y.send(T))},Zo:()=>y.close()}),S=(T,I,D)=>{T.listen(I,(L=>{try{D(L)}catch(B){setTimeout((()=>{throw B}),0)}}))};return S(y,hf.EventType.OPEN,(()=>{_||(be(Qn,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),S(y,hf.EventType.CLOSE,(()=>{_||(_=!0,be(Qn,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(y))})),S(y,hf.EventType.ERROR,(T=>{_||(_=!0,Eu(Qn,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new Ce(le.UNAVAILABLE,"The operation could not be completed")))})),S(y,hf.EventType.MESSAGE,(T=>{if(!_){const I=T.data[0];ft(!!I,16349);const D=I,L=D?.error||D[0]?.error;if(L){be(Qn,`RPC '${e}' stream ${a} received error:`,L);const B=L.status;let q=(function(O){const P=an[O];if(P!==void 0)return UN(P)})(B),F=L.message;q===void 0&&(q=le.INTERNAL,F="Unknown error status: "+B+" with message "+L.message),_=!0,E.a_(new Ce(q,F)),y.close()}else be(Qn,`RPC '${e}' stream ${a} received:`,I),E.u_(I)}})),S(c,iN.STAT_EVENT,(T=>{T.stat===ab.PROXY?be(Qn,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===ab.NOPROXY&&be(Qn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ev(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){return new o9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="PersistentStream";class eI{constructor(e,n,r,a,o,l,c,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Fa(n.toString()),Fa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ce(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(fS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(be(fS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iU extends eI{constructor(e,n,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=c9(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ze.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?Qi(l.readTime):ze.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=gb(this.serializer),n.addTarget=(function(o,l){let c;const h=l.target;if(c=cb(h)?{documents:d9(o,h)}:{query:m9(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=qN(o,l.resumeToken);const d=hb(o,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(ze.min())>0){c.readTime=Im(o,l.snapshotVersion.toTimestamp());const d=hb(o,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=p9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=gb(this.serializer),n.removeTarget=e,this.q_(n)}}class aU extends eI{constructor(e,n,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=h9(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>f9(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{}class oU extends sU{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,db(n,r),a,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(le.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,db(n,r),a,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(le.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fa(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="RemoteStore";class uU{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{vl(this)&&(be(ul,"Restarting streams for network reachability change."),await(async function(h){const d=$e(h);d.Ea.add(4),await ih(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Mg(d)})(this))}))})),this.Ra=new lU(r,a)}}async function Mg(t){if(vl(t))for(const e of t.da)await e(!0)}async function ih(t){for(const e of t.da)await e(!1)}function tI(t,e){const n=$e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qx(n)?Bx(n):Fu(n).O_()&&zx(n,e))}function Ux(t,e){const n=$e(t),r=Fu(n);n.Ia.delete(e),r.O_()&&nI(n,e),n.Ia.size===0&&(r.O_()?r.L_():vl(n)&&n.Ra.set("Unknown"))}function zx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fu(t).Y_(e)}function nI(t,e){t.Va.Ue(e),Fu(t).Z_(e)}function Bx(t){t.Va=new r9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fu(t).start(),t.Ra.ua()}function qx(t){return vl(t)&&!Fu(t).x_()&&t.Ia.size>0}function vl(t){return $e(t).Ea.size===0}function rI(t){t.Va=void 0}async function cU(t){t.Ra.set("Online")}async function fU(t){t.Ia.forEach(((e,n)=>{zx(t,e)}))}async function hU(t,e){rI(t),qx(t)?(t.Ra.ha(e),Bx(t)):t.Ra.set("Unknown")}async function dU(t,e,n){if(t.Ra.set("Online"),e instanceof BN&&e.state===2&&e.cause)try{await(async function(a,o){const l=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.Ia.delete(c),a.Va.removeTarget(c))})(t,e)}catch(r){be(ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pm(t,r)}else if(e instanceof fm?t.Va.Ze(e):e instanceof zN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ze.min()))try{const r=await ZN(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,d)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(qn.EMPTY_BYTE_STRING,m.snapshotVersion)),nI(o,h);const y=new $s(m.target,h,d,m.sequenceNumber);zx(o,y)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){be(ul,"Failed to raise snapshot:",r),await Pm(t,r)}}async function Pm(t,e,n){if(!$u(e))throw e;t.Ea.add(1),await ih(t),t.Ra.set("Offline"),n||(n=()=>ZN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be(ul,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mg(t)}))}function iI(t,e){return e().catch((n=>Pm(t,n,e)))}async function jg(t){const e=$e(t),n=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ax;for(;mU(e);)try{const a=await W9(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,gU(e,a)}catch(a){await Pm(e,a)}aI(e)&&sI(e)}function mU(t){return vl(t)&&t.Ta.length<10}function gU(t,e){t.Ta.push(e);const n=no(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aI(t){return vl(t)&&!no(t).x_()&&t.Ta.length>0}function sI(t){no(t).start()}async function pU(t){no(t).ra()}async function yU(t){const e=no(t);for(const n of t.Ta)e.ea(n.mutations)}async function vU(t,e,n){const r=t.Ta.shift(),a=Rx.from(r,e,n);await iI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await jg(t)}async function bU(t,e){e&&no(t).X_&&await(async function(r,a){if((function(l){return e9(l)&&l!==le.ABORTED})(a.code)){const o=r.Ta.shift();no(r).B_(),await iI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await jg(r)}})(t,e),aI(t)&&sI(t)}async function hS(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),be(ul,"RemoteStore received new credentials");const r=vl(n);n.Ea.add(3),await ih(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mg(n)}async function xU(t,e){const n=$e(t);e?(n.Ea.delete(2),await Mg(n)):e||(n.Ea.add(2),await ih(n),n.Ra.set("Unknown"))}function Fu(t){return t.ma||(t.ma=(function(n,r,a){const o=$e(n);return o.sa(),new iU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:cU.bind(null,t),t_:fU.bind(null,t),r_:hU.bind(null,t),H_:dU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),qx(t)?Bx(t):t.Ra.set("Unknown")):(await t.ma.stop(),rI(t))}))),t.ma}function no(t){return t.fa||(t.fa=(function(n,r,a){const o=$e(n);return o.sa(),new aU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pU.bind(null,t),r_:bU.bind(null,t),ta:yU.bind(null,t),na:vU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await jg(t)):(await t.fa.stop(),t.Ta.length>0&&(be(ul,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const l=Date.now()+r,c=new $x(e,n,l,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fx(t,e){if(Fa("AsyncQueue",`${e}: ${t}`),$u(t))return new Ce(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{static emptySet(e){return new vu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=df(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.ga=new $t(Pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Cu{constructor(e,n,r,a,o,l,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,a,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Cu(e,n,vu.emptySet(n),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wU{constructor(){this.queries=mS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=$e(n),o=a.queries;a.queries=mS(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new Ce(le.ABORTED,"Firestore shutting down"))}}function mS(){return new pl((t=>SN(t)),Og)}async function EU(t,e){const n=$e(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new _U,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const c=Fx(l,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(c)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Hx(n)}async function TU(t,e){const n=$e(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AU(t,e){const n=$e(t);let r=!1;for(const a of e){const o=a.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(a)&&(r=!0);l.wa=a}}r&&Hx(n)}function SU(t,e,n){const r=$e(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function Hx(t){t.Ca.forEach((e=>{e.next()}))}var vb,gS;(gS=vb||(vb={})).Ma="default",gS.Cache="cache";class kU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.key=e}}class lI{constructor(e){this.key=e}}class CU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=kN(e),this.tu=new vu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new dS,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=a,c=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,y)=>{const b=a.get(m),_=Ng(this.query,y)?y:null,E=!!b&&this.mutatedKeys.has(b.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;b&&_?b.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),T=!0):this.su(b,_)||(r.track({type:2,doc:_}),T=!0,(h&&this.eu(_,h)>0||d&&this.eu(_,d)<0)&&(c=!0)):!b&&_?(r.track({type:0,doc:_}),T=!0):b&&!_&&(r.track({type:1,doc:b}),T=!0,(h||d)&&(c=!0)),T&&(_?(l=l.add(_),o=S?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,y)=>(function(_,E){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:T})}};return S(_)-S(E)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),a=a??!1;const c=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new Cu(this.query,e.tu,o,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new lI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new oI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=nt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kx="SyncEngine";class OU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NU{constructor(e){this.key=e,this.hu=!1}}class IU{constructor(e,n,r,a,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new pl((c=>SN(c)),Og),this.Iu=new Map,this.Eu=new Set,this.du=new $t(Pe.comparator),this.Au=new Map,this.Ru=new Mx,this.Vu={},this.mu=new Map,this.fu=ku.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RU(t,e,n=!0){const r=mI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await uI(r,e,n,!0),a}async function PU(t,e){const n=mI(t);await uI(n,e,!0,!1)}async function uI(t,e,n,r){const a=await X9(t.localStore,Xi(e)),o=a.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await DU(t,e,o,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&tI(t.remoteStore,a),c}async function DU(t,e,n,r,a){t.pu=(y,b,_)=>(async function(S,T,I,D){let L=T.view.ru(I);L.Cs&&(L=await oS(S.localStore,T.query,!1).then((({documents:R})=>T.view.ru(R,L))));const B=D&&D.targetChanges.get(T.targetId),q=D&&D.targetMismatches.get(T.targetId)!=null,F=T.view.applyChanges(L,S.isPrimaryClient,B,q);return yS(S,T.targetId,F.au),F.snapshot})(t,y,b,_);const o=await oS(t.localStore,e,!0),l=new CU(e,o.Qs),c=l.ru(o.documents),h=rh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),d=l.applyChanges(c,t.isPrimaryClient,h);yS(t,n,d.au);const m=new OU(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function MU(t,e,n){const r=$e(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((l=>!Og(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await pb(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Ux(r.remoteStore,a.targetId),bb(r,a.targetId)})).catch(qu)):(bb(r,a.targetId),await pb(r.localStore,a.targetId,!0))}async function jU(t,e){const n=$e(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ux(n.remoteStore,r.targetId))}async function LU(t,e,n){const r=FU(t);try{const a=await(function(l,c){const h=$e(l),d=Dt.now(),m=c.reduce(((_,E)=>_.add(E.key)),nt());let y,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=Ha(),S=nt();return h.Ns.getEntries(_,m).next((T=>{E=T,E.forEach(((I,D)=>{D.isValidDocument()||(S=S.add(I))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,E))).next((T=>{y=T;const I=[];for(const D of c){const L=W5(D,y.get(D.key).overlayedDocument);L!=null&&I.push(new yl(D.key,L,bN(L.value.mapValue),Va.exists(!0)))}return h.mutationQueue.addMutationBatch(_,d,I,c)})).next((T=>{b=T;const I=T.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(_,T.batchId,I)}))})).then((()=>({batchId:b.batchId,changes:ON(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new $t(tt)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d})(r,a.batchId,n),await ah(r,a.changes),await jg(r.remoteStore)}catch(a){const o=Fx(a,"Failed to persist write");n.reject(o)}}async function cI(t,e){const n=$e(t);try{const r=await G9(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const l=n.Au.get(o);l&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?ft(l.hu,14607):a.removedDocuments.size>0&&(ft(l.hu,42227),l.hu=!1))})),await ah(n,r,e)}catch(r){await qu(r)}}function pS(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(l,c){const h=$e(l);h.onlineState=c;let d=!1;h.queries.forEach(((m,y)=>{for(const b of y.Sa)b.va(c)&&(d=!0)})),d&&Hx(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VU(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let l=new $t(Pe.comparator);l=l.insert(o,er.newNoDocument(o,ze.min()));const c=nt().add(o),h=new Pg(ze.min(),new Map,new $t(tt),l,c);await cI(r,h),r.du=r.du.remove(o),r.Au.delete(e),Gx(r)}else await pb(r.localStore,e,!1).then((()=>bb(r,e,n))).catch(qu)}async function UU(t,e){const n=$e(t),r=e.batch.batchId;try{const a=await K9(n.localStore,e);hI(n,r,null),fI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ah(n,a)}catch(a){await qu(a)}}async function zU(t,e,n){const r=$e(t);try{const a=await(function(l,c){const h=$e(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next((y=>(ft(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(d,y)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>h.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);hI(r,e,n),fI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ah(r,a)}catch(a){await qu(a)}}function fI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function hI(t,e,n){const r=$e(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function bb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||dI(t,r)}))}function dI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ux(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Gx(t))}function yS(t,e,n){for(const r of n)r instanceof oI?(t.Ru.addReference(r.key,e),BU(t,r)):r instanceof lI?(be(Kx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||dI(t,r.key)):Le(19791,{wu:r})}function BU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(be(Kx,"New document in limbo: "+n),t.Eu.add(r),Gx(t))}function Gx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pe(qt.fromString(e)),r=t.fu.next();t.Au.set(r,new NU(n)),t.du=t.du.insert(n,r),tI(t.remoteStore,new $s(Xi(Nx(n.path)),r,"TargetPurposeLimboResolution",Ag.ce))}}async function ah(t,e,n){const r=$e(t),a=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(d){a.push(d);const m=Lx.As(h.targetId,d);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(h,d){const m=$e(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>oe.forEach(d,(b=>oe.forEach(b.Es,(_=>m.persistence.referenceDelegate.addReference(y,b.targetId,_))).next((()=>oe.forEach(b.ds,(_=>m.persistence.referenceDelegate.removeReference(y,b.targetId,_)))))))))}catch(y){if(!$u(y))throw y;be(Vx,"Failed to update sequence numbers: "+y)}for(const y of d){const b=y.targetId;if(!y.fromCache){const _=m.Ms.get(b),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(b,S)}}})(r.localStore,o))}async function qU(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){be(Kx,"User change. New user:",e.toKey());const r=await QN(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new Ce(le.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ah(n,r.Ls)}}function $U(t,e){const n=$e(t),r=n.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let a=nt();const o=n.Iu.get(e);if(!o)return a;for(const l of o){const c=n.Tu.get(l);a=a.unionWith(c.view.nu)}return a}}function mI(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$U.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VU.bind(null,e),e.Pu.H_=AU.bind(null,e.eventManager),e.Pu.yu=SU.bind(null,e.eventManager),e}function FU(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zU.bind(null,e),e}class Dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return H9(this.persistence,new q9,e.initialUser,this.serializer)}Cu(e){return new XN(jx.mi,this.serializer)}Du(e){return new Z9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dm.provider={build:()=>new Dm};class HU extends Dm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof Rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new XN((r=>Rm.mi(r,n)),this.serializer)}}class xb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wU})()}createDatastore(e){const n=Dg(e.databaseInfo.databaseId),r=(function(o){return new rU(o)})(e.databaseInfo);return(function(o,l,c,h){return new oU(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,l,c){return new uU(r,a,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>pS(this.syncEngine,n,0)),(function(){return cS.v()?new cS:new J9})())}createSyncEngine(e,n){return(function(a,o,l,c,h,d,m){const y=new IU(a,o,l,c,h,d);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=$e(n);be(ul,"RemoteStore shutting down."),r.Ea.add(5),await ih(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xb.provider={build:()=>new xb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class GU{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Jn.UNAUTHENTICATED,this.clientId=Ex.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{be(ro,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(be(ro,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Tv(t,e){t.asyncQueue.verifyOperationInProgress(),be(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await QN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function vS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YU(t);be(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>hS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>hS(e.remoteStore,a))),t._onlineComponents=e}async function YU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(ro,"Using user provided OfflineComponentProvider");try{await Tv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Eu("Error using user provided cache. Falling back to memory cache: "+n),await Tv(t,new Dm)}}else be(ro,"Using default OfflineComponentProvider"),await Tv(t,new HU(void 0));return t._offlineComponents}async function gI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(ro,"Using user provided OnlineComponentProvider"),await vS(t,t._uninitializedComponentsProvider._online)):(be(ro,"Using default OnlineComponentProvider"),await vS(t,new xb))),t._onlineComponents}function WU(t){return gI(t).then((e=>e.syncEngine))}async function XU(t){const e=await gI(t),n=e.eventManager;return n.onListen=RU.bind(null,e.syncEngine),n.onUnlisten=MU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jU.bind(null,e.syncEngine),n}function QU(t,e,n={}){const r=new Ws;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,d){const m=new KU({next:b=>{m.Nu(),l.enqueueAndForget((()=>TU(o,y)));const _=b.docs.has(c);!_&&b.fromCache?d.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&h&&h.source==="server"?d.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new kU(Nx(c.path),m,{includeMetadataChanges:!0,qa:!0});return EU(o,y)})(await XU(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="firestore.googleapis.com",xS=!0;class _S{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yI,this.ssl=xS}else this.host=e.host,this.ssl=e.ssl??xS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A9)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yx{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _S({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _S(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QV;switch(r.type){case"firstParty":return new t5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=bS.get(n);r&&(be("ComponentProvider","Removing Datastore"),bS.delete(n),r.terminate())})(this),Promise.resolve()}}function ZU(t,e,n,r={}){t=Nf(t,Yx);const a=Lu(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;a&&(mO(`https://${c}`),gO("Firestore",!0)),o.host!==yI&&o.host!==c&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:a,emulatorOptions:r};if(!al(h,l)&&(t._setSettings(h),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Jn.MOCK_USER;else{d=u3(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Jn(y)}t._authCredentials=new ZV(new lN(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wx(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}toJSON(){return{type:Cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(th(n,Cn._jsonSchema))return new Cn(e,r||null,new Pe(qt.fromString(n.referencePath)))}}Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:sn("string",Cn._jsonSchemaVersion),referencePath:sn("string")};class Lf extends Wx{constructor(e,n,r){super(e,n,Nx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Pe(e))}withConverter(e){return new Lf(this.firestore,e,this._path)}}function JU(t,e,...n){if(t=Ur(t),arguments.length===1&&(e=Ex.newId()),o5("doc","path",e),t instanceof Yx){const r=qt.fromString(e,...n);return MA(r),new Cn(t,null,new Pe(r))}{if(!(t instanceof Cn||t instanceof Lf))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return MA(r),new Cn(t.firestore,t instanceof Lf?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="AsyncQueue";class ES{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JN(this,"async_queue_retry"),this._c=()=>{const r=Ev();r&&be(wS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ev();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ev();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$u(e))throw e;be(wS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fa("INTERNAL UNHANDLED ERROR: ",TS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=$x.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:TS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xx extends Yx{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new ES,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ES(e),this._firestoreClient=void 0,await e}}}function ez(t,e){const n=typeof t=="object"?t:bO(),r=typeof t=="string"?t:Am,a=dx(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=o3("firestore");o&&ZU(a,...o)}return a}function vI(t){if(t._terminated)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tz(t),t._firestoreClient}function tz(t){const e=t._freezeSettings(),n=(function(a,o,l,c){return new b5(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pI(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(qn.fromBase64String(e))}catch(n){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oi(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(th(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:sn("string",oi._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(e){if(th(e,Zi._jsonSchema))return new Zi(e.latitude,e.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:sn("string",Zi._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(th(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ji(e.vectorValues);throw new Ce(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:sn("string",Ji._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=/^__.*__$/;class rz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yl(e,this.data,this.fieldMask,n,this.fieldTransforms):new nh(e,this.data,n,this.fieldTransforms)}}function xI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class Zx{constructor(e,n,r,a,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xI(this.Ac)&&nz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dg(e)}Cc(e,n,r,a=!1){return new Zx({Ac:e,methodName:n,Dc:r,path:Un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function az(t){const e=t._freezeSettings(),n=Dg(t._databaseId);return new iz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sz(t,e,n,r,a,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);TI("Data must be an object, but it was:",l,r);const c=wI(r,l);let h,d;if(o.merge)h=new Ni(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const b=oz(e,y,n);if(!l.contains(b))throw new Ce(le.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);uz(m,b)||m.push(b)}h=new Ni(m),d=l.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,d=l.fieldTransforms;return new rz(new si(c),h,d)}function _I(t,e){if(EI(t=Ur(t)))return TI("Unsupported field value:",e,t),wI(t,e);if(t instanceof bI)return(function(r,a){if(!xI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let l=0;for(const c of r){let h=_I(c,a.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Ur(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Dt.fromDate(r);return{timestampValue:Im(a.serializer,o)}}if(r instanceof Dt){const o=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Im(a.serializer,o)}}if(r instanceof Zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oi)return{bytesValue:qN(a.serializer,r._byteString)};if(r instanceof Cn){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dx(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ji)return(function(l,c){return{mapValue:{fields:{[yN]:{stringValue:vN},[Sm]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Ix(c.serializer,d)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Tx(r)}`)})(t,e)}function wI(t,e){const n={};return fN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gl(t,((r,a)=>{const o=_I(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function EI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Zi||t instanceof oi||t instanceof Cn||t instanceof bI||t instanceof Ji)}function TI(t,e,n){if(!EI(n)||!uN(n)){const r=Tx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function oz(t,e,n){if((e=Ur(e))instanceof Qx)return e._internalPath;if(typeof e=="string")return AI(t,e);throw Mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const lz=new RegExp("[~\\*/\\[\\]]");function AI(t,e,n){if(e.search(lz)>=0)throw Mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qx(...e.split("."))._internalPath}catch{throw Mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mm(t,e,n,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${a}`),h+=")"),new Ce(le.INVALID_ARGUMENT,c+t+h)}function uz(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cz extends SI{data(){return super.data()}}function kI(t,e){return typeof e=="string"?AI(t,e):e instanceof Qx?e._internalPath:e._delegate._internalPath}class fz{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gl(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Sm].arrayValue?.values?.map((r=>en(r.doubleValue)));return new Ji(n)}convertGeoPoint(e){return new Zi(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rf(e));default:return null}}convertTimestamp(e){const n=Js(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qt.fromString(e);ft(YN(r),9688,{name:e});const a=new Pf(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return a.isEqual(n)||Fa(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class gf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class el extends SI{constructor(e,n,r,a,o,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=el._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}el._jsonSchemaVersion="firestore/documentSnapshot/1.0",el._jsonSchema={type:sn("string",el._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class hm extends el{data(e={}){return super.data(e)}}class Tf{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new gf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new hm(this._firestore,this._userDataWriter,r.key,r,new gf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((c=>{const h=new hm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new gf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new hm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new gf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:dz(c.type),doc:h,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ex.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t){t=Nf(t,Cn);const e=Nf(t.firestore,Xx);return QU(vI(e),t._key).then((n=>vz(e,t,n)))}Tf._jsonSchemaVersion="firestore/querySnapshot/1.0",Tf._jsonSchema={type:sn("string",Tf._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class gz extends fz{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function pz(t,e,n){t=Nf(t,Cn);const r=Nf(t.firestore,Xx),a=hz(t.converter,e);return yz(r,[sz(az(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Va.none())])}function yz(t,e){return(function(r,a){const o=new Ws;return r.asyncQueue.enqueueAndForget((async()=>LU(await WU(r),a,o))),o.promise})(vI(t),e)}function vz(t,e,n){const r=n.docs.get(e._key),a=new gz(t);return new el(t,a,e._key,r,new gf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Bu=a})(Vu),_u(new sl("firestore",((r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Xx(new JV(r.getProvider("auth-internal")),new n5(l,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(d.options.projectId,m)})(l,a),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Ks(IA,RA,e),Ks(IA,RA,"esm2020")})();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),AS=t=>{const e=xz(t);return e.charAt(0).toUpperCase()+e.slice(1)},CI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),_z=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:l,...c},h)=>C.createElement("svg",{ref:h,...wz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CI("lucide",a),...!o&&!_z(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,m])=>C.createElement(d,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=C.forwardRef(({className:r,...a},o)=>C.createElement(Ez,{ref:o,iconNode:e,className:CI(`lucide-${bz(AS(t))}`,`lucide-${t}`,r),...a}));return n.displayName=AS(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],OI=Ge("arrow-down-right",Tz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],NI=Ge("arrow-up-right",Az);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],II=Ge("calculator",Sz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],RI=Ge("calendar-days",kz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],PI=Ge("camera",Cz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],Nz=Ge("chart-bar",Oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rz=Ge("chevron-down",Iz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Dz=Ge("chevron-left",Pz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jz=Ge("chevron-right",Mz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jm=Ge("circle-check-big",Lz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],_b=Ge("circle-plus",Vz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zz=Ge("clock",Uz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],qz=Ge("cloud-upload",Bz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fz=Ge("copy",$z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["circle",{cx:"12",cy:"6",r:"1",key:"1bh7o1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["circle",{cx:"12",cy:"18",r:"1",key:"lqb9t5"}]],Kz=Ge("divide",Hz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Yz=Ge("dollar-sign",Gz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xz=Ge("eye-off",Wz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zz=Ge("eye",Qz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],e7=Ge("hash",Jz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jx=Ge("image",t7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vf=Ge("info",n7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],i7=Ge("layout-dashboard",r7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],DI=Ge("list-plus",a7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],o7=Ge("log-in",s7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u7=Ge("log-out",l7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],f7=Ge("maximize-2",c7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],d7=Ge("menu",h7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],g7=Ge("moon",m7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],e_=Ge("pen-line",p7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],v7=Ge("ratio",y7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],t_=Ge("save",b7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_7=Ge("sun",x7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],n_=Ge("target",w7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bl=Ge("trash-2",E7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],r_=Ge("trending-up",T7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i_=Ge("triangle-alert",A7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MI=Ge("users",S7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],C7=Ge("wallet",k7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a_=Ge("zap",O7);function jI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=jI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ct(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=jI(t))&&(r&&(r+=" "),r+=e);return r}var Av={},Sv={},SS;function N7(){return SS||(SS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Sv)),Sv}var kv={},kS;function LI(){return kS||(kS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(kv)),kv}var Cv={},CS;function VI(){return CS||(CS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Cv)),Cv}var Ov={},OS;function s_(){return OS||(OS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],a=n.length;if(a===0)return r;let o=0,l="",c="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<a;){const d=n[o];c?d==="\\"&&o+1<a?(o++,l+=n[o]):d===c?c="":l+=d:h?d==='"'||d==="'"?c=d:d==="]"?(h=!1,r.push(l),l=""):l+=d:d==="["?(h=!0,l&&(r.push(l),l="")):d==="."?l&&(r.push(l),l=""):l+=d,o++}return l&&r.push(l),r}t.toPath=e})(Ov)),Ov}var NS;function o_(){return NS||(NS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N7(),n=LI(),r=VI(),a=s_();function o(c,h,d){if(c==null)return d;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?n.isDeepKey(h)?o(c,a.toPath(h),d):d:m}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const m=c[h];return m===void 0?d:m}default:{if(Array.isArray(h))return l(c,h,d);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?d:m}}}function l(c,h,d){if(h.length===0)return d;let m=c;for(let y=0;y<h.length;y++){if(m==null||e.isUnsafeProperty(h[y]))return d;m=m[h[y]]}return m===void 0?d:m}t.get=o})(Av)),Av}var Nv,IS;function I7(){return IS||(IS=1,Nv=o_().get),Nv}var R7=I7();const Lg=so(R7);var li=t=>t===0?0:t>0?1:-1,mr=t=>typeof t=="number"&&t!=+t,Xo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!mr(t),ci=t=>Ne(t)||typeof t=="string",P7=0,Uf=t=>{var e=++P7;return"".concat(t||"").concat(e)},io=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return r;var o;if(Xo(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return mr(o)&&(o=r),a&&n!=null&&o>n&&(o=n),o},UI=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Ki(t,e,n){return Ne(t)&&Ne(e)?t+n*(e-t):e}function zI(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Lg(r,e))===n)}var Bn=t=>t===null||typeof t>"u",l_=t=>Bn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),D7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function u_(t){if(typeof t!="string")return!1;var e=D7;return e.includes(t)}var M7=["viewBox","children"],RS=["points","pathLength"],Iv={svg:M7,polygon:RS,polyline:RS},c_=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{u_(a)&&(r[a]=(o=>n[a](n,o)))}),r},j7=(t,e,n)=>r=>(t(e,n,r),null),L7=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var o=t[a];u_(a)&&typeof o=="function"&&(r||(r={}),r[a]=j7(o,e,n))}),r},V7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function BI(t){if(typeof t!="string")return!1;var e=V7;return e.includes(t)}function lo(t){var e=Object.entries(t).filter(n=>{var[r]=n;return BI(r)});return Object.fromEntries(e)}var qI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,U7=(t,e,n,r)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(a=r&&Iv?.[r])!==null&&a!==void 0?a:[],l=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&o.includes(e)||BI(e)),h=!!n&&u_(e);return l||c||h},$n=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(o=>{var l;U7((l=r)===null||l===void 0?void 0:l[o],o,e,n)&&(a[o]=r[o])}),a},z7=["children","width","height","viewBox","className","style","title","desc"];function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(null,arguments)}function B7(t,e){if(t==null)return{};var n,r,a=q7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function q7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $I=C.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:o,className:l,style:c,title:h,desc:d}=t,m=B7(t,z7),y=o||{width:r,height:a,x:0,y:0},b=Ct("recharts-surface",l);return C.createElement("svg",wb({},$n(m,!0,"svg"),{className:b,width:r,height:a,style:c,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),C.createElement("title",null,h),C.createElement("desc",null,d),n)}),$7=["children","className"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function F7(t,e){if(t==null)return{};var n,r,a=H7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function H7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ra=C.forwardRef((t,e)=>{var{children:n,className:r}=t,a=F7(t,$7),o=Ct("recharts-layer",r);return C.createElement("g",Eb({className:o},$n(a,!0),{ref:e}),n)}),K7=oO(),G7=C.createContext(null);function Yt(t){return function(){return t}}const Tb=Math.PI,Ab=2*Tb,Ho=1e-6,Y7=Ab-Ho;function FI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function W7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return FI;const n=10**e;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class X7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?FI:W7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,o,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,a,o){if(e=+e,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,h=r-e,d=a-n,m=l-e,y=c-n,b=m*m+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Ho)if(!(Math.abs(y*h-d*m)>Ho)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=a-c,S=h*h+d*d,T=_*_+E*E,I=Math.sqrt(S),D=Math.sqrt(b),L=o*Math.tan((Tb-Math.acos((S+b-T)/(2*I*D)))/2),B=L/D,q=L/I;Math.abs(B-1)>Ho&&this._append`L${e+B*m},${n+B*y}`,this._append`A${o},${o},0,0,${+(y*_>m*E)},${this._x1=e+q*h},${this._y1=n+q*d}`}}arc(e,n,r,a,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),h=r*Math.sin(a),d=e+c,m=n+h,y=1^l,b=l?a-o:o-a;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>Ho||Math.abs(this._y1-m)>Ho)&&this._append`L${d},${m}`,r&&(b<0&&(b=b%Ab+Ab),b>Y7?this._append`A${r},${r},0,1,${y},${e-c},${n-h}A${r},${r},0,1,${y},${this._x1=d},${this._y1=m}`:b>Ho&&this._append`A${r},${r},0,${+(b>=Tb)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function HI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new X7(e)}function f_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KI(t){this._context=t}KI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vg(t){return new KI(t)}function GI(t){return t[0]}function YI(t){return t[1]}function WI(t,e){var n=Yt(!0),r=null,a=Vg,o=null,l=HI(c);t=typeof t=="function"?t:t===void 0?GI:Yt(t),e=typeof e=="function"?e:e===void 0?YI:Yt(e);function c(h){var d,m=(h=f_(h)).length,y,b=!1,_;for(r==null&&(o=a(_=l())),d=0;d<=m;++d)!(d<m&&n(y=h[d],d,h))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+t(y,d,h),+e(y,d,h));if(_)return o=null,_+""||null}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:Yt(+h),c):t},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:Yt(+h),c):e},c.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Yt(!!h),c):n},c.curve=function(h){return arguments.length?(a=h,r!=null&&(o=a(r)),c):a},c.context=function(h){return arguments.length?(h==null?r=o=null:o=a(r=h),c):r},c}function Ud(t,e,n){var r=null,a=Yt(!0),o=null,l=Vg,c=null,h=HI(d);t=typeof t=="function"?t:t===void 0?GI:Yt(+t),e=typeof e=="function"?e:Yt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?YI:Yt(+n);function d(y){var b,_,E,S=(y=f_(y)).length,T,I=!1,D,L=new Array(S),B=new Array(S);for(o==null&&(c=l(D=h())),b=0;b<=S;++b){if(!(b<S&&a(T=y[b],b,y))===I)if(I=!I)_=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=b-1;E>=_;--E)c.point(L[E],B[E]);c.lineEnd(),c.areaEnd()}I&&(L[b]=+t(T,b,y),B[b]=+e(T,b,y),c.point(r?+r(T,b,y):L[b],n?+n(T,b,y):B[b]))}if(D)return c=null,D+""||null}function m(){return WI().defined(a).curve(l).context(o)}return d.x=function(y){return arguments.length?(t=typeof y=="function"?y:Yt(+y),r=null,d):t},d.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Yt(+y),d):t},d.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Yt(+y),d):r},d.y=function(y){return arguments.length?(e=typeof y=="function"?y:Yt(+y),n=null,d):e},d.y0=function(y){return arguments.length?(e=typeof y=="function"?y:Yt(+y),d):e},d.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Yt(+y),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(y){return arguments.length?(a=typeof y=="function"?y:Yt(!!y),d):a},d.curve=function(y){return arguments.length?(l=y,o!=null&&(c=l(o)),d):l},d.context=function(y){return arguments.length?(y==null?o=c=null:c=l(o=y),d):o},d}class XI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Q7(t){return new XI(t,!0)}function Z7(t){return new XI(t,!1)}function Lm(){}function Vm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function QI(t){this._context=t}QI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function J7(t){return new QI(t)}function ZI(t){this._context=t}ZI.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e8(t){return new ZI(t)}function JI(t){this._context=t}JI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t8(t){return new JI(t)}function eR(t){this._context=t}eR.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function n8(t){return new eR(t)}function PS(t){return t<0?-1:1}function DS(t,e,n){var r=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),c=(o*a+l*r)/(r+a);return(PS(o)+PS(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function MS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Rv(t,e,n){var r=t._x0,a=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,a+c*e,o-c,l-c*n,o,l)}function Um(t){this._context=t}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rv(this,this._t0,MS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rv(this,MS(this,n=DS(this,t,e)),n);break;default:Rv(this,this._t0,n=DS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function tR(t){this._context=new nR(t)}(tR.prototype=Object.create(Um.prototype)).point=function(t,e){Um.prototype.point.call(this,e,t)};function nR(t){this._context=t}nR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,o){this._context.bezierCurveTo(e,t,r,n,o,a)}};function r8(t){return new Um(t)}function i8(t){return new tR(t)}function rR(t){this._context=t}rR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jS(t),a=jS(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jS(t){var e,n=t.length-1,r,a=new Array(n),o=new Array(n),l=new Array(n);for(a[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/o[e];for(o[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-a[e+1];return[a,o]}function a8(t){return new rR(t)}function Ug(t,e){this._context=t,this._t=e}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function s8(t){return new Ug(t,.5)}function o8(t){return new Ug(t,0)}function l8(t){return new Ug(t,1)}function Ou(t,e){if((l=t.length)>1)for(var n=1,r,a,o=t[e[0]],l,c=o.length;n<l;++n)for(a=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Sb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function u8(t,e){return t[e]}function c8(t){const e=[];return e.key=t,e}function f8(){var t=Yt([]),e=Sb,n=Ou,r=u8;function a(o){var l=Array.from(t.apply(this,arguments),c8),c,h=l.length,d=-1,m;for(const y of o)for(c=0,++d;c<h;++c)(l[c][d]=[0,+r(y,l[c].key,d,o)]).data=y;for(c=0,m=f_(e(l));c<h;++c)l[m[c]].index=c;return n(l,m),l}return a.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Yt(Array.from(o)),a):t},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:Yt(+o),a):r},a.order=function(o){return arguments.length?(e=o==null?Sb:typeof o=="function"?o:Yt(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(n=o??Ou,a):n},a}function h8(t,e){if((r=t.length)>0){for(var n,r,a=0,o=t[0].length,l;a<o;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Ou(t,e)}}function d8(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,o=r.length;n<o;++n){for(var l=0,c=0;l<a;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Ou(t,e)}}function m8(t,e){if(!(!((l=t.length)>0)||!((o=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,o,l;r<o;++r){for(var c=0,h=0,d=0;c<l;++c){for(var m=t[e[c]],y=m[r][1]||0,b=m[r-1][1]||0,_=(y-b)/2,E=0;E<c;++E){var S=t[e[E]],T=S[r][1]||0,I=S[r-1][1]||0;_+=T-I}h+=y,d+=_*y}a[r-1][1]+=a[r-1][0]=n,h&&(n-=d/h)}a[r-1][1]+=a[r-1][0]=n,Ou(t,e)}}var Pv={},Dv={},LS;function g8(){return LS||(LS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}t.uniqBy=e})(Dv)),Dv}var Mv={},VS;function iR(){return VS||(VS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Mv)),Mv}var jv={},Lv={},Vv={},US;function p8(){return US||(US=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Vv)),Vv}var zS;function h_(){return zS||(zS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p8();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Lv)),Lv}var Uv={},BS;function y8(){return BS||(BS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Uv)),Uv}var qS;function v8(){return qS||(qS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h_(),n=y8();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(jv)),jv}var zv={},Bv={},$S;function b8(){return $S||($S=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Bv)),Bv}var qv={},$v={},Fv={},Hv={},FS;function aR(){return FS||(FS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Hv)),Hv}var Kv={},HS;function sR(){return HS||(HS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Kv)),Kv}var Gv={},KS;function oR(){return KS||(KS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Gv)),Gv}var GS;function x8(){return GS||(GS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d_(),n=aR(),r=sR(),a=oR();function o(y,b,_){return typeof _!="function"?e.isMatch(y,b):l(y,b,function E(S,T,I,D,L,B){const q=_(S,T,I,D,L,B);return q!==void 0?!!q:l(S,T,E,B)},new Map)}function l(y,b,_,E){if(b===y)return!0;switch(typeof b){case"object":return c(y,b,_,E);case"function":return Object.keys(b).length>0?l(y,{...b},_,E):a.eq(y,b);default:return n.isObject(y)?typeof b=="string"?b==="":!0:a.eq(y,b)}}function c(y,b,_,E){if(b==null)return!0;if(Array.isArray(b))return d(y,b,_,E);if(b instanceof Map)return h(y,b,_,E);if(b instanceof Set)return m(y,b,_,E);const S=Object.keys(b);if(y==null)return S.length===0;if(S.length===0)return!0;if(E&&E.has(b))return E.get(b)===y;E&&E.set(b,y);try{for(let T=0;T<S.length;T++){const I=S[T];if(!r.isPrimitive(y)&&!(I in y)||b[I]===void 0&&y[I]!==void 0||b[I]===null&&y[I]!==null||!_(y[I],b[I],I,y,b,E))return!1}return!0}finally{E&&E.delete(b)}}function h(y,b,_,E){if(b.size===0)return!0;if(!(y instanceof Map))return!1;for(const[S,T]of b.entries()){const I=y.get(S);if(_(I,T,S,y,b,E)===!1)return!1}return!0}function d(y,b,_,E){if(b.length===0)return!0;if(!Array.isArray(y))return!1;const S=new Set;for(let T=0;T<b.length;T++){const I=b[T];let D=!1;for(let L=0;L<y.length;L++){if(S.has(L))continue;const B=y[L];let q=!1;if(_(B,I,T,y,b,E)&&(q=!0),q){S.add(L),D=!0;break}}if(!D)return!1}return!0}function m(y,b,_,E){return b.size===0?!0:y instanceof Set?d([...y],[...b],_,E):!1}t.isMatchWith=o,t.isSetMatch=m})(Fv)),Fv}var YS;function d_(){return YS||(YS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x8();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})($v)),$v}var Yv={},Wv={},Xv={},WS;function _8(){return WS||(WS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Xv)),Xv}var Qv={},XS;function lR(){return XS||(XS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Qv)),Qv}var Zv={},QS;function uR(){return QS||(QS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",h="[object Map]",d="[object Set]",m="[object Array]",y="[object Function]",b="[object ArrayBuffer]",_="[object Object]",E="[object Error]",S="[object DataView]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",D="[object Uint16Array]",L="[object Uint32Array]",B="[object BigUint64Array]",q="[object Int8Array]",F="[object Int16Array]",R="[object Int32Array]",O="[object BigInt64Array]",P="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=B,t.booleanTag=a,t.dataViewTag=S,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=P,t.float64ArrayTag=U,t.functionTag=y,t.int16ArrayTag=F,t.int32ArrayTag=R,t.int8ArrayTag=q,t.mapTag=h,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=D,t.uint32ArrayTag=L,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=I})(Zv)),Zv}var Jv={},ZS;function w8(){return ZS||(ZS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Jv)),Jv}var JS;function cR(){return JS||(JS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_8(),n=lR(),r=uR(),a=sR(),o=w8();function l(m,y){return c(m,void 0,m,new Map,y)}function c(m,y,b,_=new Map,E=void 0){const S=E?.(m,y,b,_);if(S!==void 0)return S;if(a.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const T=new Array(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,b,_,E);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;_.set(m,T);for(const[I,D]of m)T.set(I,c(D,I,b,_,E));return T}if(m instanceof Set){const T=new Set;_.set(m,T);for(const I of m)T.add(c(I,void 0,b,_,E));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,b,_,E);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,T),h(T,m,b,_,E),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return _.set(m,T),h(T,m,b,_,E),T}if(m instanceof Blob){const T=new Blob([m],{type:m.type});return _.set(m,T),h(T,m,b,_,E),T}if(m instanceof Error){const T=new m.constructor;return _.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,h(T,m,b,_,E),T}if(typeof m=="object"&&d(m)){const T=Object.create(Object.getPrototypeOf(m));return _.set(m,T),h(T,m,b,_,E),T}return m}function h(m,y,b=m,_,E){const S=[...Object.keys(y),...e.getSymbols(y)];for(let T=0;T<S.length;T++){const I=S[T],D=Object.getOwnPropertyDescriptor(m,I);(D==null||D.writable)&&(m[I]=c(y[I],I,b,_,E))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=h})(Wv)),Wv}var ek;function E8(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cR();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Yv)),Yv}var tk;function T8(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d_(),n=E8();function r(a){return a=n.cloneDeep(a),o=>e.isMatch(o,a)}t.matches=r})(qv)),qv}var e0={},t0={},n0={},nk;function A8(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cR(),n=uR();function r(a,o){return e.cloneDeepWith(a,(l,c,h,d)=>{const m=o?.(l,c,h,d);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case n.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r})(n0)),n0}var rk;function S8(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A8();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(t0)),t0}var r0={},i0={},ik;function fR(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(i0)),i0}var a0={},ak;function k8(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lR();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(a0)),a0}var sk;function C8(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LI(),n=fR(),r=k8(),a=s_();function o(l,c){let h;if(Array.isArray(c)?h=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?h=a.toPath(c):h=[c],h.length===0)return!1;let d=l;for(let m=0;m<h.length;m++){const y=h[m];if((d==null||!Object.hasOwn(d,y))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(y)&&y<d.length))return!1;d=d[y]}return!0}t.has=o})(r0)),r0}var ok;function O8(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d_(),n=VI(),r=S8(),a=o_(),o=C8();function l(c,h){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return h=r.cloneDeep(h),function(d){const m=a.get(d,c);return m===void 0?o.has(d,c):h===void 0?m===void 0:e.isMatch(m,h)}}t.matchesProperty=l})(e0)),e0}var lk;function N8(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iR(),n=b8(),r=T8(),a=O8();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(zv)),zv}var uk;function I8(){return uk||(uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g8(),n=iR(),r=v8(),a=N8();function o(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(c)):[]}t.uniqBy=o})(Pv)),Pv}var s0,ck;function R8(){return ck||(ck=1,s0=I8().uniqBy),s0}var P8=R8();const fk=so(P8);function D8(t,e,n){return e===!0?fk(t,n):typeof e=="function"?fk(t,e):t}var o0={exports:{}},l0={},u0={exports:{}},c0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk;function M8(){if(hk)return c0;hk=1;var t=ju();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(y,b){var _=b(),E=r({inst:{value:_,getSnapshot:b}}),S=E[0].inst,T=E[1];return o(function(){S.value=_,S.getSnapshot=b,h(S)&&T({inst:S})},[y,_,b]),a(function(){return h(S)&&T({inst:S}),y(function(){h(S)&&T({inst:S})})},[y]),l(_),_}function h(y){var b=y.getSnapshot;y=y.value;try{var _=b();return!n(y,_)}catch{return!0}}function d(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return c0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,c0}var dk;function j8(){return dk||(dk=1,u0.exports=M8()),u0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk;function L8(){if(mk)return l0;mk=1;var t=ju(),e=j8();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return l0.useSyncExternalStoreWithSelector=function(d,m,y,b,_){var E=o(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=c(function(){function I(F){if(!D){if(D=!0,L=F,F=b(F),_!==void 0&&S.hasValue){var R=S.value;if(_(R,F))return B=R}return B=F}if(R=B,r(L,F))return R;var O=b(F);return _!==void 0&&_(R,O)?(L=F,R):(L=F,B=O)}var D=!1,L,B,q=y===void 0?null:y;return[function(){return I(m())},q===null?void 0:function(){return I(q())}]},[m,y,b,_]);var T=a(d,E[0],E[1]);return l(function(){S.hasValue=!0,S.value=T},[T]),h(T),T},l0}var gk;function V8(){return gk||(gk=1,o0.exports=L8()),o0.exports}var U8=V8(),m_=C.createContext(null),z8=t=>t,rr=()=>{var t=C.useContext(m_);return t?t.store.dispatch:z8},dm=()=>{},B8=()=>dm,q8=(t,e)=>t===e;function Oe(t){var e=C.useContext(m_);return U8.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:B8,e?e.store.getState:dm,e?e.store.getState:dm,e?t:dm,q8)}function $8(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function F8(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function H8(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var pk=t=>Array.isArray(t)?t:[t];function K8(t){const e=Array.isArray(t[0])?t[0]:t;return H8(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function G8(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var Y8=class{constructor(t){this.value=t}deref(){return this.value}},W8=typeof WeakRef<"u"?WeakRef:Y8,X8=0,yk=1;function zd(){return{s:X8,v:void 0,o:null,p:null}}function hR(t,e={}){let n=zd();const{resultEqualityCheck:r}=e;let a,o=0;function l(){let c=n;const{length:h}=arguments;for(let y=0,b=h;y<b;y++){const _=arguments[y];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const S=E.get(_);S===void 0?(c=zd(),E.set(_,c)):c=S}else{let E=c.p;E===null&&(c.p=E=new Map);const S=E.get(_);S===void 0?(c=zd(),E.set(_,c)):c=S}}const d=c;let m;if(c.s===yk)m=c.v;else if(m=t.apply(null,arguments),o++,r){const y=a?.deref?.()??a;y!=null&&r(y,m)&&(m=y,o!==0&&o--),a=typeof m=="object"&&m!==null||typeof m=="function"?new W8(m):m}return d.s=yk,d.v=m,m}return l.clearCache=()=>{n=zd(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function Q8(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let o=0,l=0,c,h={},d=a.pop();typeof d=="object"&&(h=d,d=a.pop()),$8(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...h},{memoize:y,memoizeOptions:b=[],argsMemoize:_=hR,argsMemoizeOptions:E=[]}=m,S=pk(b),T=pk(E),I=K8(a),D=y(function(){return o++,d.apply(null,arguments)},...S),L=_(function(){l++;const q=G8(I,arguments);return c=D.apply(null,q),c},...T);return Object.assign(L,{resultFunc:d,memoizedResultFunc:D,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var te=Q8(hR),Z8=Object.assign((t,e=te)=>{F8(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,h)=>(l[n[h]]=c,l),{}))},{withTypes:()=>Z8}),f0={},h0={},d0={},vk;function J8(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,o)=>{if(r!==a){const l=e(r),c=e(a);if(l===c&&l===0){if(r<a)return o==="desc"?1:-1;if(r>a)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(d0)),d0}var m0={},g0={},bk;function dR(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(g0)),g0}var xk;function eB(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=a})(m0)),m0}var _k;function tB(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J8(),n=eB(),r=s_();function a(o,l,c,h){if(o==null)return[];c=h?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const d=(_,E)=>{let S=_;for(let T=0;T<E.length&&S!=null;++T)S=S[E[T]];return S},m=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:d(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?d(E,_):typeof E=="object"?E[_]:E,y=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:y.map(E=>m(E,_))})).slice().sort((_,E)=>{for(let S=0;S<y.length;S++){const T=e.compareValues(_.criteria[S],E.criteria[S],c[S]);if(T!==0)return T}return 0}).map(_=>_.original)}t.orderBy=a})(h0)),h0}var p0={},wk;function nB(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],o=Math.floor(r),l=(c,h)=>{for(let d=0;d<c.length;d++){const m=c[d];Array.isArray(m)&&h<o?l(m,h+1):a.push(m)}};return l(n,0),a}t.flatten=e})(p0)),p0}var y0={},Ek;function mR(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fR(),n=h_(),r=aR(),a=oR();function o(l,c,h){return r.isObject(h)&&(typeof c=="number"&&n.isArrayLike(h)&&e.isIndex(c)&&c<h.length||typeof c=="string"&&c in h)?a.eq(h[c],l):!1}t.isIterateeCall=o})(y0)),y0}var Tk;function rB(){return Tk||(Tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tB(),n=nB(),r=mR();function a(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=a})(f0)),f0}var v0,Ak;function iB(){return Ak||(Ak=1,v0=rB().sortBy),v0}var aB=iB();const zg=so(aB);var gR=t=>t.legend.settings,sB=t=>t.legend.size,oB=t=>t.legend.payload;te([oB,gR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?zg(r,n):r});var Bd=1;function lB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>Bd||Math.abs(l.left-e.left)>Bd||Math.abs(l.top-e.top)>Bd||Math.abs(l.width-e.width)>Bd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function jn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var uB=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sk=uB,b0=()=>Math.random().toString(36).substring(7).split("").join("."),cB={INIT:`@@redux/INIT${b0()}`,REPLACE:`@@redux/REPLACE${b0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${b0()}`},zm=cB;function g_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function pR(t,e,n){if(typeof t!="function")throw new Error(jn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jn(1));return n(pR)(t,e)}let r=t,a=e,o=new Map,l=o,c=0,h=!1;function d(){l===o&&(l=new Map,o.forEach((T,I)=>{l.set(I,T)}))}function m(){if(h)throw new Error(jn(3));return a}function y(T){if(typeof T!="function")throw new Error(jn(4));if(h)throw new Error(jn(5));let I=!0;d();const D=c++;return l.set(D,T),function(){if(I){if(h)throw new Error(jn(6));I=!1,d(),l.delete(D),o=null}}}function b(T){if(!g_(T))throw new Error(jn(7));if(typeof T.type>"u")throw new Error(jn(8));if(typeof T.type!="string")throw new Error(jn(17));if(h)throw new Error(jn(9));try{h=!0,a=r(a,T)}finally{h=!1}return(o=l).forEach(D=>{D()}),T}function _(T){if(typeof T!="function")throw new Error(jn(10));r=T,b({type:zm.REPLACE})}function E(){const T=y;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(jn(11));function D(){const B=I;B.next&&B.next(m())}return D(),{unsubscribe:T(D)}},[Sk](){return this}}}return b({type:zm.INIT}),{dispatch:b,subscribe:y,getState:m,replaceReducer:_,[Sk]:E}}function fB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zm.INIT})>"u")throw new Error(jn(12));if(typeof n(void 0,{type:zm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jn(13))})}function yR(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{fB(n)}catch(o){a=o}return function(l={},c){if(a)throw a;let h=!1;const d={};for(let m=0;m<r.length;m++){const y=r[m],b=n[y],_=l[y],E=b(_,c);if(typeof E>"u")throw c&&c.type,new Error(jn(14));d[y]=E,h=h||E!==_}return h=h||r.length!==Object.keys(l).length,h?d:l}}function Bm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hB(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(jn(15))};const l={getState:a.getState,dispatch:(h,...d)=>o(h,...d)},c=t.map(h=>h(l));return o=Bm(...c)(a.dispatch),{...a,dispatch:o}}}function vR(t){return g_(t)&&"type"in t&&typeof t.type=="string"}var bR=Symbol.for("immer-nothing"),kk=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function ki(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Nu=Object.getPrototypeOf;function cl(t){return!!t&&!!t[zr]}function Ka(t){return t?xR(t)||Array.isArray(t)||!!t[kk]||!!t.constructor?.[kk]||sh(t)||qg(t):!1}var dB=Object.prototype.constructor.toString();function xR(t){if(!t||typeof t!="object")return!1;const e=Nu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===dB}function qm(t,e){Bg(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Bg(t){const e=t[zr];return e?e.type_:Array.isArray(t)?1:sh(t)?2:qg(t)?3:0}function kb(t,e){return Bg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function _R(t,e,n){const r=Bg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function mB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sh(t){return t instanceof Map}function qg(t){return t instanceof Set}function Ko(t){return t.copy_||t.base_}function Cb(t,e){if(sh(t))return new Map(t);if(qg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=xR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[zr];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const l=a[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Nu(t),r)}else{const r=Nu(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function p_(t,e=!1){return $g(t)||cl(t)||!Ka(t)||(Bg(t)>1&&Object.defineProperties(t,{set:{value:qd},add:{value:qd},clear:{value:qd},delete:{value:qd}}),Object.freeze(t),e&&Object.values(t).forEach(n=>p_(n,!0))),t}function qd(){ki(2)}function $g(t){return Object.isFrozen(t)}var gB={};function fl(t){const e=gB[t];return e||ki(0,t),e}var zf;function wR(){return zf}function pB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ck(t,e){e&&(fl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ob(t){Nb(t),t.drafts_.forEach(yB),t.drafts_=null}function Nb(t){t===zf&&(zf=t.parent_)}function Ok(t){return zf=pB(zf,t)}function yB(t){const e=t[zr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Nk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[zr].modified_&&(Ob(e),ki(4)),Ka(t)&&(t=$m(e,t),e.parent_||Fm(e,t)),e.patches_&&fl("Patches").generateReplacementPatches_(n[zr].base_,t,e.patches_,e.inversePatches_)):t=$m(e,n,[]),Ob(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==bR?t:void 0}function $m(t,e,n){if($g(e))return e;const r=e[zr];if(!r)return qm(e,(a,o)=>Ik(t,r,e,a,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Fm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,l=!1;r.type_===3&&(o=new Set(a),a.clear(),l=!0),qm(o,(c,h)=>Ik(t,r,a,c,h,n,l)),Fm(t,a,!1),n&&t.patches_&&fl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Ik(t,e,n,r,a,o,l){if(cl(a)){const c=o&&e&&e.type_!==3&&!kb(e.assigned_,r)?o.concat(r):void 0,h=$m(t,a,c);if(_R(n,r,h),cl(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Ka(a)&&!$g(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;$m(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(sh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Fm(t,a)}}function Fm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&p_(e,n)}function vB(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:wR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=y_;n&&(a=[r],o=Bf);const{revoke:l,proxy:c}=Proxy.revocable(a,o);return r.draft_=c,r.revoke_=l,c}var y_={get(t,e){if(e===zr)return t;const n=Ko(t);if(!kb(n,e))return bB(t,n,e);const r=n[e];return t.finalized_||!Ka(r)?r:r===x0(t.base_,e)?(_0(t),t.copy_[e]=Rb(r,t)):r},has(t,e){return e in Ko(t)},ownKeys(t){return Reflect.ownKeys(Ko(t))},set(t,e,n){const r=ER(Ko(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=x0(Ko(t),e),o=a?.[zr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(mB(n,a)&&(n!==void 0||kb(t.base_,e)))return!0;_0(t),Ib(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return x0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,_0(t),Ib(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ko(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ki(11)},getPrototypeOf(t){return Nu(t.base_)},setPrototypeOf(){ki(12)}},Bf={};qm(y_,(t,e)=>{Bf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bf.deleteProperty=function(t,e){return Bf.set.call(this,t,e,void 0)};Bf.set=function(t,e,n){return y_.set.call(this,t[0],e,n,t[0])};function x0(t,e){const n=t[zr];return(n?Ko(n):t)[e]}function bB(t,e,n){const r=ER(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function ER(t,e){if(!(e in t))return;let n=Nu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Nu(n)}}function Ib(t){t.modified_||(t.modified_=!0,t.parent_&&Ib(t.parent_))}function _0(t){t.copy_||(t.copy_=Cb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var xB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(h=o,...d){return l.produce(h,m=>n.call(this,m,...d))}}typeof n!="function"&&ki(6),r!==void 0&&typeof r!="function"&&ki(7);let a;if(Ka(e)){const o=Ok(this),l=Rb(e,void 0);let c=!0;try{a=n(l),c=!1}finally{c?Ob(o):Nb(o)}return Ck(o,r),Nk(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===bR&&(a=void 0),this.autoFreeze_&&p_(a,!0),r){const o=[],l=[];fl("Patches").generateReplacementPatches_(e,a,o,l),r(o,l)}return a}else ki(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,h=>e(h,...c));let r,a;return[this.produce(e,n,(l,c)=>{r=l,a=c}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ka(t)||ki(8),cl(t)&&(t=Ua(t));const e=Ok(this),n=Rb(t,void 0);return n[zr].isManual_=!0,Nb(e),n}finishDraft(t,e){const n=t&&t[zr];(!n||!n.isManual_)&&ki(9);const{scope_:r}=n;return Ck(r,e),Nk(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=fl("Patches").applyPatches_;return cl(t)?r(t,e):this.produce(t,a=>r(a,e))}};function Rb(t,e){const n=sh(t)?fl("MapSet").proxyMap_(t,e):qg(t)?fl("MapSet").proxySet_(t,e):vB(t,e);return(e?e.scope_:wR()).drafts_.push(n),n}function Ua(t){return cl(t)||ki(10,t),TR(t)}function TR(t){if(!Ka(t)||$g(t))return t;const e=t[zr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Cb(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Cb(t,!0);return qm(n,(r,a)=>{_R(n,r,TR(a))}),e&&(e.finalized_=!1),n}var _B=new xB,AR=_B.produce;function SR(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var wB=SR(),EB=SR,TB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bm:Bm.apply(null,arguments)};function fi(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Vr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>vR(r)&&r.type===t,n}var kR=class pf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,pf.prototype)}static get[Symbol.species](){return pf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new pf(...e[0].concat(this)):new pf(...e.concat(this))}};function Rk(t){return Ka(t)?AR(t,()=>{}):t}function $d(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function AB(t){return typeof t=="boolean"}var SB=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let l=new kR;return n&&(AB(n)?l.push(wB):l.push(EB(n.extraArgument))),l},kB="RTK_autoBatch",Pk=t=>e=>{setTimeout(e,t)},CB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,l=!1;const c=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Pk(10):t.type==="callback"?t.queueNotification:Pk(t.timeout),d=()=>{l=!1,o&&(o=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const y=()=>a&&m(),b=r.subscribe(y);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){try{return a=!m?.meta?.[kB],o=!a,o&&(l||(l=!0,h(d))),r.dispatch(m)}finally{a=!0}}})},OB=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new kR(t);return r&&a.push(CB(typeof r=="object"?r:void 0)),a};function NB(t){const e=SB(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(g_(n))c=yR(n);else throw new Error(Vr(1));let h;typeof r=="function"?h=r(e):h=e();let d=Bm;a&&(d=TB({trace:!1,...typeof a=="object"&&a}));const m=hB(...h),y=OB(m);let b=typeof l=="function"?l(y):y();const _=d(...b);return pR(c,o,_)}function CR(t){const e={},n=[];let r;const a={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Vr(28));if(c in e)throw new Error(Vr(29));return e[c]=l,a},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),a},addMatcher(o,l){return n.push({matcher:o,reducer:l}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function IB(t){return typeof t=="function"}function RB(t,e){let[n,r,a]=CR(e),o;if(IB(t))o=()=>Rk(t());else{const c=Rk(t);o=()=>c}function l(c=o(),h){let d=[n[h.type],...r.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[a]),d.reduce((m,y)=>{if(y)if(cl(m)){const _=y(m,h);return _===void 0?m:_}else{if(Ka(m))return AR(m,b=>y(b,h));{const b=y(m,h);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return l.getInitialState=o,l}var PB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",DB=(t=21)=>{let e="",n=t;for(;n--;)e+=PB[Math.random()*64|0];return e},MB=Symbol.for("rtk-slice-createasyncthunk");function jB(t,e){return`${t}/${e}`}function LB({creators:t}={}){const e=t?.asyncThunk?.[MB];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(Vr(11));const l=(typeof r.reducers=="function"?r.reducers(UB()):r.reducers)||{},c=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(L,B){const q=typeof L=="string"?L:L.type;if(!q)throw new Error(Vr(12));if(q in h.sliceCaseReducersByType)throw new Error(Vr(13));return h.sliceCaseReducersByType[q]=B,d},addMatcher(L,B){return h.sliceMatchers.push({matcher:L,reducer:B}),d},exposeAction(L,B){return h.actionCreators[L]=B,d},exposeCaseReducer(L,B){return h.sliceCaseReducersByName[L]=B,d}};c.forEach(L=>{const B=l[L],q={reducerName:L,type:jB(a,L),createNotation:typeof r.reducers=="function"};BB(B)?$B(q,B,d,e):zB(q,B,d)});function m(){const[L={},B=[],q=void 0]=typeof r.extraReducers=="function"?CR(r.extraReducers):[r.extraReducers],F={...L,...h.sliceCaseReducersByType};return RB(r.initialState,R=>{for(let O in F)R.addCase(O,F[O]);for(let O of h.sliceMatchers)R.addMatcher(O.matcher,O.reducer);for(let O of B)R.addMatcher(O.matcher,O.reducer);q&&R.addDefaultCase(q)})}const y=L=>L,b=new Map,_=new WeakMap;let E;function S(L,B){return E||(E=m()),E(L,B)}function T(){return E||(E=m()),E.getInitialState()}function I(L,B=!1){function q(R){let O=R[L];return typeof O>"u"&&B&&(O=$d(_,q,T)),O}function F(R=y){const O=$d(b,B,()=>new WeakMap);return $d(O,R,()=>{const P={};for(const[U,j]of Object.entries(r.selectors??{}))P[U]=VB(j,R,()=>$d(_,R,T),B);return P})}return{reducerPath:L,getSelectors:F,get selectors(){return F(q)},selectSlice:q}}const D={name:a,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:T,...I(o),injectInto(L,{reducerPath:B,...q}={}){const F=B??o;return L.inject({reducerPath:F,reducer:S},q),{...D,...I(F,!0)}}};return D}}function VB(t,e,n,r){function a(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return a.unwrapped=t,a}var Br=LB();function UB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function zB({type:t,reducerName:e,createNotation:n},r,a){let o,l;if("reducer"in r){if(n&&!qB(r))throw new Error(Vr(17));o=r.reducer,l=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?fi(t,l):fi(t))}function BB(t){return t._reducerDefinitionType==="asyncThunk"}function qB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function $B({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Vr(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:h,settled:d,options:m}=n,y=a(t,o,m);r.exposeAction(e,y),l&&r.addCase(y.fulfilled,l),c&&r.addCase(y.pending,c),h&&r.addCase(y.rejected,h),d&&r.addMatcher(y.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Fd,pending:c||Fd,rejected:h||Fd,settled:d||Fd})}function Fd(){}var FB="task",OR="listener",NR="completed",v_="cancelled",HB=`task-${v_}`,KB=`task-${NR}`,Pb=`${OR}-${v_}`,GB=`${OR}-${NR}`,Fg=class{constructor(t){this.code=t,this.message=`${FB} ${v_} (reason: ${t})`}name="TaskAbortError";message},b_=(t,e)=>{if(typeof t!="function")throw new TypeError(Vr(32))},Hm=()=>{},IR=(t,e=Hm)=>(t.catch(e),t),RR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),tl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},nl=t=>{if(t.aborted){const{reason:e}=t;throw new Fg(e)}};function PR(t,e){let n=Hm;return new Promise((r,a)=>{const o=()=>a(new Fg(t.reason));if(t.aborted){o();return}n=RR(t,o),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Hm})}var YB=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Fg?"cancelled":"rejected",error:n}}finally{e?.()}},Km=t=>e=>IR(PR(t,e).then(n=>(nl(t),n))),DR=t=>{const e=Km(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:bu}=Object,Dk={},Hg="listenerMiddleware",WB=(t,e)=>{const n=r=>RR(t,()=>tl(r,t.reason));return(r,a)=>{b_(r);const o=new AbortController;n(o);const l=YB(async()=>{nl(t),nl(o.signal);const c=await r({pause:Km(o.signal),delay:DR(o.signal),signal:o.signal});return nl(o.signal),c},()=>tl(o,KB));return a?.autoJoin&&e.push(l.catch(Hm)),{result:Km(t)(l),cancel(){tl(o,HB)}}}},XB=(t,e)=>{const n=async(r,a)=>{nl(e);let o=()=>{};const c=[new Promise((h,d)=>{let m=t({predicate:r,effect:(y,b)=>{b.unsubscribe(),h([y,b.getState(),b.getOriginalState()])}});o=()=>{m(),d()}})];a!=null&&c.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await PR(e,Promise.race(c));return nl(e),h}finally{o()}};return(r,a)=>IR(n(r,a))},MR=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:o}=t;if(e)a=fi(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Vr(21));return b_(o),{predicate:a,type:e,effect:o}},jR=bu(t=>{const{type:e,predicate:n,effect:r}=MR(t);return{id:DB(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Vr(22))}}},{withTypes:()=>jR}),Mk=(t,e)=>{const{type:n,effect:r,predicate:a}=MR(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===r)},Db=t=>{t.pending.forEach(e=>{tl(e,Pb)})},QB=t=>()=>{t.forEach(Db),t.clear()},jk=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},LR=bu(fi(`${Hg}/add`),{withTypes:()=>LR}),ZB=fi(`${Hg}/removeAll`),VR=bu(fi(`${Hg}/remove`),{withTypes:()=>VR}),JB=(...t)=>{console.error(`${Hg}/error`,...t)},oh=(t={})=>{const e=new Map,{extra:n,onError:r=JB}=t;b_(r);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y?.cancelActive&&Db(m)}),o=m=>{const y=Mk(e,m)??jR(m);return a(y)};bu(o,{withTypes:()=>o});const l=m=>{const y=Mk(e,m);return y&&(y.unsubscribe(),m.cancelActive&&Db(y)),!!y};bu(l,{withTypes:()=>l});const c=async(m,y,b,_)=>{const E=new AbortController,S=XB(o,E.signal),T=[];try{m.pending.add(E),await Promise.resolve(m.effect(y,bu({},b,{getOriginalState:_,condition:(I,D)=>S(I,D).then(Boolean),take:S,delay:DR(E.signal),pause:Km(E.signal),extra:n,signal:E.signal,fork:WB(E.signal,T),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,D,L)=>{I!==E&&(tl(I,Pb),L.delete(I))})},cancel:()=>{tl(E,Pb),m.pending.delete(E)},throwIfCancelled:()=>{nl(E.signal)}})))}catch(I){I instanceof Fg||jk(r,I,{raisedBy:"effect"})}finally{await Promise.all(T),tl(E,GB),m.pending.delete(E)}},h=QB(e);return{middleware:m=>y=>b=>{if(!vR(b))return y(b);if(LR.match(b))return o(b.payload);if(ZB.match(b)){h();return}if(VR.match(b))return l(b.payload);let _=m.getState();const E=()=>{if(_===Dk)throw new Error(Vr(23));return _};let S;try{if(S=y(b),e.size>0){const T=m.getState(),I=Array.from(e.values());for(const D of I){let L=!1;try{L=D.predicate(b,T,_)}catch(B){L=!1,jk(r,B,{raisedBy:"predicate"})}L&&c(D,b,m,E)}}}finally{_=Dk}return S},startListening:o,stopListening:l,clearListeners:h}};function Vr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var eq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},UR=Br({name:"chartLayout",initialState:eq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:tq,setLayout:nq,setChartSize:rq,setScale:iq}=UR.actions,aq=UR.reducer;function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){sq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sq(t,e,n){return(e=oq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oq(t){var e=lq(t,"string");return typeof e=="symbol"?e:e+""}function lq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gm=Math.PI/180,uq=t=>t*180/Math.PI,zn=(t,e,n,r)=>({x:t+Math.cos(-Gm*r)*n,y:e+Math.sin(-Gm*r)*n}),cq=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fq=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return Math.sqrt((n-a)**2+(r-o)**2)},hq=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:o}=e,l=fq({x:n,y:r},{x:a,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-a)/l,h=Math.acos(c);return r>o&&(h=2*Math.PI-h),{radius:l,angle:uq(h),angleInRadian:h}},dq=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:e-o*360,endAngle:n-o*360}},mq=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(a,o);return t+l*360},gq=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:o}=hq({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(a<l||a>c||a===0)return null;var{startAngle:h,endAngle:d}=dq(e),m=o,y;if(h<=d){for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}else{for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}return y?Vk(Vk({},e),{},{radius:a,angle:mq(m,e)}):null};function zR(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){pq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pq(t,e,n){return(e=yq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yq(t){var e=vq(t,"string");return typeof e=="symbol"?e:e+""}function vq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dr(t,e,n){return Bn(t)||Bn(e)?n:ci(e)?Lg(t,e,n):typeof e=="function"?e(t):n}var bq=(t,e,n,r,a)=>{var o,l=-1,c=(o=e?.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<c;h++){var d=h>0?n[h-1].coordinate:n[c-1].coordinate,m=n[h].coordinate,y=h>=c-1?n[0].coordinate:n[h+1].coordinate,b=void 0;if(li(m-d)!==li(y-m)){var _=[];if(li(y-m)===li(a[1]-a[0])){b=y;var E=m+a[1]-a[0];_[0]=Math.min(E,(E+d)/2),_[1]=Math.max(E,(E+d)/2)}else{b=d;var S=y+a[1]-a[0];_[0]=Math.min(m,(S+m)/2),_[1]=Math.max(m,(S+m)/2)}var T=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>T[0]&&t<=T[1]||t>=_[0]&&t<=_[1]){({index:l}=n[h]);break}}else{var I=Math.min(d,y),D=Math.max(d,y);if(t>(I+m)/2&&t<=(D+m)/2){({index:l}=n[h]);break}}}else if(e){for(var L=0;L<c;L++)if(L===0&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L>0&&L<c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L===c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2){({index:l}=e[L]);break}}return l},xq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Ne(t[o]))return ai(ai({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Ne(t[l]))return ai(ai({},t),{},{[l]:t[l]+(a||0)})}return t},Qa=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",BR=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var a,o,l=t.map(c=>(c.coordinate===e&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate));return a||l.push(e),o||l.push(n),l},qR=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:o,scale:l,realScaleType:c,isCategorical:h,categoricalDomain:d,tickCount:m,ticks:y,niceTicks:b,axisType:_}=t;if(!l)return null;var E=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/E:0;if(S=_==="angleAxis"&&o&&o.length>=2?li(o[0]-o[1])*2*S:S,y||b){var T=(y||b||[]).map((I,D)=>{var L=r?r.indexOf(I):I;return{coordinate:l(L)+S,value:I,offset:S,index:D}});return T.filter(I=>!mr(I.coordinate))}return h&&d?d.map((I,D)=>({coordinate:l(I)+S,value:I,index:D,offset:S})):l.ticks&&m!=null?l.ticks(m).map((I,D)=>({coordinate:l(I)+S,value:I,offset:S,index:D})):l.domain().map((I,D)=>({coordinate:l(I)+S,value:r?r[I]:I,index:D,offset:S}))},zk=1e-4,_q=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-zk,o=Math.max(r[0],r[1])+zk,l=t(e[0]),c=t(e[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([e[0],e[n-1]])}},wq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0,l=0;l<e;++l){var c=mr(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Eq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0;o<e;++o){var l=mr(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Tq={sign:wq,expand:h8,none:Ou,silhouette:d8,wiggle:m8,positive:Eq},Aq=(t,e,n)=>{var r=Tq[n],a=f8().keys(e).value((o,l)=>+dr(o,l,0)).order(Sb).offset(r);return a(t)};function Sq(t){return t==null?void 0:String(t)}function Bk(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Bn(a[e.dataKey])){var c=zI(n,"value",a[e.dataKey]);if(c)return c.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var h=dr(a,Bn(l)?e.dataKey:l);return Bn(h)?null:e.scale(h)}var kq=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},Cq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Oq=(t,e,n)=>{if(t!=null)return Cq(Object.keys(t).reduce((r,a)=>{var o=t[a],{stackedData:l}=o,c=l.reduce((h,d)=>{var m=zR(d,e,n),y=kq(m);return[Math.min(h[0],y[0]),Math.max(h[1],y[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},qk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$k=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mb=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=zg(e,m=>m.coordinate),o=1/0,l=1,c=a.length;l<c;l++){var h=a[l],d=a[l-1];o=Math.min((h.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Fk(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:o}=t;return ai(ai({},e),{},{dataKey:n,payload:r,value:a,name:o})}function $R(t,e){if(t)return String(t);if(typeof e=="string")return e}function Nq(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var o=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return o?{x:t,y:e}:null}return r?gq({x:t,y:e},r):null}var Iq=(t,e,n,r)=>{var a=e.find(d=>d&&d.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,{radius:l}=r;return ai(ai(ai({},r),zn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,{angle:h}=r;return ai(ai(ai({},r),zn(r.cx,r.cy,c,h)),{},{angle:h,radius:c})}return{x:0,y:0}},Rq=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Za=t=>t.layout.width,Ja=t=>t.layout.height,Pq=t=>t.layout.scale,FR=t=>t.layout.margin,Kg=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Gg=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Dq="data-recharts-item-index",Mq="data-recharts-item-data-key",lh=60;function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){jq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jq(t,e,n){return(e=Lq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lq(t){var e=Vq(t,"string");return typeof e=="symbol"?e:e+""}function Vq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uq=t=>t.brush.height;function zq(t){var e=Gg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:lh;return n+a}return n},0)}function Bq(t){var e=Gg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:lh;return n+a}return n},0)}function qq(t){var e=Kg(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function $q(t){var e=Kg(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Fn=te([Za,Ja,FR,Uq,zq,Bq,qq,$q,gR,sB],(t,e,n,r,a,o,l,c,h,d)=>{var m={left:(n.left||0)+a,right:(n.right||0)+o},y={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Hd(Hd({},y),m),_=b.bottom;b.bottom+=r,b=xq(b,h,d);var E=t-b.left-b.right,S=e-b.top-b.bottom;return Hd(Hd({brushBottom:_},b),{},{width:Math.max(E,0),height:Math.max(S,0)})}),Fq=te(Fn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),HR=te(Za,Ja,(t,e)=>({x:0,y:0,width:t,height:e})),Hq=C.createContext(null),qr=()=>C.useContext(Hq)!=null,Yg=t=>t.brush,Wg=te([Yg,Fn,FR],(t,e,n)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ne(t.width)?t.width:e.width})),Xg=()=>{var t,e=qr(),n=Oe(Fq),r=Oe(Wg),a=(t=Oe(Yg))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Kq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},KR=()=>{var t;return(t=Oe(Fn))!==null&&t!==void 0?t:Kq},GR=()=>Oe(Za),YR=()=>Oe(Ja),Ot=t=>t.layout.layoutType,x_=()=>Oe(Ot),Gq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WR=Br({name:"legend",initialState:Gq,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ua(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:lte,setLegendSettings:ute,addLegendPayload:Yq,removeLegendPayload:Wq}=WR.actions,Xq=WR.reducer;function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(null,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Qq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qq(t,e,n){return(e=Zq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zq(t){var e=Jq(t,"string");return typeof e=="symbol"?e:e+""}function Jq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e$(t){return Array.isArray(t)&&ci(t[0])&&ci(t[1])?t.join(" ~ "):t}var t$=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:o,formatter:l,itemSorter:c,wrapperClassName:h,labelClassName:d,label:m,labelFormatter:y,accessibilityLayer:b=!1}=t,_=()=>{if(o&&o.length){var q={padding:0,margin:0},F=(c?zg(o,c):o).map((R,O)=>{if(R.type==="none")return null;var P=R.formatter||l||e$,{value:U,name:j}=R,z=U,V=j;if(P){var pe=P(U,j,R,O,o);if(Array.isArray(pe))[z,V]=pe;else if(pe!=null)z=pe;else return null}var ve=w0({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:ve},ci(V)?C.createElement("span",{className:"recharts-tooltip-item-name"},V):null,ci(V)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},z),C.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:q},F)}return null},E=w0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=w0({margin:0},a),T=!Bn(m),I=T?m:"",D=Ct("recharts-default-tooltip",h),L=Ct("recharts-tooltip-label",d);T&&y&&o!==void 0&&o!==null&&(I=y(m,o));var B=b?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",jb({className:D,style:E},B),C.createElement("p",{className:L,style:S},C.isValidElement(I)?I:"".concat(I)),_())},nf="recharts-tooltip-wrapper",n$={visibility:"hidden"};function r$(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ct(nf,{["".concat(nf,"-right")]:Ne(n)&&e&&Ne(e.x)&&n>=e.x,["".concat(nf,"-left")]:Ne(n)&&e&&Ne(e.x)&&n<e.x,["".concat(nf,"-bottom")]:Ne(r)&&e&&Ne(e.y)&&r>=e.y,["".concat(nf,"-top")]:Ne(r)&&e&&Ne(e.y)&&r<e.y})}function Gk(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:o,reverseDirection:l,tooltipDimension:c,viewBox:h,viewBoxDimension:d}=t;if(o&&Ne(o[r]))return o[r];var m=n[r]-c-(a>0?a:0),y=n[r]+a;if(e[r])return l[r]?m:y;var b=h[r];if(b==null)return 0;if(l[r]){var _=m,E=b;return _<E?Math.max(y,b):Math.max(m,b)}if(d==null)return 0;var S=y+c,T=b+d;return S>T?Math.max(m,b):Math.max(y,b)}function i$(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function a$(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:h}=t,d,m,y;return l.height>0&&l.width>0&&n?(m=Gk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),y=Gk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),d=i$({translateX:m,translateY:y,useTranslate3d:c})):d=n$,{cssProperties:d,cssClasses:r$({translateX:m,translateY:y,coordinate:n})}}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lb(t,e,n){return(e=s$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=o$(t,"string");return typeof e=="symbol"?e:e+""}function o$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class l$ extends C.PureComponent{constructor(){super(...arguments),Lb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Lb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:o,coordinate:l,hasPayload:c,isAnimationActive:h,offset:d,position:m,reverseDirection:y,useTranslate3d:b,viewBox:_,wrapperStyle:E,lastBoundingBox:S,innerRef:T,hasPortalFromProps:I}=this.props,{cssClasses:D,cssProperties:L}=a$({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:m,reverseDirection:y,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:_}),B=I?{}:Kd(Kd({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),q=Kd(Kd({},B),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:q,ref:T},o)}}var u$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hu={devToolsEnabled:!1,isSsr:u$()},XR=()=>Oe(t=>t.rootProps.accessibilityLayer);function gr(t){return Number.isFinite(t)}function Ym(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(null,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){c$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c$(t,e,n){return(e=f$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=h$(t,"string");return typeof e=="symbol"?e:e+""}function h$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qk={curveBasisClosed:e8,curveBasisOpen:t8,curveBasis:J7,curveBumpX:Q7,curveBumpY:Z7,curveLinearClosed:n8,curveLinear:Vg,curveMonotoneX:r8,curveMonotoneY:i8,curveNatural:a8,curveStep:s8,curveStepAfter:l8,curveStepBefore:o8},Gd=t=>gr(t.x)&&gr(t.y),rf=t=>t.x,af=t=>t.y,d$=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(l_(t));return(n==="curveMonotone"||n==="curveBump")&&e?Qk["".concat(n).concat(e==="vertical"?"Y":"X")]:Qk[n]||Vg},m$=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:o=!1}=t,l=d$(e,a),c=o?n.filter(Gd):n,h;if(Array.isArray(r)){var d=o?r.filter(y=>Gd(y)):r,m=c.map((y,b)=>Xk(Xk({},y),{},{base:d[b]}));return a==="vertical"?h=Ud().y(af).x1(rf).x0(y=>y.base.x):h=Ud().x(rf).y1(af).y0(y=>y.base.y),h.defined(Gd).curve(l),h(m)}return a==="vertical"&&Ne(r)?h=Ud().y(af).x1(rf).x0(r):Ne(r)?h=Ud().x(rf).y1(af).y0(r):h=WI().x(rf).y(af),h.defined(Gd).curve(l),h(c)},mm=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?m$(t):r;return C.createElement("path",Vb({},lo(t),c_(t),{className:Ct("recharts-curve",e),d:o===null?void 0:o,ref:a}))},g$=["x","y","top","left","width","height","className"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function p$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y$(t,e,n){return(e=v$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=b$(t,"string");return typeof e=="symbol"?e:e+""}function b$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x$(t,e){if(t==null)return{};var n,r,a=_$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var w$=(t,e,n,r,a,o)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),E$=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:o=0,height:l=0,className:c}=t,h=x$(t,g$),d=p$({x:e,y:n,top:r,left:a,width:o,height:l},h);return!Ne(e)||!Ne(n)||!Ne(o)||!Ne(l)||!Ne(r)||!Ne(a)?null:C.createElement("path",Ub({},$n(d,!0),{className:Ct("recharts-cross",c),d:w$(e,n,o,l,r,a)}))};function T$(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function A$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){S$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S$(t,e,n){return(e=k$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$(t){var e=C$(t,"string");return typeof e=="symbol"?e:e+""}function C$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function di(t,e){var n=A$({},t),r=e,a=Object.keys(e),o=a.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}function O$(){}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){N$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N$(t,e,n){return(e=I$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$(t){var e=R$(t,"string");return typeof e=="symbol"?e:e+""}function R$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P$=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),D$=(t,e,n)=>t.map(r=>"".concat(P$(r)," ").concat(e,"ms ").concat(n)).join(","),M$=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),qf=(t,e)=>Object.keys(e).reduce((n,r)=>t2(t2({},n),{},{[r]:t(r,e[r])}),{});function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){j$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j$(t,e,n){return(e=L$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=V$(t,"string");return typeof e=="symbol"?e:e+""}function V$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wm=(t,e,n)=>t+(e-t)*n,zb=t=>{var{from:e,to:n}=t;return e!==n},QR=(t,e,n)=>{var r=qf((a,o)=>{if(zb(o)){var[l,c]=t(o.from,o.to,o.velocity);return Vn(Vn({},o),{},{from:l,velocity:c})}return o},e);return n<1?qf((a,o)=>zb(o)?Vn(Vn({},o),{},{velocity:Wm(o.velocity,r[a].velocity,n),from:Wm(o.from,r[a].from,n)}):o,e):QR(t,r,n-1)};function U$(t,e,n,r,a,o){var l,c=r.reduce((b,_)=>Vn(Vn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),h=()=>qf((b,_)=>_.from,c),d=()=>!Object.values(c).filter(zb).length,m=null,y=b=>{l||(l=b);var _=b-l,E=_/n.dt;c=QR(n,c,E),a(Vn(Vn(Vn({},t),e),h())),l=b,d()||(m=o.setTimeout(y))};return()=>(m=o.setTimeout(y),()=>{m()})}function z$(t,e,n,r,a,o,l){var c=null,h=a.reduce((y,b)=>Vn(Vn({},y),{},{[b]:[t[b],e[b]]}),{}),d,m=y=>{d||(d=y);var b=(y-d)/r,_=qf((S,T)=>Wm(...T,n(b)),h);if(o(Vn(Vn(Vn({},t),e),_)),b<1)c=l.setTimeout(m);else{var E=qf((S,T)=>Wm(...T,n(1)),h);o(Vn(Vn(Vn({},t),e),E))}};return()=>(c=l.setTimeout(m),()=>{c()})}const B$=(t,e,n,r,a,o)=>{var l=M$(t,e);return n.isStepper===!0?U$(t,e,n,l,a,o):z$(t,e,n,r,l,a,o)};var Xm=1e-4,ZR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],JR=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),r2=(t,e)=>n=>{var r=ZR(t,e);return JR(r,n)},q$=(t,e)=>n=>{var r=ZR(t,e),a=[...r.map((o,l)=>o*l).slice(1),0];return JR(a,n)},i2=function(){for(var e,n,r,a,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var h=l[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,a]=h[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else l.length===4&&([e,r,n,a]=l);var d=r2(e,n),m=r2(r,a),y=q$(e,n),b=E=>E>1?1:E<0?0:E,_=E=>{for(var S=E>1?1:E,T=S,I=0;I<8;++I){var D=d(T)-S,L=y(T);if(Math.abs(D-S)<Xm||L<Xm)return m(T);T=b(T-D/L)}return m(T)};return _.isStepper=!1,_},$$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,o=(l,c,h)=>{var d=-(l-c)*n,m=h*r,y=h+(d-m)*a/1e3,b=h*a/1e3+l;return Math.abs(b-c)<Xm&&Math.abs(y)<Xm?[c,0]:[b,y]};return o.isStepper=!0,o.dt=a,o},F$=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i2(t);case"spring":return $$();default:if(t.split("(")[0]==="cubic-bezier")return i2(t)}return typeof t=="function"?t:null};function H$(t){var e,n=()=>null,r=!1,a=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[h,...d]=c;if(typeof h=="number"){a=t.setTimeout(o.bind(null,d),h);return}o(h),a=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class K${setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}function G$(){return H$(new K$)}var Y$=C.createContext(G$);function W$(t,e){var n=C.useContext(Y$);return C.useMemo(()=>e??n(t),[t,e,n])}var X$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},a2={t:0},E0={t:1};function eP(t){var e=di(t,X$),{isActive:n,canBegin:r,duration:a,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:h,children:d}=e,m=W$(e.animationId,e.animationManager),[y,b]=C.useState(n?a2:E0),_=C.useRef(null);return C.useEffect(()=>{n||b(E0)},[n]),C.useEffect(()=>{if(!n||!r)return O$;var E=B$(a2,E0,F$(o),a,b,m.getTimeoutController()),S=()=>{_.current=E()};return m.start([h,l,S,a,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,a,o,l,h,c,m]),d(y.t)}function tP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Uf(e)),r=C.useRef(t);return r.current!==t&&(n.current=Uf(e),r.current=t),n.current}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function o2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){Q$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q$(t,e,n){return(e=Z$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z$(t){var e=J$(t,"string");return typeof e=="symbol"?e:e+""}function J$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(null,arguments)}var l2=(t,e,n,r,a)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,b=4;y<b;y++)m[y]=a[y]>o?o:a[y];d="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+c*m[0],",").concat(e)),d+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+l*m[1])),d+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),d+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-l*m[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);d="M ".concat(t,",").concat(e+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n,",").concat(e+l*_,`
            L `).concat(t+n,",").concat(e+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t,",").concat(e+r-l*_," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},eF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tF=t=>{var e=di(t,eF),n=C.useRef(null),[r,a]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var pe=n.current.getTotalLength();pe&&a(pe)}catch{}},[]);var{x:o,y:l,width:c,height:h,radius:d,className:m}=e,{animationEasing:y,animationDuration:b,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:S}=e,T=C.useRef(c),I=C.useRef(h),D=C.useRef(o),L=C.useRef(l),B=C.useMemo(()=>({x:o,y:l,width:c,height:h,radius:d}),[o,l,c,h,d]),q=tP(B,"rectangle-");if(o!==+o||l!==+l||c!==+c||h!==+h||c===0||h===0)return null;var F=Ct("recharts-rectangle",m);if(!S)return C.createElement("path",Qm({},$n(e,!0),{className:F,d:l2(o,l,c,h,d)}));var R=T.current,O=I.current,P=D.current,U=L.current,j="0px ".concat(r===-1?1:r,"px"),z="".concat(r,"px 0px"),V=D$(["strokeDasharray"],b,typeof y=="string"?y:void 0);return C.createElement(eP,{animationId:q,key:q,canBegin:r>0,duration:b,easing:y,isActive:S,begin:_},pe=>{var ve=Ki(R,c,pe),Z=Ki(O,h,pe),ue=Ki(P,o,pe),ge=Ki(U,l,pe);n.current&&(T.current=ve,I.current=Z,D.current=ue,L.current=ge);var Te;return E?pe>0?Te={transition:V,strokeDasharray:z}:Te={strokeDasharray:j}:Te={strokeDasharray:z},C.createElement("path",Qm({},$n(e,!0),{className:F,d:l2(ue,ge,ve,Z,d),ref:n,style:o2(o2({},Te),e.style)}))})};function nP(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:o}=t,l=zn(e,n,r,a),c=zn(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:a,endAngle:o}}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(null,arguments)}var nF=(t,e)=>{var n=li(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Yd=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:h}=t,d=c*(l?1:-1)+r,m=Math.asin(c/d)/Gm,y=h?a:a+o*m,b=zn(e,n,d,y),_=zn(e,n,r,y),E=h?a-o*m:a,S=zn(e,n,d*Math.cos(m*Gm),E);return{center:b,circleTangency:_,lineTangency:S,theta:m}},rP=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:o,endAngle:l}=t,c=nF(o,l),h=o+c,d=zn(e,n,a,o),m=zn(e,n,a,h),y="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var b=zn(e,n,r,o),_=zn(e,n,r,h);y+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},rF=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:d}=t,m=li(d-h),{circleTangency:y,lineTangency:b,theta:_}=Yd({cx:e,cy:n,radius:a,angle:h,sign:m,cornerRadius:o,cornerIsExternal:c}),{circleTangency:E,lineTangency:S,theta:T}=Yd({cx:e,cy:n,radius:a,angle:d,sign:-m,cornerRadius:o,cornerIsExternal:c}),I=c?Math.abs(h-d):Math.abs(h-d)-_-T;if(I<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rP({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:d});var D="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:L,lineTangency:B,theta:q}=Yd({cx:e,cy:n,radius:r,angle:h,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:F,lineTangency:R,theta:O}=Yd({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=c?Math.abs(h-d):Math.abs(h-d)-q-O;if(P<0&&o===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(m>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,"Z")}else D+="L".concat(e,",").concat(n,"Z");return D},iF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aF=t=>{var e=di(t,iF),{cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m,className:y}=e;if(o<a||d===m)return null;var b=Ct("recharts-sector",y),_=o-a,E=io(l,_,0,!0),S;return E>0&&Math.abs(d-m)<360?S=rF({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(E,_/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m}):S=rP({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:d,endAngle:m}),C.createElement("path",Bb({},$n(e,!0),{className:b,d:S}))};function sF(t,e,n){var r,a,o,l;if(t==="horizontal")r=e.x,o=r,a=n.top,l=n.top+n.height;else if(t==="vertical")a=e.y,l=a,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:h,innerRadius:d,outerRadius:m,angle:y}=e,b=zn(c,h,d,y),_=zn(c,h,m,y);r=b.x,a=b.y,o=_.x,l=_.y}else return nP(e);return[{x:r,y:a},{x:o,y:l}]}var T0={},A0={},S0={},u2;function oF(){return u2||(u2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dR();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(S0)),S0}var c2;function lF(){return c2||(c2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oF();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(A0)),A0}var f2;function uF(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mR(),n=lF();function r(a,o,l){l&&typeof l!="number"&&e.isIterateeCall(a,o,l)&&(o=l=void 0),a=n.toFinite(a),o===void 0?(o=a,a=0):o=n.toFinite(o),l=l===void 0?a<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-a)/(l||1)),0),h=new Array(c);for(let d=0;d<c;d++)h[d]=a,a+=l;return h}t.range=r})(T0)),T0}var k0,h2;function cF(){return h2||(h2=1,k0=uF().range),k0}var fF=cF();const iP=so(fF);function Xs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hF(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function __(t){let e,n,r;t.length!==2?(e=Xs,n=(c,h)=>Xs(t(c),h),r=(c,h)=>t(c)-h):(e=t===Xs||t===hF?t:dF,n=t,r=t);function a(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const y=d+m>>>1;n(c[y],h)<0?d=y+1:m=y}while(d<m)}return d}function o(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const y=d+m>>>1;n(c[y],h)<=0?d=y+1:m=y}while(d<m)}return d}function l(c,h,d=0,m=c.length){const y=a(c,h,d,m-1);return y>d&&r(c[y-1],h)>-r(c[y],h)?y-1:y}return{left:a,center:l,right:o}}function dF(){return 0}function aP(t){return t===null?NaN:+t}function*mF(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const gF=__(Xs),uh=gF.right;__(aP).center;class d2 extends Map{constructor(e,n=vF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(m2(this,e))}has(e){return super.has(m2(this,e))}set(e,n){return super.set(pF(this,e),n)}delete(e){return super.delete(yF(this,e))}}function m2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function pF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yF({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bF(t=Xs){if(t===Xs)return sP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const xF=Math.sqrt(50),_F=Math.sqrt(10),wF=Math.sqrt(2);function Zm(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),l=o>=xF?10:o>=_F?5:o>=wF?2:1;let c,h,d;return a<0?(d=Math.pow(10,-a)/l,c=Math.round(t*d),h=Math.round(e*d),c/d<t&&++c,h/d>e&&--h,d=-d):(d=Math.pow(10,a)*l,c=Math.round(t/d),h=Math.round(e/d),c*d<t&&++c,h*d>e&&--h),h<c&&.5<=n&&n<2?Zm(t,e,n*2):[c,h,d]}function qb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,o,l]=r?Zm(e,t,n):Zm(t,e,n);if(!(o>=a))return[];const c=o-a+1,h=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)h[d]=(o-d)/-l;else for(let d=0;d<c;++d)h[d]=(o-d)*l;else if(l<0)for(let d=0;d<c;++d)h[d]=(a+d)/-l;else for(let d=0;d<c;++d)h[d]=(a+d)*l;return h}function $b(t,e,n){return e=+e,t=+t,n=+n,Zm(t,e,n)[2]}function Fb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?$b(e,t,n):$b(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function g2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function p2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oP(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?sP:bF(a);r>n;){if(r-n>600){const h=r-n+1,d=e-n+1,m=Math.log(h),y=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*y*(h-y)/h)*(d-h/2<0?-1:1),_=Math.max(n,Math.floor(e-d*y/h+b)),E=Math.min(r,Math.floor(e+(h-d)*y/h+b));oP(t,e,_,E,a)}const o=t[e];let l=n,c=r;for(sf(t,n,e),a(t[r],o)>0&&sf(t,n,r);l<c;){for(sf(t,l,c),++l,--c;a(t[l],o)<0;)++l;for(;a(t[c],o)>0;)--c}a(t[n],o)===0?sf(t,n,c):(++c,sf(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function sf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function EF(t,e,n){if(t=Float64Array.from(mF(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return p2(t);if(e>=1)return g2(t);var r,a=(r-1)*e,o=Math.floor(a),l=g2(oP(t,o).subarray(0,o+1)),c=p2(t.subarray(o+1));return l+(c-l)*(a-o)}}function TF(t,e,n=aP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,o=Math.floor(a),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(a-o)}}function AF(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(a);++r<a;)o[r]=t+r*n;return o}function mi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function es(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Hb=Symbol("implicit");function w_(){var t=new d2,e=[],n=[],r=Hb;function a(o){let l=t.get(o);if(l===void 0){if(r!==Hb)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new d2;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return w_(e,n).unknown(r)},mi.apply(a,arguments),a}function E_(){var t=w_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,o,l,c=!1,h=0,d=0,m=.5;delete t.unknown;function y(){var b=e().length,_=a<r,E=_?a:r,S=_?r:a;o=(S-E)/Math.max(1,b-h+d*2),c&&(o=Math.floor(o)),E+=(S-E-o*(b-h))*m,l=o*(1-h),c&&(E=Math.round(E),l=Math.round(l));var T=AF(b).map(function(I){return E+o*I});return n(_?T.reverse():T)}return t.domain=function(b){return arguments.length?(e(b),y()):e()},t.range=function(b){return arguments.length?([r,a]=b,r=+r,a=+a,y()):[r,a]},t.rangeRound=function(b){return[r,a]=b,r=+r,a=+a,c=!0,y()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(b){return arguments.length?(c=!!b,y()):c},t.padding=function(b){return arguments.length?(h=Math.min(1,d=+b),y()):h},t.paddingInner=function(b){return arguments.length?(h=Math.min(1,b),y()):h},t.paddingOuter=function(b){return arguments.length?(d=+b,y()):d},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),y()):m},t.copy=function(){return E_(e(),[r,a]).round(c).paddingInner(h).paddingOuter(d).align(m)},mi.apply(y(),arguments)}function lP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lP(e())},t}function SF(){return lP(E_.apply(null,arguments).paddingInner(1))}function T_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ch(){}var $f=.7,Jm=1/$f,xu="\\s*([+-]?\\d+)\\s*",Ff="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kF=/^#([0-9a-f]{3,8})$/,CF=new RegExp(`^rgb\\(${xu},${xu},${xu}\\)$`),OF=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),NF=new RegExp(`^rgba\\(${xu},${xu},${xu},${Ff}\\)$`),IF=new RegExp(`^rgba\\(${ea},${ea},${ea},${Ff}\\)$`),RF=new RegExp(`^hsl\\(${Ff},${ea},${ea}\\)$`),PF=new RegExp(`^hsla\\(${Ff},${ea},${ea},${Ff}\\)$`),y2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T_(ch,Hf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v2,formatHex:v2,formatHex8:DF,formatHsl:MF,formatRgb:b2,toString:b2});function v2(){return this.rgb().formatHex()}function DF(){return this.rgb().formatHex8()}function MF(){return cP(this).formatHsl()}function b2(){return this.rgb().formatRgb()}function Hf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kF.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?x2(e):n===3?new wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=CF.exec(t))?new wr(e[1],e[2],e[3],1):(e=OF.exec(t))?new wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=NF.exec(t))?Wd(e[1],e[2],e[3],e[4]):(e=IF.exec(t))?Wd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=RF.exec(t))?E2(e[1],e[2]/100,e[3]/100,1):(e=PF.exec(t))?E2(e[1],e[2]/100,e[3]/100,e[4]):y2.hasOwnProperty(t)?x2(y2[t]):t==="transparent"?new wr(NaN,NaN,NaN,0):null}function x2(t){return new wr(t>>16&255,t>>8&255,t&255,1)}function Wd(t,e,n,r){return r<=0&&(t=e=n=NaN),new wr(t,e,n,r)}function jF(t){return t instanceof ch||(t=Hf(t)),t?(t=t.rgb(),new wr(t.r,t.g,t.b,t.opacity)):new wr}function Kb(t,e,n,r){return arguments.length===1?jF(t):new wr(t,e,n,r??1)}function wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}T_(wr,Kb,uP(ch,{brighter(t){return t=t==null?Jm:Math.pow(Jm,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$f:Math.pow($f,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wr(rl(this.r),rl(this.g),rl(this.b),eg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_2,formatHex:_2,formatHex8:LF,formatRgb:w2,toString:w2}));function _2(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function LF(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function w2(){const t=eg(this.opacity);return`${t===1?"rgb(":"rgba("}${rl(this.r)}, ${rl(this.g)}, ${rl(this.b)}${t===1?")":`, ${t})`}`}function eg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qo(t){return t=rl(t),(t<16?"0":"")+t.toString(16)}function E2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ci(t,e,n,r)}function cP(t){if(t instanceof Ci)return new Ci(t.h,t.s,t.l,t.opacity);if(t instanceof ch||(t=Hf(t)),!t)return new Ci;if(t instanceof Ci)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-a,h=(o+a)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=h<.5?o+a:2-o-a,l*=60):c=h>0&&h<1?0:l,new Ci(l,c,h,t.opacity)}function VF(t,e,n,r){return arguments.length===1?cP(t):new Ci(t,e,n,r??1)}function Ci(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}T_(Ci,VF,uP(ch,{brighter(t){return t=t==null?Jm:Math.pow(Jm,t),new Ci(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$f:Math.pow($f,t),new Ci(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new wr(C0(t>=240?t-240:t+120,a,r),C0(t,a,r),C0(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ci(T2(this.h),Xd(this.s),Xd(this.l),eg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=eg(this.opacity);return`${t===1?"hsl(":"hsla("}${T2(this.h)}, ${Xd(this.s)*100}%, ${Xd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function T2(t){return t=(t||0)%360,t<0?t+360:t}function Xd(t){return Math.max(0,Math.min(1,t||0))}function C0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const A_=t=>()=>t;function UF(t,e){return function(n){return t+n*e}}function zF(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function BF(t){return(t=+t)==1?fP:function(e,n){return n-e?zF(e,n,t):A_(isNaN(e)?n:e)}}function fP(t,e){var n=e-t;return n?UF(t,n):A_(isNaN(t)?e:t)}const A2=(function t(e){var n=BF(e);function r(a,o){var l=n((a=Kb(a)).r,(o=Kb(o)).r),c=n(a.g,o.g),h=n(a.b,o.b),d=fP(a.opacity,o.opacity);return function(m){return a.r=l(m),a.g=c(m),a.b=h(m),a.opacity=d(m),a+""}}return r.gamma=t,r})(1);function qF(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=t[a]*(1-o)+e[a]*o;return r}}function $F(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FF(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)a[l]=Ku(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=a[l](c);return o}}function HF(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function tg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function KF(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Ku(t[a],e[a]):r[a]=e[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var Gb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O0=new RegExp(Gb.source,"g");function GF(t){return function(){return t}}function YF(t){return function(e){return t(e)+""}}function WF(t,e){var n=Gb.lastIndex=O0.lastIndex=0,r,a,o,l=-1,c=[],h=[];for(t=t+"",e=e+"";(r=Gb.exec(t))&&(a=O0.exec(e));)(o=a.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,h.push({i:l,x:tg(r,a)})),n=O0.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?h[0]?YF(h[0].x):GF(e):(e=h.length,function(d){for(var m=0,y;m<e;++m)c[(y=h[m]).i]=y.x(d);return c.join("")})}function Ku(t,e){var n=typeof e,r;return e==null||n==="boolean"?A_(e):(n==="number"?tg:n==="string"?(r=Hf(e))?(e=r,A2):WF:e instanceof Hf?A2:e instanceof Date?HF:$F(e)?qF:Array.isArray(e)?FF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KF:tg)(t,e)}function S_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function XF(t,e){e===void 0&&(e=t,t=Ku);for(var n=0,r=e.length-1,a=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(a,a=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function QF(t){return function(){return t}}function ng(t){return+t}var S2=[0,1];function hr(t){return t}function Yb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:QF(isNaN(e)?NaN:.5)}function ZF(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function JF(t,e,n){var r=t[0],a=t[1],o=e[0],l=e[1];return a<r?(r=Yb(a,r),o=n(l,o)):(r=Yb(r,a),o=n(o,l)),function(c){return o(r(c))}}function eH(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=Yb(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var h=uh(t,c,1,r)-1;return o[h](a[h](c))}}function fh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qg(){var t=S2,e=S2,n=Ku,r,a,o,l=hr,c,h,d;function m(){var b=Math.min(t.length,e.length);return l!==hr&&(l=ZF(t[0],t[b-1])),c=b>2?eH:JF,h=d=null,y}function y(b){return b==null||isNaN(b=+b)?o:(h||(h=c(t.map(r),e,n)))(r(l(b)))}return y.invert=function(b){return l(a((d||(d=c(e,t.map(r),tg)))(b)))},y.domain=function(b){return arguments.length?(t=Array.from(b,ng),m()):t.slice()},y.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},y.rangeRound=function(b){return e=Array.from(b),n=S_,m()},y.clamp=function(b){return arguments.length?(l=b?!0:hr,m()):l!==hr},y.interpolate=function(b){return arguments.length?(n=b,m()):n},y.unknown=function(b){return arguments.length?(o=b,y):o},function(b,_){return r=b,a=_,m()}}function k_(){return Qg()(hr,hr)}function tH(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Iu(t){return t=rg(Math.abs(t)),t?t[1]:NaN}function nH(t,e){return function(n,r){for(var a=n.length,o=[],l=0,c=t[0],h=0;a>0&&c>0&&(h+c+1>r&&(c=Math.max(1,r-h)),o.push(n.substring(a-=c,a+c)),!((h+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function rH(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var iH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kf(t){if(!(e=iH.exec(t)))throw new Error("invalid format: "+t);var e;return new C_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kf.prototype=C_.prototype;function C_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}C_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aH(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var hP;function sH(t,e){var n=rg(t,e);if(!n)return t+"";var r=n[0],a=n[1],o=a-(hP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rg(t,Math.max(0,e+o-1))[0]}function k2(t,e){var n=rg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const C2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tH,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>k2(t*100,e),r:k2,s:sH,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function O2(t){return t}var N2=Array.prototype.map,I2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oH(t){var e=t.grouping===void 0||t.thousands===void 0?O2:nH(N2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?O2:rH(N2.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function d(y){y=Kf(y);var b=y.fill,_=y.align,E=y.sign,S=y.symbol,T=y.zero,I=y.width,D=y.comma,L=y.precision,B=y.trim,q=y.type;q==="n"?(D=!0,q="g"):C2[q]||(L===void 0&&(L=12),B=!0,q="g"),(T||b==="0"&&_==="=")&&(T=!0,b="0",_="=");var F=S==="$"?n:S==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",R=S==="$"?r:/[%p]/.test(q)?l:"",O=C2[q],P=/[defgprs%]/.test(q);L=L===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function U(j){var z=F,V=R,pe,ve,Z;if(q==="c")V=O(j)+V,j="";else{j=+j;var ue=j<0||1/j<0;if(j=isNaN(j)?h:O(Math.abs(j),L),B&&(j=aH(j)),ue&&+j==0&&E!=="+"&&(ue=!1),z=(ue?E==="("?E:c:E==="-"||E==="("?"":E)+z,V=(q==="s"?I2[8+hP/3]:"")+V+(ue&&E==="("?")":""),P){for(pe=-1,ve=j.length;++pe<ve;)if(Z=j.charCodeAt(pe),48>Z||Z>57){V=(Z===46?a+j.slice(pe+1):j.slice(pe))+V,j=j.slice(0,pe);break}}}D&&!T&&(j=e(j,1/0));var ge=z.length+j.length+V.length,Te=ge<I?new Array(I-ge+1).join(b):"";switch(D&&T&&(j=e(Te+j,Te.length?I-V.length:1/0),Te=""),_){case"<":j=z+j+V+Te;break;case"=":j=z+Te+j+V;break;case"^":j=Te.slice(0,ge=Te.length>>1)+z+j+V+Te.slice(ge);break;default:j=Te+z+j+V;break}return o(j)}return U.toString=function(){return y+""},U}function m(y,b){var _=d((y=Kf(y),y.type="f",y)),E=Math.max(-8,Math.min(8,Math.floor(Iu(b)/3)))*3,S=Math.pow(10,-E),T=I2[8+E/3];return function(I){return _(S*I)+T}}return{format:d,formatPrefix:m}}var Qd,O_,dP;lH({thousands:",",grouping:[3],currency:["$",""]});function lH(t){return Qd=oH(t),O_=Qd.format,dP=Qd.formatPrefix,Qd}function uH(t){return Math.max(0,-Iu(Math.abs(t)))}function cH(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Iu(e)/3)))*3-Iu(Math.abs(t)))}function fH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Iu(e)-Iu(t))+1}function mP(t,e,n,r){var a=Fb(t,e,n),o;switch(r=Kf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=cH(a,l))&&(r.precision=o),dP(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=fH(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=uH(a))&&(r.precision=o-(r.type==="%")*2);break}}return O_(r)}function uo(t){var e=t.domain;return t.ticks=function(n){var r=e();return qb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return mP(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,o=r.length-1,l=r[a],c=r[o],h,d,m=10;for(c<l&&(d=l,l=c,c=d,d=a,a=o,o=d);m-- >0;){if(d=$b(l,c,n),d===h)return r[a]=l,r[o]=c,e(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;h=d}return t},t}function gP(){var t=k_();return t.copy=function(){return fh(t,gP())},mi.apply(t,arguments),uo(t)}function pP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ng),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pP(t).unknown(e)},t=arguments.length?Array.from(t,ng):[0,1],uo(n)}function yP(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],o=t[r],l;return o<a&&(l=n,n=r,r=l,l=a,a=o,o=l),t[n]=e.floor(a),t[r]=e.ceil(o),t}function R2(t){return Math.log(t)}function P2(t){return Math.exp(t)}function hH(t){return-Math.log(-t)}function dH(t){return-Math.exp(-t)}function mH(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gH(t){return t===10?mH:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pH(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function D2(t){return(e,n)=>-t(-e,n)}function N_(t){const e=t(R2,P2),n=e.domain;let r=10,a,o;function l(){return a=pH(r),o=gH(r),n()[0]<0?(a=D2(a),o=D2(o),t(hH,dH)):t(R2,P2),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const h=n();let d=h[0],m=h[h.length-1];const y=m<d;y&&([d,m]=[m,d]);let b=a(d),_=a(m),E,S;const T=c==null?10:+c;let I=[];if(!(r%1)&&_-b<T){if(b=Math.floor(b),_=Math.ceil(_),d>0){for(;b<=_;++b)for(E=1;E<r;++E)if(S=b<0?E/o(-b):E*o(b),!(S<d)){if(S>m)break;I.push(S)}}else for(;b<=_;++b)for(E=r-1;E>=1;--E)if(S=b>0?E/o(-b):E*o(b),!(S<d)){if(S>m)break;I.push(S)}I.length*2<T&&(I=qb(d,m,T))}else I=qb(b,_,Math.min(_-b,T)).map(o);return y?I.reverse():I},e.tickFormat=(c,h)=>{if(c==null&&(c=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Kf(h)).precision==null&&(h.trim=!0),h=O_(h)),c===1/0)return h;const d=Math.max(1,r*c/e.ticks().length);return m=>{let y=m/o(Math.round(a(m)));return y*r<r-.5&&(y*=r),y<=d?h(m):""}},e.nice=()=>n(yP(n(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),e}function vP(){const t=N_(Qg()).domain([1,10]);return t.copy=()=>fh(t,vP()).base(t.base()),mi.apply(t,arguments),t}function M2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function j2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function I_(t){var e=1,n=t(M2(e),j2(e));return n.constant=function(r){return arguments.length?t(M2(e=+r),j2(e)):e},uo(n)}function bP(){var t=I_(Qg());return t.copy=function(){return fh(t,bP()).constant(t.constant())},mi.apply(t,arguments)}function L2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yH(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vH(t){return t<0?-t*t:t*t}function R_(t){var e=t(hr,hr),n=1;function r(){return n===1?t(hr,hr):n===.5?t(yH,vH):t(L2(n),L2(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},uo(e)}function P_(){var t=R_(Qg());return t.copy=function(){return fh(t,P_()).exponent(t.exponent())},mi.apply(t,arguments),t}function bH(){return P_.apply(null,arguments).exponent(.5)}function V2(t){return Math.sign(t)*t*t}function xH(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xP(){var t=k_(),e=[0,1],n=!1,r;function a(o){var l=xH(t(o));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(o){return t.invert(V2(o))},a.domain=function(o){return arguments.length?(t.domain(o),a):t.domain()},a.range=function(o){return arguments.length?(t.range((e=Array.from(o,ng)).map(V2)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(t.clamp(o),a):t.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return xP(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},mi.apply(a,arguments),uo(a)}function _P(){var t=[],e=[],n=[],r;function a(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=TF(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[uh(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Xs),a()},o.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return _P().domain(t).range(e).unknown(r)},mi.apply(o,arguments)}function wP(){var t=0,e=1,n=1,r=[.5],a=[0,1],o;function l(h){return h!=null&&h<=h?a[uh(r,h,0,n)]:o}function c(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return l}return l.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,c()):[t,e]},l.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,c()):a.slice()},l.invertExtent=function(h){var d=a.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(h){return arguments.length&&(o=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return wP().domain([t,e]).range(a).unknown(o)},mi.apply(uo(l),arguments)}function EP(){var t=[.5],e=[0,1],n,r=1;function a(o){return o!=null&&o<=o?e[uh(t,o,0,r)]:n}return a.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return EP().domain(t).range(e).unknown(n)},mi.apply(a,arguments)}const N0=new Date,I0=new Date;function yn(t,e,n,r){function a(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(t(o=new Date(+o)),o),a.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const h=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return h;let d;do h.push(d=new Date(+o)),e(o,c),t(o);while(d<o&&o<l);return h},a.filter=o=>yn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(a.count=(o,l)=>(N0.setTime(+o),I0.setTime(+l),t(N0),t(I0),Math.floor(n(N0,I0))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?l=>r(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const ig=yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ig.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ig);ig.range;const Ma=1e3,ui=Ma*60,ja=ui*60,Ga=ja*24,D_=Ga*7,U2=Ga*30,R0=Ga*365,Zo=yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ma)},(t,e)=>(e-t)/Ma,t=>t.getUTCSeconds());Zo.range;const M_=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma)},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getMinutes());M_.range;const j_=yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getUTCMinutes());j_.range;const L_=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma-t.getMinutes()*ui)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getHours());L_.range;const V_=yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getUTCHours());V_.range;const hh=yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ui)/Ga,t=>t.getDate()-1);hh.range;const Zg=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ga,t=>t.getUTCDate()-1);Zg.range;const TP=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ga,t=>Math.floor(t/Ga));TP.range;function xl(t){return yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ui)/D_)}const Jg=xl(0),ag=xl(1),_H=xl(2),wH=xl(3),Ru=xl(4),EH=xl(5),TH=xl(6);Jg.range;ag.range;_H.range;wH.range;Ru.range;EH.range;TH.range;function _l(t){return yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/D_)}const ep=_l(0),sg=_l(1),AH=_l(2),SH=_l(3),Pu=_l(4),kH=_l(5),CH=_l(6);ep.range;sg.range;AH.range;SH.range;Pu.range;kH.range;CH.range;const U_=yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());U_.range;const z_=yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());z_.range;const Ya=yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ya.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ya.range;const Wa=yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Wa.range;function AP(t,e,n,r,a,o){const l=[[Zo,1,Ma],[Zo,5,5*Ma],[Zo,15,15*Ma],[Zo,30,30*Ma],[o,1,ui],[o,5,5*ui],[o,15,15*ui],[o,30,30*ui],[a,1,ja],[a,3,3*ja],[a,6,6*ja],[a,12,12*ja],[r,1,Ga],[r,2,2*Ga],[n,1,D_],[e,1,U2],[e,3,3*U2],[t,1,R0]];function c(d,m,y){const b=m<d;b&&([d,m]=[m,d]);const _=y&&typeof y.range=="function"?y:h(d,m,y),E=_?_.range(d,+m+1):[];return b?E.reverse():E}function h(d,m,y){const b=Math.abs(m-d)/y,_=__(([,,T])=>T).right(l,b);if(_===l.length)return t.every(Fb(d/R0,m/R0,y));if(_===0)return ig.every(Math.max(Fb(d,m,y),1));const[E,S]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return E.every(S)}return[c,h]}const[OH,NH]=AP(Wa,z_,ep,TP,V_,j_),[IH,RH]=AP(Ya,U_,Jg,hh,L_,M_);function P0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function D0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function of(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function PH(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,l=t.shortDays,c=t.months,h=t.shortMonths,d=lf(a),m=uf(a),y=lf(o),b=uf(o),_=lf(l),E=uf(l),S=lf(c),T=uf(c),I=lf(h),D=uf(h),L={a:ue,A:ge,b:Te,B:H,c:null,d:H2,e:H2,f:nK,g:hK,G:mK,H:JH,I:eK,j:tK,L:SP,m:rK,M:iK,p:ie,q:ae,Q:Y2,s:W2,S:aK,u:sK,U:oK,V:lK,w:uK,W:cK,x:null,X:null,y:fK,Y:dK,Z:gK,"%":G2},B={a:he,A:Ee,b:Ie,B:Re,c:null,d:K2,e:K2,f:bK,g:OK,G:IK,H:pK,I:yK,j:vK,L:CP,m:xK,M:_K,p:Ft,q:ot,Q:Y2,s:W2,S:wK,u:EK,U:TK,V:AK,w:SK,W:kK,x:null,X:null,y:CK,Y:NK,Z:RK,"%":G2},q={a:U,A:j,b:z,B:V,c:pe,d:$2,e:$2,f:WH,g:q2,G:B2,H:F2,I:F2,j:HH,L:YH,m:FH,M:KH,p:P,q:$H,Q:QH,s:ZH,S:GH,u:VH,U:UH,V:zH,w:LH,W:BH,x:ve,X:Z,y:q2,Y:B2,Z:qH,"%":XH};L.x=F(n,L),L.X=F(r,L),L.c=F(e,L),B.x=F(n,B),B.X=F(r,B),B.c=F(e,B);function F(me,Ue){return function(Fe){var ce=[],Nt=-1,Je=0,Ht=me.length,Wt,_t,gi;for(Fe instanceof Date||(Fe=new Date(+Fe));++Nt<Ht;)me.charCodeAt(Nt)===37&&(ce.push(me.slice(Je,Nt)),(_t=z2[Wt=me.charAt(++Nt)])!=null?Wt=me.charAt(++Nt):_t=Wt==="e"?" ":"0",(gi=Ue[Wt])&&(Wt=gi(Fe,_t)),ce.push(Wt),Je=Nt+1);return ce.push(me.slice(Je,Nt)),ce.join("")}}function R(me,Ue){return function(Fe){var ce=of(1900,void 0,1),Nt=O(ce,me,Fe+="",0),Je,Ht;if(Nt!=Fe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Ue&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Je=D0(of(ce.y,0,1)),Ht=Je.getUTCDay(),Je=Ht>4||Ht===0?sg.ceil(Je):sg(Je),Je=Zg.offset(Je,(ce.V-1)*7),ce.y=Je.getUTCFullYear(),ce.m=Je.getUTCMonth(),ce.d=Je.getUTCDate()+(ce.w+6)%7):(Je=P0(of(ce.y,0,1)),Ht=Je.getDay(),Je=Ht>4||Ht===0?ag.ceil(Je):ag(Je),Je=hh.offset(Je,(ce.V-1)*7),ce.y=Je.getFullYear(),ce.m=Je.getMonth(),ce.d=Je.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Ht="Z"in ce?D0(of(ce.y,0,1)).getUTCDay():P0(of(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Ht+5)%7:ce.w+ce.U*7-(Ht+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,D0(ce)):P0(ce)}}function O(me,Ue,Fe,ce){for(var Nt=0,Je=Ue.length,Ht=Fe.length,Wt,_t;Nt<Je;){if(ce>=Ht)return-1;if(Wt=Ue.charCodeAt(Nt++),Wt===37){if(Wt=Ue.charAt(Nt++),_t=q[Wt in z2?Ue.charAt(Nt++):Wt],!_t||(ce=_t(me,Fe,ce))<0)return-1}else if(Wt!=Fe.charCodeAt(ce++))return-1}return ce}function P(me,Ue,Fe){var ce=d.exec(Ue.slice(Fe));return ce?(me.p=m.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function U(me,Ue,Fe){var ce=_.exec(Ue.slice(Fe));return ce?(me.w=E.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function j(me,Ue,Fe){var ce=y.exec(Ue.slice(Fe));return ce?(me.w=b.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function z(me,Ue,Fe){var ce=I.exec(Ue.slice(Fe));return ce?(me.m=D.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function V(me,Ue,Fe){var ce=S.exec(Ue.slice(Fe));return ce?(me.m=T.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function pe(me,Ue,Fe){return O(me,e,Ue,Fe)}function ve(me,Ue,Fe){return O(me,n,Ue,Fe)}function Z(me,Ue,Fe){return O(me,r,Ue,Fe)}function ue(me){return l[me.getDay()]}function ge(me){return o[me.getDay()]}function Te(me){return h[me.getMonth()]}function H(me){return c[me.getMonth()]}function ie(me){return a[+(me.getHours()>=12)]}function ae(me){return 1+~~(me.getMonth()/3)}function he(me){return l[me.getUTCDay()]}function Ee(me){return o[me.getUTCDay()]}function Ie(me){return h[me.getUTCMonth()]}function Re(me){return c[me.getUTCMonth()]}function Ft(me){return a[+(me.getUTCHours()>=12)]}function ot(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Ue=F(me+="",L);return Ue.toString=function(){return me},Ue},parse:function(me){var Ue=R(me+="",!1);return Ue.toString=function(){return me},Ue},utcFormat:function(me){var Ue=F(me+="",B);return Ue.toString=function(){return me},Ue},utcParse:function(me){var Ue=R(me+="",!0);return Ue.toString=function(){return me},Ue}}}var z2={"-":"",_:" ",0:"0"},On=/^\s*\d+/,DH=/^%/,MH=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(e)+a:a)}function jH(t){return t.replace(MH,"\\$&")}function lf(t){return new RegExp("^(?:"+t.map(jH).join("|")+")","i")}function uf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function LH(t,e,n){var r=On.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function VH(t,e,n){var r=On.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function UH(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zH(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function BH(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function B2(t,e,n){var r=On.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function q2(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qH(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $H(t,e,n){var r=On.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function FH(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $2(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function HH(t,e,n){var r=On.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function F2(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function KH(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function GH(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function YH(t,e,n){var r=On.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function WH(t,e,n){var r=On.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function XH(t,e,n){var r=DH.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function QH(t,e,n){var r=On.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ZH(t,e,n){var r=On.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function H2(t,e){return ut(t.getDate(),e,2)}function JH(t,e){return ut(t.getHours(),e,2)}function eK(t,e){return ut(t.getHours()%12||12,e,2)}function tK(t,e){return ut(1+hh.count(Ya(t),t),e,3)}function SP(t,e){return ut(t.getMilliseconds(),e,3)}function nK(t,e){return SP(t,e)+"000"}function rK(t,e){return ut(t.getMonth()+1,e,2)}function iK(t,e){return ut(t.getMinutes(),e,2)}function aK(t,e){return ut(t.getSeconds(),e,2)}function sK(t){var e=t.getDay();return e===0?7:e}function oK(t,e){return ut(Jg.count(Ya(t)-1,t),e,2)}function kP(t){var e=t.getDay();return e>=4||e===0?Ru(t):Ru.ceil(t)}function lK(t,e){return t=kP(t),ut(Ru.count(Ya(t),t)+(Ya(t).getDay()===4),e,2)}function uK(t){return t.getDay()}function cK(t,e){return ut(ag.count(Ya(t)-1,t),e,2)}function fK(t,e){return ut(t.getFullYear()%100,e,2)}function hK(t,e){return t=kP(t),ut(t.getFullYear()%100,e,2)}function dK(t,e){return ut(t.getFullYear()%1e4,e,4)}function mK(t,e){var n=t.getDay();return t=n>=4||n===0?Ru(t):Ru.ceil(t),ut(t.getFullYear()%1e4,e,4)}function gK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function K2(t,e){return ut(t.getUTCDate(),e,2)}function pK(t,e){return ut(t.getUTCHours(),e,2)}function yK(t,e){return ut(t.getUTCHours()%12||12,e,2)}function vK(t,e){return ut(1+Zg.count(Wa(t),t),e,3)}function CP(t,e){return ut(t.getUTCMilliseconds(),e,3)}function bK(t,e){return CP(t,e)+"000"}function xK(t,e){return ut(t.getUTCMonth()+1,e,2)}function _K(t,e){return ut(t.getUTCMinutes(),e,2)}function wK(t,e){return ut(t.getUTCSeconds(),e,2)}function EK(t){var e=t.getUTCDay();return e===0?7:e}function TK(t,e){return ut(ep.count(Wa(t)-1,t),e,2)}function OP(t){var e=t.getUTCDay();return e>=4||e===0?Pu(t):Pu.ceil(t)}function AK(t,e){return t=OP(t),ut(Pu.count(Wa(t),t)+(Wa(t).getUTCDay()===4),e,2)}function SK(t){return t.getUTCDay()}function kK(t,e){return ut(sg.count(Wa(t)-1,t),e,2)}function CK(t,e){return ut(t.getUTCFullYear()%100,e,2)}function OK(t,e){return t=OP(t),ut(t.getUTCFullYear()%100,e,2)}function NK(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function IK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pu(t):Pu.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function RK(){return"+0000"}function G2(){return"%"}function Y2(t){return+t}function W2(t){return Math.floor(+t/1e3)}var lu,NP,IP;PK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PK(t){return lu=PH(t),NP=lu.format,lu.parse,IP=lu.utcFormat,lu.utcParse,lu}function DK(t){return new Date(t)}function MK(t){return t instanceof Date?+t:+new Date(+t)}function B_(t,e,n,r,a,o,l,c,h,d){var m=k_(),y=m.invert,b=m.domain,_=d(".%L"),E=d(":%S"),S=d("%I:%M"),T=d("%I %p"),I=d("%a %d"),D=d("%b %d"),L=d("%B"),B=d("%Y");function q(F){return(h(F)<F?_:c(F)<F?E:l(F)<F?S:o(F)<F?T:r(F)<F?a(F)<F?I:D:n(F)<F?L:B)(F)}return m.invert=function(F){return new Date(y(F))},m.domain=function(F){return arguments.length?b(Array.from(F,MK)):b().map(DK)},m.ticks=function(F){var R=b();return t(R[0],R[R.length-1],F??10)},m.tickFormat=function(F,R){return R==null?q:d(R)},m.nice=function(F){var R=b();return(!F||typeof F.range!="function")&&(F=e(R[0],R[R.length-1],F??10)),F?b(yP(R,F)):m},m.copy=function(){return fh(m,B_(t,e,n,r,a,o,l,c,h,d))},m}function jK(){return mi.apply(B_(IH,RH,Ya,U_,Jg,hh,L_,M_,Zo,NP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LK(){return mi.apply(B_(OH,NH,Wa,z_,ep,Zg,V_,j_,Zo,IP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tp(){var t=0,e=1,n,r,a,o,l=hr,c=!1,h;function d(y){return y==null||isNaN(y=+y)?h:l(a===0?.5:(y=(o(y)-n)*a,c?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),a=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(y){return arguments.length?(c=!!y,d):c},d.interpolator=function(y){return arguments.length?(l=y,d):l};function m(y){return function(b){var _,E;return arguments.length?([_,E]=b,l=y(_,E),d):[l(0),l(1)]}}return d.range=m(Ku),d.rangeRound=m(S_),d.unknown=function(y){return arguments.length?(h=y,d):h},function(y){return o=y,n=y(t),r=y(e),a=n===r?0:1/(r-n),d}}function co(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function RP(){var t=uo(tp()(hr));return t.copy=function(){return co(t,RP())},es.apply(t,arguments)}function PP(){var t=N_(tp()).domain([1,10]);return t.copy=function(){return co(t,PP()).base(t.base())},es.apply(t,arguments)}function DP(){var t=I_(tp());return t.copy=function(){return co(t,DP()).constant(t.constant())},es.apply(t,arguments)}function q_(){var t=R_(tp());return t.copy=function(){return co(t,q_()).exponent(t.exponent())},es.apply(t,arguments)}function VK(){return q_.apply(null,arguments).exponent(.5)}function MP(){var t=[],e=hr;function n(r){if(r!=null&&!isNaN(r=+r))return e((uh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Xs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>EF(t,o/r))},n.copy=function(){return MP(e).domain(t)},es.apply(n,arguments)}function np(){var t=0,e=.5,n=1,r=1,a,o,l,c,h,d=hr,m,y=!1,b;function _(S){return isNaN(S=+S)?b:(S=.5+((S=+m(S))-o)*(r*S<r*o?c:h),d(y?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,a=m(t=+t),o=m(e=+e),l=m(n=+n),c=a===o?0:.5/(o-a),h=o===l?0:.5/(l-o),r=o<a?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(y=!!S,_):y},_.interpolator=function(S){return arguments.length?(d=S,_):d};function E(S){return function(T){var I,D,L;return arguments.length?([I,D,L]=T,d=XF(S,[I,D,L]),_):[d(0),d(.5),d(1)]}}return _.range=E(Ku),_.rangeRound=E(S_),_.unknown=function(S){return arguments.length?(b=S,_):b},function(S){return m=S,a=S(t),o=S(e),l=S(n),c=a===o?0:.5/(o-a),h=o===l?0:.5/(l-o),r=o<a?-1:1,_}}function jP(){var t=uo(np()(hr));return t.copy=function(){return co(t,jP())},es.apply(t,arguments)}function LP(){var t=N_(np()).domain([.1,1,10]);return t.copy=function(){return co(t,LP()).base(t.base())},es.apply(t,arguments)}function VP(){var t=I_(np());return t.copy=function(){return co(t,VP()).constant(t.constant())},es.apply(t,arguments)}function $_(){var t=R_(np());return t.copy=function(){return co(t,$_()).exponent(t.exponent())},es.apply(t,arguments)}function UK(){return $_.apply(null,arguments).exponent(.5)}const yf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:E_,scaleDiverging:jP,scaleDivergingLog:LP,scaleDivergingPow:$_,scaleDivergingSqrt:UK,scaleDivergingSymlog:VP,scaleIdentity:pP,scaleImplicit:Hb,scaleLinear:gP,scaleLog:vP,scaleOrdinal:w_,scalePoint:SF,scalePow:P_,scaleQuantile:_P,scaleQuantize:wP,scaleRadial:xP,scaleSequential:RP,scaleSequentialLog:PP,scaleSequentialPow:q_,scaleSequentialQuantile:MP,scaleSequentialSqrt:VK,scaleSequentialSymlog:DP,scaleSqrt:bH,scaleSymlog:bP,scaleThreshold:EP,scaleTime:jK,scaleUtc:LK,tickFormat:mP},Symbol.toStringTag,{value:"Module"}));var fo=t=>t.chartData,zK=te([fo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),F_=(t,e,n,r)=>r?zK(t):fo(t);function Du(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(gr(e)&&gr(n))return!0}return!1}function X2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function BK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,o;if(gr(n))a=n;else if(typeof n=="function")return;if(gr(r))o=r;else if(typeof r=="function")return;var l=[a,o];if(Du(l))return l}}function qK(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Du(r))return X2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,o]=t,l,c;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Ne(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[0]))}catch{}else if(typeof a=="string"&&qk.test(a)){var h=qk.exec(a);if(h==null||e==null)l=void 0;else{var d=+h[1];l=e[0]-d}}else l=e?.[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(Ne(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e?.[1]))}catch{}else if(typeof o=="string"&&$k.test(o)){var m=$k.exec(o);if(m==null||e==null)c=void 0;else{var y=+m[1];c=e[1]+y}}else c=e?.[1];var b=[l,c];if(Du(b))return e==null?b:X2(b,e,n)}}}var Gu=1e9,$K={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K_,Lt=!0,hi="[DecimalError] ",il=hi+"Invalid argument: ",H_=hi+"Exponent out of range: ",Yu=Math.floor,Go=Math.pow,FK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Lr,kn=1e7,Pt=7,UP=9007199254740991,og=Yu(UP/Pt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,a,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return za(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return Tt(za(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return on(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,a=r.precision,o=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Lr))throw Error(hi+"NaN");if(n.s<1)throw Error(hi+(n.s?"NaN":"-Infinity"));return n.eq(Lr)?new r(0):(Lt=!1,e=za(Gf(n,o),Gf(t,o),o),Lt=!0,Tt(e,a))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qP(e,t):zP(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(hi+"NaN");return n.s?(Lt=!1,e=za(n,t,0,1).times(t),Lt=!0,n.minus(e)):Tt(new r(n),a)};xe.naturalExponential=xe.exp=function(){return BP(this)};xe.naturalLogarithm=xe.ln=function(){return Gf(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zP(e,t):qP(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(il+t);if(e=on(a)+1,r=a.d.length-1,n=r*Pt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,a,o,l,c=this,h=c.constructor;if(c.s<1){if(!c.s)return new h(0);throw Error(hi+"NaN")}for(t=on(c),Lt=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=Gi(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Yu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=l=n+3;;)if(o=r,r=o.plus(za(c,o,l+2)).times(.5),Gi(o.d).slice(0,l)===(e=Gi(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(Tt(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return Lt=!0,Tt(r,n)};xe.times=xe.mul=function(t){var e,n,r,a,o,l,c,h,d,m=this,y=m.constructor,b=m.d,_=(t=new y(t)).d;if(!m.s||!t.s)return new y(0);for(t.s*=m.s,n=m.e+t.e,h=b.length,d=_.length,h<d&&(o=b,b=_,_=o,l=h,h=d,d=l),o=[],l=h+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,a=h+r;a>r;)c=o[a]+_[r]*b[a-r-1]+e,o[a--]=c%kn|0,e=c/kn|0;o[a]=(o[a]+e)%kn|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Lt?Tt(t,y.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ia(t,0,Gu),e===void 0?e=r.rounding:ia(e,0,8),Tt(n,t+on(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=hl(r,!0):(ia(t,0,Gu),e===void 0?e=a.rounding:ia(e,0,8),r=Tt(new a(r),t+1,e),n=hl(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?hl(a):(ia(t,0,Gu),e===void 0?e=o.rounding:ia(e,0,8),r=Tt(new o(a),t+on(a)+1,e),n=hl(r.abs(),!1,t+on(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return Tt(new e(t),on(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,a,o,l,c=this,h=c.constructor,d=12,m=+(t=new h(t));if(!t.s)return new h(Lr);if(c=new h(c),!c.s){if(t.s<1)throw Error(hi+"Infinity");return c}if(c.eq(Lr))return c;if(r=h.precision,t.eq(Lr))return Tt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=m<0?-m:m)<=UP){for(a=new h(Lr),e=Math.ceil(r/Pt+4),Lt=!1;n%2&&(a=a.times(c),Z2(a.d,e)),n=Yu(n/2),n!==0;)c=c.times(c),Z2(c.d,e);return Lt=!0,t.s<0?new h(Lr).div(a):Tt(a,r)}}else if(o<0)throw Error(hi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Lt=!1,a=t.times(Gf(c,r+d)),Lt=!0,a=BP(a),a.s=o,a};xe.toPrecision=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?(n=on(a),r=hl(a,n<=o.toExpNeg||n>=o.toExpPos)):(ia(t,1,Gu),e===void 0?e=o.rounding:ia(e,0,8),a=Tt(new o(a),t,e),n=on(a),r=hl(a,t<=n||n<=o.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ia(t,1,Gu),e===void 0?e=r.rounding:ia(e,0,8)),Tt(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),n=t.constructor;return hl(t,e<=n.toExpNeg||e>=n.toExpPos)};function zP(t,e){var n,r,a,o,l,c,h,d,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Lt?Tt(e,y):e;if(h=t.d,d=e.d,l=t.e,a=e.e,h=h.slice(),o=l-a,o){for(o<0?(r=h,o=-o,c=d.length):(r=d,a=l,c=h.length),l=Math.ceil(y/Pt),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=h.length,o=d.length,c-o<0&&(o=c,r=d,d=h,h=r),n=0;o;)n=(h[--o]=h[o]+d[o]+n)/kn|0,h[o]%=kn;for(n&&(h.unshift(n),++a),c=h.length;h[--c]==0;)h.pop();return e.d=h,e.e=a,Lt?Tt(e,y):e}function ia(t,e,n){if(t!==~~t||t<e||t>n)throw Error(il+t)}function Gi(t){var e,n,r,a=t.length-1,o="",l=t[0];if(a>0){for(o+=l,e=1;e<a;e++)r=t[e]+"",n=Pt-r.length,n&&(o+=js(n)),o+=r;l=t[e],r=l+"",n=Pt-r.length,n&&(o+=js(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var za=(function(){function t(r,a){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*a+l,r[c]=o%kn|0,l=o/kn|0;return l&&r.unshift(l),r}function e(r,a,o,l){var c,h;if(o!=l)h=o>l?1:-1;else for(c=h=0;c<o;c++)if(r[c]!=a[c]){h=r[c]>a[c]?1:-1;break}return h}function n(r,a,o){for(var l=0;o--;)r[o]-=l,l=r[o]<a[o]?1:0,r[o]=l*kn+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,l){var c,h,d,m,y,b,_,E,S,T,I,D,L,B,q,F,R,O,P=r.constructor,U=r.s==a.s?1:-1,j=r.d,z=a.d;if(!r.s)return new P(r);if(!a.s)throw Error(hi+"Division by zero");for(h=r.e-a.e,R=z.length,q=j.length,_=new P(U),E=_.d=[],d=0;z[d]==(j[d]||0);)++d;if(z[d]>(j[d]||0)&&--h,o==null?D=o=P.precision:l?D=o+(on(r)-on(a))+1:D=o,D<0)return new P(0);if(D=D/Pt+2|0,d=0,R==1)for(m=0,z=z[0],D++;(d<q||m)&&D--;d++)L=m*kn+(j[d]||0),E[d]=L/z|0,m=L%z|0;else{for(m=kn/(z[0]+1)|0,m>1&&(z=t(z,m),j=t(j,m),R=z.length,q=j.length),B=R,S=j.slice(0,R),T=S.length;T<R;)S[T++]=0;O=z.slice(),O.unshift(0),F=z[0],z[1]>=kn/2&&++F;do m=0,c=e(z,S,R,T),c<0?(I=S[0],R!=T&&(I=I*kn+(S[1]||0)),m=I/F|0,m>1?(m>=kn&&(m=kn-1),y=t(z,m),b=y.length,T=S.length,c=e(y,S,b,T),c==1&&(m--,n(y,R<b?O:z,b))):(m==0&&(c=m=1),y=z.slice()),b=y.length,b<T&&y.unshift(0),n(S,y,T),c==-1&&(T=S.length,c=e(z,S,R,T),c<1&&(m++,n(S,R<T?O:z,T))),T=S.length):c===0&&(m++,S=[0]),E[d++]=m,c&&S[0]?S[T++]=j[B]||0:(S=[j[B]],T=1);while((B++<q||S[0]!==void 0)&&D--)}return E[0]||E.shift(),_.e=h,Tt(_,l?o+on(_)+1:o)}})();function BP(t,e){var n,r,a,o,l,c,h=0,d=0,m=t.constructor,y=m.precision;if(on(t)>16)throw Error(H_+on(t));if(!t.s)return new m(Lr);for(Lt=!1,c=y,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(Go(2,d))/Math.LN10*2+5|0,c+=r,n=a=o=new m(Lr),m.precision=c;;){if(a=Tt(a.times(t),c),n=n.times(++h),l=o.plus(za(a,n,c)),Gi(l.d).slice(0,c)===Gi(o.d).slice(0,c)){for(;d--;)o=Tt(o.times(o),c);return m.precision=y,e==null?(Lt=!0,Tt(o,y)):o}o=l}}function on(t){for(var e=t.e*Pt,n=t.d[0];n>=10;n/=10)e++;return e}function M0(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(hi+"LN10 precision limit exceeded");return Tt(new t(t.LN10),e)}function js(t){for(var e="";t--;)e+="0";return e}function Gf(t,e){var n,r,a,o,l,c,h,d,m,y=1,b=10,_=t,E=_.d,S=_.constructor,T=S.precision;if(_.s<1)throw Error(hi+(_.s?"NaN":"-Infinity"));if(_.eq(Lr))return new S(0);if(e==null?(Lt=!1,d=T):d=e,_.eq(10))return e==null&&(Lt=!0),M0(S,d);if(d+=b,S.precision=d,n=Gi(E),r=n.charAt(0),o=on(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Gi(_.d),r=n.charAt(0),y++;o=on(_),r>1?(_=new S("0."+n),o++):_=new S(r+"."+n.slice(1))}else return h=M0(S,d+2,T).times(o+""),_=Gf(new S(r+"."+n.slice(1)),d-b).plus(h),S.precision=T,e==null?(Lt=!0,Tt(_,T)):_;for(c=l=_=za(_.minus(Lr),_.plus(Lr),d),m=Tt(_.times(_),d),a=3;;){if(l=Tt(l.times(m),d),h=c.plus(za(l,new S(a),d)),Gi(h.d).slice(0,d)===Gi(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(M0(S,d+2,T).times(o+""))),c=za(c,new S(y),d),S.precision=T,e==null?(Lt=!0,Tt(c,T)):c;c=h,a+=2}}function Q2(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Yu(n/Pt),t.d=[],r=(n+1)%Pt,n<0&&(r+=Pt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Pt;r<a;)t.d.push(+e.slice(r,r+=Pt));e=e.slice(r),r=Pt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>og||t.e<-og))throw Error(H_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Tt(t,e,n){var r,a,o,l,c,h,d,m,y=t.d;for(l=1,o=y[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=Pt,a=e,d=y[m=0];else{if(m=Math.ceil((r+1)/Pt),o=y.length,m>=o)return t;for(d=o=y[m],l=1;o>=10;o/=10)l++;r%=Pt,a=r-Pt+l}if(n!==void 0&&(o=Go(10,l-a-1),c=d/o%10|0,h=e<0||y[m+1]!==void 0||d%o,h=n<4?(c||h)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||h||n==6&&(r>0?a>0?d/Go(10,l-a):0:y[m-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return h?(o=on(t),y.length=1,e=e-o-1,y[0]=Go(10,(Pt-e%Pt)%Pt),t.e=Yu(-e/Pt)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=m,o=1,m--):(y.length=m+1,o=Go(10,Pt-r),y[m]=a>0?(d/Go(10,l-a)%Go(10,a)|0)*o:0),h)for(;;)if(m==0){(y[0]+=o)==kn&&(y[0]=1,++t.e);break}else{if(y[m]+=o,y[m]!=kn)break;y[m--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Lt&&(t.e>og||t.e<-og))throw Error(H_+on(t));return t}function qP(t,e){var n,r,a,o,l,c,h,d,m,y,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Lt?Tt(e,_):e;if(h=t.d,y=e.d,r=e.e,d=t.e,h=h.slice(),l=d-r,l){for(m=l<0,m?(n=h,l=-l,c=y.length):(n=y,r=d,c=h.length),a=Math.max(Math.ceil(_/Pt),c)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=h.length,c=y.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(h[a]!=y[a]){m=h[a]<y[a];break}l=0}for(m&&(n=h,h=y,y=n,e.s=-e.s),c=h.length,a=y.length-c;a>0;--a)h[c++]=0;for(a=y.length;a>l;){if(h[--a]<y[a]){for(o=a;o&&h[--o]===0;)h[o]=kn-1;--h[o],h[a]+=kn}h[a]-=y[a]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,Lt?Tt(e,_):e):new b(0)}function hl(t,e,n){var r,a=on(t),o=Gi(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+js(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+js(-a-1)+o,n&&(r=n-l)>0&&(o+=js(r))):a>=l?(o+=js(a+1-l),n&&(r=n-a-1)>0&&(o=o+"."+js(r))):((r=a+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(o+="."),o+=js(r))),t.s<0?"-"+o:o}function Z2(t,e){if(t.length>e)return t.length=e,!0}function $P(t){var e,n,r;function a(o){var l=this;if(!(l instanceof a))return new a(o);if(l.constructor=a,o instanceof a){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(il+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return Q2(l,o.toString())}else if(typeof o!="string")throw Error(il+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,FK.test(o))Q2(l,o);else throw Error(il+o)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$P,a.config=a.set=HK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function HK(t){if(!t||typeof t!="object")throw Error(hi+"Object expected");var e,n,r,a=["precision",1,Gu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Yu(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(il+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(il+n+": "+r);return this}var K_=$P($K);Lr=new K_(1);const gt=K_;var KK=t=>t,FP={},HP=t=>t===FP,J2=t=>function e(){return arguments.length===0||arguments.length===1&&HP(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},KP=(t,e)=>t===1?e:J2(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.filter(l=>l!==FP).length;return o>=t?e(...r):KP(t-o,J2(function(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];var d=r.map(m=>HP(m)?c.shift():m);return e(...d,...c)}))}),rp=t=>KP(t.length,t),Wb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},GK=rp((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),YK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return KK;var a=n.reverse(),o=a[0],l=a.slice(1);return function(){return l.reduce((c,h)=>h(c),o(...arguments))}},Xb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),GP=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e&&a.every((l,c)=>{var h;return l===((h=e)===null||h===void 0?void 0:h[c])})||(e=a,n=t(...a)),n}};function YP(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function WP(t,e,n){for(var r=new gt(t),a=0,o=[];r.lt(e)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}rp((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});rp((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});rp((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var XP=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},QP=(t,e,n)=>{if(t.lte(0))return new gt(0);var r=YP(t.toNumber()),a=new gt(10).pow(r),o=t.div(a),l=r!==1?.05:.1,c=new gt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),h=c.mul(a);return e?new gt(h.toNumber()):new gt(Math.ceil(h.toNumber()))},WK=(t,e,n)=>{var r=new gt(1),a=new gt(t);if(!a.isint()&&n){var o=Math.abs(t);o<1?(r=new gt(10).pow(YP(t)-1),a=new gt(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new gt(Math.floor(t)))}else t===0?a=new gt(Math.floor((e-1)/2)):n||(a=new gt(Math.floor(t)));var l=Math.floor((e-1)/2),c=YK(GK(h=>a.add(new gt(h-l).mul(r)).toNumber()),Wb);return c(0,e)},ZP=function(e,n,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var l=QP(new gt(n).sub(e).div(r-1),a,o),c;e<=0&&n>=0?c=new gt(0):(c=new gt(e).add(n).div(2),c=c.sub(new gt(c).mod(l)));var h=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new gt(n).sub(c).div(l).toNumber()),m=h+d+1;return m>r?ZP(e,n,r,a,o+1):(m<r&&(d=n>0?d+(r-m):d,h=n>0?h:h+(r-m)),{step:l,tickMin:c.sub(new gt(h).mul(l)),tickMax:c.add(new gt(d).mul(l))})};function XK(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,c]=XP([e,n]);if(l===-1/0||c===1/0){var h=c===1/0?[l,...Wb(0,r-1).map(()=>1/0)]:[...Wb(0,r-1).map(()=>-1/0),c];return e>n?Xb(h):h}if(l===c)return WK(l,r,a);var{step:d,tickMin:m,tickMax:y}=ZP(l,c,o,a,0),b=WP(m,y.add(new gt(.1).mul(d)),d);return e>n?Xb(b):b}function QK(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=XP([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var c=Math.max(e,2),h=QP(new gt(l).sub(o).div(c-1),a,0),d=[...WP(new gt(o),new gt(l),h),l];return a===!1&&(d=d.map(m=>Math.round(m))),n>r?Xb(d):d}var ZK=GP(XK),JK=GP(QK),eG=t=>t.rootProps.barCategoryGap,ip=t=>t.rootProps.stackOffset,G_=t=>t.options.chartName,Y_=t=>t.rootProps.syncId,JP=t=>t.rootProps.syncMethod,W_=t=>t.options.eventEmitter,Ia={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ap=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},tG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:Ia.reversed,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:Ia.type,unit:void 0},nG={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:jr.type,unit:void 0},rG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ia.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},iG={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:"category",unit:void 0},X_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?rG:tG,Q_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?iG:nG,sp=t=>t.polarOptions,Z_=te([Za,Ja,Fn],cq),eD=te([sp,Z_],(t,e)=>{if(t!=null)return io(t.innerRadius,e,0)}),tD=te([sp,Z_],(t,e)=>{if(t!=null)return io(t.outerRadius,e,e*.8)}),aG=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},nD=te([sp],aG);te([X_,nD],ap);var rD=te([Z_,eD,tD],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});te([Q_,rD],ap);var iD=te([Ot,sp,eD,tD,Za,Ja],(t,e,n,r,a,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:h,endAngle:d}=e;return{cx:io(l,a,a/2),cy:io(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:d,clockWise:!1}}}),ln=(t,e)=>e,op=(t,e,n)=>n;function J_(t){return t?.id}var vn=t=>{var e=Ot(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Wu=t=>t.tooltip.settings.axisId,Nn=t=>{var e=vn(t),n=Wu(t);return dh(t,e,n)},aD=te([Nn],t=>t?.dataKey);function sD(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:o}=n,l=new Map;return t.forEach(c=>{var h,d=(h=c.data)!==null&&h!==void 0?h:r;if(!(d==null||d.length===0)){var m=J_(c);d.forEach((y,b)=>{var _=o==null||a?b:String(dr(y,o,null)),E=dr(y,c.dataKey,0),S;l.has(_)?S=l.get(_):S={},Object.assign(S,{[m]:E}),l.set(_,S)})}}),Array.from(l.values())}function e1(t){return t.stackId!=null&&t.dataKey!=null}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){sG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sG(t,e,n){return(e=oG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oG(t){var e=lG(t,"string");return typeof e=="symbol"?e:e+""}function lG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qb=[0,"auto"],Dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},oD=(t,e)=>t.cartesianAxis.xAxis[e],aa=(t,e)=>{var n=oD(t,e);return n??Dr},Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Qb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lh},lD=(t,e)=>t.cartesianAxis.yAxis[e],sa=(t,e)=>{var n=lD(t,e);return n??Mr},uG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},t1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??uG},Er=(t,e,n)=>{switch(e){case"xAxis":return aa(t,n);case"yAxis":return sa(t,n);case"zAxis":return t1(t,n);case"angleAxis":return X_(t,n);case"radiusAxis":return Q_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},cG=(t,e,n)=>{switch(e){case"xAxis":return aa(t,n);case"yAxis":return sa(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},dh=(t,e,n)=>{switch(e){case"xAxis":return aa(t,n);case"yAxis":return sa(t,n);case"angleAxis":return X_(t,n);case"radiusAxis":return Q_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uD=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function cD(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var fD=t=>t.graphicalItems.cartesianItems,fG=te([ln,op],cD),hD=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),mh=te([fD,Er,fG],hD),dD=te([mh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(e1)),mD=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),gD=te([mh],mD),pD=t=>t.map(e=>e.data).filter(Boolean).flat(1),hG=te([mh],pD),yD=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},n1=te([hG,F_],yD),vD=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:dr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:dr(a,r)}))):t.map(r=>({value:r})),lp=te([n1,Er,mh],vD);function bD(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function wl(t){return t.filter(e=>ci(e)||e instanceof Date).map(Number).filter(e=>mr(e)===!1)}function dG(t,e,n){return!n||typeof e!="number"||mr(e)?[]:n.length?wl(n.flatMap(r=>{var a=dr(t,r.dataKey),o,l;if(Array.isArray(a)?[o,l]=a:o=l=a,!(!gr(o)||!gr(l)))return[e-o,e+l]})):[]}var mG=te([dD,F_,Nn],sD),xD=(t,e,n)=>{var r={},a=e.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(a).map(o=>{var[l,c]=o,h=c.map(J_);return[l,{stackedData:Aq(t,h,n),graphicalItems:c}]}))},Zb=te([mG,dD,ip],xD),_D=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(n!=="zAxis"){var o=Oq(t,r,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},gG=te([Zb,fo,ln],_D),wD=(t,e,n,r,a)=>n.length>0?t.flatMap(o=>n.flatMap(l=>{var c,h,d=(c=r[l.id])===null||c===void 0?void 0:c.filter(y=>bD(a,y)),m=dr(o,(h=e.dataKey)!==null&&h!==void 0?h:l.dataKey);return{value:m,errorDomain:dG(o,m,d)}})).filter(Boolean):e?.dataKey!=null?t.map(o=>({value:dr(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),up=t=>t.errorBars,ED=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>bD(n,r));te([gD,up,ln],ED);var pG=te([n1,Er,gD,up,ln],wD);function yG(t){var{value:e}=t;if(ci(e)||e instanceof Date)return e}var tC=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=wl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vG=(t,e,n)=>{var r=t.map(yG).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&UI(r))?iP(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},r1=t=>{var e;if(t==null||!("domain"in t))return Qb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=wl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Qb},ug=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var o=a.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},TD=t=>t.referenceElements.dots,Xu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),bG=te([TD,ln,op],Xu),AD=t=>t.referenceElements.areas,xG=te([AD,ln,op],Xu),SD=t=>t.referenceElements.lines,_G=te([SD,ln,op],Xu),kD=(t,e)=>{var n=wl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wG=te(bG,ln,kD),CD=(t,e)=>{var n=wl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},EG=te([xG,ln],CD),OD=(t,e)=>{var n=wl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},TG=te(_G,ln,OD),AG=te(wG,TG,EG,(t,e,n)=>ug(t,n,e)),SG=te([Er],r1),ND=(t,e,n,r,a,o,l)=>{var c=BK(e,t.allowDataOverflow);if(c!=null)return c;var h=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=h?ug(n,a,tC(r)):ug(a,tC(r));return qK(e,d,t.allowDataOverflow)},kG=te([Er,SG,gG,pG,AG,Ot,ln],ND),CG=[0,1],ID=(t,e,n,r,a,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:h}=t,d=Qa(e,o);return d&&c==null?iP(0,n.length):h==="category"?vG(r,t,d):a==="expand"?CG:l}},i1=te([Er,Ot,n1,lp,ip,ln,kG],ID),RD=(t,e,n,r,a)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(l_(o));return c in yf?c:"point"}}},gh=te([Er,Ot,uD,G_,ln],RD);function OG(t){if(t!=null){if(t in yf)return yf[t]();var e="scale".concat(l_(t));if(e in yf)return yf[e]()}}function a1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=OG(e);if(a!=null){var o=a.domain(n).range(r);return _q(o),o}}}var PD=(t,e,n)=>{var r=r1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Du(t))return ZK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Du(t))return JK(t,e.tickCount,e.allowDecimals)}},s1=te([i1,dh,gh],PD),DD=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Du(e)&&Array.isArray(n)&&n.length>0){var a=e[0],o=n[0],l=e[1],c=n[n.length-1];return[Math.min(a,o),Math.max(l,c)]}return e},NG=te([Er,i1,s1,ln],DD),IG=te(lp,Er,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(wl(t.map(c=>c.value))).sort((c,h)=>c-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/a}}),MD=te(IG,Ot,eG,Fn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!gr(t))return 0;var o=e==="vertical"?r.height:r.width;if(a==="gap")return t*o/2;if(a==="no-gap"){var l=io(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),RG=(t,e)=>{var n=aa(t,e);return n==null||typeof n.padding!="string"?0:MD(t,"xAxis",e,n.padding)},PG=(t,e)=>{var n=sa(t,e);return n==null||typeof n.padding!="string"?0:MD(t,"yAxis",e,n.padding)},DG=te(aa,RG,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),MG=te(sa,PG,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),jG=te([Fn,DG,Wg,Yg,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:o}=r;return a?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),LG=te([Fn,Ot,MG,Wg,Yg,(t,e,n)=>n],(t,e,n,r,a,o)=>{var{padding:l}=a;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ph=(t,e,n,r)=>{var a;switch(e){case"xAxis":return jG(t,n,r);case"yAxis":return LG(t,n,r);case"zAxis":return(a=t1(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return nD(t);case"radiusAxis":return rD(t,n);default:return}},jD=te([Er,ph],ap),ao=te([Er,gh,NG,jD],a1);te([mh,up,ln],ED);function LD(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var cp=(t,e)=>e,fp=(t,e,n)=>n,VG=te(Kg,cp,fp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LD)),UG=te(Gg,cp,fp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LD)),VD=(t,e)=>({width:t.width,height:e.height}),zG=(t,e)=>{var n=typeof e.width=="number"?e.width:lh;return{width:n,height:t.height}},BG=te(Fn,aa,VD),qG=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},$G=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},FG=te(Ja,Fn,VG,cp,fp,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var h=VD(e,c);l==null&&(l=qG(e,r,t));var d=r==="top"&&!a||r==="bottom"&&a;o[c.id]=l-Number(d)*h.height,l+=(d?-1:1)*h.height}),o}),HG=te(Za,Fn,UG,cp,fp,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var h=zG(e,c);l==null&&(l=$G(e,r,t));var d=r==="left"&&!a||r==="right"&&a;o[c.id]=l-Number(d)*h.width,l+=(d?-1:1)*h.width}),o}),KG=(t,e)=>{var n=aa(t,e);if(n!=null)return FG(t,n.orientation,n.mirror)},GG=te([Fn,aa,KG,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),YG=(t,e)=>{var n=sa(t,e);if(n!=null)return HG(t,n.orientation,n.mirror)},WG=te([Fn,sa,YG,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),XG=te(Fn,sa,(t,e)=>{var n=typeof e.width=="number"?e.width:lh;return{width:n,height:t.height}}),UD=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:o,dataKey:l}=n,c=Qa(t,r),h=e.map(d=>d.value);if(l&&c&&o==="category"&&a&&UI(h))return h}},o1=te([Ot,lp,Er,ln],UD),zD=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:o}=n,l=Qa(t,r);if(l&&(a==="number"||o!=="auto"))return e.map(c=>c.value)}},l1=te([Ot,lp,dh,ln],zD),nC=te([Ot,cG,gh,ao,o1,l1,ph,s1,ln],(t,e,n,r,a,o,l,c,h)=>{if(e==null)return null;var d=Qa(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:o,duplicateDomain:a,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}),QG=(t,e,n,r,a,o,l,c,h)=>{if(!(e==null||r==null)){var d=Qa(t,h),{type:m,ticks:y,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/_:0;E=h==="angleAxis"&&o!=null&&o.length>=2?li(o[0]-o[1])*2*E:E;var S=y||a;if(S){var T=S.map((I,D)=>{var L=l?l.indexOf(I):I;return{index:D,coordinate:r(L)+E,value:I,offset:E}});return T.filter(I=>!mr(I.coordinate))}return d&&c?c.map((I,D)=>({coordinate:r(I)+E,value:I,index:D,offset:E})):r.ticks?r.ticks(b).map(I=>({coordinate:r(I)+E,value:I,offset:E})):r.domain().map((I,D)=>({coordinate:r(I)+E,value:l?l[I]:I,index:D,offset:E}))}},BD=te([Ot,dh,gh,ao,s1,ph,o1,l1,ln],QG),ZG=(t,e,n,r,a,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Qa(t,l),{tickCount:h}=e,d=0;return d=l==="angleAxis"&&r?.length>=2?li(r[0]-r[1])*2*d:d,c&&o?o.map((m,y)=>({coordinate:n(m)+d,value:m,index:y,offset:d})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,y)=>({coordinate:n(m)+d,value:a?a[m]:m,index:y,offset:d}))}},qD=te([Ot,dh,ao,ph,o1,l1,ln],ZG),$D=te(Er,ao,(t,e)=>{if(!(t==null||e==null))return lg(lg({},t),{},{scale:e})}),JG=te([Er,gh,i1,jD],a1);te((t,e,n)=>t1(t,n),JG,(t,e)=>{if(!(t==null||e==null))return lg(lg({},t),{},{scale:e})});var eY=te([Ot,Kg,Gg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FD=t=>t.options.defaultTooltipEventType,HD=t=>t.options.validateTooltipEventTypes;function KD(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function u1(t,e){var n=FD(t),r=HD(t);return KD(e,n,r)}function tY(t){return Oe(e=>u1(e,t))}var GD=(t,e)=>{var n,r=Number(e);if(!(mr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},nY=t=>t.tooltip.settings,qs={active:!1,index:null,dataKey:void 0,coordinate:void 0},rY={itemInteraction:{click:qs,hover:qs},axisInteraction:{click:qs,hover:qs},keyboardInteraction:qs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},YD=Br({name:"tooltip",initialState:rY,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ua(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:iY,removeTooltipEntrySettings:aY,setTooltipSettingsState:sY,setActiveMouseOverItemIndex:oY,mouseLeaveItem:cte,mouseLeaveChart:WD,setActiveClickItemIndex:fte,setMouseOverAxisIndex:XD,setMouseClickAxisIndex:lY,setSyncInteraction:Jb,setKeyboardInteraction:ex}=YD.actions,uY=YD.reducer;function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){cY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cY(t,e,n){return(e=fY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=hY(t,"string");return typeof e=="symbol"?e:e+""}function hY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dY(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function mY(t){return t.index!=null}var QD=(t,e,n,r)=>{if(e==null)return qs;var a=dY(t,e,n);if(a==null)return qs;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(mY(a)){if(o)return Zd(Zd({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Zd(Zd({},qs),{},{coordinate:a.coordinate})},c1=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!gr(r))return n;var a=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(a,Math.min(r,o)))},ZD=(t,e,n,r,a,o,l,c)=>{if(!(o==null||c==null)){var h=l[0],d=h==null?void 0:c(h.positions,o);if(d!=null)return d;var m=a?.[Number(o)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},JD=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===a})},yh=t=>t.options.tooltipPayloadSearcher,Qu=t=>t.tooltip;function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){gY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gY(t,e,n){return(e=pY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pY(t){var e=yY(t,"string");return typeof e=="symbol"?e:e+""}function yY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vY(t,e){return t??e}var eM=(t,e,n,r,a,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:h,dataStartIndex:d,dataEndIndex:m}=n,y=[];return t.reduce((b,_)=>{var E,{dataDefinedOnItem:S,settings:T}=_,I=vY(S,c),D=Array.isArray(I)?zR(I,d,m):I,L=(E=T?.dataKey)!==null&&E!==void 0?E:r,B=T?.nameKey,q;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&l==="axis"?q=zI(D,r,a):q=o(D,e,h,B),Array.isArray(q))q.forEach(R=>{var O=aC(aC({},T),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});b.push(Fk({tooltipEntrySettings:O,dataKey:R.dataKey,payload:R.payload,value:dr(R.payload,R.dataKey),name:R.name}))});else{var F;b.push(Fk({tooltipEntrySettings:T,dataKey:L,payload:q,value:dr(q,L),name:(F=dr(q,B))!==null&&F!==void 0?F:T?.name}))}return b},y)}},f1=te([Nn,Ot,uD,G_,vn],RD),bY=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),xY=te([vn,Wu],cD),vh=te([bY,Nn,xY],hD),_Y=te([vh],t=>t.filter(e1)),wY=te([vh],pD),Zu=te([wY,fo],yD),EY=te([_Y,fo,Nn],sD),h1=te([Zu,Nn,vh],vD),TY=te([Nn],r1),AY=te([vh],t=>t.filter(e1)),SY=te([EY,AY,ip],xD),kY=te([SY,fo,vn],_D),CY=te([vh],mD),OY=te([Zu,Nn,CY,up,vn],wD),NY=te([TD,vn,Wu],Xu),IY=te([NY,vn],kD),RY=te([AD,vn,Wu],Xu),PY=te([RY,vn],CD),DY=te([SD,vn,Wu],Xu),MY=te([DY,vn],OD),jY=te([IY,MY,PY],ug),LY=te([Nn,TY,kY,OY,jY,Ot,vn],ND),tM=te([Nn,Ot,Zu,h1,ip,vn,LY],ID),VY=te([tM,Nn,f1],PD),UY=te([Nn,tM,VY,vn],DD),nM=t=>{var e=vn(t),n=Wu(t),r=!1;return ph(t,e,n,r)},rM=te([Nn,nM],ap),iM=te([Nn,f1,UY,rM],a1),zY=te([Ot,h1,Nn,vn],UD),BY=te([Ot,h1,Nn,vn],zD),qY=(t,e,n,r,a,o,l,c)=>{if(e){var{type:h}=e,d=Qa(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=h==="category"&&r.bandwidth?r.bandwidth()/m:0;return y=c==="angleAxis"&&a!=null&&a?.length>=2?li(a[0]-a[1])*2*y:y,d&&l?l.map((b,_)=>({coordinate:r(b)+y,value:b,index:_,offset:y})):r.domain().map((b,_)=>({coordinate:r(b)+y,value:o?o[b]:b,index:_,offset:y}))}}},ts=te([Ot,Nn,f1,iM,nM,zY,BY,vn],qY),d1=te([FD,HD,nY],(t,e,n)=>KD(n.shared,t,e)),aM=t=>t.tooltip.settings.trigger,m1=t=>t.tooltip.settings.defaultIndex,hp=te([Qu,d1,aM,m1],QD),Yf=te([hp,Zu],c1),sM=te([ts,Yf],GD),$Y=te([hp],t=>{if(t)return t.dataKey}),oM=te([Qu,d1,aM,m1],JD),FY=te([Za,Ja,Ot,Fn,ts,m1,oM,yh],ZD),HY=te([hp,FY],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),KY=te([hp],t=>t.active),GY=te([oM,Yf,fo,aD,sM,yh,d1],eM),YY=te([GY],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){WY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WY(t,e,n){return(e=XY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XY(t){var e=QY(t,"string");return typeof e=="symbol"?e:e+""}function QY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZY=()=>Oe(Nn),JY=()=>{var t=ZY(),e=Oe(ts),n=Oe(iM);return Mb(oC(oC({},t),{},{scale:n}),e)},lM=()=>Oe(G_),g1=(t,e)=>e,uM=(t,e,n)=>n,p1=(t,e,n,r)=>r,eW=te(ts,t=>zg(t,e=>e.coordinate)),y1=te([Qu,g1,uM,p1],QD),cM=te([y1,Zu],c1),tW=(t,e,n)=>{if(e!=null){var r=Qu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},fM=te([Qu,g1,uM,p1],JD),cg=te([Za,Ja,Ot,Fn,ts,p1,fM,yh],ZD),nW=te([y1,cg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),hM=te(ts,cM,GD),rW=te([fM,cM,fo,aD,hM,yh,g1],eM),iW=te([y1],t=>({isActive:t.active,activeIndex:t.index})),aW=(t,e,n,r,a,o,l,c)=>{if(!(!t||!e||!r||!a||!o)){var h=Nq(t.chartX,t.chartY,e,n,c);if(h){var d=Rq(h,e),m=bq(d,l,o,r,a),y=Iq(e,o,m,h);return{activeIndex:String(m),activeCoordinate:y}}}};function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(null,arguments)}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){sW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sW(t,e,n){return(e=oW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oW(t){var e=lW(t,"string");return typeof e=="symbol"?e:e+""}function lW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uW(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:h,chartName:d}=t,m=e,y=n,b=r;if(!c||!m||d!=="ScatterChart"&&h!=="axis")return null;var _,E;if(d==="ScatterChart")_=m,E=E$;else if(d==="BarChart")_=T$(l,m,a,o),E=tF;else if(l==="radial"){var{cx:S,cy:T,radius:I,startAngle:D,endAngle:L}=nP(m);_={cx:S,cy:T,startAngle:D,endAngle:L,innerRadius:I,outerRadius:I},E=aF}else _={points:sF(l,m,a)},E=mm;var B=typeof c=="object"&&"className"in c?c.className:void 0,q=Jd(Jd(Jd(Jd({stroke:"#ccc",pointerEvents:"none"},a),_),$n(c,!1)),{},{payload:y,payloadIndex:b,className:Ct("recharts-tooltip-cursor",B)});return C.isValidElement(c)?C.cloneElement(c,q):C.createElement(E,q)}function cW(t){var e=JY(),n=KR(),r=x_(),a=lM();return C.createElement(uW,tx({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var dM=C.createContext(null),fW=()=>C.useContext(dM),j0={exports:{}},uC;function hW(){return uC||(uC=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function o(h,d,m,y,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new a(m,y||h,b),E=n?n+d:d;return h._events[E]?h._events[E].fn?h._events[E]=[h._events[E],_]:h._events[E].push(_):(h._events[E]=_,h._eventsCount++),h}function l(h,d){--h._eventsCount===0?h._events=new r:delete h._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,y;if(this._eventsCount===0)return d;for(y in m=this._events)e.call(m,y)&&d.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d){var m=n?n+d:d,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var b=0,_=y.length,E=new Array(_);b<_;b++)E[b]=y[b].fn;return E},c.prototype.listenerCount=function(d){var m=n?n+d:d,y=this._events[m];return y?y.fn?1:y.length:0},c.prototype.emit=function(d,m,y,b,_,E){var S=n?n+d:d;if(!this._events[S])return!1;var T=this._events[S],I=arguments.length,D,L;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),I){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,y),!0;case 4:return T.fn.call(T.context,m,y,b),!0;case 5:return T.fn.call(T.context,m,y,b,_),!0;case 6:return T.fn.call(T.context,m,y,b,_,E),!0}for(L=1,D=new Array(I-1);L<I;L++)D[L-1]=arguments[L];T.fn.apply(T.context,D)}else{var B=T.length,q;for(L=0;L<B;L++)switch(T[L].once&&this.removeListener(d,T[L].fn,void 0,!0),I){case 1:T[L].fn.call(T[L].context);break;case 2:T[L].fn.call(T[L].context,m);break;case 3:T[L].fn.call(T[L].context,m,y);break;case 4:T[L].fn.call(T[L].context,m,y,b);break;default:if(!D)for(q=1,D=new Array(I-1);q<I;q++)D[q-1]=arguments[q];T[L].fn.apply(T[L].context,D)}}return!0},c.prototype.on=function(d,m,y){return o(this,d,m,y,!1)},c.prototype.once=function(d,m,y){return o(this,d,m,y,!0)},c.prototype.removeListener=function(d,m,y,b){var _=n?n+d:d;if(!this._events[_])return this;if(!m)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===m&&(!b||E.once)&&(!y||E.context===y)&&l(this,_);else{for(var S=0,T=[],I=E.length;S<I;S++)(E[S].fn!==m||b&&!E[S].once||y&&E[S].context!==y)&&T.push(E[S]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(j0)),j0.exports}var dW=hW();const mW=so(dW);var Wf=new mW,nx="recharts.syncEvent.tooltip",cC="recharts.syncEvent.brush";function gW(t,e){if(e){var n=Number.parseInt(e,10);if(!mr(n))return t?.[n]}}var pW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mM=Br({name:"options",initialState:pW,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yW=mM.reducer,{createEventEmitter:vW}=mM.actions;function bW(t){return t.tooltip.syncInteraction}var xW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gM=Br({name:"chartData",initialState:xW,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:fC,setDataStartEndIndexes:_W,setComputedData:hte}=gM.actions,wW=gM.reducer,EW=["x","y"];function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){TW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TW(t,e,n){return(e=AW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AW(t){var e=SW(t,"string");return typeof e=="symbol"?e:e+""}function SW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kW(t,e){if(t==null)return{};var n,r,a=CW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function CW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pM=()=>{};function OW(){var t=Oe(Y_),e=Oe(W_),n=rr(),r=Oe(JP),a=Oe(ts),o=x_(),l=Xg(),c=Oe(h=>h.rootProps.className);C.useEffect(()=>{if(t==null)return pM;var h=(d,m,y)=>{if(e!==y&&t===d){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate){var _=m.payload.coordinate,{x:E,y:S}=_,T=kW(_,EW),I=$o($o($o({},T),typeof E=="number"&&{x:Math.max(l.x,Math.min(E,l.x+l.width))}),typeof S=="number"&&{y:Math.max(l.y,Math.min(S,l.y+l.height))}),D=$o($o({},m),{},{payload:$o($o({},m.payload),{},{coordinate:I})});n(D)}else n(m);return}if(a!=null){var L;if(typeof r=="function"){var B={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},q=r(a,B);L=a[q]}else r==="value"&&(L=a.find(V=>String(V.value)===m.payload.label));var{coordinate:F}=m.payload;if(L==null||m.payload.active===!1||F==null||l==null){n(Jb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:O}=F,P=Math.min(R,l.x+l.width),U=Math.min(O,l.y+l.height),j={x:o==="horizontal"?L.coordinate:P,y:o==="horizontal"?U:L.coordinate},z=Jb({active:m.payload.active,coordinate:j,dataKey:m.payload.dataKey,index:String(L.index),label:m.payload.label});n(z)}}};return Wf.on(nx,h),()=>{Wf.off(nx,h)}},[c,n,e,t,r,a,o,l])}function NW(){var t=Oe(Y_),e=Oe(W_),n=rr();C.useEffect(()=>{if(t==null)return pM;var r=(a,o,l)=>{e!==l&&t===a&&n(_W(o))};return Wf.on(cC,r),()=>{Wf.off(cC,r)}},[n,e,t])}function IW(){var t=rr();C.useEffect(()=>{t(vW())},[t]),OW(),NW()}function RW(t,e,n,r,a,o){var l=Oe(b=>tW(b,t,e)),c=Oe(W_),h=Oe(Y_),d=Oe(JP),m=Oe(bW),y=m?.active;C.useEffect(()=>{if(!y&&h!=null&&c!=null){var b=Jb({active:o,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r});Wf.emit(nx,h,b,c)}},[y,n,l,a,r,c,h,d,o])}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return(e=DW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DW(t){var e=MW(t,"string");return typeof e=="symbol"?e:e+""}function MW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jW(t){return t.dataKey}function LW(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(t$,e)}var gC=[],VW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Hu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function UW(t){var e=di(t,VW),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:h,offset:d,payloadUniqBy:m,position:y,reverseDirection:b,useTranslate3d:_,wrapperStyle:E,cursor:S,shared:T,trigger:I,defaultIndex:D,portal:L,axisId:B}=e,q=rr(),F=typeof D=="number"?String(D):D;C.useEffect(()=>{q(sY({shared:T,trigger:I,axisId:B,active:n,defaultIndex:F}))},[q,T,I,B,n,F]);var R=Xg(),O=XR(),P=tY(T),{activeIndex:U,isActive:j}=Oe(Ie=>iW(Ie,P,I,F)),z=Oe(Ie=>rW(Ie,P,I,F)),V=Oe(Ie=>hM(Ie,P,I,F)),pe=Oe(Ie=>nW(Ie,P,I,F)),ve=z,Z=fW(),ue=n??j,[ge,Te]=lB([ve,ue]),H=P==="axis"?V:void 0;RW(P,I,pe,H,U,ue);var ie=L??Z;if(ie==null)return null;var ae=ve??gC;ue||(ae=gC),c&&ae.length&&(ae=D8(ve.filter(Ie=>Ie.value!=null&&(Ie.hide!==!0||e.includeHidden)),m,jW));var he=ae.length>0,Ee=C.createElement(l$,{allowEscapeViewBox:r,animationDuration:a,animationEasing:o,isAnimationActive:h,active:ue,coordinate:pe,hasPayload:he,offset:d,position:y,reverseDirection:b,useTranslate3d:_,viewBox:R,wrapperStyle:E,lastBoundingBox:ge,innerRef:Te,hasPortalFromProps:!!L},LW(l,mC(mC({},e),{},{payload:ae,label:H,active:ue,coordinate:pe,accessibilityLayer:O})));return C.createElement(C.Fragment,null,K7.createPortal(Ee,ie),ue&&C.createElement(cW,{cursor:S,tooltipEventType:P,coordinate:pe,payload:ve,index:U}))}var L0={},V0={},U0={},pC;function zW(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:o}={}){let l,c=null;const h=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},y=()=>{d&&m(),S()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,y()},r)},E=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{E(),l=void 0,c=null},T=()=>{m()},I=function(...D){if(a?.aborted)return;l=this,c=D;const L=b==null;_(),h&&L&&m()};return I.schedule=_,I.cancel=S,I.flush=T,a?.addEventListener("abort",S,{once:!0}),I}t.debounce=e})(U0)),U0}var yC;function BW(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zW();function n(r,a=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:h}=o,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let m,y=null;const b=e.debounce(function(...S){m=r.apply(this,S),y=null},a,{edges:d}),_=function(...S){return h!=null&&(y===null&&(y=Date.now()),Date.now()-y>=h)?(m=r.apply(this,S),y=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,S),m)},E=()=>(b.flush(),m);return _.cancel=b.cancel,_.flush=E,_}t.debounce=n})(V0)),V0}var vC;function qW(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BW();function n(r,a=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(r,a,{leading:l,maxWait:a,trailing:c})}t.throttle=n})(L0)),L0}var z0,bC;function $W(){return bC||(bC=1,z0=qW().throttle),z0}var FW=$W();const HW=so(FW);var Af=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]};function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function B0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){KW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KW(t,e,n){return(e=GW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GW(t){var e=YW(t,"string");return typeof e=="symbol"?e:e+""}function YW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WW=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:l=0,minHeight:c,maxHeight:h,children:d,debounce:m=0,id:y,className:b,onResize:_,style:E={}}=t,S=C.useRef(null),T=C.useRef();T.current=_,C.useImperativeHandle(e,()=>S.current);var[I,D]=C.useState({containerWidth:r.width,containerHeight:r.height}),L=C.useCallback((q,F)=>{D(R=>{var O=Math.round(q),P=Math.round(F);return R.containerWidth===O&&R.containerHeight===P?R:{containerWidth:O,containerHeight:P}})},[]);C.useEffect(()=>{var q=P=>{var U,{width:j,height:z}=P[0].contentRect;L(j,z),(U=T.current)===null||U===void 0||U.call(T,j,z)};m>0&&(q=HW(q,m,{trailing:!0,leading:!1}));var F=new ResizeObserver(q),{width:R,height:O}=S.current.getBoundingClientRect();return L(R,O),F.observe(S.current),()=>{F.disconnect()}},[L,m]);var B=C.useMemo(()=>{var{containerWidth:q,containerHeight:F}=I;if(q<0||F<0)return null;Af(Xo(a)||Xo(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,o),Af(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Xo(a)?q:a,O=Xo(o)?F:o;return n&&n>0&&(R?O=R/n:O&&(R=O*n),h&&O>h&&(O=h)),Af(R>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,O,a,o,l,c,n),C.Children.map(d,P=>C.cloneElement(P,{width:R,height:O,style:B0({width:R,height:O},P.props.style)}))},[n,d,o,h,c,l,I,a]);return C.createElement("div",{id:y?"".concat(y):void 0,className:Ct("recharts-responsive-container",b),style:B0(B0({},E),{},{width:a,height:o,minWidth:l,minHeight:c,maxHeight:h}),ref:S},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},B))});function XW(t,e,n){return(e=QW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QW(t){var e=ZW(t,"string");return typeof e=="symbol"?e:e+""}function ZW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class JW{constructor(e){XW(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function eX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iX={cacheSize:2e3,enableCache:!0},yM=eX({},iX),wC=new JW(yM.cacheSize),aX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EC="recharts_measurement_span";function sX(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(l,"|").concat(c)}var TC=(t,e)=>{try{var n=document.getElementById(EC);n||(n=document.createElement("span"),n.setAttribute("id",EC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,aX,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Sf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hu.isSsr)return{width:0,height:0};if(!yM.enableCache)return TC(e,n);var r=sX(e,n),a=wC.get(r);if(a)return a;var o=TC(e,n);return wC.set(r,o),o},AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uX=Object.keys(vM),mu="NaN";function cX(t,e){return t*vM[e]}class xr{static parse(e){var n,[,r,a]=(n=lX.exec(e))!==null&&n!==void 0?n:[];return new xr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,mr(e)&&(this.unit=""),n!==""&&!oX.test(n)&&(this.num=NaN,this.unit=""),uX.includes(n)&&(this.num=cX(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new xr(NaN,""):new xr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new xr(NaN,""):new xr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xr(NaN,""):new xr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xr(NaN,""):new xr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mr(this.num)}}function bM(t){if(t.includes(mu))return mu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,o]=(n=AC.exec(e))!==null&&n!==void 0?n:[],l=xr.parse(r??""),c=xr.parse(o??""),h=a==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return mu;e=e.replace(AC,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,y,b]=(d=SC.exec(e))!==null&&d!==void 0?d:[],_=xr.parse(m??""),E=xr.parse(b??""),S=y==="+"?_.add(E):_.subtract(E);if(S.isNaN())return mu;e=e.replace(SC,S.toString())}return e}var kC=/\(([^()]*)\)/;function fX(t){for(var e=t,n;(n=kC.exec(e))!=null;){var[,r]=n;e=e.replace(kC,bM(r))}return e}function hX(t){var e=t.replace(/\s+/g,"");return e=fX(e),e=bM(e),e}function dX(t){try{return hX(t)}catch{return mu}}function q0(t){var e=dX(t.slice(5,-1));return e===mu?"":e}var mX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gX=["dx","dy","angle","className","breakAll"];function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(null,arguments)}function CC(t,e){if(t==null)return{};var n,r,a=pX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function pX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xM=/[ \f\n\r\t\v\u2028\u2029]+/,_M=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];Bn(e)||(n?a=e.toString().split(""):a=e.toString().split(xM));var o=a.map(c=>({word:c,width:Sf(c,r).width})),l=n?0:Sf("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},yX=(t,e,n,r,a)=>{var{maxLines:o,children:l,style:c,breakAll:h}=t,d=Ne(o),m=l,y=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((z,V)=>{var{word:pe,width:ve}=V,Z=z[z.length-1];if(Z&&(r==null||a||Z.width+ve+n<Number(r)))Z.words.push(pe),Z.width+=ve+n;else{var ue={words:[pe],width:ve};z.push(ue)}return z},[])},b=y(e),_=U=>U.reduce((j,z)=>j.width>z.width?j:z);if(!d||a)return b;var E=b.length>o||_(b).width>Number(r);if(!E)return b;for(var S="",T=U=>{var j=m.slice(0,U),z=_M({breakAll:h,style:c,children:j+S}).wordsWithComputedWidth,V=y(z),pe=V.length>o||_(V).width>Number(r);return[pe,V]},I=0,D=m.length-1,L=0,B;I<=D&&L<=m.length-1;){var q=Math.floor((I+D)/2),F=q-1,[R,O]=T(F),[P]=T(q);if(!R&&!P&&(I=q+1),R&&P&&(D=q-1),!R&&P){B=O;break}L++}return B||b},OC=t=>{var e=Bn(t)?[]:t.toString().split(xM);return[{words:e}]},vX=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:o,maxLines:l}=t;if((e||n)&&!Hu.isSsr){var c,h,d=_M({breakAll:o,children:r,style:a});if(d){var{wordsWithComputedWidth:m,spaceWidth:y}=d;c=m,h=y}else return OC(r);return yX({breakAll:o,children:r,maxLines:l,style:a},c,h,e,n)}return OC(r)},NC="#808080",v1=C.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:h="end",fill:d=NC}=t,m=CC(t,mX),y=C.useMemo(()=>vX({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:b,dy:_,angle:E,className:S,breakAll:T}=m,I=CC(m,gX);if(!ci(n)||!ci(r)||y.length===0)return null;var D=n+(Ne(b)?b:0),L=r+(Ne(_)?_:0),B;switch(h){case"start":B=q0("calc(".concat(o,")"));break;case"middle":B=q0("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:B=q0("calc(".concat(y.length-1," * -").concat(a,")"));break}var q=[];if(l){var F=y[0].width,{width:R}=m;q.push("scale(".concat(Ne(R)?R/F:1,")"))}return E&&q.push("rotate(".concat(E,", ").concat(D,", ").concat(L,")")),q.length&&(I.transform=q.join(" ")),C.createElement("text",rx({},$n(I,!0),{ref:e,x:D,y:L,className:Ct("recharts-text",S),textAnchor:c,fill:d.includes("url")?NC:d}),y.map((O,P)=>{var U=O.words.join(T?"":" ");return C.createElement("tspan",{x:D,dy:P===0?B:a,key:"".concat(U,"-").concat(P)},U)}))});v1.displayName="Text";var bX=["labelRef"];function xX(t,e){if(t==null)return{};var n,r,a=_X(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _X(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){wX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wX(t,e,n){return(e=EX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EX(t){var e=TX(t,"string");return typeof e=="symbol"?e:e+""}function TX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ra.apply(null,arguments)}var wM=C.createContext(null),EM=t=>{var{x:e,y:n,width:r,height:a,children:o}=t,l=C.useMemo(()=>({x:e,y:n,width:r,height:a}),[e,n,r,a]);return C.createElement(wM.Provider,{value:l},o)},TM=()=>{var t=C.useContext(wM),e=Xg();return t||e},AX=C.createContext(null),SX=()=>{var t=C.useContext(AX),e=Oe(iD);return t||e},kX=t=>{var{value:e,formatter:n}=t,r=Bn(t.children)?e:t.children;return typeof n=="function"?n(r):r},b1=t=>t!=null&&typeof t=="function",CX=(t,e)=>{var n=li(e-t),r=Math.min(Math.abs(e-t),360);return n*r},OX=(t,e,n,r,a)=>{var{offset:o,className:l}=t,{cx:c,cy:h,innerRadius:d,outerRadius:m,startAngle:y,endAngle:b,clockWise:_}=a,E=(d+m)/2,S=CX(y,b),T=S>=0?1:-1,I,D;switch(e){case"insideStart":I=y+T*o,D=_;break;case"insideEnd":I=b-T*o,D=!_;break;case"end":I=b+T*o,D=_;break;default:throw new Error("Unsupported position ".concat(e))}D=S<=0?D:!D;var L=zn(c,h,E,I),B=zn(c,h,E,I+(D?1:-1)*359),q="M".concat(L.x,",").concat(L.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(D?0:1,`,
    `).concat(B.x,",").concat(B.y),F=Bn(t.id)?Uf("recharts-radial-line-"):t.id;return C.createElement("text",Ra({},r,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:F,d:q})),C.createElement("textPath",{xlinkHref:"#".concat(F)},n))},NX=(t,e,n)=>{var{cx:r,cy:a,innerRadius:o,outerRadius:l,startAngle:c,endAngle:h}=t,d=(c+h)/2;if(n==="outside"){var{x:m,y}=zn(r,a,l+e,d);return{x:m,y,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(o+l)/2,{x:_,y:E}=zn(r,a,b,d);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},AM=t=>"cx"in t&&Ne(t.cx),IX=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,o;n!=null&&!AM(n)&&(o=n);var{x:l,y:c,width:h,height:d}=e,m=d>=0?1:-1,y=m*r,b=m>0?"end":"start",_=m>0?"start":"end",E=h>=0?1:-1,S=E*r,T=E>0?"end":"start",I=E>0?"start":"end";if(a==="top"){var D={x:l+h/2,y:c-m*r,textAnchor:"middle",verticalAnchor:b};return Jt(Jt({},D),o?{height:Math.max(c-o.y,0),width:h}:{})}if(a==="bottom"){var L={x:l+h/2,y:c+d+y,textAnchor:"middle",verticalAnchor:_};return Jt(Jt({},L),o?{height:Math.max(o.y+o.height-(c+d),0),width:h}:{})}if(a==="left"){var B={x:l-S,y:c+d/2,textAnchor:T,verticalAnchor:"middle"};return Jt(Jt({},B),o?{width:Math.max(B.x-o.x,0),height:d}:{})}if(a==="right"){var q={x:l+h+S,y:c+d/2,textAnchor:I,verticalAnchor:"middle"};return Jt(Jt({},q),o?{width:Math.max(o.x+o.width-q.x,0),height:d}:{})}var F=o?{width:h,height:d}:{};return a==="insideLeft"?Jt({x:l+S,y:c+d/2,textAnchor:I,verticalAnchor:"middle"},F):a==="insideRight"?Jt({x:l+h-S,y:c+d/2,textAnchor:T,verticalAnchor:"middle"},F):a==="insideTop"?Jt({x:l+h/2,y:c+y,textAnchor:"middle",verticalAnchor:_},F):a==="insideBottom"?Jt({x:l+h/2,y:c+d-y,textAnchor:"middle",verticalAnchor:b},F):a==="insideTopLeft"?Jt({x:l+S,y:c+y,textAnchor:I,verticalAnchor:_},F):a==="insideTopRight"?Jt({x:l+h-S,y:c+y,textAnchor:T,verticalAnchor:_},F):a==="insideBottomLeft"?Jt({x:l+S,y:c+d-y,textAnchor:I,verticalAnchor:b},F):a==="insideBottomRight"?Jt({x:l+h-S,y:c+d-y,textAnchor:T,verticalAnchor:b},F):a&&typeof a=="object"&&(Ne(a.x)||Xo(a.x))&&(Ne(a.y)||Xo(a.y))?Jt({x:l+io(a.x,h),y:c+io(a.y,d),textAnchor:"end",verticalAnchor:"end"},F):Jt({x:l+h/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},F)},RX={offset:5};function Ls(t){var e=di(t,RX),{viewBox:n,position:r,value:a,children:o,content:l,className:c="",textBreakAll:h,labelRef:d}=e,m=SX(),y=TM(),b=r==="center"?y:m??y,_=n||b;if(!_||Bn(a)&&Bn(o)&&!C.isValidElement(l)&&typeof l!="function")return null;var E=Jt(Jt({},e),{},{viewBox:_});if(C.isValidElement(l)){var{labelRef:S}=E,T=xX(E,bX);return C.cloneElement(l,T)}var I;if(typeof l=="function"){if(I=C.createElement(l,E),C.isValidElement(I))return I}else I=kX(e);var D=AM(_),L=$n(e,!0);if(D&&(r==="insideStart"||r==="insideEnd"||r==="end"))return OX(e,r,I,L,_);var B=D?NX(_,e.offset,e.position):IX(e,_);return C.createElement(v1,Ra({ref:d,className:Ct("recharts-label",c)},L,B,{breakAll:h}),I)}Ls.displayName="Label";var PX=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(Ls,Ra({key:"label-implicit"},r)):ci(t)?C.createElement(Ls,Ra({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===Ls?C.cloneElement(t,Jt({key:"label-implicit"},r)):C.createElement(Ls,Ra({key:"label-implicit",content:t},r)):b1(t)?C.createElement(Ls,Ra({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(Ls,Ra({},t,{key:"label-implicit"},r)):null};function SM(t){var{label:e}=t,n=TM();return PX(e,n)||null}var $0={},F0={},RC;function DX(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(F0)),F0}var H0={},PC;function MX(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(H0)),H0}var DC;function jX(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DX(),n=MX(),r=h_();function a(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=a})($0)),$0}var K0,MC;function LX(){return MC||(MC=1,K0=jX().last),K0}var VX=LX();const UX=so(VX);var zX=["valueAccessor"],BX=["dataKey","clockWise","id","textBreakAll"];function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(null,arguments)}function jC(t,e){if(t==null)return{};var n,r,a=qX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $X=t=>Array.isArray(t.value)?UX(t.value):t.value,kM=C.createContext(void 0),FX=kM.Provider,CM=C.createContext(void 0);CM.Provider;function HX(){return C.useContext(kM)}function KX(){return C.useContext(CM)}function gm(t){var{valueAccessor:e=$X}=t,n=jC(t,zX),{dataKey:r,clockWise:a,id:o,textBreakAll:l}=n,c=jC(n,BX),h=HX(),d=KX(),m=h||d;return!m||!m.length?null:C.createElement(ra,{className:"recharts-label-list"},m.map((y,b)=>{var _,E=Bn(r)?e(y,b):dr(y&&y.payload,r),S=Bn(o)?{}:{id:"".concat(o,"-").concat(b)};return C.createElement(Ls,fg({},$n(y,!0),c,S,{fill:(_=n.fill)!==null&&_!==void 0?_:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,key:"label-".concat(b),index:b}))}))}gm.displayName="LabelList";function GX(t){var{label:e}=t;return e?e===!0?C.createElement(gm,{key:"labelList-implicit"}):C.isValidElement(e)||b1(e)?C.createElement(gm,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(gm,fg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}var OM=t=>{var{cx:e,cy:n,r,className:a}=t,o=Ct("recharts-dot",a);return e===+e&&n===+n&&r===+r?C.createElement("circle",ix({},lo(t),c_(t),{className:o,cx:e,cy:n,r})):null},YX={radiusAxis:{},angleAxis:{}},NM=Br({name:"polarAxis",initialState:YX,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:dte,removeRadiusAxis:mte,addAngleAxis:gte,removeAngleAxis:pte}=NM.actions,WX=NM.reducer;function XX(t){var{fn:e,args:n}=t,r=rr(),a=qr();return C.useEffect(()=>{if(!a){var o=e(n);return r(iY(o)),()=>{r(aY(o))}}},[e,n,r,a]),null}var QX=()=>{};function ZX(t){var{legendPayload:e}=t,n=rr(),r=qr();return C.useEffect(()=>r?QX:(n(Yq(e)),()=>{n(Wq(e))}),[n,r,e]),null}var G0,JX=()=>{var[t]=C.useState(()=>Uf("uid-"));return t},eQ=(G0=K4.useId)!==null&&G0!==void 0?G0:JX;function tQ(t,e){var n=eQ();return e||(t?"".concat(t,"-").concat(n):n)}var nQ=C.createContext(void 0),rQ=t=>{var{id:e,type:n,children:r}=t,a=tQ("recharts-".concat(n),e);return C.createElement(nQ.Provider,{value:a},r(a))},iQ={cartesianItems:[],polarItems:[]},IM=Br({name:"graphicalItems",initialState:iQ,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,a=Ua(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},removeCartesianGraphicalItem(t,e){var n=Ua(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ua(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:aQ,replaceCartesianGraphicalItem:sQ,removeCartesianGraphicalItem:oQ,addPolarGraphicalItem:yte,removePolarGraphicalItem:vte}=IM.actions,lQ=IM.reducer;function uQ(t){var e=rr(),n=C.useRef(null);return C.useEffect(()=>{n.current===null?e(aQ(t)):n.current!==t&&e(sQ({prev:n.current,next:t})),n.current=t},[e,t]),C.useEffect(()=>()=>{n.current&&(e(oQ(n.current)),n.current=null)},[e]),null}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){cQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cQ(t,e,n){return(e=fQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=hQ(t,"string");return typeof e=="symbol"?e:e+""}function hQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dQ={xAxis:{},yAxis:{},zAxis:{}},RM=Br({name:"cartesianAxis",initialState:dQ,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=VC(VC({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:mQ,removeXAxis:gQ,addYAxis:pQ,removeYAxis:yQ,addZAxis:bte,removeZAxis:xte,updateYAxisWidth:vQ}=RM.actions,bQ=RM.reducer,xQ=te([Fn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),_Q=te([xQ,Za,Ja],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),x1=()=>Oe(_Q),wQ=()=>Oe(YY);function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){EQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EQ(t,e,n){return(e=TQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TQ(t){var e=AQ(t,"string");return typeof e=="symbol"?e:e+""}function AQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SQ=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:o}=t;if(a===!1||e.x==null||e.y==null)return null;var l=zC(zC({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},$n(a,!1)),c_(a)),c;return C.isValidElement(a)?c=C.cloneElement(a,l):typeof a=="function"?c=a(l):c=C.createElement(OM,l),C.createElement(ra,{className:"recharts-active-dot"},c)};function BC(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a}=t,o=Oe(Yf),l=wQ();if(e==null||l==null)return null;var c=e.find(h=>l.includes(h.payload));return Bn(c)?null:SQ({point:c,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:r})}var kQ={},PM=Br({name:"errorBars",initialState:kQ,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?a:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:_te,replaceErrorBar:wte,removeErrorBar:Ete}=PM.actions,CQ=PM.reducer;function DM(t,e){var n,r,a=Oe(d=>aa(d,t)),o=Oe(d=>sa(d,e)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Dr.allowDataOverflow,c=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Mr.allowDataOverflow,h=l||c;return{needClip:h,needClipX:l,needClipY:c}}function OQ(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=x1(),{needClipX:o,needClipY:l,needClip:c}=DM(e,n);if(!c)return null;var{x:h,y:d,width:m,height:y}=a;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?h:h-m/2,y:l?d:d-y/2,width:o?m:m*2,height:l?y:y*2}))}var NQ=t=>{var{chartData:e}=t,n=rr(),r=qr();return C.useEffect(()=>r?()=>{}:(n(fC(e)),()=>{n(fC(void 0))}),[e,n,r]),null},qC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MM=Br({name:"brush",initialState:qC,reducers:{setBrushSettings(t,e){return e.payload==null?qC:e.payload}}}),{setBrushSettings:Tte}=MM.actions,IQ=MM.reducer;function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){jM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jM(t,e,n){return(e=RQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DQ=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return{x:Math.min(n,a),y:Math.min(r,o),width:Math.abs(a-n),height:Math.abs(o-r)}},MQ=t=>{var{x1:e,y1:n,x2:r,y2:a}=t;return DQ({x:e,y:n},{x:r,y:a})};class dp{static create(e){return new dp(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}jM(dp,"EPS",1e-4);var jQ=t=>{var e=Object.keys(t).reduce((n,r)=>em(em({},n),{},{[r]:dp.create(t[r])}),{});return em(em({},e),{},{apply(n){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(o=>{var[l,c]=o;return[l,e[l].apply(c,{bandAware:r,position:a})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function LQ(t){return(t%180+180)%180}var VQ=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=LQ(a),l=o*Math.PI/180,c=Math.atan(r/n),h=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},UQ={dots:[],areas:[],lines:[]},LM=Br({name:"referenceElements",initialState:UQ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ua(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ua(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ua(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Ate,removeDot:Ste,addArea:kte,removeArea:Cte,addLine:zQ,removeLine:BQ}=LM.actions,qQ=LM.reducer,VM=C.createContext(void 0),$Q=t=>{var{children:e}=t,[n]=C.useState("".concat(Uf("recharts"),"-clip")),r=x1();if(r==null)return null;var{x:a,y:o,width:l,height:c}=r;return C.createElement(VM.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:a,y:o,height:c,width:l}))),e)},FQ=()=>C.useContext(VM);function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function HC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){_1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _1(t,e,n){return(e=HQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=KQ(t,"string");return typeof e=="symbol"?e:e+""}function KQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(null,arguments)}var GQ=(t,e)=>{var n;return C.isValidElement(t)?n=C.cloneElement(t,e):typeof t=="function"?n=t(e):n=C.createElement("line",ax({},e,{className:"recharts-reference-line-line"})),n},YQ=(t,e,n,r,a,o,l,c,h)=>{var{x:d,y:m,width:y,height:b}=a;if(n){var{y:_}=h,E=t.y.apply(_,{position:o});if(mr(E)||h.ifOverflow==="discard"&&!t.y.isInRange(E))return null;var S=[{x:d+y,y:E},{x:d,y:E}];return c==="left"?S.reverse():S}if(e){var{x:T}=h,I=t.x.apply(T,{position:o});if(mr(I)||h.ifOverflow==="discard"&&!t.x.isInRange(I))return null;var D=[{x:I,y:m+b},{x:I,y:m}];return l==="top"?D.reverse():D}if(r){var{segment:L}=h,B=L.map(q=>t.apply(q,{position:o}));return h.ifOverflow==="discard"&&B.some(q=>!t.isInRange(q))?null:B}return null};function WQ(t){var e=rr();return C.useEffect(()=>(e(zQ(t)),()=>{e(BQ(t))})),null}function XQ(t){var{x:e,y:n,segment:r,xAxisId:a,yAxisId:o,shape:l,className:c,ifOverflow:h}=t,d=qr(),m=FQ(),y=Oe(j=>aa(j,a)),b=Oe(j=>sa(j,o)),_=Oe(j=>ao(j,"xAxis",a,d)),E=Oe(j=>ao(j,"yAxis",o,d)),S=Xg(),T=ci(e),I=ci(n);if(!m||!S||y==null||b==null||_==null||E==null)return null;var D=jQ({x:_,y:E}),L=r&&r.length===2,B=YQ(D,T,I,L,S,t.position,y.orientation,b.orientation,t);if(!B)return null;var[{x:q,y:F},{x:R,y:O}]=B,P=h==="hidden"?"url(#".concat(m,")"):void 0,U=HC(HC({clipPath:P},$n(t,!0)),{},{x1:q,y1:F,x2:R,y2:O});return C.createElement(ra,{className:Ct("recharts-reference-line",c)},GQ(l,U),C.createElement(EM,MQ({x1:q,y1:F,x2:R,y2:O}),C.createElement(SM,{label:t.label}),t.children))}function QQ(t){return C.createElement(C.Fragment,null,C.createElement(WQ,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y}),C.createElement(XQ,t))}class w1 extends C.Component{render(){return C.createElement(QQ,this.props)}}_1(w1,"displayName","ReferenceLine");_1(w1,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Mu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function UM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function ZQ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return VQ(r,n)}function JQ(t,e,n){var r=n==="width",{x:a,y:o,width:l,height:c}=t;return e===1?{start:r?a:o,end:r?a+l:o+c}:{start:r?a+l:o+c,end:r?a:o}}function hg(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-a)<=0}function eZ(t,e){return UM(t,e+1)}function tZ(t,e,n,r,a){for(var o=(r||[]).slice(),{start:l,end:c}=e,h=0,d=1,m=l,y=function(){var E=r?.[h];if(E===void 0)return{v:UM(r,d)};var S=h,T,I=()=>(T===void 0&&(T=n(E,S)),T),D=E.coordinate,L=h===0||hg(t,D,I,m,c);L||(h=0,m=l,d+=1),L&&(m=D+t*(I()/2+a),h+=d)},b;d<=o.length;)if(b=y(),b)return b.v;return[]}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){nZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e,n){return(e=rZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=iZ(t,"string");return typeof e=="symbol"?e:e+""}function iZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aZ(t,e,n,r,a){for(var o=(r||[]).slice(),l=o.length,{start:c}=e,{end:h}=e,d=function(b){var _=o[b],E,S=()=>(E===void 0&&(E=n(_,b)),E);if(b===l-1){var T=t*(_.coordinate+t*S()/2-h);o[b]=_=Zn(Zn({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else o[b]=_=Zn(Zn({},_),{},{tickCoord:_.coordinate});var I=hg(t,_.tickCoord,S,c,h);I&&(h=_.tickCoord-t*(S()/2+a),o[b]=Zn(Zn({},_),{},{isShow:!0}))},m=l-1;m>=0;m--)d(m);return o}function sZ(t,e,n,r,a,o){var l=(r||[]).slice(),c=l.length,{start:h,end:d}=e;if(o){var m=r[c-1],y=n(m,c-1),b=t*(m.coordinate+t*y/2-d);l[c-1]=m=Zn(Zn({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate});var _=hg(t,m.tickCoord,()=>y,h,d);_&&(d=m.tickCoord-t*(y/2+a),l[c-1]=Zn(Zn({},m),{},{isShow:!0}))}for(var E=o?c-1:c,S=function(D){var L=l[D],B,q=()=>(B===void 0&&(B=n(L,D)),B);if(D===0){var F=t*(L.coordinate-t*q()/2-h);l[D]=L=Zn(Zn({},L),{},{tickCoord:F<0?L.coordinate-F*t:L.coordinate})}else l[D]=L=Zn(Zn({},L),{},{tickCoord:L.coordinate});var R=hg(t,L.tickCoord,q,h,d);R&&(h=L.tickCoord+t*(q()/2+a),l[D]=Zn(Zn({},L),{},{isShow:!0}))},T=0;T<E;T++)S(T);return l}function E1(t,e,n){var{tick:r,ticks:a,viewBox:o,minTickGap:l,orientation:c,interval:h,tickFormatter:d,unit:m,angle:y}=t;if(!a||!a.length||!r)return[];if(Ne(h)||Hu.isSsr){var b;return(b=eZ(a,Ne(h)?h:0))!==null&&b!==void 0?b:[]}var _=[],E=c==="top"||c==="bottom"?"width":"height",S=m&&E==="width"?Sf(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(L,B)=>{var q=typeof d=="function"?d(L.value,B):L.value;return E==="width"?ZQ(Sf(q,{fontSize:e,letterSpacing:n}),S,y):Sf(q,{fontSize:e,letterSpacing:n})[E]},I=a.length>=2?li(a[1].coordinate-a[0].coordinate):1,D=JQ(o,I,E);return h==="equidistantPreserveStart"?tZ(I,D,T,a,l):(h==="preserveStart"||h==="preserveStartEnd"?_=sZ(I,D,T,a,l,h==="preserveStartEnd"):_=aZ(I,D,T,a,l),_.filter(L=>L.isShow))}var oZ=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:o=0}=t,l=0;if(e){e.forEach(m=>{if(m){var y=m.getBoundingClientRect();y.width>l&&(l=y.width)}});var c=n?n.getBoundingClientRect().width:0,h=a+o,d=l+h+c+(n?r:0);return Math.round(d)}return 0},lZ=["axisLine","width","height","className","hide","ticks"],uZ=["viewBox"],cZ=["viewBox"];function sx(t,e){if(t==null)return{};var n,r,a=fZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(null,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return(e=dZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dZ(t){var e=mZ(t,"string");return typeof e=="symbol"?e:e+""}function mZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T1={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function gZ(t){var{x:e,y:n,width:r,height:a,orientation:o,mirror:l,axisLine:c,otherSvgProps:h}=t;if(!c)return null;var d=mn(mn(mn({},h),$n(c,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!l||o==="bottom"&&l);d=mn(mn({},d),{},{x1:e,y1:n+m*a,x2:e+r,y2:n+m*a})}else{var y=+(o==="left"&&!l||o==="right"&&l);d=mn(mn({},d),{},{x1:e+y*r,y1:n,x2:e+y*r,y2:n+a})}return C.createElement("line",dl({},d,{className:Ct("recharts-cartesian-axis-line",Lg(c,"className"))}))}function pZ(t,e,n,r,a,o,l,c,h){var d,m,y,b,_,E,S=c?-1:1,T=t.tickSize||l,I=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=m=t.coordinate,b=n+ +!c*a,y=b-S*T,E=y-S*h,_=I;break;case"left":y=b=t.coordinate,m=e+ +!c*r,d=m-S*T,_=d-S*h,E=I;break;case"right":y=b=t.coordinate,m=e+ +c*r,d=m+S*T,_=d+S*h,E=I;break;default:d=m=t.coordinate,b=n+ +c*a,y=b+S*T,E=y+S*h,_=I;break}return{line:{x1:d,y1:y,x2:m,y2:b},tick:{x:_,y:E}}}function yZ(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function vZ(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function bZ(t){var{option:e,tickProps:n,value:r}=t,a,o=Ct(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))a=C.cloneElement(e,mn(mn({},n),{},{className:o}));else if(typeof e=="function")a=e(mn(mn({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Ct(l,e?.className)),a=C.createElement(v1,dl({},n,{className:l}),r)}return a}function xZ(t){var{ticks:e=[],tick:n,tickLine:r,stroke:a,tickFormatter:o,unit:l,padding:c,tickTextProps:h,orientation:d,mirror:m,x:y,y:b,width:_,height:E,tickSize:S,tickMargin:T,fontSize:I,letterSpacing:D,getTicksConfig:L,events:B}=t,q=E1(mn(mn({},L),{},{ticks:e}),I,D),F=yZ(d,m),R=vZ(d,m),O=lo(L),P=$n(n,!1),U=mn(mn({},O),{},{fill:"none"},$n(r,!1)),j=q.map((z,V)=>{var{line:pe,tick:ve}=pZ(z,y,b,_,E,d,S,m,T),Z=mn(mn(mn(mn({textAnchor:F,verticalAnchor:R},O),{},{stroke:"none",fill:a},P),ve),{},{index:V,payload:z,visibleTicksCount:q.length,tickFormatter:o,padding:c},h);return C.createElement(ra,dl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},L7(B,z,V)),r&&C.createElement("line",dl({},U,pe,{className:Ct("recharts-cartesian-axis-tick-line",Lg(r,"className"))})),n&&C.createElement(bZ,{option:n,tickProps:Z,value:"".concat(typeof o=="function"?o(z.value,V):z.value).concat(l||"")}))});return j.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},j):null}var _Z=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:o,hide:l,ticks:c}=t,h=sx(t,lZ),[d,m]=C.useState(""),[y,b]=C.useState(""),_=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return oZ({ticks:_.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=C.useCallback(S=>{if(S){var T=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=Array.from(T);var I=T[0];if(I){var D=window.getComputedStyle(I),L=D.fontSize,B=D.letterSpacing;(L!==d||B!==y)&&(m(L),b(B))}}},[d,y]);return l||r!=null&&r<=0||a!=null&&a<=0?null:C.createElement(ra,{className:Ct("recharts-cartesian-axis",o),ref:E},C.createElement(gZ,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:lo(t)}),C.createElement(xZ,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:d,letterSpacing:y,getTicksConfig:t,events:h}),C.createElement(EM,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(SM,{label:t.label}),t.children))}),wZ=C.memo(_Z,(t,e)=>{var{viewBox:n}=t,r=sx(t,uZ),{viewBox:a}=e,o=sx(e,cZ);return Mu(n,a)&&Mu(r,o)}),A1=C.forwardRef((t,e)=>{var n=di(t,T1);return C.createElement(wZ,dl({},n,{ref:e}))});A1.displayName="CartesianAxis";var EZ=["x1","y1","x2","y2","key"],TZ=["offset"],AZ=["xAxisId","yAxisId"],SZ=["xAxisId","yAxisId"];function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){kZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kZ(t,e,n){return(e=CZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CZ(t){var e=OZ(t,"string");return typeof e=="symbol"?e:e+""}function OZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(null,arguments)}function dg(t,e){if(t==null)return{};var n,r,a=NZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function NZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var IZ=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:o,height:l,ry:c}=t;return C.createElement("rect",{x:r,y:a,ry:c,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zM(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:a,x2:o,y2:l,key:c}=e,h=dg(e,EZ),d=lo(h),{offset:m}=d,y=dg(d,TZ);n=C.createElement("line",Jo({},y,{x1:r,y1:a,x2:o,y2:l,fill:"none",key:c}))}return n}function RZ(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=dg(t,AZ),h=a.map((d,m)=>{var y=tr(tr({},c),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(m),index:m});return zM(r,y)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function PZ(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=dg(t,SZ),h=a.map((d,m)=>{var y=tr(tr({},c),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(m),index:m});return zM(r,y)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function DZ(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:o,height:l,horizontalPoints:c,horizontal:h=!0}=t;if(!h||!e||!e.length)return null;var d=c.map(y=>Math.round(y+a-a)).sort((y,b)=>y-b);a!==d[0]&&d.unshift(0);var m=d.map((y,b)=>{var _=!d[b+1],E=_?a+l-y:d[b+1]-y;if(E<=0)return null;var S=b%e.length;return C.createElement("rect",{key:"react-".concat(b),y,x:r,height:E,width:o,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function MZ(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:o,width:l,height:c,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var d=h.map(y=>Math.round(y+a-a)).sort((y,b)=>y-b);a!==d[0]&&d.unshift(0);var m=d.map((y,b)=>{var _=!d[b+1],E=_?a+l-y:d[b+1]-y;if(E<=0)return null;var S=b%n.length;return C.createElement("rect",{key:"react-".concat(b),x:y,y:o,width:E,height:c,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var jZ=(t,e)=>{var{xAxis:n,width:r,height:a,offset:o}=t;return BR(E1(tr(tr(tr({},T1),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,e)},LZ=(t,e)=>{var{yAxis:n,width:r,height:a,offset:o}=t;return BR(E1(tr(tr(tr({},T1),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,e)},VZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function BM(t){var e=GR(),n=YR(),r=KR(),a=tr(tr({},di(t,VZ)),{},{x:Ne(t.x)?t.x:r.left,y:Ne(t.y)?t.y:r.top,width:Ne(t.width)?t.width:r.width,height:Ne(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:c,y:h,width:d,height:m,syncWithTicks:y,horizontalValues:b,verticalValues:_}=a,E=qr(),S=Oe(P=>nC(P,"xAxis",o,E)),T=Oe(P=>nC(P,"yAxis",l,E));if(!Ne(d)||d<=0||!Ne(m)||m<=0||!Ne(c)||c!==+c||!Ne(h)||h!==+h)return null;var I=a.verticalCoordinatesGenerator||jZ,D=a.horizontalCoordinatesGenerator||LZ,{horizontalPoints:L,verticalPoints:B}=a;if((!L||!L.length)&&typeof D=="function"){var q=b&&b.length,F=D({yAxis:T?tr(tr({},T),{},{ticks:q?b:T.ticks}):void 0,width:e,height:n,offset:r},q?!0:y);Af(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(L=F)}if((!B||!B.length)&&typeof I=="function"){var R=_&&_.length,O=I({xAxis:S?tr(tr({},S),{},{ticks:R?_:S.ticks}):void 0,width:e,height:n,offset:r},R?!0:y);Af(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(B=O)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(IZ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(DZ,Jo({},a,{horizontalPoints:L})),C.createElement(MZ,Jo({},a,{verticalPoints:B})),C.createElement(RZ,Jo({},a,{offset:r,horizontalPoints:L,xAxis:S,yAxis:T})),C.createElement(PZ,Jo({},a,{offset:r,verticalPoints:B,xAxis:S,yAxis:T})))}BM.displayName="CartesianGrid";var qM=(t,e,n,r)=>$D(t,"xAxis",e,r),$M=(t,e,n,r)=>qD(t,"xAxis",e,r),FM=(t,e,n,r)=>$D(t,"yAxis",n,r),HM=(t,e,n,r)=>qD(t,"yAxis",n,r),UZ=te([Ot,qM,FM,$M,HM],(t,e,n,r,a)=>Qa(t,"xAxis")?Mb(e,r,!1):Mb(n,a,!1)),zZ=(t,e,n,r,a)=>a,KM=te([fD,zZ],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),BZ=(t,e,n,r,a)=>{var o,l=KM(t,e,n,r,a);if(l!=null){var c=Ot(t),h=Qa(c,"xAxis"),d;if(h?d=Zb(t,"yAxis",n,r):d=Zb(t,"xAxis",e,r),d!=null){var{stackId:m}=l,y=J_(l);if(!(m==null||y==null)){var b=(o=d[m])===null||o===void 0?void 0:o.stackedData;return b?.find(_=>_.key===y)}}}},qZ=te([Ot,qM,FM,$M,HM,BZ,F_,UZ,KM],(t,e,n,r,a,o,l,c,h)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:y}=l;if(!(h==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null)){var{data:b}=h,_;if(b&&b.length>0?_=b:_=d?.slice(m,y+1),_!=null){var E=void 0;return uJ({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:m,areaSettings:h,stackedData:o,displayedData:_,chartBaseValue:E,bandSize:c})}}}),$Z=["id"],FZ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function GM(t,e){if(t==null)return{};var n,r,a=HZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function HZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){KZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KZ(t,e,n){return(e=GZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GZ(t){var e=YZ(t,"string");return typeof e=="symbol"?e:e+""}function YZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(null,arguments)}function mg(t,e){return t&&t!=="none"?t:e}var WZ=t=>{var{dataKey:e,name:n,stroke:r,fill:a,legendType:o,hide:l}=t;return[{inactive:l,dataKey:e,type:o,color:mg(r,a),value:$R(n,e),payload:t}]};function XZ(t){var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:o,name:l,hide:c,unit:h}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:o,dataKey:e,nameKey:void 0,name:$R(l,e),hide:c,type:t.tooltipType,color:mg(r,o),unit:h}}}var QZ=(t,e)=>{var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Ct("recharts-area-dot",typeof t!="boolean"?t.className:"");n=C.createElement(OM,Ba({},e,{className:r}))}return n};function ZZ(t,e){return t==null?!1:e?!0:t.length===1}function JZ(t){var{clipPathId:e,points:n,props:r}=t,{needClip:a,dot:o,dataKey:l}=r;if(!ZZ(n,o))return null;var c=qI(o),h=lo(r),d=$n(o,!0),m=n.map((b,_)=>{var E=La(La(La({key:"dot-".concat(_),r:3},h),d),{},{index:_,cx:b.x,cy:b.y,dataKey:l,value:b.value,payload:b.payload,points:n});return QZ(o,E)}),y={clipPath:a?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return C.createElement(ra,Ba({className:"recharts-area-dots"},y),m)}function eJ(t){var{showLabels:e,children:n,points:r}=t,a=r.map(o=>{var l={x:o.x,y:o.y,width:0,height:0};return La(La({},l),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return C.createElement(FX,{value:e?a:null},n)}function XC(t){var{points:e,baseLine:n,needClip:r,clipPathId:a,props:o}=t,{layout:l,type:c,stroke:h,connectNulls:d,isRange:m}=o,{id:y}=o,b=GM(o,$Z),_=lo(b);return C.createElement(C.Fragment,null,e?.length>1&&C.createElement(ra,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},C.createElement(mm,Ba({},_,{id:y,points:e,connectNulls:d,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),h!=="none"&&C.createElement(mm,Ba({},_,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:e})),h!=="none"&&m&&C.createElement(mm,Ba({},_,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n}))),C.createElement(JZ,{points:e,props:b,clipPathId:a}))}function tJ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,o=r[0].y,l=r[r.length-1].y;if(!gr(o)||!gr(l))return null;var c=e*Math.abs(o-l),h=Math.max(...r.map(d=>d.x||0));return Ne(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(d=>d.x||0),h)),Ne(h)?C.createElement("rect",{x:0,y:o<l?o:o-c,width:h+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function nJ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,o=r[0].x,l=r[r.length-1].x;if(!gr(o)||!gr(l))return null;var c=e*Math.abs(o-l),h=Math.max(...r.map(d=>d.y||0));return Ne(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(d=>d.y||0),h)),Ne(h)?C.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(h+(a?parseInt("".concat(a),10):1))}):null}function rJ(t){var{alpha:e,layout:n,points:r,baseLine:a,strokeWidth:o}=t;return n==="vertical"?C.createElement(tJ,{alpha:e,points:r,baseLine:a,strokeWidth:o}):C.createElement(nJ,{alpha:e,points:r,baseLine:a,strokeWidth:o})}function iJ(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:o}=t,{points:l,baseLine:c,isAnimationActive:h,animationBegin:d,animationDuration:m,animationEasing:y,onAnimationStart:b,onAnimationEnd:_}=r,E=tP(r,"recharts-area-"),[S,T]=C.useState(!1),I=!S,D=C.useCallback(()=>{typeof _=="function"&&_(),T(!1)},[_]),L=C.useCallback(()=>{typeof b=="function"&&b(),T(!0)},[b]),B=a.current,q=o.current;return C.createElement(eJ,{showLabels:I,points:l},r.children,C.createElement(eP,{animationId:E,begin:d,duration:m,isActive:h,easing:y,onAnimationEnd:D,onAnimationStart:L,key:E},F=>{if(B){var R=B.length/l.length,O=F===1?l:l.map((U,j)=>{var z=Math.floor(j*R);if(B[z]){var V=B[z];return La(La({},U),{},{x:Ki(V.x,U.x,F),y:Ki(V.y,U.y,F)})}return U}),P;return Ne(c)?P=Ki(q,c,F):Bn(c)||mr(c)?P=Ki(q,0,F):P=c.map((U,j)=>{var z=Math.floor(j*R);if(Array.isArray(q)&&q[z]){var V=q[z];return La(La({},U),{},{x:Ki(V.x,U.x,F),y:Ki(V.y,U.y,F)})}return U}),F>0&&(a.current=O,o.current=P),C.createElement(XC,{points:O,baseLine:P,needClip:e,clipPathId:n,props:r})}return F>0&&(a.current=l,o.current=c),C.createElement(ra,null,h&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(n)},C.createElement(rJ,{alpha:F,points:l,baseLine:c,layout:r.layout,strokeWidth:r.strokeWidth}))),C.createElement(ra,{clipPath:"url(#animationClipPath-".concat(n,")")},C.createElement(XC,{points:l,baseLine:c,needClip:e,clipPathId:n,props:r})))}),C.createElement(GX,{label:r.label}))}function aJ(t){var{needClip:e,clipPathId:n,props:r}=t,a=C.useRef(null),o=C.useRef();return C.createElement(iJ,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:o})}class sJ extends C.PureComponent{render(){var e,{hide:n,dot:r,points:a,className:o,top:l,left:c,needClip:h,xAxisId:d,yAxisId:m,width:y,height:b,id:_,baseLine:E}=this.props;if(n)return null;var S=Ct("recharts-area",o),T=_,{r:I=3,strokeWidth:D=2}=(e=$n(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},L=qI(r),B=I*2+D;return C.createElement(C.Fragment,null,C.createElement(ra,{className:S},h&&C.createElement("defs",null,C.createElement(OQ,{clipPathId:T,xAxisId:d,yAxisId:m}),!L&&C.createElement("clipPath",{id:"clipPath-dots-".concat(T)},C.createElement("rect",{x:c-B/2,y:l-B/2,width:y+B,height:b+B}))),C.createElement(aJ,{needClip:h,clipPathId:T,props:this.props})),C.createElement(BC,{points:a,mainColor:mg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(E)&&C.createElement(BC,{points:E,mainColor:mg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var YM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Hu.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function oJ(t){var e,n=di(t,YM),{activeDot:r,animationBegin:a,animationDuration:o,animationEasing:l,connectNulls:c,dot:h,fill:d,fillOpacity:m,hide:y,isAnimationActive:b,legendType:_,stroke:E,xAxisId:S,yAxisId:T}=n,I=GM(n,FZ),D=x_(),L=lM(),{needClip:B}=DM(S,T),q=qr(),{points:F,isRange:R,baseLine:O}=(e=Oe(pe=>qZ(pe,S,T,q,t.id)))!==null&&e!==void 0?e:{},P=x1();if(D!=="horizontal"&&D!=="vertical"||P==null||L!=="AreaChart"&&L!=="ComposedChart")return null;var{height:U,width:j,x:z,y:V}=P;return!F||!F.length?null:C.createElement(sJ,Ba({},I,{activeDot:r,animationBegin:a,animationDuration:o,animationEasing:l,baseLine:O,connectNulls:c,dot:h,fill:d,fillOpacity:m,height:U,hide:y,layout:D,isAnimationActive:b,isRange:R,legendType:_,needClip:B,points:F,stroke:E,width:j,left:z,top:V,xAxisId:S,yAxisId:T}))}var lJ=(t,e,n,r,a)=>{var o=n??e;if(Ne(o))return o;var l=t==="horizontal"?a:r,c=l.scale.domain();if(l.type==="number"){var h=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||h<0?h:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]};function uJ(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:a,layout:o,chartBaseValue:l,xAxis:c,yAxis:h,displayedData:d,dataStartIndex:m,xAxisTicks:y,yAxisTicks:b,bandSize:_}=t,E=a&&a.length,S=lJ(o,l,n,c,h),T=o==="horizontal",I=!1,D=d.map((B,q)=>{var F;E?F=a[m+q]:(F=dr(B,r),Array.isArray(F)?I=!0:F=[S,F]);var R=F[1]==null||E&&!e&&dr(B,r)==null;return T?{x:Bk({axis:c,ticks:y,bandSize:_,entry:B,index:q}),y:R?null:h.scale(F[1]),value:F,payload:B}:{x:R?null:c.scale(F[1]),y:Bk({axis:h,ticks:b,bandSize:_,entry:B,index:q}),value:F,payload:B}}),L;return E||I?L=D.map(B=>{var q=Array.isArray(B.value)?B.value[0]:null;return T?{x:B.x,y:q!=null&&B.y!=null?h.scale(q):null,payload:B.payload}:{x:q!=null?c.scale(q):null,y:B.y,payload:B.payload}}):L=T?h.scale(S):c.scale(S),{points:D,baseLine:L,isRange:I}}function cJ(t){var e=di(t,YM),n=qr();return C.createElement(rQ,{id:e.id,type:"area"},r=>C.createElement(C.Fragment,null,C.createElement(ZX,{legendPayload:WZ(e)}),C.createElement(XX,{fn:XZ,args:e}),C.createElement(uQ,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Sq(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),C.createElement(oJ,Ba({},e,{id:r}))))}var WM=C.memo(cJ);WM.displayName="Area";var fJ=["dangerouslySetInnerHTML","ticks"],hJ=["id"],dJ=["domain"],mJ=["domain"];function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(null,arguments)}function gg(t,e){if(t==null)return{};var n,r,a=gJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pJ(t){var e=rr();return C.useEffect(()=>(e(mQ(t)),()=>{e(gQ(t))}),[t,e]),null}var yJ=t=>{var{xAxisId:e,className:n}=t,r=Oe(HR),a=qr(),o="xAxis",l=Oe(T=>ao(T,o,e,a)),c=Oe(T=>BD(T,o,e,a)),h=Oe(T=>BG(T,e)),d=Oe(T=>GG(T,e)),m=Oe(T=>oD(T,e));if(h==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:y,ticks:b}=t,_=gg(t,fJ),{id:E}=m,S=gg(m,hJ);return C.createElement(A1,ox({},_,S,{scale:l,x:d.x,y:d.y,width:h.width,height:h.height,className:Ct("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:c}))},vJ={allowDataOverflow:Dr.allowDataOverflow,allowDecimals:Dr.allowDecimals,allowDuplicatedCategory:Dr.allowDuplicatedCategory,height:Dr.height,hide:!1,mirror:Dr.mirror,orientation:Dr.orientation,padding:Dr.padding,reversed:Dr.reversed,scale:Dr.scale,tickCount:Dr.tickCount,type:Dr.type,xAxisId:0},bJ=t=>{var e,n,r,a,o,l=di(t,vJ);return C.createElement(C.Fragment,null,C.createElement(pJ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),C.createElement(yJ,l))},xJ=(t,e)=>{var{domain:n}=t,r=gg(t,dJ),{domain:a}=e,o=gg(e,mJ);return Mu(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Mu({domain:n},{domain:a}):!1},XM=C.memo(bJ,xJ);XM.displayName="XAxis";var _J=["dangerouslySetInnerHTML","ticks"],wJ=["id"],EJ=["domain"],TJ=["domain"];function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(null,arguments)}function pg(t,e){if(t==null)return{};var n,r,a=AJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function AJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SJ(t){var e=rr();return C.useEffect(()=>(e(pQ(t)),()=>{e(yQ(t))}),[t,e]),null}var kJ=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,o=C.useRef(null),l=C.useRef(null),c=Oe(HR),h=qr(),d=rr(),m="yAxis",y=Oe(q=>ao(q,m,e,h)),b=Oe(q=>XG(q,e)),_=Oe(q=>WG(q,e)),E=Oe(q=>BD(q,m,e,h)),S=Oe(q=>lD(q,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!b||b1(a)||C.isValidElement(a)||S==null)){var q=o.current;if(q){var F=q.getCalculatedWidth();Math.round(b.width)!==Math.round(F)&&d(vQ({id:e,width:F}))}}},[E,b,d,a,e,r,S]),b==null||_==null||S==null)return null;var{dangerouslySetInnerHTML:T,ticks:I}=t,D=pg(t,_J),{id:L}=S,B=pg(S,wJ);return C.createElement(A1,lx({},D,B,{ref:o,labelRef:l,scale:y,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Ct("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:E}))},CJ={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,hide:!1,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tickCount:Mr.tickCount,type:Mr.type,width:Mr.width,yAxisId:0},OJ=t=>{var e,n,r,a,o,l=di(t,CJ);return C.createElement(C.Fragment,null,C.createElement(SJ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),C.createElement(kJ,l))},NJ=(t,e)=>{var{domain:n}=t,r=pg(t,EJ),{domain:a}=e,o=pg(e,TJ);return Mu(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Mu({domain:n},{domain:a}):!1},QM=C.memo(OJ,NJ);QM.displayName="YAxis";var Y0={exports:{}},W0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function IJ(){if(QC)return W0;QC=1;var t=ju();function e(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return W0.useSyncExternalStoreWithSelector=function(h,d,m,y,b){var _=a(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function T(q){if(!I){if(I=!0,D=q,q=y(q),b!==void 0&&E.hasValue){var F=E.value;if(b(F,q))return L=F}return L=q}if(F=L,n(D,q))return F;var R=y(q);return b!==void 0&&b(F,R)?(D=q,F):(D=q,L=R)}var I=!1,D,L,B=m===void 0?null:m;return[function(){return T(d())},B===null?void 0:function(){return T(B())}]},[d,m,y,b]);var S=r(h,_[0],_[1]);return o(function(){E.hasValue=!0,E.value=S},[S]),c(S),S},W0}var ZC;function RJ(){return ZC||(ZC=1,Y0.exports=IJ()),Y0.exports}RJ();function PJ(t){t()}function DJ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){PJ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var JC={notify(){},get:()=>[]};function MJ(t,e){let n,r=JC,a=0,o=!1;function l(S){m();const T=r.subscribe(S);let I=!1;return()=>{I||(I=!0,T(),y())}}function c(){r.notify()}function h(){E.onStateChange&&E.onStateChange()}function d(){return o}function m(){a++,n||(n=t.subscribe(h),r=DJ())}function y(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=JC)}function b(){o||(o=!0,m())}function _(){o&&(o=!1,y())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:d,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return E}var jJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LJ=jJ(),VJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UJ=VJ(),zJ=()=>LJ||UJ?C.useLayoutEffect:C.useEffect,BJ=zJ(),qJ=Symbol.for("react-redux-context"),$J=typeof globalThis<"u"?globalThis:{};function FJ(){if(!C.createContext)return{};const t=$J[qJ]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var HJ=FJ();function KJ(t){const{children:e,context:n,serverState:r,store:a}=t,o=C.useMemo(()=>{const h=MJ(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),l=C.useMemo(()=>a.getState(),[a]);BJ(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const c=n||HJ;return C.createElement(c.Provider,{value:o},e)}var GJ=KJ,YJ=(t,e)=>e,S1=te([YJ,Ot,iD,vn,rM,ts,eW,Fn],aW),k1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},ZM=fi("mouseClick"),JM=oh();JM.startListening({actionCreator:ZM,effect:(t,e)=>{var n=t.payload,r=S1(e.getState(),k1(n));r?.activeIndex!=null&&e.dispatch(lY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ux=fi("mouseMove"),ej=oh();ej.startListening({actionCreator:ux,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=u1(r,r.tooltip.settings.shared),o=S1(r,k1(n));a==="axis"&&(o?.activeIndex!=null?e.dispatch(XD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(WD()))}});var eO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},tj=Br({name:"rootProps",initialState:eO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:eO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),WJ=tj.reducer,{updateOptions:XJ}=tj.actions,nj=Br({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Ote}=nj.actions,QJ=nj.reducer,rj=fi("keyDown"),ij=fi("focus"),C1=oh();C1.startListening({actionCreator:rj,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(c1(a,Zu(n))),c=ts(n);if(o==="Enter"){var h=cg(n,"axis","hover",String(a.index));e.dispatch(ex({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var d=eY(n),m=d==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,b=l+y*m;if(!(c==null||b>=c.length||b<0)){var _=cg(n,"axis","hover",String(b));e.dispatch(ex({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});C1.startListening({actionCreator:ij,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var o="0",l=cg(n,"axis","hover",String(o));e.dispatch(ex({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var ii=fi("externalEvent"),aj=oh();aj.startListening({actionCreator:ii,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:HY(n),activeDataKey:$Y(n),activeIndex:Yf(n),activeLabel:sM(n),activeTooltipIndex:Yf(n),isTooltipActive:KY(n)};t.payload.handler(r,t.payload.reactEvent)}}});var ZJ=te([Qu],t=>t.tooltipItemPayloads),JJ=te([ZJ,yh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:o}=a;if(o!=null){var l=e(o,n);return l}}}),sj=fi("touchMove"),oj=oh();oj.startListening({actionCreator:sj,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=u1(r,r.tooltip.settings.shared);if(a==="axis"){var o=S1(r,k1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(XD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=n.touches[0],h=document.elementFromPoint(c.clientX,c.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(Dq),m=(l=h.getAttribute(Mq))!==null&&l!==void 0?l:void 0,y=JJ(e.getState(),d,m);e.dispatch(oY({activeDataKey:m,activeIndex:d,activeCoordinate:y}))}}});var eee=yR({brush:IQ,cartesianAxis:bQ,chartData:wW,errorBars:CQ,graphicalItems:lQ,layout:aq,legend:Xq,options:yW,polarAxis:WX,polarOptions:QJ,referenceElements:qQ,rootProps:WJ,tooltip:uY}),tee=function(e){return NB({reducer:eee,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([JM.middleware,ej.middleware,C1.middleware,aj.middleware,oj.middleware]),devTools:Hu.devToolsEnabled})};function nee(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=qr(),o=C.useRef(null);if(a)return n;o.current==null&&(o.current=tee(e));var l=m_;return C.createElement(GJ,{context:l,store:o.current},n)}function ree(t){var{layout:e,width:n,height:r,margin:a}=t,o=rr(),l=qr();return C.useEffect(()=>{l||(o(nq(e)),o(rq({width:n,height:r})),o(tq(a)))},[o,l,e,n,r,a]),null}function iee(t){var e=rr();return C.useEffect(()=>{e(XJ(t))},[e,t]),null}var aee=["children"];function see(t,e){if(t==null)return{};var n,r,a=oee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function oee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(null,arguments)}var lee={width:"100%",height:"100%"},uee=C.forwardRef((t,e)=>{var n=GR(),r=YR(),a=XR();if(!Ym(n)||!Ym(r))return null;var{children:o,otherAttributes:l,title:c,desc:h}=t,d,m;return typeof l.tabIndex=="number"?d=l.tabIndex:d=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0,C.createElement($I,yg({},l,{title:c,desc:h,role:m,tabIndex:d,width:n,height:r,style:lee,ref:e}),o)}),cee=t=>{var{children:e}=t,n=Oe(Wg);if(!n)return null;var{width:r,height:a,y:o,x:l}=n;return C.createElement($I,{width:r,height:a,x:l,y:o},e)},tO=C.forwardRef((t,e)=>{var{children:n}=t,r=see(t,aee),a=qr();return a?C.createElement(cee,null,n):C.createElement(uee,yg({ref:e},r),n)});function fee(){var t=rr(),[e,n]=C.useState(null),r=Oe(Pq);return C.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),o=a.width/e.offsetWidth;gr(o)&&o!==r&&t(iq(o))}},[e,t,r]),n}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dee(t,e,n){return(e=mee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mee(t){var e=gee(t,"string");return typeof e=="symbol"?e:e+""}function gee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pee=C.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:h,onMouseEnter:d,onMouseLeave:m,onMouseMove:y,onMouseUp:b,onTouchEnd:_,onTouchMove:E,onTouchStart:S,style:T,width:I}=t,D=rr(),[L,B]=C.useState(null),[q,F]=C.useState(null);IW();var R=fee(),O=C.useCallback(ae=>{R(ae),typeof e=="function"&&e(ae),B(ae),F(ae)},[R,e,B,F]),P=C.useCallback(ae=>{D(ZM(ae)),D(ii({handler:o,reactEvent:ae}))},[D,o]),U=C.useCallback(ae=>{D(ux(ae)),D(ii({handler:d,reactEvent:ae}))},[D,d]),j=C.useCallback(ae=>{D(WD()),D(ii({handler:m,reactEvent:ae}))},[D,m]),z=C.useCallback(ae=>{D(ux(ae)),D(ii({handler:y,reactEvent:ae}))},[D,y]),V=C.useCallback(()=>{D(ij())},[D]),pe=C.useCallback(ae=>{D(rj(ae.key))},[D]),ve=C.useCallback(ae=>{D(ii({handler:l,reactEvent:ae}))},[D,l]),Z=C.useCallback(ae=>{D(ii({handler:c,reactEvent:ae}))},[D,c]),ue=C.useCallback(ae=>{D(ii({handler:h,reactEvent:ae}))},[D,h]),ge=C.useCallback(ae=>{D(ii({handler:b,reactEvent:ae}))},[D,b]),Te=C.useCallback(ae=>{D(ii({handler:S,reactEvent:ae}))},[D,S]),H=C.useCallback(ae=>{D(sj(ae)),D(ii({handler:E,reactEvent:ae}))},[D,E]),ie=C.useCallback(ae=>{D(ii({handler:_,reactEvent:ae}))},[D,_]);return C.createElement(dM.Provider,{value:L},C.createElement(G7.Provider,{value:q},C.createElement("div",{className:Ct("recharts-wrapper",r),style:hee({position:"relative",cursor:"default",width:I,height:a},T),onClick:P,onContextMenu:ve,onDoubleClick:Z,onFocus:V,onKeyDown:pe,onMouseDown:ue,onMouseEnter:U,onMouseLeave:j,onMouseMove:z,onMouseUp:ge,onTouchEnd:ie,onTouchMove:H,onTouchStart:Te,ref:O},n)))}),yee=["children","className","width","height","style","compact","title","desc"];function vee(t,e){if(t==null)return{};var n,r,a=bee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xee=C.forwardRef((t,e)=>{var{children:n,className:r,width:a,height:o,style:l,compact:c,title:h,desc:d}=t,m=vee(t,yee),y=lo(m);return c?C.createElement(tO,{otherAttributes:y,title:h,desc:d},n):C.createElement(pee,{className:r,style:l,width:a,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(tO,{otherAttributes:y,title:h,desc:d,ref:e},C.createElement($Q,null,n)))}),_ee=["width","height"];function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(null,arguments)}function wee(t,e){if(t==null)return{};var n,r,a=Eee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Eee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tee={top:5,right:5,bottom:5,left:5},Aee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Tee,reverseStackOrder:!1,syncMethod:"index"},See=C.forwardRef(function(e,n){var r,a=di(e.categoricalChartProps,Aee),{width:o,height:l}=a,c=wee(a,_ee);if(!Ym(o)||!Ym(l))return null;var{chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,categoricalChartProps:b}=e,_={chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,eventEmitter:void 0};return C.createElement(nee,{preloadedState:{options:_},reduxStoreName:(r=b.id)!==null&&r!==void 0?r:h},C.createElement(NQ,{chartData:b.data}),C.createElement(ree,{width:o,height:l,layout:a.layout,margin:a.margin}),C.createElement(iee,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(xee,cx({},c,{width:o,height:l,ref:n})))}),kee=["axis"],Cee=C.forwardRef((t,e)=>C.createElement(See,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kee,tooltipPayloadSearcher:gW,categoricalChartProps:t,ref:e}));const Oee={apiKey:"AIzaSyB_YYYPlskKtC_LEed63_ZGlSJeA_1UhuI",authDomain:"trading-jurnal-deo.firebaseapp.com",projectId:"trading-jurnal-deo",storageBucket:"trading-jurnal-deo.firebasestorage.app",messagingSenderId:"1085442544675",appId:"1:1085442544675:web:2bad6464f7be4673de8d96",measurementId:"G-NR89QZDXEE"},lj=vO(Oee),tm=WV(lj),Nee=ez(lj);const Iee="WzGoldTradingJournalDB",Ree=1;let nm=null;const Pee=["profiles","trades","balance_transactions","pairs","templates","custom_fields","goals","trade_images"],uj=()=>new Promise((t,e)=>{if(nm)return t(nm);const n=indexedDB.open(Iee,Ree);n.onupgradeneeded=r=>{const a=r.target.result;Pee.forEach(o=>{if(!a.objectStoreNames.contains(o)){const l=a.createObjectStore(o,{keyPath:"id"});["trades","balance_transactions","pairs","templates","custom_fields","goals"].includes(o)&&l.createIndex("profileId","profileId",{unique:!1})}})},n.onsuccess=r=>{nm=r.target.result,t(nm)},n.onerror=r=>{console.error("IndexedDB error:",r.target.errorCode),e("IndexedDB error")}}),Ju=(t,e,n)=>uj().then(r=>new Promise((a,o)=>{try{const c=r.transaction(t,e).objectStore(t);n(c,a,o)}catch(l){o(l)}})),Qs=(t,e)=>Ju(t,"readwrite",(n,r)=>{const a=n.add(e);a.onsuccess=()=>r(a.result)}),O1=(t,e)=>Ju(t,"readwrite",(n,r)=>{const a=n.put(e);a.onsuccess=()=>r(a.result)}),Fi=(t,e)=>Ju(t,"readwrite",(n,r)=>{n.delete(e).onsuccess=()=>r(!0)}),cj=(t,e)=>Ju(t,"readonly",(n,r)=>{n.get(e).onsuccess=a=>r(a.target.result)}),Dee=t=>Ju(t,"readonly",(e,n)=>{e.getAll().onsuccess=r=>n(r.target.result)}),Oa=(t,e)=>Ju(t,"readonly",(n,r)=>{const a=n.index("profileId");a.getAll(e).onsuccess=o=>r(o.target.result)}),Mee=async()=>{const t={userAgent:navigator.userAgent,language:navigator.language,screenWidth:window.screen.width,screenHeight:window.screen.height,timezone:new Date().getTimezoneOffset(),platform:navigator.platform},e=JSON.stringify(t),n=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")},vg=t=>{const[e,n]=C.useState(null);return C.useEffect(()=>{let r=null;return t?cj("trade_images",t).then(a=>{a&&a.file?(r=URL.createObjectURL(a.file),n(r)):n(null)}).catch(a=>{console.error("Failed to load image from DB",a),n(null)}):n(null),()=>{r&&URL.revokeObjectURL(r)}},[t]),e},Na=t=>t?(t instanceof Date?t:new Date(t)).toLocaleDateString("en-CA"):"N/A",mp=t=>{if(!t)return"N/A";const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Invalid Date":e.toLocaleString("id-ID",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},bg=t=>{if(!t)return"";const e=t instanceof Date?t:new Date(t);if(isNaN(e.getTime()))return"";const n=r=>(r<10?"0":"")+r;return`${e.getFullYear()}-${n(e.getMonth()+1)}-${n(e.getDate())}T${n(e.getHours())}:${n(e.getMinutes())}`},tn=(t,e="USD")=>{const n=e==="IDR"?"id-ID":"en-US",r={style:"currency",currency:e,minimumFractionDigits:e==="IDR"?0:2,maximumFractionDigits:e==="IDR"?0:2};return typeof t!="number"||isNaN(t)?new Intl.NumberFormat(n,r).format(0):new Intl.NumberFormat(n,r).format(t)},fj=t=>typeof t!="number"?"0.00 LOT":`${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} LOT`,Yo=(...t)=>t.filter(Boolean).join(" "),rO=({message:t,type:e,onClose:n})=>{if(!t)return null;let r;switch(e){case"success":r={bg:"bg-green-600",icon:x.jsx(jm,{})};break;case"error":r={bg:"bg-red-600",icon:x.jsx(i_,{})};break;case"info":r={bg:"bg-blue-600",icon:x.jsx(Vf,{})};break;default:r={bg:"bg-gray-700",icon:x.jsx(Vf,{})};break}return x.jsxs("div",{className:`fixed top-5 right-5 ${r.bg} text-white p-4 rounded-lg shadow-xl flex items-center z-[100] animate-fadeIn`,children:[x.jsx("div",{className:"mr-3",children:r.icon}),x.jsx("span",{children:t}),x.jsx("button",{onClick:n,className:"ml-4 text-2xl font-semibold leading-none hover:text-gray-200",children:""})]})},jee=({isOpen:t,onClose:e,onConfirm:n,title:r,message:a})=>t?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[90] p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl max-w-md w-full",children:[x.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:r}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:a}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Batal"}),x.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Konfirmasi"})]})]})}):null,X0=({icon:t,text:e,active:n,onClick:r})=>x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:r,className:`flex items-center p-3 rounded-lg transition-colors ${n?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[t,x.jsx("span",{className:"ml-3",children:e})]})}),hj=({theme:t,onToggle:e})=>x.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:`Ganti ke mode ${t==="dark"?"terang":"gelap"}`,children:t==="dark"?x.jsx(_7,{size:20}):x.jsx(g7,{size:20})}),Lee=({onLogin:t,error:e,theme:n,onToggleTheme:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState(!1),[m,y]=C.useState(!1),b=async _=>{_.preventDefault(),d(!0),await t(a,l),d(!1)};return x.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center font-sans relative",children:[x.jsx("div",{className:"absolute top-5 right-5",children:x.jsx(hj,{theme:n,onToggle:r})}),x.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Wz",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"Gold"})," Trading Jurnal"]}),x.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Silakan masuk untuk melanjutkan"})]}),x.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[x.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[x.jsx("div",{children:x.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:_=>o(_.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Alamat email"})}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:l,onChange:_=>c(_.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 pr-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Kata sandi"}),x.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",title:m?"Sembunyikan password":"Tampilkan password",children:m?x.jsx(Xz,{size:20}):x.jsx(Zz,{size:20})})]})]}),e&&x.jsxs("div",{className:"flex items-center text-sm text-red-500 dark:text-red-400 bg-red-500/10 p-3 rounded-lg",children:[x.jsx(i_,{size:16,className:"mr-2"}),x.jsx("span",{children:e})]}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 dark:disabled:bg-blue-800 disabled:cursor-not-allowed",children:h?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"animate-spin h-5 w-5 mr-3 border-2 border-white border-t-transparent rounded-full"}),x.jsx("span",{children:"Memproses..."})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:x.jsx(o7,{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400","aria-hidden":"true"})}),"Masuk"]})})})]}),x.jsxs("p",{className:"mt-4 text-center text-xs text-gray-500 dark:text-gray-400 px-4",children:[x.jsx("span",{className:"font-bold text-yellow-500 dark:text-yellow-400",children:"Penting:"})," Aplikasi ini menerapkan sistem keamanan ",x.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"satu akun untuk satu perangkat"}),". Untuk pembelian atau informasi lebih lanjut, silakan hubungi saya di Instagram: ",x.jsx("a",{href:"https://www.instagram.com/deolukow_",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-500 hover:underline",children:"@deolukow_"}),"."]})]})]})},Vee=({imageUrl:t,onClose:e})=>t?x.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-[100] p-4 animate-fadeIn",children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white text-4xl font-light z-[101] p-3 rounded-full hover:bg-gray-800 transition-colors",title:"Tutup (Esc)",children:""}),x.jsx("div",{className:"w-full h-full flex items-center justify-center",children:x.jsx("img",{src:t,alt:"Fullscreen Trade Screenshot",className:"max-w-full max-h-full object-contain",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/1200x800/374151/ffffff?text=Image+Gagal+Load"}})})]}):null,Uee=({trade:t,onClose:e,customFields:n,currency:r})=>{const[a,o]=C.useState(null);if(!t)return null;const l=({title:y,imageId:b,icon:_})=>{const E=vg(b);return x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 flex items-center",children:[_," ",x.jsx("span",{className:"ml-1",children:y})]}),E?x.jsxs("div",{className:"relative aspect-[4/3] bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600 cursor-pointer group",onClick:()=>o(E),children:[x.jsx("img",{src:E,alt:y,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-80"}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx(f7,{size:32,className:"text-white"})})]}):x.jsx("div",{className:"aspect-[4/3] bg-gray-200 dark:bg-gray-700 flex items-center justify-center rounded-lg text-gray-400 dark:text-gray-500 text-center text-sm p-4",children:"Tidak Ada Gambar"})]})},h=t.pnl>0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400",d=t.type==="long"?x.jsx(NI,{size:20,className:"text-green-500"}):x.jsx(OI,{size:20,className:"text-red-500"}),m=n.filter(y=>t.customData&&t.customData[y.name]);return x.jsxs(x.Fragment,{children:[x.jsx(Vee,{imageUrl:a,onClose:()=>o(null)}),x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-200 dark:border-gray-700 pb-4",children:[x.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[d," ",x.jsx("span",{className:"ml-2",children:t.pair})]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:""})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"space-y-4 lg:col-span-1",children:[x.jsxs("div",{className:"flex items-center space-x-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[x.jsx(zz,{size:20,className:"text-gray-400 dark:text-gray-500"}),x.jsx("span",{className:"text-lg text-gray-700 dark:text-gray-300 font-medium",children:mp(t.tradeDate)})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-2xl font-extrabold ${h}`,children:tn(t.pnl,r)})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lot Size"}),x.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:fj(t.lotSize)})]})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Risk/Reward Ratio"}),x.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.riskRewardRatio>0?`1 : ${t.riskRewardRatio.toFixed(2)}`:"N/A"})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Setup / Strategi"}),x.jsx("p",{className:"text-gray-800 dark:text-white font-medium",children:t.setup||"Tidak Ada Setup Dicatat"})]})," ",(t.entryPrice>0||t.takeProfit>0||t.stopLoss>0)&&x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg space-y-2",children:[x.jsx("h4",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 font-semibold",children:"Detail Harga"}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Entry Price:"}),x.jsx("span",{className:"text-gray-800 dark:text-white font-medium",children:t.entryPrice>0?t.entryPrice.toLocaleString():"N/A"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Take Profit:"}),x.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:t.takeProfit>0?t.takeProfit.toLocaleString():"N/A"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Stop Loss:"}),x.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:t.stopLoss>0?t.stopLoss.toLocaleString():"N/A"})]})]})," ",m.length>0&&x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg space-y-2",children:[x.jsx("h4",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 font-semibold border-b border-gray-300 dark:border-gray-600 pb-2",children:"Field Tambahan"}),m.map(y=>x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{className:"text-gray-500 dark:text-gray-400 capitalize",children:[y.name,":"]}),x.jsx("span",{className:"text-gray-800 dark:text-white font-medium text-right",children:t.customData[y.name]})]},y.id))]})," "]}),x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[x.jsx(l,{title:"Screenshot Sebelum Trade",imageId:t.screenshotBeforeId,icon:x.jsx(PI,{size:18,className:"text-blue-500 dark:text-blue-400"})}),x.jsx(l,{title:"Screenshot Sesudah Trade",imageId:t.screenshotAfterId,icon:x.jsx(Jx,{size:18,className:"text-green-500 dark:text-green-400"})})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Catatan Trade"}),x.jsx("p",{className:"text-gray-800 dark:text-white text-sm whitespace-pre-wrap",children:t.notes||"Tidak ada catatan."})]})]})]}),x.jsx("div",{className:"flex justify-end mt-6 border-t border-gray-200 dark:border-gray-700 pt-4",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})]})},zee=({isOpen:t,onClose:e,currentBalance:n,currency:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState("1"),[h,d]=C.useState("20"),[m,y]=C.useState("1"),[b,_]=C.useState("");C.useEffect(()=>{t&&n&&o(n.toFixed(2))},[t,n]);const E=C.useMemo(()=>{const T=parseFloat(a),I=parseFloat(l),D=parseFloat(h),L=parseFloat(m);if(isNaN(T)||isNaN(I)||isNaN(D)||isNaN(L)||T<=0||D<=0||L<=0)return{riskAmount:0,lotSize:0,isValid:!1};const B=T*(I/100),q=D*L,F=q>0?B/q:0;return{riskAmount:B,lotSize:F,isValid:!0}},[a,l,h,m]),S=()=>{if(E.isValid&&E.lotSize>0){const T=E.lotSize.toFixed(2);navigator.clipboard.writeText(T).then(()=>{_("Lot Size disalin!"),setTimeout(()=>_(""),2e3)}).catch(I=>{console.error("Failed to copy: ",I);try{const D=document.createElement("textarea");D.value=T,D.style.position="fixed",D.style.left="-9999px",document.body.appendChild(D),D.focus(),D.select(),document.execCommand("copy"),document.body.removeChild(D),_("Lot Size disalin!"),setTimeout(()=>_(""),2e3)}catch{_("Gagal menyalin."),setTimeout(()=>_(""),2e3)}})}};return t?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md relative",children:[b&&x.jsx("div",{className:"absolute top-4 right-4 bg-green-600 text-white text-xs px-3 py-1 rounded-full animate-fadeIn z-10",children:b}),x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[x.jsx(II,{size:24,className:"mr-2 text-blue-500 dark:text-blue-400"})," Kalkulator Lot Size"]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:["Saldo Akun (",r,")"]}),x.jsx("input",{type:"number",step:"any",value:a,onChange:T=>o(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Risiko per Trade (%)"}),x.jsx("input",{type:"number",step:"any",value:l,onChange:T=>c(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Jarak Stop Loss (Poin/Pips)"}),x.jsx("input",{type:"number",step:"any",value:h,onChange:T=>d(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:["Nilai per Poin/Pip per Lot (",r,")",x.jsx(Vf,{size:14,className:"ml-1 text-gray-400 dark:text-gray-500 cursor-help",title:"Nilai profit/loss dalam Dolar jika harga bergerak 1 poin/pip dengan ukuran 1.00 Lot. Contoh: XAU/USD = $1, EUR/USD = $10."})]}),x.jsx("input",{type:"number",step:"any",value:m,onChange:T=>y(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]})]}),x.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-center text-lg",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Risiko Maksimal:"}),x.jsx("span",{className:"font-bold text-red-500 dark:text-red-400",children:tn(E.riskAmount,r)})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg text-center",children:[x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rekomendasi Lot Size"}),x.jsxs("div",{className:"flex items-center justify-center mt-1",children:[x.jsx("p",{className:"text-3xl font-extrabold text-blue-600 dark:text-blue-400",children:E.isValid?E.lotSize.toFixed(2):"0.00"}),x.jsx("button",{onClick:S,className:"ml-3 p-2 text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors",title:"Salin Lot Size",children:x.jsx(Fz,{size:20})})]})]})]}),x.jsx("div",{className:"flex justify-end mt-6",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})}):null},Bee=({activeProfileId:t,showToast:e,onClose:n,currentGoal:r,currency:a})=>{const[o,l]=C.useState("weekly"),[c,h]=C.useState(""),[d,m]=C.useState(""),[y,b]=C.useState("");C.useEffect(()=>{r?(l(r.type||"weekly"),h(r.amount||""),m(r.dailyProfitTarget||""),b(r.dailyLossTarget||"")):(l("weekly"),h(""),m(""),b(""))},[r]);const _=async()=>{const S=parseFloat(c)||0,T=parseFloat(d)||0,I=parseFloat(y)||0;if(S<0||T<0||I<0){e("Target tidak boleh angka negatif.","error");return}if(S===0&&T===0&&I===0){e("Mohon isi setidaknya satu target.","info");return}const D={id:t,profileId:t,type:o,amount:S,dailyProfitTarget:T,dailyLossTarget:I,updatedAt:new Date};try{await O1("goals",D),e("Target berhasil disimpan!","success"),n()}catch(L){console.error("Error saving goal:",L),e("Gagal menyimpan target.","error")}},E=async()=>{try{await Fi("goals",t),e("Target berhasil dihapus.","success"),h(""),m(""),b(""),n()}catch(S){console.error("Error deleting goal:",S),e("Gagal menghapus target.","error")}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2 flex items-center",children:[x.jsx(r_,{size:24,className:"mr-2 text-yellow-400"})," Tetapkan Target"]}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Target harian hanya tampil di periode 'Harian'. Target mingguan/bulanan tampil di periode masing-masing."}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Target Mingguan/Bulanan"}),x.jsxs("div",{className:"flex space-x-2 p-1 bg-gray-100 dark:bg-gray-900 rounded-lg",children:[x.jsx("button",{onClick:()=>l("weekly"),className:`flex-1 py-2 text-sm rounded-md transition-colors ${o==="weekly"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Mingguan"}),x.jsx("button",{onClick:()=>l("monthly"),className:`flex-1 py-2 text-sm rounded-md transition-colors ${o==="monthly"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Bulanan"})]}),x.jsx("input",{id:"goalAmount",type:"number",step:"any",value:c,onChange:S=>h(S.target.value),placeholder:`Jumlah Target ${o==="weekly"?"Mingguan":"Bulanan"}`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded mt-2"})]}),x.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Target Harian"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx("input",{id:"dailyProfitTarget",type:"number",step:"any",value:d,onChange:S=>m(S.target.value),placeholder:`Profit Harian (${a})`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{id:"dailyLossTarget",type:"number",step:"any",value:y,onChange:S=>b(S.target.value),placeholder:`Batas Loss Harian (${a})`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]})]})]}),x.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[x.jsx(t_,{size:18,className:"inline mr-1"})," Simpan"]}),r&&(r.amount>0||r.dailyProfitTarget>0||r.dailyLossTarget>0)&&x.jsxs("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[x.jsx(bl,{size:18,className:"inline mr-1"})," Hapus"]})]}),x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})]})]})})},iO=({showToast:t,onClose:e,profiles:n,openDeleteModal:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState("USD"),m=async y=>{y.preventDefault();const b=a.trim(),_=l.trim();if(!b){t("Nama profil tidak boleh kosong.","error");return}try{const E={id:crypto.randomUUID(),name:b,description:_,currency:h,createdAt:new Date};await Qs("profiles",E),t(`Profil '${b}' berhasil ditambahkan.`,"success"),e()}catch(E){console.error("Error adding profile:",E),t("Gagal menambah profil.","error")}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(MI,{size:24,className:"mr-2 text-blue-500 dark:text-blue-400"})," Kelola Profil Trading"]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:""})]}),x.jsxs("form",{onSubmit:m,className:"flex-shrink-0 mb-6 p-4 bg-gray-100/50 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Tambah Profil Baru"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{type:"text",placeholder:"Nama Profil (e.g., Akun Pro)",value:a,onChange:y=>o(y.target.value),className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("textarea",{placeholder:"Deskripsi (e.g., Akun di broker XM, leverage 1:500)",value:l,onChange:y=>c(y.target.value),rows:"2",className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsxs("select",{value:h,onChange:y=>d(y.target.value),className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"USD",children:"USD ($)"}),x.jsx("option",{value:"IDR",children:"IDR (Rp)"})]})]}),x.jsx("div",{className:"flex justify-end mt-4",children:x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[x.jsx(_b,{size:18,className:"inline mr-1"})," Tambah Profil"]})})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Profil (",n.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:n.map(y=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[y.name," ",x.jsxs("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400",children:["(",y.currency,")"]})]}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:y.description||"Tidak ada deskripsi"})]}),x.jsx("button",{onClick:()=>r("profile",y),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Profil ${y.name}`,children:x.jsx(bl,{size:16})})]},y.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},qee=({activeProfileId:t,showToast:e,onClose:n,customFields:r,openDeleteModal:a})=>{const[o,l]=C.useState(""),c=async h=>{h.preventDefault();const d=o.trim();if(!d){e("Nama field tidak boleh kosong.","error");return}if(r.some(m=>m.name.toLowerCase()===d.toLowerCase())){e(`Field '${d}' sudah ada.`,"error"),l("");return}try{const m={id:crypto.randomUUID(),profileId:t,name:d,createdAt:new Date};await Qs("custom_fields",m),e(`Field '${d}' berhasil ditambahkan.`,"success"),l("")}catch(m){e("Gagal menambah field.","error"),console.error("Error adding custom field:",m)}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(DI,{size:24,className:"mr-2 text-green-500 dark:text-green-400"})," Kelola Field Tambahan"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:""})]}),x.jsxs("form",{onSubmit:c,className:"flex-shrink-0 mb-6 flex space-x-2",children:[x.jsx("input",{type:"text",placeholder:"Nama Field Baru (e.g., Sesi)",value:o,onChange:h=>l(h.target.value),className:"flex-grow bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tambah"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Field (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Anda belum menambahkan field tambahan."}):r.map(h=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:h.name}),x.jsx("button",{onClick:()=>a("custom_field",h),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Field ${h.name}`,children:x.jsx(bl,{size:16})})]},h.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},$ee=({trades:t,activePeriod:e,setActivePeriod:n,periods:r,onShowTradeDetail:a,currency:o})=>{const l=({trade:h})=>{const d=vg(h.screenshotAfterId),y=h.pnl>0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400";return d?x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden cursor-pointer transition-transform hover:scale-[1.02] border border-gray-200 dark:border-gray-700 relative group",onClick:()=>a(h),children:[x.jsxs("div",{className:"aspect-video w-full overflow-hidden bg-gray-100 dark:bg-gray-700",children:[x.jsx("img",{src:d,alt:`Trade ${h.pair}`,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-80"}),x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx("button",{className:"text-white bg-blue-600 p-3 rounded-full hover:bg-blue-700",children:x.jsx(Vf,{size:24})})})]}),x.jsxs("div",{className:"p-3",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 flex justify-between items-center",children:[h.pair,x.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${h.type==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:h.type.toUpperCase()})]}),x.jsxs("div",{className:"flex justify-between items-end mt-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-lg font-bold ${y}`,children:tn(h.pnl,o)})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"R:R"}),x.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate max-w-[120px]",title:h.riskRewardRatio>0?`${h.riskRewardRatio.toFixed(2)}R`:"N/A",children:h.riskRewardRatio>0?`${h.riskRewardRatio.toFixed(2)}R`:"N/A"})]})]}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2 border-t border-gray-200 dark:border-gray-700 pt-2",children:mp(h.tradeDate)})]})]}):x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 relative aspect-video flex flex-col justify-between p-3",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 flex justify-between items-center",children:h.pair}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Memuat gambar..."})]}),x.jsxs("div",{className:"flex justify-between items-end mt-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-lg font-bold ${y}`,children:tn(h.pnl,o)})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"R:R"}),x.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:h.riskRewardRatio>0?`${h.riskRewardRatio.toFixed(2)}R`:"N/A"})]})]})]})},c=t.filter(h=>h.screenshotAfterId).sort((h,d)=>new Date(d.tradeDate)-new Date(h.tradeDate));return x.jsxs("div",{className:"animate-fadeIn",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Galeri Visual Trade"}),x.jsx("div",{className:"flex space-x-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-xl mb-6",children:r.map(h=>x.jsx("button",{onClick:()=>n(h.key),className:Yo("px-4 py-2 text-sm font-medium rounded-lg transition-colors flex-grow",e===h.key?"bg-blue-600 text-white shadow-lg":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),children:h.label},h.key))}),c.length===0?x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-10 rounded-xl text-center text-gray-500 mt-10",children:[x.jsx(Jx,{size:48,className:"mx-auto mb-3 text-gray-400 dark:text-gray-600"}),x.jsx("p",{className:"text-lg",children:"Tidak ada trade dengan gambar di periode ini."}),x.jsx("p",{className:"text-sm mt-1",children:"Pastikan Anda mengupload gambar saat menambahkan trade."})]}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(h=>x.jsx(l,{trade:h},h.id))})]})},aO=({value:t,size:e=80,strokeWidth:n=8})=>{const r=e/2,a=r-n,o=2*Math.PI*a,l=o-t/100*o;return x.jsxs("div",{className:"relative",style:{width:e,height:e},children:[x.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[x.jsx("circle",{cx:r,cy:r,r:a,strokeWidth:n,className:"stroke-gray-200 dark:stroke-gray-700",fill:"transparent"}),x.jsx("circle",{cx:r,cy:r,r:a,strokeWidth:n,className:"stroke-blue-500 transition-all duration-500 ease-out",fill:"transparent",strokeDasharray:o,strokeDashoffset:l,strokeLinecap:"round"})]}),x.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-gray-900 dark:text-white font-bold text-lg",children:`${Math.round(t)}%`})]})},Fee=({winValue:t,lossValue:e})=>{const n=t+e;if(n===0)return x.jsx("div",{className:"h-2 w-full bg-gray-300 dark:bg-gray-600 rounded-full"});const r=t/n*100;return x.jsx("div",{className:"w-full bg-red-500/50 rounded-full h-2.5 flex overflow-hidden",children:x.jsx("div",{className:"bg-green-500 h-2.5",style:{width:`${r}%`}})})},Ms=({title:t,value:e,children:n,footer:r,icon:a})=>x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg flex flex-col justify-between min-h-[160px]",children:[x.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm mb-2",children:[a,x.jsx("span",{className:"ml-2",children:t})]}),x.jsxs("div",{className:"flex-grow flex items-center justify-center",children:[e&&x.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white my-2",children:e}),n]}),x.jsx("div",{className:"text-center text-xs text-gray-400 dark:text-gray-500 mt-2 h-8 flex items-center justify-center",children:r})]}),Hee=({goal:t,currentPnl:e,period:n,currency:r})=>{if(!t||!t.type||!t.amount||t.type!=="weekly"&&t.type!=="monthly"||t.type!==n)return null;const{amount:a,type:o}=t,l=e>0?e/a*100:0,c=Math.min(l,100),h=e>=a;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[x.jsx(r_,{size:20,className:"mr-2 text-yellow-400"}),"Target Profit ",o==="weekly"?"Mingguan":"Bulanan"]}),h&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-green-500/20 text-green-300 px-3 py-1 rounded-full",children:[x.jsx(jm,{size:16,className:"mr-1.5"}),"Target Tercapai!"]})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("div",{className:"flex-grow",children:x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 relative overflow-hidden",children:x.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ease-out ${h?"bg-green-500":"bg-blue-500"}`,style:{width:`${c}%`}})})}),x.jsxs("div",{className:"flex-shrink-0 w-40 text-right",children:[x.jsx("span",{className:`font-bold text-lg ${h?"text-green-400 dark:text-green-300":"text-gray-900 dark:text-white"}`,children:tn(e,r)}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" / ",tn(a,r)]})]})]}),x.jsxs("p",{className:"text-right text-sm text-gray-500 dark:text-gray-400 mt-1",children:[l.toFixed(1),"%"]})]})},Kee=({goal:t,currentPnl:e,currency:n})=>{if(!t||t.dailyProfitTarget<=0&&t.dailyLossTarget<=0)return null;const{dailyProfitTarget:r,dailyLossTarget:a}=t,o=r>0&&e>0?e/r*100:0,l=Math.min(o,100),c=r>0&&e>=r,h=a>0&&e<0?Math.abs(e)/a*100:0,d=Math.min(h,100),m=a>0&&Math.abs(e)>=a;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[x.jsx(jm,{size:20,className:"mr-2 text-cyan-400"}),"Target Harian"]}),c&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-green-500/20 text-green-300 px-3 py-1 rounded-full",children:[x.jsx(jm,{size:16,className:"mr-1.5"}),"Profit Tercapai!"]}),m&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-red-500/20 text-red-300 px-3 py-1 rounded-full",children:[x.jsx(i_,{size:16,className:"mr-1.5"}),"Batas Loss Tercapai!"]})]}),r>0&&x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Target Profit"}),x.jsxs("div",{children:[x.jsx("span",{className:`font-bold ${c?"text-green-400":"text-gray-900 dark:text-white"}`,children:tn(e>0?e:0,n)}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" / ",tn(r,n)]})]})]}),x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ease-out ${c?"bg-green-500":"bg-cyan-500"}`,style:{width:`${l}%`}})})]}),a>0&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Batas Loss"}),x.jsxs("div",{children:[x.jsx("span",{className:`font-bold ${m?"text-red-400":"text-gray-900 dark:text-white"}`,children:tn(e<0?e:0,n)}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" / ",tn(-a,n)]})]})]}),x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:"h-3 rounded-full transition-all duration-500 ease-out bg-red-500",style:{width:`${d}%`}})})]})]})},Gee=({stats:t,currency:e})=>{if(!t)return null;const n=isFinite(t.profitFactor)?t.profitFactor.toFixed(2):"",r=isFinite(t.avgWinLossRatio)?t.avgWinLossRatio.toFixed(2):"";return x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6 animate-fadeIn",children:[x.jsx(Ms,{title:"Net P&L",value:tn(t.netPnl,e),icon:x.jsx(Yz,{size:16}),footer:x.jsxs("span",{className:t.netPnl>=0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400",children:[" ",t.netPnl>=0?"Profit":"Loss"," "]})}),x.jsxs(Ms,{title:"Trade Win %",icon:x.jsx(n_,{size:16}),footer:x.jsxs("span",{children:[x.jsxs("span",{className:"text-green-500 dark:text-green-400",children:[t.wins," menang"]})," / ",x.jsxs("span",{className:"text-red-500 dark:text-red-400",children:[t.losses," kalah"]})]}),children:[" ",x.jsx(aO,{value:t.tradeWinRate})," "]}),x.jsx(Ms,{title:"Streak W/L",icon:x.jsx(a_,{size:16}),footer:x.jsx("span",{children:"Kemenangan / Kekalahan beruntun"}),children:x.jsxs("div",{className:"flex items-center justify-center space-x-6 text-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-3xl font-bold text-green-500 dark:text-green-400",children:t.consecutiveWins}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Menang"})]}),x.jsx("div",{className:"h-10 w-px bg-gray-200 dark:bg-gray-700"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-3xl font-bold text-red-500 dark:text-red-400",children:t.consecutiveLosses}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Kalah"})]})]})}),x.jsx(Ms,{title:"Profit Factor",value:n,icon:x.jsx(Kz,{size:16}),footer:x.jsxs("div",{className:"w-full flex flex-col items-center",children:[x.jsx("span",{className:"text-green-500",children:tn(t.grossProfit,e)}),x.jsx("span",{className:"text-gray-500 mx-1",children:"/"}),x.jsx("span",{className:"text-red-500",children:tn(t.grossLoss,e)})]})}),x.jsxs(Ms,{title:"Day Win %",icon:x.jsx(RI,{size:16}),footer:x.jsxs("span",{children:[x.jsxs("span",{className:"text-green-500 dark:text-green-400",children:[t.profitableDays," hari"]})," / ",x.jsxs("span",{className:"text-red-500 dark:text-red-400",children:[t.losingDays," hari"]})]}),children:[" ",x.jsx(aO,{value:t.dayWinRate})," "]}),x.jsx(Ms,{title:"Avg Win/Loss",icon:x.jsx(Nz,{size:16}),footer:x.jsxs("div",{className:"w-full flex flex-col items-center",children:[x.jsx(Fee,{winValue:t.avgWin,lossValue:Math.abs(t.avgLoss)}),x.jsxs("div",{className:"w-full flex justify-between mt-1",children:[x.jsx("span",{className:"text-green-500 dark:text-green-400",children:tn(t.avgWin,e)}),x.jsx("span",{className:"text-red-500 dark:text-red-400",children:tn(t.avgLoss,e)})]})]}),value:r}),x.jsx(Ms,{title:"Avg R:R Ratio",value:`${t.avgRiskReward.toFixed(2)}R`,icon:x.jsx(v7,{size:16}),footer:x.jsx("span",{children:"Rata-rata Risk to Reward"})}),x.jsx(Ms,{title:"Total Lot Digunakan",value:fj(t.totalLotUsed),icon:x.jsx(e7,{size:16}),footer:x.jsx("span",{children:"Volum Trading Akumulatif"})})]})},Yee=({data:t,period:e,currency:n,theme:r,chartType:a})=>{const o=r==="dark"?"#A0AEC0":"#4A5568",l=r==="dark"?"#4A5568":"#E2E8F0",c=a==="balance"?"Saldo":"P&L",h=m=>{if(m==="Start")return"Awal";const y=new Date(m);return isNaN(y)?m:e==="monthly"?y.toLocaleString("id-ID",{month:"short",year:"numeric"}):e==="weekly"?y.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="daily"?y.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="yearly"?y.getFullYear():y.toLocaleDateString("id-ID")},d=({active:m,payload:y,label:b})=>{if(m&&y&&y.length){const _=b==="Start"?"Awal Periode":`Tanggal: ${b}`;return x.jsxs("div",{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm p-3 rounded-lg border border-gray-300 dark:border-gray-600",children:[x.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:_}),x.jsx("p",{className:"text-gray-900 dark:text-white font-bold",children:`${c}: ${tn(y[0].value,n)}`})]})}return null};return x.jsx(WW,{width:"100%",height:"100%",children:x.jsxs(Cee,{data:t,margin:{top:5,right:20,left:-10,bottom:20},children:[x.jsx(BM,{strokeDasharray:"3 3",stroke:l}),x.jsx(XM,{dataKey:"name",stroke:o,tickFormatter:h,tick:{fontSize:12}}),x.jsx(QM,{stroke:o,tickFormatter:m=>n==="IDR"?`${m/1e6}jt`:`$${m/1e3}k`,tick:{fontSize:12},domain:["dataMin","dataMax"]}),x.jsx(UW,{content:x.jsx(d,{})}),a==="pnl"&&x.jsx(w1,{y:0,stroke:o,strokeDasharray:"4 4"}),x.jsx("defs",{children:x.jsxs("linearGradient",{id:"colorChart",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),x.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),x.jsx(WM,{type:"monotone",dataKey:"value",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorChart)",strokeWidth:2})]})})},Wee=({activeProfileId:t,showToast:e,onClose:n,templates:r,openDeleteModal:a})=>{const o={name:"",pair:"",type:"long",lotSize:"0.01",setup:"",pnl:"0",riskRewardRatio:"0"},[l,c]=C.useState(o),[h,d]=C.useState(null),m=E=>{const{name:S,value:T}=E.target;c(I=>({...I,[S]:T}))},y=E=>{d(E),c({...E,lotSize:String(E.lotSize),pnl:String(E.pnl),riskRewardRatio:String(E.riskRewardRatio||"0")})},b=async E=>{E.preventDefault();const S={...l,lotSize:parseFloat(l.lotSize)||0,pnl:parseFloat(l.pnl)||0,riskRewardRatio:parseFloat(l.riskRewardRatio)||0};if(!S.name.trim()){e("Nama Template wajib diisi.","error");return}try{if(h)await O1("templates",{...S,id:h.id,profileId:t,updatedAt:new Date}),e(`Template '${S.name}' berhasil diupdate.`,"success");else{const T=crypto.randomUUID();await Qs("templates",{...S,id:T,profileId:t,createdAt:new Date}),e(`Template '${S.name}' berhasil ditambahkan.`,"success")}c(o),d(null)}catch(T){e("Gagal menyimpan Template.","error"),console.error("Error saving template:",T)}},_=()=>{d(null),c(o)};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(a_,{size:24,className:"mr-2 text-yellow-400"})," Kelola Template Trade"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:""})]}),x.jsxs("form",{onSubmit:b,className:"flex-shrink-0 mb-6 p-4 bg-gray-100/50 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:h?`Edit Template: ${h.name}`:"Buat Template Baru"}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[x.jsx("input",{type:"text",name:"name",placeholder:"Nama Template (Wajib)",value:l.name,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-4",required:!0}),x.jsx("input",{type:"text",name:"pair",placeholder:"Pair Default (e.g., XAU/USD)",value:l.pair,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsxs("select",{name:"type",value:l.type,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1",children:[x.jsx("option",{value:"long",children:"Long (Buy)"}),x.jsx("option",{value:"short",children:"Short (Sell)"})]}),x.jsx("input",{type:"number",step:"any",name:"lotSize",placeholder:"Lot Size Default",value:l.lotSize,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsx("input",{type:"number",step:"any",name:"pnl",placeholder:"P&L Default (0 jika kosong)",value:l.pnl,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsx("input",{type:"number",step:"any",name:"riskRewardRatio",placeholder:"R:R Ratio (e.g., 2)",value:l.riskRewardRatio,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-2"}),x.jsx("input",{type:"text",name:"setup",placeholder:"Setup/Strategi Default",value:l.setup,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-4"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[h&&x.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Batal Edit"}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[x.jsx(t_,{size:18,className:"inline mr-1"})," ",h?"Update Template":"Simpan Template"]})]})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Template (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Buat template pertama Anda di atas."}):r.map(E=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center transition-shadow hover:shadow-md hover:shadow-gray-700/50",children:[x.jsxs("div",{className:"flex flex-col text-sm",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:E.name}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[E.pair||"-"," | ",E.type," | Lot: ",E.lotSize.toFixed(2)," | R:R: ",parseFloat(E.riskRewardRatio||0)>0?`${E.riskRewardRatio}R`:"N/A"]})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>y(E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-yellow-400 transition-colors",title:`Edit Template ${E.name}`,children:x.jsx(e_,{size:16})}),x.jsx("button",{onClick:()=>a("template",E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Template ${E.name}`,children:x.jsx(bl,{size:16})})]})]},E.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},Xee=({activeProfileId:t,showToast:e,onClose:n,pairs:r,openDeleteModal:a})=>{const[o,l]=C.useState(""),c=async h=>{h.preventDefault();const d=o.trim().toUpperCase();if(!d){e("Nama Pair tidak boleh kosong.","error");return}if(r.some(m=>m.name?.toUpperCase()===d)){e(`Pair '${d}' sudah ada.`,"error"),l("");return}try{const m={id:crypto.randomUUID(),profileId:t,name:d,createdAt:new Date};await Qs("pairs",m),e(`Pair ${d} berhasil ditambahkan.`,"success"),l("")}catch(m){e("Gagal menambah Pair.","error"),console.error("Error adding pair:",m)}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(n_,{size:24,className:"mr-2 text-yellow-400"})," Kelola Pair Trading"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:""})]}),x.jsxs("form",{onSubmit:c,className:"flex-shrink-0 mb-6 flex space-x-2",children:[x.jsx("input",{type:"text",placeholder:"Nama Pair (e.g., EUR/USD)",value:o,onChange:h=>l(h.target.value.toUpperCase()),className:"flex-grow bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0,maxLength:10}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tambah"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Pair (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Tambahkan pair trading yang sering Anda gunakan di atas."}):r.map(h=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center transition-shadow hover:shadow-md hover:shadow-gray-700/50",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:h.name}),x.jsx("button",{onClick:()=>a("pair",h),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Pair ${h.name}`,children:x.jsx(bl,{size:16})})]},h.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},Qee=({onSaveTrade:t,editingTrade:e,onCancelEdit:n,pairs:r,templates:a,customFields:o,activeProfileId:l})=>{const c=C.useMemo(()=>{const O={tradeDate:bg(new Date),pair:"",type:"long",lotSize:"0.01",pnl:"0",setup:"",notes:"",screenshotBeforeId:null,screenshotAfterId:null,entryPrice:"",takeProfit:"",stopLoss:"",riskRewardRatio:"0",customData:{}};return o.forEach(P=>{O.customData[P.name]=""}),O},[o]),[h,d]=C.useState(c),[m,y]=C.useState(""),[b,_]=C.useState(null),[E,S]=C.useState(null),T=vg(h.screenshotBeforeId),I=vg(h.screenshotAfterId);C.useEffect(()=>{let O=e?{...c,...e,tradeDate:bg(e.tradeDate),pnl:String(e.pnl||"0"),lotSize:String(e.lotSize||"0.01"),riskRewardRatio:String(e.riskRewardRatio||"0"),entryPrice:String(e.entryPrice||""),takeProfit:String(e.takeProfit||""),stopLoss:String(e.stopLoss||"")}:c;O.customData=O.customData||{},o.forEach(P=>{O.customData.hasOwnProperty(P.name)||(O.customData[P.name]="")}),e&&e.pair&&!r.some(P=>P.name===e.pair)?d({...O,pair:e.pair}):r.length>0&&!O.pair?d({...O,pair:r[0].name}):d(O),y(""),_(null),S(null)},[e,r,c,o]),C.useEffect(()=>{const O=parseFloat(h.entryPrice),P=parseFloat(h.takeProfit),U=parseFloat(h.stopLoss),j=h.type;if(O>0&&P>0&&U>0){let z,V;if(j==="long"?(V=P-O,z=O-U):(V=O-P,z=U-O),z>0&&V>0){const pe=V/z;d(ve=>({...ve,riskRewardRatio:pe.toFixed(2)}))}else d(pe=>({...pe,riskRewardRatio:"0"}))}},[h.entryPrice,h.takeProfit,h.stopLoss,h.type]);const D=O=>{const{name:P,value:U}=O.target;d(j=>({...j,[P]:U})),y("")},L=O=>{const{name:P,value:U}=O.target;d(j=>({...j,customData:{...j.customData,[P]:U}}))},B=(O,P)=>{const U=O.target.files[0];U&&(P==="before"?(_(U),d(j=>({...j,screenshotBeforeId:null}))):(S(U),d(j=>({...j,screenshotAfterId:null}))))},q=O=>{const P=O.target.value;if(y(P),P){const U=a.find(j=>j.id===P);U&&d(j=>({...j,pair:U.pair||"",type:U.type||"long",lotSize:String(U.lotSize||"0.01"),pnl:String(U.pnl||"0"),setup:U.setup||"",riskRewardRatio:String(U.riskRewardRatio||"0"),notes:"",screenshotBeforeId:null,screenshotAfterId:null}))}else d(U=>({...c,tradeDate:U.tradeDate,pair:r.length>0?r[0].name:""}))},F=O=>{O.preventDefault();const P={...h,id:e?e.id:crypto.randomUUID(),profileId:l,pnl:parseFloat(h.pnl)||0,lotSize:parseFloat(h.lotSize)||0,riskRewardRatio:parseFloat(h.riskRewardRatio)||0,entryPrice:parseFloat(h.entryPrice)||0,takeProfit:parseFloat(h.takeProfit)||0,stopLoss:parseFloat(h.stopLoss)||0,tradeDate:new Date(h.tradeDate)};t(P,b,E)},R=({id:O,label:P,file:U,onChange:j,existingImageUrl:z})=>{const[V,pe]=C.useState(null);C.useEffect(()=>{if(!U){pe(null);return}const Z=URL.createObjectURL(U);return pe(Z),()=>URL.revokeObjectURL(Z)},[U]);const ve=V||z;return x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:P}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-24 h-24 flex-shrink-0",children:ve?x.jsxs("div",{className:"relative group w-full h-full",children:[x.jsx("img",{src:ve,alt:"Preview",className:"h-full w-full object-cover rounded-lg"}),x.jsx("label",{htmlFor:O,className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg cursor-pointer",children:x.jsx(e_,{size:24,className:"text-white"})})]}):x.jsx("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:x.jsx(PI,{size:32,className:"text-gray-400 dark:text-gray-500"})})}),x.jsxs("label",{htmlFor:O,className:"cursor-pointer bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white py-2 px-4 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 text-sm w-full",children:[x.jsx(qz,{size:16,className:"mr-2"}),x.jsx("span",{className:"truncate",children:U?U.name:"Upload Gambar"})]}),x.jsx("input",{id:O,type:"file",onChange:j,className:"hidden",accept:"image/*"})]})]})};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("form",{onSubmit:F,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e?"Edit Trade":"Tambah Trade Baru"}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Pilih Template (Opsional)"}),x.jsxs("select",{value:m,onChange:q,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"",children:"-- Tanpa Template --"}),a.map(O=>x.jsx("option",{value:O.id,children:O.name},O.id))]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.length>0?x.jsxs("select",{name:"pair",value:h.pair||"",onChange:D,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0,children:[x.jsx("option",{value:"",disabled:!0,children:"Pilih Pair"}),r.map(O=>x.jsx("option",{value:O.name,children:O.name},O.id)),e&&e.pair&&!r.some(O=>O.name===e.pair)&&x.jsxs("option",{value:e.pair,className:"text-gray-400 bg-gray-800",children:[e.pair," (Lama)"]})]}):x.jsx("input",{name:"pair",value:h.pair||"",onChange:D,placeholder:"Pair (e.g., BTC/USD)",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("input",{type:"datetime-local",name:"tradeDate",value:h.tradeDate||"",onChange:D,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsxs("select",{name:"type",value:h.type||"long",onChange:D,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"long",children:"Long"}),x.jsx("option",{value:"short",children:"Short"})]}),x.jsx("input",{type:"number",step:"any",name:"pnl",value:h.pnl||"",onChange:D,placeholder:"P&L (Hasil Trade)",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded font-bold",required:!0}),x.jsx("input",{type:"number",step:"any",name:"lotSize",value:h.lotSize||"",onChange:D,placeholder:"Lot Size",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("input",{name:"setup",value:h.setup||"",onChange:D,placeholder:"Setup/Strategi Trade",className:"md:col-span-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"entryPrice",value:h.entryPrice||"",onChange:D,placeholder:"Harga Entry",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"takeProfit",value:h.takeProfit||"",onChange:D,placeholder:"Harga Take Profit",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"stopLoss",value:h.stopLoss||"",onChange:D,placeholder:"Harga Stop Loss",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"R:R Ratio"}),x.jsx("input",{type:"number",step:"any",name:"riskRewardRatio",value:h.riskRewardRatio||"",onChange:D,placeholder:"R:R Ratio (Otomatis)",className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),o.map(O=>x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:O.name}),x.jsx("input",{name:O.name,value:h.customData?.[O.name]||"",onChange:L,placeholder:`Input untuk ${O.name}`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]},O.id)),x.jsx(R,{id:"ss-before",label:"Screenshot (Sebelum)",file:b,onChange:O=>B(O,"before"),existingImageUrl:T}),x.jsx(R,{id:"ss-after",label:"Screenshot (Sesudah)",file:E,onChange:O=>B(O,"after"),existingImageUrl:I}),x.jsx("textarea",{name:"notes",value:h.notes||"",onChange:D,placeholder:"Catatan...",rows:"3",className:"md:col-span-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Batal"}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[x.jsx(t_,{size:18,className:"mr-2"}),e?"Update":"Simpan"]})]})]})})},Zee=({activeProfileId:t,showToast:e,onClose:n,openDeleteModal:r,currency:a})=>{const[o,l]=C.useState([]),[c,h]=C.useState("deposit"),[d,m]=C.useState(""),[y,b]=C.useState(bg(new Date));C.useEffect(()=>{t&&Oa("balance_transactions",t).then(E=>{l(E.sort((S,T)=>T.date-S.date))})},[t]);const _=async E=>{if(E.preventDefault(),!d||parseFloat(d)<=0){e("Jumlah harus lebih dari nol","error");return}try{const S={id:crypto.randomUUID(),profileId:t,type:c,amount:parseFloat(d),date:new Date(y)};await Qs("balance_transactions",S),e("Transaksi berhasil ditambahkan!","success"),m(""),b(bg(new Date)),Oa("balance_transactions",t).then(T=>{l(T.sort((I,D)=>D.date-I.date))})}catch(S){e("Error menambah transaksi","error"),console.error(S)}};return x.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:[" ",x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[" ",x.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex-shrink-0",children:"Kelola Saldo"})," ",x.jsxs("form",{onSubmit:_,className:"flex-shrink-0 mb-6",children:[" ",x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[" ",x.jsxs("select",{value:c,onChange:E=>h(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"deposit",children:"Deposit"}),x.jsx("option",{value:"withdrawal",children:"Withdrawal"})]})," ",x.jsx("input",{type:"number",placeholder:"Jumlah",value:d,onChange:E=>m(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0})," ",x.jsx("input",{type:"datetime-local",value:y,onChange:E=>b(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0})," "]})," ",x.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:"Tambah Transaksi"})," "]})," ",x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:"Riwayat"})," ",x.jsxs("div",{className:"overflow-y-auto flex-grow",children:[" ",x.jsxs("ul",{className:"space-y-2",children:[" ",o.map(E=>x.jsxs("li",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[" ",x.jsxs("div",{className:"flex items-center",children:[" ",E.type==="deposit"?x.jsx(NI,{className:"text-green-500 dark:text-green-400 mr-3"}):x.jsx(OI,{className:"text-red-500 dark:text-red-400 mr-3"})," ",x.jsxs("div",{children:[" ",x.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:[E.type,": ",tn(E.amount,a)]})," ",x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:mp(E.date)})," "]})," "]})," ",x.jsx("button",{onClick:()=>r("transaction",E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500",children:x.jsx(bl,{size:16})})," "]},E.id))," "]})," "]})," ",x.jsxs("div",{className:"flex justify-end mt-6 flex-shrink-0",children:[" ",x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Tutup"})," "]})," "]})," "]})},dj=({trades:t,onEdit:e,onDelete:n,onView:r,title:a="Riwayat Trade",requestSort:o,sortConfig:l,customFields:c,currency:h})=>{const d=b=>l&&l.key===b?l.direction==="ascending"?"":"":null,m=b=>{o&&o(b)},y=(b,_=!1)=>{let E="p-3";return _&&(E+=" text-right"),o&&(E+=" cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"),{scope:"col",className:E,onClick:()=>m(b)}};return x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg animate-fadeIn overflow-hidden mt-6",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white p-4",children:a}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[x.jsx("thead",{className:"text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-700",children:x.jsxs("tr",{children:[x.jsxs("th",{...y("tradeDate"),children:["Tanggal ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("tradeDate")})]}),x.jsxs("th",{...y("pair"),children:["Pair ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("pair")})]}),x.jsxs("th",{...y("type"),children:["Tipe ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("type")})]}),x.jsxs("th",{...y("lotSize",!0),children:["Lot ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("lotSize")})]}),x.jsxs("th",{...y("pnl",!0),children:["P&L ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("pnl")})]}),x.jsxs("th",{...y("riskRewardRatio",!0),children:["R:R ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("riskRewardRatio")})]}),x.jsxs("th",{...y("setup"),children:["Setup ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d("setup")})]}),c.map(b=>x.jsxs("th",{...y(b.name),children:[b.name," ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:d(b.name)})]},b.id)),x.jsx("th",{scope:"col",className:"p-3 text-center",children:"Aksi"})]})}),x.jsx("tbody",{children:t.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:8+c.length,className:"text-center p-6 text-gray-500",children:"Tidak ada trade untuk ditampilkan."})}):t.map(b=>x.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[x.jsx("td",{className:"p-3",children:mp(b.tradeDate)}),x.jsx("td",{className:"p-3 font-medium text-gray-900 dark:text-white",children:b.pair}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${b.type==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:b.type})}),x.jsx("td",{className:"p-3 text-right",children:b.lotSize.toFixed(2)}),x.jsx("td",{className:`p-3 text-right font-bold ${b.pnl>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:tn(b.pnl,h)}),x.jsx("td",{className:"p-3 text-right",children:b.riskRewardRatio>0?`${b.riskRewardRatio.toFixed(2)}R`:"-"}),x.jsx("td",{className:"p-3",children:b.setup||"-"}),c.map(_=>x.jsx("td",{className:"p-3",children:b.customData?.[_.name]||"-"},_.id)),x.jsx("td",{className:"p-3 text-center",children:x.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[x.jsx("button",{onClick:()=>r(b),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400",title:"Lihat Rincian",children:x.jsx(Vf,{size:16})}),x.jsx("button",{onClick:()=>e(b),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-yellow-500 dark:hover:text-yellow-400",title:"Edit Trade",children:x.jsx(e_,{size:16})}),x.jsx("button",{onClick:()=>n("trade",b),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-red-500",title:"Delete Trade",children:x.jsx(bl,{size:16})})]})})]},b.id))})]})})]})},Jee=({trades:t,onEdit:e,onDelete:n,onView:r,customFields:a,currency:o})=>{const[l,c]=C.useState(new Date),[h,d]=C.useState(null),m=C.useMemo(()=>{const S=new Map;return t.forEach(T=>{const I=Na(T.tradeDate);S.has(I)||S.set(I,{pnl:0,trades:[],wins:0,losses:0});const D=S.get(I);D.pnl+=T.pnl,D.trades.push(T),T.pnl>0?D.wins++:T.pnl<0&&D.losses++}),S},[t]),y=S=>{const T=Na(S);m.has(T)&&d(S)},b=()=>{const S=l.getFullYear(),T=l.getMonth(),I=new Date().getFullYear(),D=I-5,L=I+5,B=Array.from({length:L-D+1},(F,R)=>D+R),q=[{value:0,label:"Januari"},{value:1,label:"Februari"},{value:2,label:"Maret"},{value:3,label:"April"},{value:4,label:"Mei"},{value:5,label:"Juni"},{value:6,label:"Juli"},{value:7,label:"Agustus"},{value:8,label:"September"},{value:9,label:"Oktober"},{value:10,label:"November"},{value:11,label:"Desember"}];return x.jsxs("div",{className:"flex justify-between items-center p-4",children:[x.jsx("button",{onClick:()=>c(F=>new Date(F.getFullYear(),F.getMonth()-1,1)),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600",children:x.jsx(Dz,{})}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("select",{value:T,onChange:F=>c(R=>new Date(R.getFullYear(),parseInt(F.target.value),1)),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white font-semibold py-2 px-3 rounded-lg appearance-none cursor-pointer",children:q.map(F=>x.jsx("option",{value:F.value,children:F.label},F.value))}),x.jsx("select",{value:S,onChange:F=>c(R=>new Date(parseInt(F.target.value),R.getMonth(),1)),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white font-semibold py-2 px-3 rounded-lg appearance-none cursor-pointer",children:B.map(F=>x.jsx("option",{value:F,children:F},F))})]}),x.jsx("button",{onClick:()=>c(F=>new Date(F.getFullYear(),F.getMonth()+1,1)),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600",children:x.jsx(jz,{})})]})},_=()=>{const S=new Date(l.getFullYear(),l.getMonth(),1),T=new Date(S);T.setDate(T.getDate()-S.getDay());const I=[];let D=new Date(T);for(let L=0;L<6;L++){const B=[];let q=0,F=0;for(let R=0;R<7;R++){const O=new Date(D),P=Na(O),U=m.get(P);U&&(q+=U.pnl,F++);const j=U?U.wins/(U.wins+U.losses)*100:0;B.push(x.jsxs("div",{className:Yo("relative p-2 h-28 md:h-32 border-t border-l border-gray-200 dark:border-gray-700 flex flex-col",D.getMonth()!==l.getMonth()?"text-gray-500 dark:text-gray-600 bg-gray-50 dark:bg-gray-900/50":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800",U?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700":"",Na(h)===P?"bg-blue-600/20 dark:bg-blue-600/50 ring-2 ring-blue-400":""),onClick:()=>y(O),children:[x.jsx("span",{className:Yo("font-medium",Na(new Date)===P?"text-blue-500 dark:text-blue-400 font-bold":""),children:O.getDate()}),U&&x.jsxs("div",{className:"mt-1 text-xs flex-grow flex flex-col justify-end",children:[x.jsx("p",{className:Yo("font-bold",U.pnl>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:tn(U.pnl,o)}),x.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[U.trades.length," trade",U.trades.length>1?"s":""]}),x.jsx("p",{className:Yo(U.wins>U.losses?"text-green-500":"text-red-500"),children:isNaN(j)?"N/A":`${j.toFixed(0)}% win`})]})]},D)),D.setDate(D.getDate()+1)}I.push(x.jsxs("div",{className:"grid grid-cols-8",children:[B,x.jsx("div",{className:"p-2 h-28 md:h-32 border-t border-l border-r border-gray-200 dark:border-gray-700 flex flex-col justify-center items-center text-center bg-white dark:bg-gray-800",children:F>0?x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Week ",L+1]}),x.jsx("p",{className:Yo("font-bold text-sm",q>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:tn(q,o)}),x.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:[F," hari"]})]}):x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-600",children:["Week ",L+1]})})]},`week-${L}`))}return x.jsx("div",{children:I})},E=h?(m.get(Na(h))?.trades||[]).sort((S,T)=>(T.tradeDate?.getTime()||0)-(S.tradeDate?.getTime()||0)):[];return x.jsxs("div",{className:"animate-fadeIn",children:[x.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[b(),x.jsxs("div",{className:"grid grid-cols-8 text-center font-semibold text-gray-500 dark:text-gray-400 text-xs px-2 pb-2",children:[["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(S=>x.jsx("div",{children:S},S)),x.jsx("div",{className:"text-blue-500 dark:text-blue-400",children:"Mingguan"})]}),_()]}),h&&x.jsx(dj,{trades:E,onEdit:e,onView:r,onDelete:n,title:`Trade untuk ${h.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,customFields:a,currency:o})]})},ete=({profiles:t,activeProfile:e,onSelectProfile:n,onManageProfiles:r})=>{const[a,o]=C.useState(!1),l=c=>{n(c),o(!1)};return e?x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>o(!a),className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 w-full text-left",children:[x.jsx(MI,{size:20,className:"text-blue-500 dark:text-blue-400"}),x.jsxs("div",{className:"flex-grow",children:[x.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate",children:e.name}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.description||"Tidak ada deskripsi"})]}),x.jsx(Rz,{size:16,className:`transition-transform text-gray-600 dark:text-gray-400 ${a?"rotate-180":""}`})]}),a&&x.jsx("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-20",children:x.jsxs("ul",{children:[t.map(c=>x.jsx("li",{children:x.jsxs("a",{href:"#",onClick:()=>l(c),className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[c.name," ",x.jsxs("span",{className:"text-xs text-gray-500",children:["(",c.currency,")"]})]})},c.id)),x.jsx("li",{children:x.jsx("button",{onClick:()=>{r(),o(!1)},className:"w-full text-left px-4 py-2 text-sm text-blue-500 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 border-t border-gray-200 dark:border-gray-700",children:"Tambah/Kelola Akun..."})})]})})]}):x.jsx("div",{className:"text-gray-900 dark:text-white",children:"Memuat profil..."})};function tte(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState([]),[h,d]=C.useState([]),[m,y]=C.useState(0),[b,_]=C.useState(null),[E,S]=C.useState(null),[T,I]=C.useState(!1),[D,L]=C.useState([]),[B,q]=C.useState(null),[F,R]=C.useState(!0),[O,P]=C.useState(""),[U,j]=C.useState(()=>localStorage.getItem("appTheme")||"dark"),[z,V]=C.useState({message:"",type:""}),[pe,ve]=C.useState(!1),[Z,ue]=C.useState(!1),[ge,Te]=C.useState(null),[H,ie]=C.useState(null),[ae,he]=C.useState(!1),[Ee,Ie]=C.useState(!1),[Re,Ft]=C.useState(!1),[ot,me]=C.useState(!1),[Ue,Fe]=C.useState(!1),[ce,Nt]=C.useState(!1),[Je,Ht]=C.useState(!1),[Wt,_t]=C.useState(!1),[gi,Vt]=C.useState(null),[wt,Tr]=C.useState("dashboard"),[ir,oa]=C.useState("all"),[ar,la]=C.useState({key:"tradeDate",direction:"descending"}),[sr,un]=C.useState("balance"),Hn=C.useMemo(()=>[{key:"all",label:"Semua"},{key:"daily",label:"Harian"},{key:"weekly",label:"Mingguan"},{key:"monthly",label:"Bulanan"},{key:"yearly",label:"Tahunan"}],[]);C.useEffect(()=>{U==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("appTheme",U)},[U]);const bn=()=>{j(de=>de==="dark"?"light":"dark")},ua=C.useCallback(async()=>{const we=(await Dee("profiles")).sort((Ae,ye)=>Ae.createdAt-ye.createdAt);if(L(we),B&&!we.some(Ae=>Ae.id===B.id)){const Ae=we.length>0?we[0]:null;q(Ae),Ae?localStorage.setItem("activeProfileId",Ae.id):localStorage.removeItem("activeProfileId")}else if(!B&&we.length>0){const Ae=localStorage.getItem("activeProfileId"),ye=we.find(Se=>Se.id===Ae);q(ye||we[0])}},[B]),In=C.useCallback(async de=>{if(!de){e([]),r([]),o([]),c([]),d([]),_(null),y(0);return}const[we,Ae,ye,Se,Be,It]=await Promise.all([Oa("trades",de),Oa("pairs",de),Oa("templates",de),Oa("custom_fields",de),Oa("balance_transactions",de),cj("goals",de)]);e(we),r(Ae.sort((Xe,at)=>Xe.createdAt-at.createdAt)),o(ye.sort((Xe,at)=>Xe.name.localeCompare(at.name))),c(Se.sort((Xe,at)=>Xe.createdAt-at.createdAt)),d(Be.sort((Xe,at)=>at.date-Xe.date)),_(It);const xn=Be.filter(Xe=>Xe.type==="deposit").reduce((Xe,at)=>Xe+at.amount,0),Ye=Be.filter(Xe=>Xe.type==="withdrawal").reduce((Xe,at)=>Xe+at.amount,0);y(xn-Ye)},[]);C.useEffect(()=>{uj().then(()=>{console.log("Database initialized")});const de=VL(tm,we=>{S(we),I(!0),we?ua().then(()=>R(!1)):(q(null),L([]),In(null),R(!1))});return()=>de()},[ua,In]),C.useEffect(()=>{B?In(B.id):!F&&E&&In(null)},[B,F,E,In]);const El=de=>{q(de),localStorage.setItem("activeProfileId",de.id)},$r=async(de,we)=>{try{const ye=(await ML(tm,de,we)).user,Se=await Mee(),Be=JU(Nee,"device_auths",ye.uid),It=await mz(Be);if(It.exists()){if(It.data().fingerprint!==Se){P("Akun ini sudah terdaftar di perangkat lain. Silakan login di perangkat pertama Anda."),await xA(tm);return}}else await pz(Be,{fingerprint:Se,createdAt:new Date,email:ye.email,userAgent:navigator.userAgent});P("")}catch(Ae){console.error("Login failed:",Ae),Ae.code==="auth/invalid-credential"||Ae.code==="auth/wrong-password"||Ae.code==="auth/user-not-found"?P("Email atau kata sandi yang Anda masukkan salah."):P("Terjadi kesalahan. Silakan coba lagi.")}},Ri=async()=>{try{await xA(tm),pt("Anda telah berhasil keluar.","success")}catch(de){console.error("Logout failed:",de),pt("Gagal keluar.","error")}},pt=(de,we)=>{V({message:de,type:we}),setTimeout(()=>V({message:"",type:""}),3e3)},Kn=de=>{ie(de)},Pi=async(de,we,Ae)=>{if(!B)return;const ye=!!ge?.id,Se={...de};try{if(ye&&(we&&ge.screenshotBeforeId&&await Fi("trade_images",ge.screenshotBeforeId),Ae&&ge.screenshotAfterId&&await Fi("trade_images",ge.screenshotAfterId)),we){const Be=crypto.randomUUID();await Qs("trade_images",{id:Be,file:we}),Se.screenshotBeforeId=Be}if(Ae){const Be=crypto.randomUUID();await Qs("trade_images",{id:Be,file:Ae}),Se.screenshotAfterId=Be}ye?await O1("trades",{...Se,updatedAt:new Date}):await Qs("trades",{...Se,createdAt:new Date,updatedAt:new Date}),pt(ye?"Trade berhasil diupdate!":"Trade berhasil ditambah!","success"),Te(null),ue(!1),In(B.id)}catch(Be){console.error(Be),pt("Gagal menyimpan trade.","error")}},or=(de,we)=>{Vt({type:de,data:we}),_t(!0)},ho=async()=>{if(!gi)return;const{type:de,data:we}=gi;try{if(de==="profile"){await Di(we);return}if(de==="trade"&&(we.screenshotBeforeId&&await Fi("trade_images",we.screenshotBeforeId),we.screenshotAfterId&&await Fi("trade_images",we.screenshotAfterId)),!B)return;let Ae="",ye="";switch(de){case"trade":Ae="trades",ye="Trade";break;case"transaction":Ae="balance_transactions",ye="Transaksi";break;case"pair":Ae="pairs",ye="Pair";break;case"template":Ae="templates",ye="Template";break;case"custom_field":Ae="custom_fields",ye="Field";break;default:return}await Fi(Ae,we.id),pt(`${ye} berhasil dihapus.`,"success"),In(B.id)}catch(Ae){console.error(`Error deleting ${de}:`,Ae),pt("Gagal menghapus item.","error")}finally{Vt(null),_t(!1)}},Di=async de=>{if(de){pt(`Menghapus profil '${de.name}'...`,"info");try{const we=["trades","balance_transactions","pairs","templates","custom_fields","goals"],Ae=await Oa("trades",de.id);for(const ye of Ae)ye.screenshotBeforeId&&await Fi("trade_images",ye.screenshotBeforeId),ye.screenshotAfterId&&await Fi("trade_images",ye.screenshotAfterId);for(const ye of we){const Se=await Oa(ye,de.id);for(const Be of Se)await Fi(ye,Be.id)}await Fi("profiles",de.id),pt(`Profil '${de.name}' dan semua datanya berhasil dihapus.`,"success"),ua()}catch(we){console.error("Error deleting profile and its data:",we),pt("Gagal menghapus profil secara lengkap.","error")}finally{Vt(null),_t(!1)}}},Fr=C.useMemo(()=>B?((we,Ae)=>{if(Ae==="all")return we;const ye=new Date,Se=new Date(ye);switch(Ae){case"daily":Se.setHours(0,0,0,0);break;case"weekly":const Be=ye.getDay();Se.setDate(ye.getDate()-Be+(Be===0?-6:1)),Se.setHours(0,0,0,0);break;case"monthly":Se.setDate(1),Se.setHours(0,0,0,0);break;case"yearly":Se.setMonth(0,1),Se.setHours(0,0,0,0);break}return we.filter(Be=>(Be.tradeDate||new Date(0))>=Se)})(t,ir):[],[t,ir,B]),Ut=de=>{let we="ascending";ar.key===de&&ar.direction==="ascending"&&(we="descending"),la({key:de,direction:we})},Tl=C.useMemo(()=>{let de=[...Fr];return ar.key!==null&&de.sort((we,Ae)=>{const ye=l.some(xn=>xn.name===ar.key),Se=ye?we.customData?.[ar.key]??"":we[ar.key]??"",Be=ye?Ae.customData?.[ar.key]??"":Ae[ar.key]??"";let It=0;return Se instanceof Date&&Be instanceof Date?It=Se.getTime()-Be.getTime():typeof Se=="number"&&typeof Be=="number"?It=Se-Be:It=String(Se).localeCompare(String(Be),void 0,{numeric:!0,sensitivity:"base"}),It===0?(Ae.tradeDate?.getTime()||0)-(we.tradeDate?.getTime()||0):ar.direction==="ascending"?It:-It}),de},[Fr,ar,l]),Hr=C.useMemo(()=>{const de={netPnl:0,tradeWinRate:0,wins:0,losses:0,profitFactor:0,dayWinRate:0,profitableDays:0,losingDays:0,avgWinLossRatio:0,avgWin:0,avgLoss:0,grossProfit:0,grossLoss:0,avgRiskReward:0,totalLotUsed:0,consecutiveWins:0,consecutiveLosses:0};if(!B)return de;const we=[...Fr].sort((st,Mt)=>(st.tradeDate?.getTime()||0)-(Mt.tradeDate?.getTime()||0));if(we.length===0)return de;const Ae=we.filter(st=>parseFloat(st.pnl)>0),ye=we.filter(st=>parseFloat(st.pnl)<0),Se=Ae.length,Be=ye.length,It=we.length,xn=Ae.reduce((st,Mt)=>st+parseFloat(Mt.pnl),0),Ye=Math.abs(ye.reduce((st,Mt)=>st+parseFloat(Mt.pnl),0)),Xe=xn-Ye,at=It>0?Se/It*100:0,pi=Ye>0?xn/Ye:1/0,Gn=Se>0?xn/Se:0,cn=Be>0?-Ye/Be:0,Rn=cn!==0?Math.abs(Gn/cn):1/0,Kr=new Map;we.forEach(st=>{const Mt=Na(st.tradeDate);Mt&&Mt!=="N/A"&&Kr.set(Mt,(Kr.get(Mt)||0)+(parseFloat(st.pnl)||0))});let At=0,is=0;Kr.forEach(st=>{st>0?At++:st<0&&is++});const ji=At+is,Gr=ji>0?At/ji*100:0,pr=we.map(st=>parseFloat(st.riskRewardRatio)||0).filter(st=>st>0),ca=pr.reduce((st,Mt)=>st+Mt,0),Yr=pr.length>0?ca/pr.length:0,as=we.reduce((st,Mt)=>st+(parseFloat(Mt.lotSize)||0),0);let mo=0,Ar=0,yi=0,_n=0;for(const st of we){const Mt=parseFloat(st.pnl)||0;Mt>0?(Ar++,_n=0,Ar>mo&&(mo=Ar)):Mt<0?(_n++,Ar=0,_n>yi&&(yi=_n)):(Ar=0,_n=0)}return{netPnl:Xe,tradeWinRate:at,wins:Se,losses:Be,profitFactor:pi,dayWinRate:Gr,profitableDays:At,losingDays:is,avgWinLossRatio:Rn,avgWin:Gn,avgLoss:cn,grossProfit:xn,grossLoss:Ye,avgRiskReward:Yr,totalLotUsed:as,consecutiveWins:mo,consecutiveLosses:yi}},[Fr,B]),Mi=C.useMemo(()=>{if(!B)return{chartData:[]};const de=t,we=h,Ae=[...de.map(Ye=>({type:"trade",date:Ye.tradeDate,pnl:Ye.pnl})),...we.map(Ye=>({type:Ye.type,date:Ye.date,amount:Ye.amount}))].sort((Ye,Xe)=>(Ye.date?.getTime()||0)-(Xe.date?.getTime()||0));let ye=0;const Se=[];Ae.forEach(Ye=>{Ye.type==="trade"?ye+=parseFloat(Ye.pnl)||0:Ye.type==="deposit"?ye+=parseFloat(Ye.amount)||0:Ye.type==="withdrawal"&&(ye-=parseFloat(Ye.amount)||0),Se.push({name:Na(Ye.date),value:ye})});let Be=0;const It=[];return de.sort((Ye,Xe)=>(Ye.tradeDate?.getTime()||0)-(Xe.tradeDate?.getTime()||0)).forEach(Ye=>{Be+=parseFloat(Ye.pnl)||0,It.push({name:Na(Ye.tradeDate),value:Be})}),{chartData:(()=>{const Ye=sr==="balance"?Se:It;if(Ye.length===0)return[];if(ir==="all")return Ye;const Xe=new Date,at=new Date(Xe);switch(ir){case"daily":at.setHours(0,0,0,0);break;case"weekly":const Rn=Xe.getDay();at.setDate(Xe.getDate()-Rn+(Rn===0?-6:1)),at.setHours(0,0,0,0);break;case"monthly":at.setDate(1),at.setHours(0,0,0,0);break;case"yearly":at.setMonth(0,1),at.setHours(0,0,0,0);break}const pi=[...Ye].reverse().find(Rn=>new Date(Rn.name).getTime()<at.getTime()),Gn=pi?pi.value:0,cn=Ye.filter(Rn=>new Date(Rn.name).getTime()>=at.getTime());return cn.length>0?new Date(cn[0].name).getTime()!==at.getTime()?[{name:"Start",value:Gn},...cn]:cn:[{name:"Start",value:Gn}]})()}},[t,h,B,ir,sr]),ns=C.useMemo(()=>{if(!B)return 0;const de=t.reduce((Ae,ye)=>Ae+(parseFloat(ye.pnl)||0),0);return h.reduce((Ae,ye)=>{const Se=parseFloat(ye.amount)||0;return Ae+(ye.type==="deposit"?Se:-Se)},0)+de},[t,h,B]);if(!T||F)return x.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center text-gray-900 dark:text-white",children:"Memuat Autentikasi..."});if(!E)return x.jsx(Lee,{onLogin:$r,error:O,theme:U,onToggleTheme:bn});if(T&&!F&&D.length===0)return x.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center text-gray-900 dark:text-white",children:[Je&&x.jsx(iO,{showToast:pt,onClose:()=>{Ht(!1),ua()},profiles:D,openDeleteModal:or}),x.jsx(rO,{message:z.message,type:z.type,onClose:()=>V({message:"",type:""})}),x.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Selamat Datang, ",E.email,"!"]}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Untuk memulai, silakan buat profil trading pertama Anda."}),x.jsxs("button",{onClick:()=>Ht(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[x.jsx(_b,{size:20,className:"mr-2"})," Buat Profil Trading"]})]});const rs=()=>x.jsxs(x.Fragment,{children:[x.jsxs("a",{href:"https://www.instagram.com/deolukow_",target:"_blank",rel:"noopener noreferrer",className:"block mb-4 hover:opacity-80 transition-opacity",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Wz",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"Gold"})," Trading Jurnal"]}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"created by Deo Lukow (2025)"})]}),x.jsx("div",{className:"mb-4",children:x.jsx(ete,{profiles:D,activeProfile:B,onSelectProfile:El,onManageProfiles:()=>{Ht(!0),ve(!1)}})}),x.jsxs("button",{onClick:()=>{Te(null),ue(!0),ve(!1)},className:"w-full px-4 py-3 mb-6 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg flex items-center justify-center text-sm font-semibold",children:[x.jsx(_b,{size:18,className:"mr-2"})," Tambah Trade"]}),x.jsxs("nav",{className:"flex-grow",children:[x.jsxs("ul",{children:[x.jsx(X0,{icon:x.jsx(i7,{size:20}),text:"Dashboard",active:wt==="dashboard",onClick:()=>{Tr("dashboard"),ve(!1)}}),x.jsx(X0,{icon:x.jsx(RI,{size:20}),text:"Kalender",active:wt==="calendar",onClick:()=>{Tr("calendar"),ve(!1)}}),x.jsx(X0,{icon:x.jsx(Jx,{size:20}),text:"Galeri Trade",active:wt==="gallery",onClick:()=>{Tr("gallery"),oa("all"),ve(!1)}})]}),x.jsxs("ul",{className:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[x.jsx("li",{className:"px-3 pb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Alat Bantu"}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Nt(!0),ve(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(r_,{size:20,className:"text-yellow-500 dark:text-yellow-400"}),x.jsx("span",{className:"ml-3",children:"Tetapkan Target"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Fe(!0),ve(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(II,{size:20,className:"text-green-500 dark:text-green-400"}),x.jsx("span",{className:"ml-3",children:"Kalkulator Lot Size"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Ie(!0),ve(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(n_,{size:20,className:"text-yellow-500 dark:text-yellow-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Pair"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Ft(!0),ve(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(a_,{size:20,className:"text-blue-500 dark:text-blue-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Template"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{me(!0),ve(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(DI,{size:20,className:"text-indigo-500 dark:text-indigo-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Field Tambahan"})]})})]})]}),x.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-2 truncate",title:E.email,children:["Masuk sebagai: ",E.email]}),x.jsxs("button",{onClick:Ri,className:"w-full flex items-center p-3 rounded-lg text-red-500 dark:text-red-400 hover:bg-red-500/10 dark:hover:bg-red-500/20",children:[x.jsx(u7,{size:20}),x.jsx("span",{className:"ml-3",children:"Keluar"})]})]})]});return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:`
                @keyframes slideIn {
                    from { transform: translateX(-100%); }
                    to { transform: translateX(0); }
                }
                .animate-slideIn {
                    animation: slideIn 0.3s ease-out forwards;
                }
            `}),x.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-300 font-sans",children:[x.jsx(rO,{message:z.message,type:z.type,onClose:()=>V({message:"",type:""})}),x.jsx(jee,{isOpen:Wt,onClose:()=>_t(!1),onConfirm:ho,title:"Konfirmasi Hapus",message:`Yakin ingin menghapus ${gi?.type} ini? Aksi ini tidak dapat dibatalkan.`}),B&&Z&&x.jsx(Qee,{onSaveTrade:Pi,editingTrade:ge,onCancelEdit:()=>{Te(null),ue(!1)},pairs:n,templates:a,customFields:l,activeProfileId:B.id}),H&&x.jsx(Uee,{trade:H,onClose:()=>ie(null),customFields:l,currency:B?.currency}),B&&Ue&&x.jsx(zee,{isOpen:Ue,onClose:()=>Fe(!1),currentBalance:ns,currency:B?.currency}),B&&ce&&x.jsx(Bee,{activeProfileId:B.id,showToast:pt,onClose:()=>{Nt(!1),In(B.id)},currentGoal:b,currency:B?.currency}),B&&ae&&x.jsx(Zee,{activeProfileId:B.id,showToast:pt,onClose:()=>{he(!1),In(B.id)},openDeleteModal:or,currency:B?.currency}),B&&Ee&&x.jsx(Xee,{activeProfileId:B.id,showToast:pt,onClose:()=>{Ie(!1),In(B.id)},pairs:n,openDeleteModal:or}),B&&Re&&x.jsx(Wee,{activeProfileId:B.id,showToast:pt,onClose:()=>{Ft(!1),In(B.id)},templates:a,openDeleteModal:or}),B&&ot&&x.jsx(qee,{activeProfileId:B.id,showToast:pt,onClose:()=>{me(!1),In(B.id)},customFields:l,openDeleteModal:or}),Je&&x.jsx(iO,{showToast:pt,onClose:()=>{Ht(!1),ua()},profiles:D,openDeleteModal:or}),pe&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-40 md:hidden",onClick:()=>ve(!1)}),x.jsx("aside",{className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 p-4 z-50 flex flex-col md:hidden animate-slideIn overflow-y-auto",children:x.jsx(rs,{})})]}),x.jsx("aside",{className:"w-64 bg-white dark:bg-gray-800 p-4 flex-shrink-0 flex-col hidden md:flex overflow-y-auto",children:x.jsx(rs,{})}),x.jsxs("main",{className:"flex-1 flex flex-col p-4 md:p-6 lg:p-8 overflow-y-auto",children:[x.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{className:"md:hidden text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",onClick:()=>ve(!0),children:x.jsx(d7,{size:28})}),x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white truncate",children:wt==="dashboard"?"Dashboard":wt==="calendar"?"Kalender Trade":"Galeri Trade"})]}),x.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto justify-end",children:[x.jsx(hj,{theme:U,onToggle:bn}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg text-center border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Saldo Saat Ini"}),x.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:tn(ns,B?.currency)})]}),x.jsxs("button",{onClick:()=>he(!0),className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg flex items-center text-sm font-semibold",children:[x.jsx(C7,{size:16,className:"mr-2"})," Kelola Saldo"]})]})]}),x.jsxs("div",{className:"flex-grow",children:[wt==="dashboard"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex space-x-1 sm:space-x-2 p-1 bg-gray-200 dark:bg-gray-800 rounded-xl mb-6",children:Hn.map(de=>x.jsx("button",{onClick:()=>oa(de.key),className:Yo("px-2 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors flex-grow",ir===de.key?"bg-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-700"),children:de.label},de.key))}),x.jsx(Hee,{goal:b,currentPnl:Hr.netPnl,period:ir,currency:B?.currency}),ir==="daily"&&x.jsx(Kee,{goal:b,currentPnl:Hr.netPnl,currency:B?.currency}),x.jsx(Gee,{stats:Hr,currency:B?.currency}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 sm:mb-0",children:sr==="balance"?"Riwayat Saldo Akun":"Riwayat P&L Kumulatif"}),x.jsxs("div",{className:"flex space-x-1 p-1 bg-gray-200 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("button",{onClick:()=>un("balance"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${sr==="balance"?"bg-blue-600 text-white shadow":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Grafik Saldo"}),x.jsx("button",{onClick:()=>un("pnl"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${sr==="pnl"?"bg-blue-600 text-white shadow":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Grafik P&L"})]})]}),x.jsx("div",{className:"h-80",children:x.jsx(Yee,{data:Mi.chartData,period:ir,currency:B?.currency,theme:U,chartType:sr})})]}),x.jsx(dj,{trades:Tl,onView:Kn,onEdit:de=>{Te(de),ue(!0)},onDelete:(de,we)=>or(de,we),title:`Riwayat Trade (${Hn.find(de=>de.key===ir)?.label})`,requestSort:Ut,sortConfig:ar,customFields:l,currency:B?.currency})]}),wt==="calendar"&&x.jsx(Jee,{trades:t,onView:Kn,onEdit:de=>{Te(de),ue(!0)},onDelete:(de,we)=>or(de,we),customFields:l,currency:B?.currency}),wt==="gallery"&&x.jsx($ee,{trades:Fr,activePeriod:ir,setActivePeriod:oa,periods:Hn,onShowTradeDetail:Kn,currency:B?.currency})]})]})]})]})}const nte="modulepreload",rte=function(t){return"/trading-jurnal/"+t},sO={},ite=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var l=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=rte(m),m in sO)return;sO[m]=!0;const y=m.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":nte,y||(_.as="script"),_.crossOrigin="",_.href=m,h&&_.setAttribute("nonce",h),document.head.appendChild(_),y)return new Promise((E,S)=>{_.addEventListener("load",E),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function ate(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:a,onRegisteredSW:o,onRegisterError:l}=t;let c,h;const d=async(y=!0)=>{await h};async function m(){if("serviceWorker"in navigator){if(c=await ite(async()=>{const{Workbox:y}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:y}},[]).then(({Workbox:y})=>new y("/trading-jurnal/sw.js",{scope:"/trading-jurnal/",type:"classic"})).catch(y=>{l?.(y)}),!c)return;c.addEventListener("activated",y=>{(y.isUpdate||y.isExternal)&&window.location.reload()}),c.addEventListener("installed",y=>{y.isUpdate||r?.()}),c.register({immediate:e}).then(y=>{o?o("/trading-jurnal/sw.js",y):a?.(y)}).catch(y=>{l?.(y)})}}return h=m(),d}Z4.createRoot(document.getElementById("root")).render(x.jsx(C.StrictMode,{children:x.jsx(tte,{})}));ate({immediate:!0});
