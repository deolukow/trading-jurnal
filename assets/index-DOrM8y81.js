function B4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ov={exports:{}},tf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function q4(){if(qT)return tf;qT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:o}}return tf.Fragment=e,tf.jsx=n,tf.jsxs=n,tf}var $T;function $4(){return $T||($T=1,ov.exports=q4()),ov.exports}var x=$4(),lv={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function F4(){if(FT)return Ge;FT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function T(H,ie,ae){this.props=H,this.context=ie,this.refs=k,this.updater=ae||_}T.prototype.isReactComponent={},T.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=T.prototype;function M(H,ie,ae){this.props=H,this.context=ie,this.refs=k,this.updater=ae||_}var L=M.prototype=new I;L.constructor=M,E(L,T.prototype),L.isPureReactComponent=!0;var z=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function R(H,ie,ae,he,_e,Ne){return ae=Ne.ref,{$$typeof:t,type:H,key:ie,ref:ae!==void 0?ae:null,props:Ne}}function O(H,ie){return R(H.type,ie,void 0,void 0,void 0,H.props)}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ae){return ie[ae]})}var P=/\/+/g;function B(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ie.toString(36)}function V(){}function pe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(V,V):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Ee(H,ie,ae,he,_e){var Ne=typeof H;(Ne==="undefined"||Ne==="boolean")&&(H=null);var Ie=!1;if(H===null)Ie=!0;else switch(Ne){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(H.$$typeof){case t:case e:Ie=!0;break;case m:return Ie=H._init,Ee(Ie(H._payload),ie,ae,he,_e)}}if(Ie)return _e=_e(H),Ie=he===""?"."+B(H,0):he,z(_e)?(ae="",Ie!=null&&(ae=Ie.replace(P,"$&/")+"/"),Ee(_e,ie,ae,"",function(me){return me})):_e!=null&&(D(_e)&&(_e=O(_e,ae+(_e.key==null||H&&H.key===_e.key?"":(""+_e.key).replace(P,"$&/")+"/")+Ie)),ie.push(_e)),1;Ie=0;var Gt=he===""?".":he+":";if(z(H))for(var ot=0;ot<H.length;ot++)he=H[ot],Ne=Gt+B(he,ot),Ie+=Ee(he,ie,ae,Ne,_e);else if(ot=v(H),typeof ot=="function")for(H=ot.call(H),ot=0;!(he=H.next()).done;)he=he.value,Ne=Gt+B(he,ot++),Ie+=Ee(he,ie,ae,Ne,_e);else if(Ne==="object"){if(typeof H.then=="function")return Ee(pe(H),ie,ae,he,_e);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Q(H,ie,ae){if(H==null)return H;var he=[],_e=0;return Ee(H,he,"","",function(Ne){return ie.call(ae,Ne,_e++)}),he}function ue(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ae){(H._status===0||H._status===-1)&&(H._status=1,H._result=ae)},function(ae){(H._status===0||H._status===-1)&&(H._status=2,H._result=ae)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var ge=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Ae(){}return Ge.Children={map:Q,forEach:function(H,ie,ae){Q(H,function(){ie.apply(this,arguments)},ae)},count:function(H){var ie=0;return Q(H,function(){ie++}),ie},toArray:function(H){return Q(H,function(ie){return ie})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ge.Component=T,Ge.Fragment=n,Ge.Profiler=a,Ge.PureComponent=M,Ge.StrictMode=r,Ge.Suspense=d,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(H){return q.H.useMemoCache(H)}},Ge.cache=function(H){return function(){return H.apply(null,arguments)}},Ge.cloneElement=function(H,ie,ae){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var he=E({},H.props),_e=H.key,Ne=void 0;if(ie!=null)for(Ie in ie.ref!==void 0&&(Ne=void 0),ie.key!==void 0&&(_e=""+ie.key),ie)!F.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(he[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=ae;else if(1<Ie){for(var Gt=Array(Ie),ot=0;ot<Ie;ot++)Gt[ot]=arguments[ot+2];he.children=Gt}return R(H.type,_e,void 0,void 0,Ne,he)},Ge.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Ge.createElement=function(H,ie,ae){var he,_e={},Ne=null;if(ie!=null)for(he in ie.key!==void 0&&(Ne=""+ie.key),ie)F.call(ie,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=ie[he]);var Ie=arguments.length-2;if(Ie===1)_e.children=ae;else if(1<Ie){for(var Gt=Array(Ie),ot=0;ot<Ie;ot++)Gt[ot]=arguments[ot+2];_e.children=Gt}if(H&&H.defaultProps)for(he in Ie=H.defaultProps,Ie)_e[he]===void 0&&(_e[he]=Ie[he]);return R(H,Ne,void 0,void 0,null,_e)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(H){return{$$typeof:c,render:H}},Ge.isValidElement=D,Ge.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ue}},Ge.memo=function(H,ie){return{$$typeof:h,type:H,compare:ie===void 0?null:ie}},Ge.startTransition=function(H){var ie=q.T,ae={};q.T=ae;try{var he=H(),_e=q.S;_e!==null&&_e(ae,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Ae,ge)}catch(Ne){ge(Ne)}finally{q.T=ie}},Ge.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ge.use=function(H){return q.H.use(H)},Ge.useActionState=function(H,ie,ae){return q.H.useActionState(H,ie,ae)},Ge.useCallback=function(H,ie){return q.H.useCallback(H,ie)},Ge.useContext=function(H){return q.H.useContext(H)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(H,ie){return q.H.useDeferredValue(H,ie)},Ge.useEffect=function(H,ie,ae){var he=q.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(H,ie)},Ge.useId=function(){return q.H.useId()},Ge.useImperativeHandle=function(H,ie,ae){return q.H.useImperativeHandle(H,ie,ae)},Ge.useInsertionEffect=function(H,ie){return q.H.useInsertionEffect(H,ie)},Ge.useLayoutEffect=function(H,ie){return q.H.useLayoutEffect(H,ie)},Ge.useMemo=function(H,ie){return q.H.useMemo(H,ie)},Ge.useOptimistic=function(H,ie){return q.H.useOptimistic(H,ie)},Ge.useReducer=function(H,ie,ae){return q.H.useReducer(H,ie,ae)},Ge.useRef=function(H){return q.H.useRef(H)},Ge.useState=function(H){return q.H.useState(H)},Ge.useSyncExternalStore=function(H,ie,ae){return q.H.useSyncExternalStore(H,ie,ae)},Ge.useTransition=function(){return q.H.useTransition()},Ge.version="19.1.1",Ge}var HT;function Lu(){return HT||(HT=1,lv.exports=F4()),lv.exports}var C=Lu();const H4=oo(C),K4=B4({__proto__:null,default:H4},[C]);var uv={exports:{}},nf={},cv={exports:{}},fv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function G4(){return KT||(KT=1,(function(t){function e(Q,ue){var ge=Q.length;Q.push(ue);e:for(;0<ge;){var Ae=ge-1>>>1,H=Q[Ae];if(0<a(H,ue))Q[Ae]=ue,Q[ge]=H,ge=Ae;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ue=Q[0],ge=Q.pop();if(ge!==ue){Q[0]=ge;e:for(var Ae=0,H=Q.length,ie=H>>>1;Ae<ie;){var ae=2*(Ae+1)-1,he=Q[ae],_e=ae+1,Ne=Q[_e];if(0>a(he,ge))_e<H&&0>a(Ne,he)?(Q[Ae]=Ne,Q[_e]=ge,Ae=_e):(Q[Ae]=he,Q[ae]=ge,Ae=ae);else if(_e<H&&0>a(Ne,ge))Q[Ae]=Ne,Q[_e]=ge,Ae=_e;else break e}}return ue}function a(Q,ue){var ge=Q.sortIndex-ue.sortIndex;return ge!==0?ge:Q.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,y=null,v=3,_=!1,E=!1,k=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function z(Q){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=Q)r(h),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(h)}}function q(Q){if(k=!1,z(Q),!E)if(n(d)!==null)E=!0,F||(F=!0,B());else{var ue=n(h);ue!==null&&Ee(q,ue.startTime-Q)}}var F=!1,R=-1,O=5,D=-1;function U(){return T?!0:!(t.unstable_now()-D<O)}function P(){if(T=!1,F){var Q=t.unstable_now();D=Q;var ue=!0;try{e:{E=!1,k&&(k=!1,M(R),R=-1),_=!0;var ge=v;try{t:{for(z(Q),y=n(d);y!==null&&!(y.expirationTime>Q&&U());){var Ae=y.callback;if(typeof Ae=="function"){y.callback=null,v=y.priorityLevel;var H=Ae(y.expirationTime<=Q);if(Q=t.unstable_now(),typeof H=="function"){y.callback=H,z(Q),ue=!0;break t}y===n(d)&&r(d),z(Q)}else r(d);y=n(d)}if(y!==null)ue=!0;else{var ie=n(h);ie!==null&&Ee(q,ie.startTime-Q),ue=!1}}break e}finally{y=null,v=ge,_=!1}ue=void 0}}finally{ue?B():F=!1}}}var B;if(typeof L=="function")B=function(){L(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,pe=V.port2;V.port1.onmessage=P,B=function(){pe.postMessage(null)}}else B=function(){I(P,0)};function Ee(Q,ue){R=I(function(){Q(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var ge=v;v=ue;try{return Q()}finally{v=ge}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=v;v=Q;try{return ue()}finally{v=ge}},t.unstable_scheduleCallback=function(Q,ue,ge){var Ae=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ae+ge:Ae):ge=Ae,Q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ge+H,Q={id:m++,callback:ue,priorityLevel:Q,startTime:ge,expirationTime:H,sortIndex:-1},ge>Ae?(Q.sortIndex=ge,e(h,Q),n(d)===null&&Q===n(h)&&(k?(M(R),R=-1):k=!0,Ee(q,ge-Ae))):(Q.sortIndex=H,e(d,Q),E||_||(E=!0,F||(F=!0,B()))),Q},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Q){var ue=v;return function(){var ge=v;v=ue;try{return Q.apply(this,arguments)}finally{v=ge}}}})(fv)),fv}var GT;function Y4(){return GT||(GT=1,cv.exports=G4()),cv.exports}var dv={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function W4(){if(YT)return Qn;YT=1;var t=Lu();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},Qn.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},Qn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Qn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Qn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Qn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Qn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Qn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Qn.requestFormReset=function(d){r.d.r(d)},Qn.unstable_batchedUpdates=function(d,h){return d(h)},Qn.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qn.version="19.1.1",Qn}var WT;function oO(){if(WT)return dv.exports;WT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dv.exports=W4(),dv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function X4(){if(XT)return nf;XT=1;var t=Y4(),e=Lu(),n=oO();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,f=s;;){var p=u.return;if(p===null)break;var b=p.alternate;if(b===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===u)return c(p),i;if(b===f)return c(p),s;b=b.sibling}throw Error(r(188))}if(u.return!==f.return)u=p,f=b;else{for(var A=!1,N=p.child;N;){if(N===u){A=!0,u=p,f=b;break}if(N===f){A=!0,f=p,u=b;break}N=N.sibling}if(!A){for(N=b.child;N;){if(N===u){A=!0,u=b,f=p;break}if(N===f){A=!0,f=b,u=p;break}N=N.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case T:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case F:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case L:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:pe(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return pe(i(s))}catch{}}return null}var Ee=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ae=[],H=-1;function ie(i){return{current:i}}function ae(i){0>H||(i.current=Ae[H],Ae[H]=null,H--)}function he(i,s){H++,Ae[H]=i.current,i.current=s}var _e=ie(null),Ne=ie(null),Ie=ie(null),Gt=ie(null);function ot(i,s){switch(he(Ie,s),he(Ne,i),he(_e,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?pT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=pT(s),i=yT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(_e),he(_e,i)}function me(){ae(_e),ae(Ne),ae(Ie)}function qe(i){i.memoizedState!==null&&he(Gt,i);var s=_e.current,u=yT(s,i.type);s!==u&&(he(Ne,i),he(_e,u))}function Ke(i){Ne.current===i&&(ae(_e),ae(Ne)),Gt.current===i&&(ae(Gt),Xc._currentValue=ge)}var ce=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,rt=t.unstable_cancelCallback,Yt=t.unstable_shouldYield,Vt=t.unstable_requestPaint,At=t.unstable_now,Gn=t.unstable_getCurrentPriorityLevel,Ut=t.unstable_ImmediatePriority,Xe=t.unstable_UserBlockingPriority,Ar=t.unstable_NormalPriority,ar=t.unstable_LowPriority,mo=t.unstable_IdlePriority,Mi=t.log,ji=t.unstable_setDisableYieldValue,En=null,mn=null;function Wt(i){if(typeof Mi=="function"&&ji(i),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(En,i)}catch{}}var Tn=Math.clz32?Math.clz32:as,is=Math.log,Sl=Math.LN2;function as(i){return i>>>=0,i===0?32:31-(is(i)/Sl|0)|0}var Yn=256,Jt=4194304;function kr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yr(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var p=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var N=f&134217727;return N!==0?(f=N&~b,f!==0?p=kr(f):(A&=N,A!==0?p=kr(A):u||(u=N&~i,u!==0&&(p=kr(u))))):(N=f&~b,N!==0?p=kr(N):A!==0?p=kr(A):u||(u=f&~i,u!==0&&(p=kr(u)))),p===0?0:s!==0&&s!==p&&(s&b)===0&&(b=p&-p,u=s&-s,b>=u||b===32&&(u&4194048)!==0)?s:p}function Li(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function zt(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ca(){var i=Yn;return Yn<<=1,(Yn&4194048)===0&&(Yn=256),i}function Vi(){var i=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),i}function sr(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Bt(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Al(i,s,u,f,p,b){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var N=i.entanglements,$=i.expirationTimes,X=i.hiddenUpdates;for(u=A&~u;0<u;){var ne=31-Tn(u),se=1<<ne;N[ne]=0,$[ne]=-1;var Z=X[ne];if(Z!==null)for(X[ne]=null,ne=0;ne<Z.length;ne++){var J=Z[ne];J!==null&&(J.lane&=-536870913)}u&=~se}f!==0&&or(i,f,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~s))}function or(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-Tn(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function Ui(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-Tn(u),p=1<<f;p&s|i[f]&s&&(i[f]|=s),u&=~p}}function go(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vi(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:jT(i.type))}function kl(i,s){var u=ue.p;try{return ue.p=i,s()}finally{ue.p=u}}var Wr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Wr,fe="__reactProps$"+Wr,ye="__reactContainer$"+Wr,Ce="__reactEvents$"+Wr,we="__reactListeners$"+Wr,$e="__reactHandles$"+Wr,ze="__reactResources$"+Wr,it="__reactMarker$"+Wr;function Mt(i){delete i[Pt],delete i[fe],delete i[Ce],delete i[we],delete i[$e]}function Ue(i){var s=i[Pt];if(s)return s;for(var u=i.parentNode;u;){if(s=u[ye]||u[Pt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=_T(i);i!==null;){if(u=i[Pt])return u;i=_T(i)}return s}i=u,u=i.parentNode}return null}function Me(i){if(i=i[Pt]||i[ye]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ht(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Cr(i){var s=i[ze];return s||(s=i[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Et(i){i[it]=!0}var Or=new Set,Pn={};function en(i,s){lr(i,s),lr(i+"Capture",s)}function lr(i,s){for(Pn[i]=s,i=0;i<s.length;i++)Or.add(s[i])}var bi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},ss={};function po(i){return ce.call(ss,i)?!0:ce.call(Nr,i)?!1:bi.test(i)?ss[i]=!0:(Nr[i]=!0,!1)}function da(i,s,u){if(po(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function ha(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function vr(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}var xi,Xr;function Ir(i){if(xi===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);xi=s&&s[1]||"",Xr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xi+i+Xr}var Qr=!1;function lt(i,s){if(!i||Qr)return"";Qr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Z=J}Reflect.construct(i,[],se)}else{try{se.call()}catch(J){Z=J}i.call(se.prototype)}}else{try{throw Error()}catch(J){Z=J}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),A=b[0],N=b[1];if(A&&N){var $=A.split(`
`),X=N.split(`
`);for(p=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(f===$.length||p===X.length)for(f=$.length-1,p=X.length-1;1<=f&&0<=p&&$[f]!==X[p];)p--;for(;1<=f&&0<=p;f--,p--)if($[f]!==X[p]){if(f!==1||p!==1)do if(f--,p--,0>p||$[f]!==X[p]){var ne=`
`+$[f].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=f&&0<=p);break}}}finally{Qr=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ir(u):""}function tn(i){switch(i.tag){case 26:case 27:case 5:return Ir(i.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 15:return lt(i.type,!1);case 11:return lt(i.type.render,!1);case 1:return lt(i.type,!0);case 31:return Ir("Activity");default:return""}}function _i(i){try{var s="";do s+=tn(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function os(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yo(i){var s=os(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,b=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(A){f=""+A,b.call(this,A)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ls(i){i._valueTracker||(i._valueTracker=yo(i))}function vt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=os(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function ma(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vo=/[\n"\\]/g;function Sn(i){return i.replace(vo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function tc(i,s,u,f,p,b,A,N){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+qt(s)):i.value!==""+qt(s)&&(i.value=""+qt(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?rc(i,A,qt(s)):u!=null?rc(i,A,qt(u)):f!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+qt(N):i.removeAttribute("name")}function nc(i,s,u,f,p,b,A,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;u=u!=null?""+qt(u):"",s=s!=null?""+qt(s):u,N||s===i.value||(i.value=s),i.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=N?i.checked:!!f,i.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function rc(i,s,u){s==="number"&&ma(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function us(i,s,u,f){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&f&&(i[u].defaultSelected=!0)}else{for(u=""+qt(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function xd(i,s,u){if(s!=null&&(s=""+qt(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+qt(u):""}function _d(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(Ee(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=qt(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function Zr(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||ga.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function ac(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&u[p]!==f&&ic(i,p,f)}else for(var b in s)s.hasOwnProperty(b)&&ic(i,b,s[b])}function Cl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wi(i){return Ed.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var sc=null;function oc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cs=null,ur=null;function Td(i){var s=Me(i);if(s&&(i=s.stateNode)){var u=i[fe]||null;e:switch(i=s.stateNode,s.type){case"input":if(tc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var p=f[fe]||null;if(!p)throw Error(r(90));tc(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&vt(f)}break e;case"textarea":xd(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&us(i,!!u.multiple,s,!1)}}}var bo=!1;function xo(i,s,u){if(bo)return i(s,u);bo=!0;try{var f=i(s);return f}finally{if(bo=!1,(cs!==null||ur!==null)&&(hh(),cs&&(s=cs,i=ur,ur=cs=null,Td(s),i)))for(s=0;s<i.length;s++)Td(i[s])}}function fs(i,s){var u=i.stateNode;if(u===null)return null;var f=u[fe]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=!1;if(cr)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){pa=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{pa=!1}var Jr=null,kt=null,Ol=null;function Sd(){if(Ol)return Ol;var i,s=kt,u=s.length,f,p="value"in Jr?Jr.value:Jr.textContent,b=p.length;for(i=0;i<u&&s[i]===p[i];i++);var A=u-i;for(f=1;f<=A&&s[u-f]===p[b-f];f++);return Ol=p.slice(i,1<f?1-f:void 0)}function _o(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wo(){return!0}function lc(){return!1}function gn(i){function s(u,f,p,b,A){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?wo:lc,this.isPropagationStopped=lc,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=gn(Wn),To=m({},Wn,{view:0,detail:0}),So=gn(To),Nl,Ao,zi,ko=m({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?(Nl=i.screenX-zi.screenX,Ao=i.screenY-zi.screenY):Ao=Nl=0,zi=i),Nl)},movementY:function(i){return"movementY"in i?i.movementY:Ao}}),Co=gn(ko),pp=m({},ko,{dataTransfer:0}),Ad=gn(pp),Oo=m({},To,{relatedTarget:0}),Il=gn(Oo),kd=m({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=gn(kd),cc=m({},Wn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cd=gn(cc),Rl=m({},Wn,{data:0}),fc=gn(Rl),Od={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Id(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Nd[i])?!!s[i]:!1}function Dl(){return Id}var Rd=m({},To,{key:function(i){if(i.key){var s=Od[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=_o(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ya[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(i){return i.type==="keypress"?_o(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_o(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pl=gn(Rd),fr=m({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=gn(fr),Dd=m({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),hs=gn(Dd),g=m({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=gn(g),S=m({},ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),j=gn(S),W=m({},Wn,{newState:0,oldState:0}),ee=gn(W),de=[9,13,27,32],Fe=cr&&"CompositionEvent"in window,It=null;cr&&"documentMode"in document&&(It=document.documentMode);var mt=cr&&"TextEvent"in window&&!It,nn=cr&&(!Fe||It&&8<It&&11>=It),Rr=" ",Bi=!1;function Ei(i,s){switch(i){case"keyup":return de.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ti(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Si=!1;function hc(i,s){switch(i){case"compositionend":return Ti(s);case"keypress":return s.which!==32?null:(Bi=!0,Rr);case"textInput":return i=s.data,i===Rr&&Bi?null:i;default:return null}}function mj(i,s){if(Si)return i==="compositionend"||!Fe&&Ei(i,s)?(i=Sd(),Ol=kt=Jr=null,Si=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nn&&s.locale!=="ko"?null:s.data;default:return null}}var gj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!gj[i.type]:s==="textarea"}function I1(i,s,u,f){cs?ur?ur.push(f):ur=[f]:cs=f,s=bh(s,"onChange"),0<s.length&&(u=new Eo("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var mc=null,gc=null;function pj(i){fT(i,0)}function Pd(i){var s=ht(i);if(vt(s))return i}function R1(i,s){if(i==="change")return s}var D1=!1;if(cr){var yp;if(cr){var vp="oninput"in document;if(!vp){var P1=document.createElement("div");P1.setAttribute("oninput","return;"),vp=typeof P1.oninput=="function"}yp=vp}else yp=!1;D1=yp&&(!document.documentMode||9<document.documentMode)}function M1(){mc&&(mc.detachEvent("onpropertychange",j1),gc=mc=null)}function j1(i){if(i.propertyName==="value"&&Pd(gc)){var s=[];I1(s,gc,i,oc(i)),xo(pj,s)}}function yj(i,s,u){i==="focusin"?(M1(),mc=s,gc=u,mc.attachEvent("onpropertychange",j1)):i==="focusout"&&M1()}function vj(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pd(gc)}function bj(i,s){if(i==="click")return Pd(s)}function xj(i,s){if(i==="input"||i==="change")return Pd(s)}function _j(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Dr=typeof Object.is=="function"?Object.is:_j;function pc(i,s){if(Dr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!ce.call(s,p)||!Dr(i[p],s[p]))return!1}return!0}function L1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function V1(i,s){var u=L1(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=L1(u)}}function U1(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?U1(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function z1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ma(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=ma(i.document)}return s}function bp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var wj=cr&&"documentMode"in document&&11>=document.documentMode,Ml=null,xp=null,yc=null,_p=!1;function B1(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_p||Ml==null||Ml!==ma(f)||(f=Ml,"selectionStart"in f&&bp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),yc&&pc(yc,f)||(yc=f,f=bh(xp,"onSelect"),0<f.length&&(s=new Eo("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Ml)))}function No(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var jl={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},wp={},q1={};cr&&(q1=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function Io(i){if(wp[i])return wp[i];if(!jl[i])return i;var s=jl[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in q1)return wp[i]=s[u];return i}var $1=Io("animationend"),F1=Io("animationiteration"),H1=Io("animationstart"),Ej=Io("transitionrun"),Tj=Io("transitionstart"),Sj=Io("transitioncancel"),K1=Io("transitionend"),G1=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function Ai(i,s){G1.set(i,s),en(s,[i])}var Y1=new WeakMap;function ei(i,s){if(typeof i=="object"&&i!==null){var u=Y1.get(i);return u!==void 0?u:(s={value:i,source:s,stack:_i(s)},Y1.set(i,s),s)}return{value:i,source:s,stack:_i(s)}}var ti=[],Ll=0,Tp=0;function Md(){for(var i=Ll,s=Tp=Ll=0;s<i;){var u=ti[s];ti[s++]=null;var f=ti[s];ti[s++]=null;var p=ti[s];ti[s++]=null;var b=ti[s];if(ti[s++]=null,f!==null&&p!==null){var A=f.pending;A===null?p.next=p:(p.next=A.next,A.next=p),f.pending=p}b!==0&&W1(u,p,b)}}function jd(i,s,u,f){ti[Ll++]=i,ti[Ll++]=s,ti[Ll++]=u,ti[Ll++]=f,Tp|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Sp(i,s,u,f){return jd(i,s,u,f),Ld(i)}function Vl(i,s){return jd(i,null,null,s),Ld(i)}function W1(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var p=!1,b=i.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&s!==null&&(p=31-Tn(u),i=b.hiddenUpdates,f=i[p],f===null?i[p]=[s]:f.push(s),s.lane=u|536870912),b):null}function Ld(i){if(50<qc)throw qc=0,Iy=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ul={};function Aj(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(i,s,u,f){return new Aj(i,s,u,f)}function Ap(i){return i=i.prototype,!(!i||!i.isReactComponent)}function va(i,s){var u=i.alternate;return u===null?(u=Pr(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function X1(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vd(i,s,u,f,p,b){var A=0;if(f=i,typeof i=="function")Ap(i)&&(A=1);else if(typeof i=="string")A=C4(i,u,_e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Pr(31,u,s,p),i.elementType=D,i.lanes=b,i;case E:return Ro(u.children,p,b,s);case k:A=8,p|=24;break;case T:return i=Pr(12,u,s,p|2),i.elementType=T,i.lanes=b,i;case q:return i=Pr(13,u,s,p),i.elementType=q,i.lanes=b,i;case F:return i=Pr(19,u,s,p),i.elementType=F,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case L:A=10;break e;case M:A=9;break e;case z:A=11;break e;case R:A=14;break e;case O:A=16,f=null;break e}A=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Pr(A,u,s,p),s.elementType=i,s.type=f,s.lanes=b,s}function Ro(i,s,u,f){return i=Pr(7,i,f,s),i.lanes=u,i}function kp(i,s,u){return i=Pr(6,i,null,s),i.lanes=u,i}function Cp(i,s,u){return s=Pr(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var zl=[],Bl=0,Ud=null,zd=0,ni=[],ri=0,Do=null,ba=1,xa="";function Po(i,s){zl[Bl++]=zd,zl[Bl++]=Ud,Ud=i,zd=s}function Q1(i,s,u){ni[ri++]=ba,ni[ri++]=xa,ni[ri++]=Do,Do=i;var f=ba;i=xa;var p=32-Tn(f)-1;f&=~(1<<p),u+=1;var b=32-Tn(s)+p;if(30<b){var A=p-p%5;b=(f&(1<<A)-1).toString(32),f>>=A,p-=A,ba=1<<32-Tn(s)+p|u<<p|f,xa=b+i}else ba=1<<b|u<<p|f,xa=i}function Op(i){i.return!==null&&(Po(i,1),Q1(i,1,0))}function Np(i){for(;i===Ud;)Ud=zl[--Bl],zl[Bl]=null,zd=zl[--Bl],zl[Bl]=null;for(;i===Do;)Do=ni[--ri],ni[ri]=null,xa=ni[--ri],ni[ri]=null,ba=ni[--ri],ni[ri]=null}var dr=null,Xt=null,ft=!1,Mo=null,qi=!1,Ip=Error(r(519));function jo(i){var s=Error(r(418,""));throw xc(ei(s,i)),Ip}function Z1(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[Pt]=i,s[fe]=f,u){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(u=0;u<Fc.length;u++)Ze(Fc[u],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),nc(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ls(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),_d(s,f.value,f.defaultValue,f.children),ls(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||gT(s.textContent,u)?(f.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),f.onScroll!=null&&Ze("scroll",s),f.onScrollEnd!=null&&Ze("scrollend",s),f.onClick!=null&&(s.onclick=xh),s=!0):s=!1,s||jo(i)}function J1(i){for(dr=i.return;dr;)switch(dr.tag){case 5:case 13:qi=!1;return;case 27:case 3:qi=!0;return;default:dr=dr.return}}function vc(i){if(i!==dr)return!1;if(!ft)return J1(i),ft=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Gy(i.type,i.memoizedProps)),u=!u),u&&Xt&&jo(i),J1(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){Xt=Ci(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}Xt=null}}else s===27?(s=Xt,Os(i.type)?(i=Qy,Qy=null,Xt=i):Xt=s):Xt=dr?Ci(i.stateNode.nextSibling):null;return!0}function bc(){Xt=dr=null,ft=!1}function ew(){var i=Mo;return i!==null&&(_r===null?_r=i:_r.push.apply(_r,i),Mo=null),i}function xc(i){Mo===null?Mo=[i]:Mo.push(i)}var Rp=ie(null),Lo=null,_a=null;function ms(i,s,u){he(Rp,s._currentValue),s._currentValue=u}function wa(i){i._currentValue=Rp.current,ae(Rp)}function Dp(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function Pp(i,s,u,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var A=p.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=p;for(var $=0;$<s.length;$++)if(N.context===s[$]){b.lanes|=u,N=b.alternate,N!==null&&(N.lanes|=u),Dp(b.return,u,i),f||(A=null);break e}b=N.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(r(341));A.lanes|=u,b=A.alternate,b!==null&&(b.lanes|=u),Dp(A,u,i),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===i){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function _c(i,s,u,f){i=null;for(var p=s,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var N=p.type;Dr(p.pendingProps.value,A.value)||(i!==null?i.push(N):i=[N])}}else if(p===Gt.current){if(A=p.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Xc):i=[Xc])}p=p.return}i!==null&&Pp(s,i,u,f),s.flags|=262144}function Bd(i){for(i=i.firstContext;i!==null;){if(!Dr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vo(i){Lo=i,_a=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xn(i){return tw(Lo,i)}function qd(i,s){return Lo===null&&Vo(i),tw(i,s)}function tw(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},_a===null){if(i===null)throw Error(r(308));_a=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else _a=_a.next=s;return u}var kj=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},Cj=t.unstable_scheduleCallback,Oj=t.unstable_NormalPriority,pn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mp(){return{controller:new kj,data:new Map,refCount:0}}function wc(i){i.refCount--,i.refCount===0&&Cj(Oj,function(){i.controller.abort()})}var Ec=null,jp=0,ql=0,$l=null;function Nj(i,s){if(Ec===null){var u=Ec=[];jp=0,ql=Vy(),$l={status:"pending",value:void 0,then:function(f){u.push(f)}}}return jp++,s.then(nw,nw),s}function nw(){if(--jp===0&&Ec!==null){$l!==null&&($l.status="fulfilled");var i=Ec;Ec=null,ql=0,$l=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Ij(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<u.length;p++)(0,u[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),f}var rw=Q.S;Q.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Nj(i,s),rw!==null&&rw(i,s)};var Uo=ie(null);function Lp(){var i=Uo.current;return i!==null?i:Ct.pooledCache}function $d(i,s){s===null?he(Uo,Uo.current):he(Uo,s.pool)}function iw(){var i=Lp();return i===null?null:{parent:pn._currentValue,pool:i}}var Tc=Error(r(460)),aw=Error(r(474)),Fd=Error(r(542)),Vp={then:function(){}};function sw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Hd(){}function ow(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Hd,Hd),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,uw(i),i;default:if(typeof s.status=="string")s.then(Hd,Hd);else{if(i=Ct,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,uw(i),i}throw Sc=s,Tc}}var Sc=null;function lw(){if(Sc===null)throw Error(r(459));var i=Sc;return Sc=null,i}function uw(i){if(i===Tc||i===Fd)throw Error(r(483))}var gs=!1;function Up(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ps(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ys(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(gt&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=Ld(i),W1(i,null,u),s}return jd(i,f,s,u),Ld(i)}function Ac(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Ui(i,u)}}function Bp(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?p=b=A:b=b.next=A,u=u.next}while(u!==null);b===null?p=b=s:b=b.next=s}else p=b=s;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var qp=!1;function kc(){if(qp){var i=$l;if(i!==null)throw i}}function Cc(i,s,u,f){qp=!1;var p=i.updateQueue;gs=!1;var b=p.firstBaseUpdate,A=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var $=N,X=$.next;$.next=null,A===null?b=X:A.next=X,A=$;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==A&&(N===null?ne.firstBaseUpdate=X:N.next=X,ne.lastBaseUpdate=$))}if(b!==null){var se=p.baseState;A=0,ne=X=$=null,N=b;do{var Z=N.lane&-536870913,J=Z!==N.lane;if(J?(at&Z)===Z:(f&Z)===Z){Z!==0&&Z===ql&&(qp=!0),ne!==null&&(ne=ne.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ve=i,De=N;Z=s;var _t=u;switch(De.tag){case 1:if(Ve=De.payload,typeof Ve=="function"){se=Ve.call(_t,se,Z);break e}se=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=De.payload,Z=typeof Ve=="function"?Ve.call(_t,se,Z):Ve,Z==null)break e;se=m({},se,Z);break e;case 2:gs=!0}}Z=N.callback,Z!==null&&(i.flags|=64,J&&(i.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(X=ne=J,$=se):ne=ne.next=J,A|=Z;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;J=N,N=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);ne===null&&($=se),p.baseState=$,p.firstBaseUpdate=X,p.lastBaseUpdate=ne,b===null&&(p.shared.lanes=0),Ss|=A,i.lanes=A,i.memoizedState=se}}function cw(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function fw(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)cw(u[i],s)}var Fl=ie(null),Kd=ie(0);function dw(i,s){i=Oa,he(Kd,i),he(Fl,s),Oa=i|s.baseLanes}function $p(){he(Kd,Oa),he(Fl,Fl.current)}function Fp(){Oa=Kd.current,ae(Fl),ae(Kd)}var vs=0,Ye=null,bt=null,ln=null,Gd=!1,Hl=!1,zo=!1,Yd=0,Oc=0,Kl=null,Rj=0;function rn(){throw Error(r(321))}function Hp(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Dr(i[u],s[u]))return!1;return!0}function Kp(i,s,u,f,p,b){return vs=b,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=i===null||i.memoizedState===null?Ww:Xw,zo=!1,b=u(f,p),zo=!1,Hl&&(b=mw(s,u,f,p)),hw(i),b}function hw(i){Q.H=eh;var s=bt!==null&&bt.next!==null;if(vs=0,ln=bt=Ye=null,Gd=!1,Oc=0,Kl=null,s)throw Error(r(300));i===null||An||(i=i.dependencies,i!==null&&Bd(i)&&(An=!0))}function mw(i,s,u,f){Ye=i;var p=0;do{if(Hl&&(Kl=null),Oc=0,Hl=!1,25<=p)throw Error(r(301));if(p+=1,ln=bt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Q.H=Uj,b=s(u,f)}while(Hl);return b}function Dj(){var i=Q.H,s=i.useState()[0];return s=typeof s.then=="function"?Nc(s):s,i=i.useState()[0],(bt!==null?bt.memoizedState:null)!==i&&(Ye.flags|=1024),s}function Gp(){var i=Yd!==0;return Yd=0,i}function Yp(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Wp(i){if(Gd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Gd=!1}vs=0,ln=bt=Ye=null,Hl=!1,Oc=Yd=0,Kl=null}function br(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ye.memoizedState=ln=i:ln=ln.next=i,ln}function un(){if(bt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var s=ln===null?Ye.memoizedState:ln.next;if(s!==null)ln=s,bt=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},ln===null?Ye.memoizedState=ln=i:ln=ln.next=i}return ln}function Xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nc(i){var s=Oc;return Oc+=1,Kl===null&&(Kl=[]),i=ow(Kl,i,s),s=Ye,(ln===null?s.memoizedState:ln.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?Ww:Xw),i}function Wd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nc(i);if(i.$$typeof===L)return Xn(i)}throw Error(r(438,String(i)))}function Qp(i){var s=null,u=Ye.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Ye.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Xp(),Ye.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=U;return s.index++,u}function Ea(i,s){return typeof s=="function"?s(i):s}function Xd(i){var s=un();return Zp(s,bt,i)}function Zp(i,s,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var p=i.baseQueue,b=f.pending;if(b!==null){if(p!==null){var A=p.next;p.next=b.next,b.next=A}s.baseQueue=p=b,f.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{s=p.next;var N=A=null,$=null,X=s,ne=!1;do{var se=X.lane&-536870913;if(se!==X.lane?(at&se)===se:(vs&se)===se){var Z=X.revertLane;if(Z===0)$!==null&&($=$.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),se===ql&&(ne=!0);else if((vs&Z)===Z){X=X.next,Z===ql&&(ne=!0);continue}else se={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(N=$=se,A=b):$=$.next=se,Ye.lanes|=Z,Ss|=Z;se=X.action,zo&&u(b,se),b=X.hasEagerState?X.eagerState:u(b,se)}else Z={lane:se,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(N=$=Z,A=b):$=$.next=Z,Ye.lanes|=se,Ss|=se;X=X.next}while(X!==null&&X!==s);if($===null?A=b:$.next=N,!Dr(b,i.memoizedState)&&(An=!0,ne&&(u=$l,u!==null)))throw u;i.memoizedState=b,i.baseState=A,i.baseQueue=$,f.lastRenderedState=b}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Jp(i){var s=un(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,p=u.pending,b=s.memoizedState;if(p!==null){u.pending=null;var A=p=p.next;do b=i(b,A.action),A=A.next;while(A!==p);Dr(b,s.memoizedState)||(An=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,f]}function gw(i,s,u){var f=Ye,p=un(),b=ft;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=s();var A=!Dr((bt||p).memoizedState,u);A&&(p.memoizedState=u,An=!0),p=p.queue;var N=vw.bind(null,f,p,i);if(Ic(2048,8,N,[i]),p.getSnapshot!==s||A||ln!==null&&ln.memoizedState.tag&1){if(f.flags|=2048,Gl(9,Qd(),yw.bind(null,f,p,u,s),null),Ct===null)throw Error(r(349));b||(vs&124)!==0||pw(f,s,u)}return u}function pw(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ye.updateQueue,s===null?(s=Xp(),Ye.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function yw(i,s,u,f){s.value=u,s.getSnapshot=f,bw(s)&&xw(i)}function vw(i,s,u){return u(function(){bw(s)&&xw(i)})}function bw(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Dr(i,u)}catch{return!0}}function xw(i){var s=Vl(i,2);s!==null&&Ur(s,i,2)}function ey(i){var s=br();if(typeof i=="function"){var u=i;if(i=u(),zo){Wt(!0);try{u()}finally{Wt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:i},s}function _w(i,s,u,f){return i.baseState=u,Zp(i,bt,typeof f=="function"?f:Ea)}function Pj(i,s,u,f,p){if(Jd(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};Q.T!==null?u(!0):b.isTransition=!1,f(b),u=s.pending,u===null?(b.next=s.pending=b,ww(s,b)):(b.next=u.next,s.pending=u.next=b)}}function ww(i,s){var u=s.action,f=s.payload,p=i.state;if(s.isTransition){var b=Q.T,A={};Q.T=A;try{var N=u(p,f),$=Q.S;$!==null&&$(A,N),Ew(i,s,N)}catch(X){ty(i,s,X)}finally{Q.T=b}}else try{b=u(p,f),Ew(i,s,b)}catch(X){ty(i,s,X)}}function Ew(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Tw(i,s,f)},function(f){return ty(i,s,f)}):Tw(i,s,u)}function Tw(i,s,u){s.status="fulfilled",s.value=u,Sw(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,ww(i,u)))}function ty(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,Sw(s),s=s.next;while(s!==f)}i.action=null}function Sw(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Aw(i,s){return s}function kw(i,s){if(ft){var u=Ct.formState;if(u!==null){e:{var f=Ye;if(ft){if(Xt){t:{for(var p=Xt,b=qi;p.nodeType!==8;){if(!b){p=null;break t}if(p=Ci(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){Xt=Ci(p.nextSibling),f=p.data==="F!";break e}}jo(f)}f=!1}f&&(s=u[0])}}return u=br(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aw,lastRenderedState:s},u.queue=f,u=Kw.bind(null,Ye,f),f.dispatch=u,f=ey(!1),b=sy.bind(null,Ye,!1,f.queue),f=br(),p={state:s,dispatch:null,action:i,pending:null},f.queue=p,u=Pj.bind(null,Ye,p,b,u),p.dispatch=u,f.memoizedState=i,[s,u,!1]}function Cw(i){var s=un();return Ow(s,bt,i)}function Ow(i,s,u){if(s=Zp(i,s,Aw)[0],i=Xd(Ea)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Nc(s)}catch(A){throw A===Tc?Fd:A}else f=s;s=un();var p=s.queue,b=p.dispatch;return u!==s.memoizedState&&(Ye.flags|=2048,Gl(9,Qd(),Mj.bind(null,p,u),null)),[f,b,i]}function Mj(i,s){i.action=s}function Nw(i){var s=un(),u=bt;if(u!==null)return Ow(s,u,i);un(),s=s.memoizedState,u=un();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function Gl(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=Xp(),Ye.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function Qd(){return{destroy:void 0,resource:void 0}}function Iw(){return un().memoizedState}function Zd(i,s,u,f){var p=br();f=f===void 0?null:f,Ye.flags|=i,p.memoizedState=Gl(1|s,Qd(),u,f)}function Ic(i,s,u,f){var p=un();f=f===void 0?null:f;var b=p.memoizedState.inst;bt!==null&&f!==null&&Hp(f,bt.memoizedState.deps)?p.memoizedState=Gl(s,b,u,f):(Ye.flags|=i,p.memoizedState=Gl(1|s,b,u,f))}function Rw(i,s){Zd(8390656,8,i,s)}function Dw(i,s){Ic(2048,8,i,s)}function Pw(i,s){return Ic(4,2,i,s)}function Mw(i,s){return Ic(4,4,i,s)}function jw(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Lw(i,s,u){u=u!=null?u.concat([i]):null,Ic(4,4,jw.bind(null,s,i),u)}function ny(){}function Vw(i,s){var u=un();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&Hp(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function Uw(i,s){var u=un();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&Hp(s,f[1]))return f[0];if(f=i(),zo){Wt(!0);try{i()}finally{Wt(!1)}}return u.memoizedState=[f,s],f}function ry(i,s,u){return u===void 0||(vs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=qE(),Ye.lanes|=i,Ss|=i,u)}function zw(i,s,u,f){return Dr(u,s)?u:Fl.current!==null?(i=ry(i,u,f),Dr(i,s)||(An=!0),i):(vs&42)===0?(An=!0,i.memoizedState=u):(i=qE(),Ye.lanes|=i,Ss|=i,s)}function Bw(i,s,u,f,p){var b=ue.p;ue.p=b!==0&&8>b?b:8;var A=Q.T,N={};Q.T=N,sy(i,!1,s,u);try{var $=p(),X=Q.S;if(X!==null&&X(N,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ne=Ij($,f);Rc(i,s,ne,Vr(i))}else Rc(i,s,f,Vr(i))}catch(se){Rc(i,s,{then:function(){},status:"rejected",reason:se},Vr())}finally{ue.p=b,Q.T=A}}function jj(){}function iy(i,s,u,f){if(i.tag!==5)throw Error(r(476));var p=qw(i).queue;Bw(i,p,s,ge,u===null?jj:function(){return $w(i),u(f)})}function qw(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ge},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function $w(i){var s=qw(i).next.queue;Rc(i,s,{},Vr())}function ay(){return Xn(Xc)}function Fw(){return un().memoizedState}function Hw(){return un().memoizedState}function Lj(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Vr();i=ps(u);var f=ys(s,i,u);f!==null&&(Ur(f,s,u),Ac(f,s,u)),s={cache:Mp()},i.payload=s;return}s=s.return}}function Vj(i,s,u){var f=Vr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Jd(i)?Gw(s,u):(u=Sp(i,s,u,f),u!==null&&(Ur(u,i,f),Yw(u,s,f)))}function Kw(i,s,u){var f=Vr();Rc(i,s,u,f)}function Rc(i,s,u,f){var p={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jd(i))Gw(s,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var A=s.lastRenderedState,N=b(A,u);if(p.hasEagerState=!0,p.eagerState=N,Dr(N,A))return jd(i,s,p,0),Ct===null&&Md(),!1}catch{}finally{}if(u=Sp(i,s,p,f),u!==null)return Ur(u,i,f),Yw(u,s,f),!0}return!1}function sy(i,s,u,f){if(f={lane:2,revertLane:Vy(),action:f,hasEagerState:!1,eagerState:null,next:null},Jd(i)){if(s)throw Error(r(479))}else s=Sp(i,u,f,2),s!==null&&Ur(s,i,2)}function Jd(i){var s=i.alternate;return i===Ye||s!==null&&s===Ye}function Gw(i,s){Hl=Gd=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Yw(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Ui(i,u)}}var eh={readContext:Xn,use:Wd,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},Ww={readContext:Xn,use:Wd,useCallback:function(i,s){return br().memoizedState=[i,s===void 0?null:s],i},useContext:Xn,useEffect:Rw,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Zd(4194308,4,jw.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Zd(4194308,4,i,s)},useInsertionEffect:function(i,s){Zd(4,2,i,s)},useMemo:function(i,s){var u=br();s=s===void 0?null:s;var f=i();if(zo){Wt(!0);try{i()}finally{Wt(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=br();if(u!==void 0){var p=u(s);if(zo){Wt(!0);try{u(s)}finally{Wt(!1)}}}else p=s;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=Vj.bind(null,Ye,i),[f.memoizedState,i]},useRef:function(i){var s=br();return i={current:i},s.memoizedState=i},useState:function(i){i=ey(i);var s=i.queue,u=Kw.bind(null,Ye,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:ny,useDeferredValue:function(i,s){var u=br();return ry(u,i,s)},useTransition:function(){var i=ey(!1);return i=Bw.bind(null,Ye,i.queue,!0,!1),br().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=Ye,p=br();if(ft){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Ct===null)throw Error(r(349));(at&124)!==0||pw(f,s,u)}p.memoizedState=u;var b={value:u,getSnapshot:s};return p.queue=b,Rw(vw.bind(null,f,b,i),[i]),f.flags|=2048,Gl(9,Qd(),yw.bind(null,f,b,u,s),null),u},useId:function(){var i=br(),s=Ct.identifierPrefix;if(ft){var u=xa,f=ba;u=(f&~(1<<32-Tn(f)-1)).toString(32)+u,s="«"+s+"R"+u,u=Yd++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=Rj++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:ay,useFormState:kw,useActionState:kw,useOptimistic:function(i){var s=br();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=sy.bind(null,Ye,!0,u),u.dispatch=s,[i,s]},useMemoCache:Qp,useCacheRefresh:function(){return br().memoizedState=Lj.bind(null,Ye)}},Xw={readContext:Xn,use:Wd,useCallback:Vw,useContext:Xn,useEffect:Dw,useImperativeHandle:Lw,useInsertionEffect:Pw,useLayoutEffect:Mw,useMemo:Uw,useReducer:Xd,useRef:Iw,useState:function(){return Xd(Ea)},useDebugValue:ny,useDeferredValue:function(i,s){var u=un();return zw(u,bt.memoizedState,i,s)},useTransition:function(){var i=Xd(Ea)[0],s=un().memoizedState;return[typeof i=="boolean"?i:Nc(i),s]},useSyncExternalStore:gw,useId:Fw,useHostTransitionStatus:ay,useFormState:Cw,useActionState:Cw,useOptimistic:function(i,s){var u=un();return _w(u,bt,i,s)},useMemoCache:Qp,useCacheRefresh:Hw},Uj={readContext:Xn,use:Wd,useCallback:Vw,useContext:Xn,useEffect:Dw,useImperativeHandle:Lw,useInsertionEffect:Pw,useLayoutEffect:Mw,useMemo:Uw,useReducer:Jp,useRef:Iw,useState:function(){return Jp(Ea)},useDebugValue:ny,useDeferredValue:function(i,s){var u=un();return bt===null?ry(u,i,s):zw(u,bt.memoizedState,i,s)},useTransition:function(){var i=Jp(Ea)[0],s=un().memoizedState;return[typeof i=="boolean"?i:Nc(i),s]},useSyncExternalStore:gw,useId:Fw,useHostTransitionStatus:ay,useFormState:Nw,useActionState:Nw,useOptimistic:function(i,s){var u=un();return bt!==null?_w(u,bt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Qp,useCacheRefresh:Hw},Yl=null,Dc=0;function th(i){var s=Dc;return Dc+=1,Yl===null&&(Yl=[]),ow(Yl,i,s)}function Pc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function nh(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Qw(i){var s=i._init;return s(i._payload)}function Zw(i){function s(G,K){if(i){var Y=G.deletions;Y===null?(G.deletions=[K],G.flags|=16):Y.push(K)}}function u(G,K){if(!i)return null;for(;K!==null;)s(G,K),K=K.sibling;return null}function f(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function p(G,K){return G=va(G,K),G.index=0,G.sibling=null,G}function b(G,K,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<K?(G.flags|=67108866,K):Y):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function A(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function N(G,K,Y,re){return K===null||K.tag!==6?(K=kp(Y,G.mode,re),K.return=G,K):(K=p(K,Y),K.return=G,K)}function $(G,K,Y,re){var xe=Y.type;return xe===E?ne(G,K,Y.props.children,re,Y.key):K!==null&&(K.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===O&&Qw(xe)===K.type)?(K=p(K,Y.props),Pc(K,Y),K.return=G,K):(K=Vd(Y.type,Y.key,Y.props,null,G.mode,re),Pc(K,Y),K.return=G,K)}function X(G,K,Y,re){return K===null||K.tag!==4||K.stateNode.containerInfo!==Y.containerInfo||K.stateNode.implementation!==Y.implementation?(K=Cp(Y,G.mode,re),K.return=G,K):(K=p(K,Y.children||[]),K.return=G,K)}function ne(G,K,Y,re,xe){return K===null||K.tag!==7?(K=Ro(Y,G.mode,re,xe),K.return=G,K):(K=p(K,Y),K.return=G,K)}function se(G,K,Y){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=kp(""+K,G.mode,Y),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return Y=Vd(K.type,K.key,K.props,null,G.mode,Y),Pc(Y,K),Y.return=G,Y;case _:return K=Cp(K,G.mode,Y),K.return=G,K;case O:var re=K._init;return K=re(K._payload),se(G,K,Y)}if(Ee(K)||B(K))return K=Ro(K,G.mode,Y,null),K.return=G,K;if(typeof K.then=="function")return se(G,th(K),Y);if(K.$$typeof===L)return se(G,qd(G,K),Y);nh(G,K)}return null}function Z(G,K,Y,re){var xe=K!==null?K.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:N(G,K,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===xe?$(G,K,Y,re):null;case _:return Y.key===xe?X(G,K,Y,re):null;case O:return xe=Y._init,Y=xe(Y._payload),Z(G,K,Y,re)}if(Ee(Y)||B(Y))return xe!==null?null:ne(G,K,Y,re,null);if(typeof Y.then=="function")return Z(G,K,th(Y),re);if(Y.$$typeof===L)return Z(G,K,qd(G,Y),re);nh(G,Y)}return null}function J(G,K,Y,re,xe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Y)||null,N(K,G,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return G=G.get(re.key===null?Y:re.key)||null,$(K,G,re,xe);case _:return G=G.get(re.key===null?Y:re.key)||null,X(K,G,re,xe);case O:var We=re._init;return re=We(re._payload),J(G,K,Y,re,xe)}if(Ee(re)||B(re))return G=G.get(Y)||null,ne(K,G,re,xe,null);if(typeof re.then=="function")return J(G,K,Y,th(re),xe);if(re.$$typeof===L)return J(G,K,Y,qd(K,re),xe);nh(K,re)}return null}function Ve(G,K,Y,re){for(var xe=null,We=null,Te=K,Pe=K=0,Cn=null;Te!==null&&Pe<Y.length;Pe++){Te.index>Pe?(Cn=Te,Te=null):Cn=Te.sibling;var ut=Z(G,Te,Y[Pe],re);if(ut===null){Te===null&&(Te=Cn);break}i&&Te&&ut.alternate===null&&s(G,Te),K=b(ut,K,Pe),We===null?xe=ut:We.sibling=ut,We=ut,Te=Cn}if(Pe===Y.length)return u(G,Te),ft&&Po(G,Pe),xe;if(Te===null){for(;Pe<Y.length;Pe++)Te=se(G,Y[Pe],re),Te!==null&&(K=b(Te,K,Pe),We===null?xe=Te:We.sibling=Te,We=Te);return ft&&Po(G,Pe),xe}for(Te=f(Te);Pe<Y.length;Pe++)Cn=J(Te,G,Pe,Y[Pe],re),Cn!==null&&(i&&Cn.alternate!==null&&Te.delete(Cn.key===null?Pe:Cn.key),K=b(Cn,K,Pe),We===null?xe=Cn:We.sibling=Cn,We=Cn);return i&&Te.forEach(function(Ps){return s(G,Ps)}),ft&&Po(G,Pe),xe}function De(G,K,Y,re){if(Y==null)throw Error(r(151));for(var xe=null,We=null,Te=K,Pe=K=0,Cn=null,ut=Y.next();Te!==null&&!ut.done;Pe++,ut=Y.next()){Te.index>Pe?(Cn=Te,Te=null):Cn=Te.sibling;var Ps=Z(G,Te,ut.value,re);if(Ps===null){Te===null&&(Te=Cn);break}i&&Te&&Ps.alternate===null&&s(G,Te),K=b(Ps,K,Pe),We===null?xe=Ps:We.sibling=Ps,We=Ps,Te=Cn}if(ut.done)return u(G,Te),ft&&Po(G,Pe),xe;if(Te===null){for(;!ut.done;Pe++,ut=Y.next())ut=se(G,ut.value,re),ut!==null&&(K=b(ut,K,Pe),We===null?xe=ut:We.sibling=ut,We=ut);return ft&&Po(G,Pe),xe}for(Te=f(Te);!ut.done;Pe++,ut=Y.next())ut=J(Te,G,Pe,ut.value,re),ut!==null&&(i&&ut.alternate!==null&&Te.delete(ut.key===null?Pe:ut.key),K=b(ut,K,Pe),We===null?xe=ut:We.sibling=ut,We=ut);return i&&Te.forEach(function(z4){return s(G,z4)}),ft&&Po(G,Pe),xe}function _t(G,K,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===E&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var xe=Y.key;K!==null;){if(K.key===xe){if(xe=Y.type,xe===E){if(K.tag===7){u(G,K.sibling),re=p(K,Y.props.children),re.return=G,G=re;break e}}else if(K.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===O&&Qw(xe)===K.type){u(G,K.sibling),re=p(K,Y.props),Pc(re,Y),re.return=G,G=re;break e}u(G,K);break}else s(G,K);K=K.sibling}Y.type===E?(re=Ro(Y.props.children,G.mode,re,Y.key),re.return=G,G=re):(re=Vd(Y.type,Y.key,Y.props,null,G.mode,re),Pc(re,Y),re.return=G,G=re)}return A(G);case _:e:{for(xe=Y.key;K!==null;){if(K.key===xe)if(K.tag===4&&K.stateNode.containerInfo===Y.containerInfo&&K.stateNode.implementation===Y.implementation){u(G,K.sibling),re=p(K,Y.children||[]),re.return=G,G=re;break e}else{u(G,K);break}else s(G,K);K=K.sibling}re=Cp(Y,G.mode,re),re.return=G,G=re}return A(G);case O:return xe=Y._init,Y=xe(Y._payload),_t(G,K,Y,re)}if(Ee(Y))return Ve(G,K,Y,re);if(B(Y)){if(xe=B(Y),typeof xe!="function")throw Error(r(150));return Y=xe.call(Y),De(G,K,Y,re)}if(typeof Y.then=="function")return _t(G,K,th(Y),re);if(Y.$$typeof===L)return _t(G,K,qd(G,Y),re);nh(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,K!==null&&K.tag===6?(u(G,K.sibling),re=p(K,Y),re.return=G,G=re):(u(G,K),re=kp(Y,G.mode,re),re.return=G,G=re),A(G)):u(G,K)}return function(G,K,Y,re){try{Dc=0;var xe=_t(G,K,Y,re);return Yl=null,xe}catch(Te){if(Te===Tc||Te===Fd)throw Te;var We=Pr(29,Te,null,G.mode);return We.lanes=re,We.return=G,We}finally{}}}var Wl=Zw(!0),Jw=Zw(!1),ii=ie(null),$i=null;function bs(i){var s=i.alternate;he(yn,yn.current&1),he(ii,i),$i===null&&(s===null||Fl.current!==null||s.memoizedState!==null)&&($i=i)}function eE(i){if(i.tag===22){if(he(yn,yn.current),he(ii,i),$i===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&($i=i)}}else xs()}function xs(){he(yn,yn.current),he(ii,ii.current)}function Ta(i){ae(ii),$i===i&&($i=null),ae(yn)}var yn=ie(0);function rh(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Xy(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function oy(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:m({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ly={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=Vr(),p=ps(f);p.payload=s,u!=null&&(p.callback=u),s=ys(i,p,f),s!==null&&(Ur(s,i,f),Ac(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=Vr(),p=ps(f);p.tag=1,p.payload=s,u!=null&&(p.callback=u),s=ys(i,p,f),s!==null&&(Ur(s,i,f),Ac(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Vr(),f=ps(u);f.tag=2,s!=null&&(f.callback=s),s=ys(i,f,u),s!==null&&(Ur(s,i,u),Ac(s,i,u))}};function tE(i,s,u,f,p,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,A):s.prototype&&s.prototype.isPureReactComponent?!pc(u,f)||!pc(p,b):!0}function nE(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&ly.enqueueReplaceState(s,s.state,null)}function Bo(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=m({},u));for(var p in i)u[p]===void 0&&(u[p]=i[p])}return u}var ih=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function rE(i){ih(i)}function iE(i){console.error(i)}function aE(i){ih(i)}function ah(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function sE(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function uy(i,s,u){return u=ps(u),u.tag=3,u.payload={element:null},u.callback=function(){ah(i,s)},u}function oE(i){return i=ps(i),i.tag=3,i}function lE(i,s,u,f){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var b=f.value;i.payload=function(){return p(b)},i.callback=function(){sE(s,u,f)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){sE(s,u,f),typeof p!="function"&&(As===null?As=new Set([this]):As.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function zj(i,s,u,f,p){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&_c(s,u,p,!0),u=ii.current,u!==null){switch(u.tag){case 13:return $i===null?Dy():u.alternate===null&&Qt===0&&(Qt=3),u.flags&=-257,u.flags|=65536,u.lanes=p,f===Vp?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),My(i,f,p)),!1;case 22:return u.flags|=65536,f===Vp?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),My(i,f,p)),!1}throw Error(r(435,u.tag))}return My(i,f,p),Dy(),!1}if(ft)return s=ii.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==Ip&&(i=Error(r(422),{cause:f}),xc(ei(i,u)))):(f!==Ip&&(s=Error(r(423),{cause:f}),xc(ei(s,u))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=ei(f,u),p=uy(i.stateNode,f,p),Bp(i,p),Qt!==4&&(Qt=2)),!1;var b=Error(r(520),{cause:f});if(b=ei(b,u),Bc===null?Bc=[b]:Bc.push(b),Qt!==4&&(Qt=2),s===null)return!0;f=ei(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=p&-p,u.lanes|=i,i=uy(u.stateNode,f,i),Bp(u,i),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(As===null||!As.has(b))))return u.flags|=65536,p&=-p,u.lanes|=p,p=oE(p),lE(p,i,u,f),Bp(u,p),!1}u=u.return}while(u!==null);return!1}var uE=Error(r(461)),An=!1;function Mn(i,s,u,f){s.child=i===null?Jw(s,null,u,f):Wl(s,i.child,u,f)}function cE(i,s,u,f,p){u=u.render;var b=s.ref;if("ref"in f){var A={};for(var N in f)N!=="ref"&&(A[N]=f[N])}else A=f;return Vo(s),f=Kp(i,s,u,A,b,p),N=Gp(),i!==null&&!An?(Yp(i,s,p),Sa(i,s,p)):(ft&&N&&Op(s),s.flags|=1,Mn(i,s,f,p),s.child)}function fE(i,s,u,f,p){if(i===null){var b=u.type;return typeof b=="function"&&!Ap(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,dE(i,s,b,f,p)):(i=Vd(u.type,null,f,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!yy(i,p)){var A=b.memoizedProps;if(u=u.compare,u=u!==null?u:pc,u(A,f)&&i.ref===s.ref)return Sa(i,s,p)}return s.flags|=1,i=va(b,f),i.ref=s.ref,i.return=s,s.child=i}function dE(i,s,u,f,p){if(i!==null){var b=i.memoizedProps;if(pc(b,f)&&i.ref===s.ref)if(An=!1,s.pendingProps=f=b,yy(i,p))(i.flags&131072)!==0&&(An=!0);else return s.lanes=i.lanes,Sa(i,s,p)}return cy(i,s,u,f,p)}function hE(i,s,u){var f=s.pendingProps,p=f.children,b=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,i!==null){for(p=s.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;s.childLanes=b&~f}else s.childLanes=0,s.child=null;return mE(i,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&$d(s,b!==null?b.cachePool:null),b!==null?dw(s,b):$p(),eE(s);else return s.lanes=s.childLanes=536870912,mE(i,s,b!==null?b.baseLanes|u:u,u)}else b!==null?($d(s,b.cachePool),dw(s,b),xs(),s.memoizedState=null):(i!==null&&$d(s,null),$p(),xs());return Mn(i,s,p,u),s.child}function mE(i,s,u,f){var p=Lp();return p=p===null?null:{parent:pn._currentValue,pool:p},s.memoizedState={baseLanes:u,cachePool:p},i!==null&&$d(s,null),$p(),eE(s),i!==null&&_c(i,s,f,!0),null}function sh(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function cy(i,s,u,f,p){return Vo(s),u=Kp(i,s,u,f,void 0,p),f=Gp(),i!==null&&!An?(Yp(i,s,p),Sa(i,s,p)):(ft&&f&&Op(s),s.flags|=1,Mn(i,s,u,p),s.child)}function gE(i,s,u,f,p,b){return Vo(s),s.updateQueue=null,u=mw(s,f,u,p),hw(i),f=Gp(),i!==null&&!An?(Yp(i,s,b),Sa(i,s,b)):(ft&&f&&Op(s),s.flags|=1,Mn(i,s,u,b),s.child)}function pE(i,s,u,f,p){if(Vo(s),s.stateNode===null){var b=Ul,A=u.contextType;typeof A=="object"&&A!==null&&(b=Xn(A)),b=new u(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ly,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},Up(s),A=u.contextType,b.context=typeof A=="object"&&A!==null?Xn(A):Ul,b.state=s.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(oy(s,u,A,f),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&ly.enqueueReplaceState(b,b.state,null),Cc(s,f,b,p),kc(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){b=s.stateNode;var N=s.memoizedProps,$=Bo(u,N);b.props=$;var X=b.context,ne=u.contextType;A=Ul,typeof ne=="object"&&ne!==null&&(A=Xn(ne));var se=u.getDerivedStateFromProps;ne=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||X!==A)&&nE(s,b,f,A),gs=!1;var Z=s.memoizedState;b.state=Z,Cc(s,f,b,p),kc(),X=s.memoizedState,N||Z!==X||gs?(typeof se=="function"&&(oy(s,u,se,f),X=s.memoizedState),($=gs||tE(s,u,$,f,Z,X,A))?(ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=X),b.props=f,b.state=X,b.context=A,f=$):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,zp(i,s),A=s.memoizedProps,ne=Bo(u,A),b.props=ne,se=s.pendingProps,Z=b.context,X=u.contextType,$=Ul,typeof X=="object"&&X!==null&&($=Xn(X)),N=u.getDerivedStateFromProps,(X=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==se||Z!==$)&&nE(s,b,f,$),gs=!1,Z=s.memoizedState,b.state=Z,Cc(s,f,b,p),kc();var J=s.memoizedState;A!==se||Z!==J||gs||i!==null&&i.dependencies!==null&&Bd(i.dependencies)?(typeof N=="function"&&(oy(s,u,N,f),J=s.memoizedState),(ne=gs||tE(s,u,ne,f,Z,J,$)||i!==null&&i.dependencies!==null&&Bd(i.dependencies))?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,J,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,J,$)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=J),b.props=f,b.state=J,b.context=$,f=ne):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),f=!1)}return b=f,sh(i,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&f?(s.child=Wl(s,i.child,null,p),s.child=Wl(s,null,u,p)):Mn(i,s,u,p),s.memoizedState=b.state,i=s.child):i=Sa(i,s,p),i}function yE(i,s,u,f){return bc(),s.flags|=256,Mn(i,s,u,f),s.child}var fy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dy(i){return{baseLanes:i,cachePool:iw()}}function hy(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=ai),i}function vE(i,s,u){var f=s.pendingProps,p=!1,b=(s.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(yn.current&2)!==0),A&&(p=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(ft){if(p?bs(s):xs(),ft){var N=Xt,$;if($=N){e:{for($=N,N=qi;$.nodeType!==8;){if(!N){N=null;break e}if($=Ci($.nextSibling),$===null){N=null;break e}}N=$}N!==null?(s.memoizedState={dehydrated:N,treeContext:Do!==null?{id:ba,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},$=Pr(18,null,null,0),$.stateNode=N,$.return=s,s.child=$,dr=s,Xt=null,$=!0):$=!1}$||jo(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Xy(N)?s.lanes=32:s.lanes=536870912,null;Ta(s)}return N=f.children,f=f.fallback,p?(xs(),p=s.mode,N=oh({mode:"hidden",children:N},p),f=Ro(f,p,u,null),N.return=s,f.return=s,N.sibling=f,s.child=N,p=s.child,p.memoizedState=dy(u),p.childLanes=hy(i,A,u),s.memoizedState=fy,f):(bs(s),my(s,N))}if($=i.memoizedState,$!==null&&(N=$.dehydrated,N!==null)){if(b)s.flags&256?(bs(s),s.flags&=-257,s=gy(i,s,u)):s.memoizedState!==null?(xs(),s.child=i.child,s.flags|=128,s=null):(xs(),p=f.fallback,N=s.mode,f=oh({mode:"visible",children:f.children},N),p=Ro(p,N,u,null),p.flags|=2,f.return=s,p.return=s,f.sibling=p,s.child=f,Wl(s,i.child,null,u),f=s.child,f.memoizedState=dy(u),f.childLanes=hy(i,A,u),s.memoizedState=fy,s=p);else if(bs(s),Xy(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var X=A.dgst;A=X,f=Error(r(419)),f.stack="",f.digest=A,xc({value:f,source:null,stack:null}),s=gy(i,s,u)}else if(An||_c(i,s,u,!1),A=(u&i.childLanes)!==0,An||A){if(A=Ct,A!==null&&(f=u&-u,f=(f&42)!==0?1:go(f),f=(f&(A.suspendedLanes|u))!==0?0:f,f!==0&&f!==$.retryLane))throw $.retryLane=f,Vl(i,f),Ur(A,i,f),uE;N.data==="$?"||Dy(),s=gy(i,s,u)}else N.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=$.treeContext,Xt=Ci(N.nextSibling),dr=s,ft=!0,Mo=null,qi=!1,i!==null&&(ni[ri++]=ba,ni[ri++]=xa,ni[ri++]=Do,ba=i.id,xa=i.overflow,Do=s),s=my(s,f.children),s.flags|=4096);return s}return p?(xs(),p=f.fallback,N=s.mode,$=i.child,X=$.sibling,f=va($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,X!==null?p=va(X,p):(p=Ro(p,N,u,null),p.flags|=2),p.return=s,f.return=s,f.sibling=p,s.child=f,f=p,p=s.child,N=i.child.memoizedState,N===null?N=dy(u):($=N.cachePool,$!==null?(X=pn._currentValue,$=$.parent!==X?{parent:X,pool:X}:$):$=iw(),N={baseLanes:N.baseLanes|u,cachePool:$}),p.memoizedState=N,p.childLanes=hy(i,A,u),s.memoizedState=fy,f):(bs(s),u=i.child,i=u.sibling,u=va(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=u,s.memoizedState=null,u)}function my(i,s){return s=oh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function oh(i,s){return i=Pr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function gy(i,s,u){return Wl(s,i.child,null,u),i=my(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function bE(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Dp(i.return,s,u)}function py(i,s,u,f,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=p)}function xE(i,s,u){var f=s.pendingProps,p=f.revealOrder,b=f.tail;if(Mn(i,s,f.children,u),f=yn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bE(i,u,s);else if(i.tag===19)bE(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(he(yn,f),p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&rh(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),py(s,!1,p,u,b);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&rh(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}py(s,!0,u,null,b);break;case"together":py(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Sa(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Ss|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(_c(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=va(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=va(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function yy(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Bd(i)))}function Bj(i,s,u){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),ms(s,pn,i.memoizedState.cache),bc();break;case 27:case 5:qe(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:ms(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(bs(s),s.flags|=128,null):(u&s.child.childLanes)!==0?vE(i,s,u):(bs(s),i=Sa(i,s,u),i!==null?i.sibling:null);bs(s);break;case 19:var p=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(_c(i,s,u,!1),f=(u&s.childLanes)!==0),p){if(f)return xE(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),he(yn,yn.current),f)break;return null;case 22:case 23:return s.lanes=0,hE(i,s,u);case 24:ms(s,pn,i.memoizedState.cache)}return Sa(i,s,u)}function _E(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)An=!0;else{if(!yy(i,u)&&(s.flags&128)===0)return An=!1,Bj(i,s,u);An=(i.flags&131072)!==0}else An=!1,ft&&(s.flags&1048576)!==0&&Q1(s,zd,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,p=f._init;if(f=p(f._payload),s.type=f,typeof f=="function")Ap(f)?(i=Bo(f,i),s.tag=1,s=pE(null,s,f,i,u)):(s.tag=0,s=cy(null,s,f,i,u));else{if(f!=null){if(p=f.$$typeof,p===z){s.tag=11,s=cE(null,s,f,i,u);break e}else if(p===R){s.tag=14,s=fE(null,s,f,i,u);break e}}throw s=pe(f)||f,Error(r(306,s,""))}}return s;case 0:return cy(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,p=Bo(f,s.pendingProps),pE(i,s,f,p,u);case 3:e:{if(ot(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var b=s.memoizedState;p=b.element,zp(i,s),Cc(s,f,null,u);var A=s.memoizedState;if(f=A.cache,ms(s,pn,f),f!==b.cache&&Pp(s,[pn],u,!0),kc(),f=A.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=yE(i,s,f,u);break e}else if(f!==p){p=ei(Error(r(424)),s),xc(p),s=yE(i,s,f,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xt=Ci(i.firstChild),dr=s,ft=!0,Mo=null,qi=!0,u=Jw(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(bc(),f===p){s=Sa(i,s,u);break e}Mn(i,s,f,u)}s=s.child}return s;case 26:return sh(i,s),i===null?(u=ST(s.type,null,s.pendingProps,null))?s.memoizedState=u:ft||(u=s.type,i=s.pendingProps,f=_h(Ie.current).createElement(u),f[Pt]=s,f[fe]=i,Ln(f,u,i),Et(f),s.stateNode=f):s.memoizedState=ST(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return qe(s),i===null&&ft&&(f=s.stateNode=wT(s.type,s.pendingProps,Ie.current),dr=s,qi=!0,p=Xt,Os(s.type)?(Qy=p,Xt=Ci(f.firstChild)):Xt=p),Mn(i,s,s.pendingProps.children,u),sh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ft&&((p=f=Xt)&&(f=g4(f,s.type,s.pendingProps,qi),f!==null?(s.stateNode=f,dr=s,Xt=Ci(f.firstChild),qi=!1,p=!0):p=!1),p||jo(s)),qe(s),p=s.type,b=s.pendingProps,A=i!==null?i.memoizedProps:null,f=b.children,Gy(p,b)?f=null:A!==null&&Gy(p,A)&&(s.flags|=32),s.memoizedState!==null&&(p=Kp(i,s,Dj,null,null,u),Xc._currentValue=p),sh(i,s),Mn(i,s,f,u),s.child;case 6:return i===null&&ft&&((i=u=Xt)&&(u=p4(u,s.pendingProps,qi),u!==null?(s.stateNode=u,dr=s,Xt=null,i=!0):i=!1),i||jo(s)),null;case 13:return vE(i,s,u);case 4:return ot(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Wl(s,null,f,u):Mn(i,s,f,u),s.child;case 11:return cE(i,s,s.type,s.pendingProps,u);case 7:return Mn(i,s,s.pendingProps,u),s.child;case 8:return Mn(i,s,s.pendingProps.children,u),s.child;case 12:return Mn(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,ms(s,s.type,f.value),Mn(i,s,f.children,u),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,Vo(s),p=Xn(p),f=f(p),s.flags|=1,Mn(i,s,f,u),s.child;case 14:return fE(i,s,s.type,s.pendingProps,u);case 15:return dE(i,s,s.type,s.pendingProps,u);case 19:return xE(i,s,u);case 31:return f=s.pendingProps,u=s.mode,f={mode:f.mode,children:f.children},i===null?(u=oh(f,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=va(i.child,f),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return hE(i,s,u);case 24:return Vo(s),f=Xn(pn),i===null?(p=Lp(),p===null&&(p=Ct,b=Mp(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=u),p=b),s.memoizedState={parent:f,cache:p},Up(s),ms(s,pn,p)):((i.lanes&u)!==0&&(zp(i,s),Cc(s,null,null,u),kc()),p=i.memoizedState,b=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ms(s,pn,f)):(f=b.cache,ms(s,pn,f),f!==p.cache&&Pp(s,[pn],u,!0))),Mn(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Aa(i){i.flags|=4}function wE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!NT(s)){if(s=ii.current,s!==null&&((at&4194048)===at?$i!==null:(at&62914560)!==at&&(at&536870912)===0||s!==$i))throw Sc=Vp,aw;i.flags|=8192}}function lh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Vi():536870912,i.lanes|=s,Jl|=s)}function Mc(i,s){if(!ft)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function $t(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function qj(i,s,u){var f=s.pendingProps;switch(Np(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return $t(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),wa(pn),me(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(vc(s)?Aa(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ew())),$t(s),null;case 26:return u=s.memoizedState,i===null?(Aa(s),u!==null?($t(s),wE(s,u)):($t(s),s.flags&=-16777217)):u?u!==i.memoizedState?(Aa(s),$t(s),wE(s,u)):($t(s),s.flags&=-16777217):(i.memoizedProps!==f&&Aa(s),$t(s),s.flags&=-16777217),null;case 27:Ke(s),u=Ie.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Aa(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return $t(s),null}i=_e.current,vc(s)?Z1(s):(i=wT(p,f,u),s.stateNode=i,Aa(s))}return $t(s),null;case 5:if(Ke(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Aa(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return $t(s),null}if(i=_e.current,vc(s))Z1(s);else{switch(p=_h(Ie.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(u,{is:f.is}):p.createElement(u)}}i[Pt]=s,i[fe]=f;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Ln(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Aa(s)}}return $t(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Aa(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ie.current,vc(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,p=dr,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[Pt]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||gT(i.nodeValue,u)),i||jo(s)}else i=_h(i).createTextNode(f),i[Pt]=s,s.stateNode=i}return $t(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=vc(s),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Pt]=s}else bc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),p=!1}else p=ew(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Ta(s),s):(Ta(s),null)}if(Ta(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==p&&(f.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),lh(s,s.updateQueue),$t(s),null;case 4:return me(),i===null&&qy(s.stateNode.containerInfo),$t(s),null;case 10:return wa(s.type),$t(s),null;case 19:if(ae(yn),p=s.memoizedState,p===null)return $t(s),null;if(f=(s.flags&128)!==0,b=p.rendering,b===null)if(f)Mc(p,!1);else{if(Qt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=rh(i),b!==null){for(s.flags|=128,Mc(p,!1),i=b.updateQueue,s.updateQueue=i,lh(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)X1(u,i),u=u.sibling;return he(yn,yn.current&1|2),s.child}i=i.sibling}p.tail!==null&&At()>fh&&(s.flags|=128,f=!0,Mc(p,!1),s.lanes=4194304)}else{if(!f)if(i=rh(b),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,lh(s,i),Mc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!ft)return $t(s),null}else 2*At()-p.renderingStartTime>fh&&u!==536870912&&(s.flags|=128,f=!0,Mc(p,!1),s.lanes=4194304);p.isBackwards?(b.sibling=s.child,s.child=b):(i=p.last,i!==null?i.sibling=b:s.child=b,p.last=b)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=At(),s.sibling=null,i=yn.current,he(yn,f?i&1|2:i&1),s):($t(s),null);case 22:case 23:return Ta(s),Fp(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),u=s.updateQueue,u!==null&&lh(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&ae(Uo),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),wa(pn),$t(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function $j(i,s){switch(Np(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return wa(pn),me(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ke(s),null;case 13:if(Ta(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));bc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(yn),null;case 4:return me(),null;case 10:return wa(s.type),null;case 22:case 23:return Ta(s),Fp(),i!==null&&ae(Uo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return wa(pn),null;case 25:return null;default:return null}}function EE(i,s){switch(Np(s),s.tag){case 3:wa(pn),me();break;case 26:case 27:case 5:Ke(s);break;case 4:me();break;case 13:Ta(s);break;case 19:ae(yn);break;case 10:wa(s.type);break;case 22:case 23:Ta(s),Fp(),i!==null&&ae(Uo);break;case 24:wa(pn)}}function jc(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){f=void 0;var b=u.create,A=u.inst;f=b(),A.destroy=f}u=u.next}while(u!==p)}}catch(N){Tt(s,s.return,N)}}function _s(i,s,u){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&i)===i){var A=f.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,p=s;var $=u,X=N;try{X()}catch(ne){Tt(p,$,ne)}}}f=f.next}while(f!==b)}}catch(ne){Tt(s,s.return,ne)}}function TE(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{fw(s,u)}catch(f){Tt(i,i.return,f)}}}function SE(i,s,u){u.props=Bo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Tt(i,s,f)}}function Lc(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(p){Tt(i,s,p)}}function Fi(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(p){Tt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){Tt(i,s,p)}else u.current=null}function AE(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(p){Tt(i,i.return,p)}}function vy(i,s,u){try{var f=i.stateNode;c4(f,i.type,u,s),f[fe]=s}catch(p){Tt(i,i.return,p)}}function kE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Os(i.type)||i.tag===4}function by(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||kE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Os(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xy(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=xh));else if(f!==4&&(f===27&&Os(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(xy(i,s,u),i=i.sibling;i!==null;)xy(i,s,u),i=i.sibling}function uh(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&Os(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(uh(i,s,u),i=i.sibling;i!==null;)uh(i,s,u),i=i.sibling}function CE(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Ln(s,f,u),s[Pt]=i,s[fe]=u}catch(b){Tt(i,i.return,b)}}var ka=!1,an=!1,_y=!1,OE=typeof WeakSet=="function"?WeakSet:Set,kn=null;function Fj(i,s){if(i=i.containerInfo,Hy=kh,i=z1(i),bp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var A=0,N=-1,$=-1,X=0,ne=0,se=i,Z=null;t:for(;;){for(var J;se!==u||p!==0&&se.nodeType!==3||(N=A+p),se!==b||f!==0&&se.nodeType!==3||($=A+f),se.nodeType===3&&(A+=se.nodeValue.length),(J=se.firstChild)!==null;)Z=se,se=J;for(;;){if(se===i)break t;if(Z===u&&++X===p&&(N=A),Z===b&&++ne===f&&($=A),(J=se.nextSibling)!==null)break;se=Z,Z=se.parentNode}se=J}u=N===-1||$===-1?null:{start:N,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ky={focusedElem:i,selectionRange:u},kh=!1,kn=s;kn!==null;)if(s=kn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,kn=i;else for(;kn!==null;){switch(s=kn,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=s,p=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var Ve=Bo(u.type,p,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(Ve,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(De){Tt(u,u.return,De)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Wy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,kn=i;break}kn=s.return}}function NE(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ws(i,u),f&4&&jc(5,u);break;case 1:if(ws(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(A){Tt(u,u.return,A)}else{var p=Bo(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Tt(u,u.return,A)}}f&64&&TE(u),f&512&&Lc(u,u.return);break;case 3:if(ws(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{fw(i,s)}catch(A){Tt(u,u.return,A)}}break;case 27:s===null&&f&4&&CE(u);case 26:case 5:ws(i,u),s===null&&f&4&&AE(u),f&512&&Lc(u,u.return);break;case 12:ws(i,u);break;case 13:ws(i,u),f&4&&DE(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=Jj.bind(null,u),y4(i,u))));break;case 22:if(f=u.memoizedState!==null||ka,!f){s=s!==null&&s.memoizedState!==null||an,p=ka;var b=an;ka=f,(an=s)&&!b?Es(i,u,(u.subtreeFlags&8772)!==0):ws(i,u),ka=p,an=b}break;case 30:break;default:ws(i,u)}}function IE(i){var s=i.alternate;s!==null&&(i.alternate=null,IE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Mt(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var jt=null,xr=!1;function Ca(i,s,u){for(u=u.child;u!==null;)RE(i,s,u),u=u.sibling}function RE(i,s,u){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(En,u)}catch{}switch(u.tag){case 26:an||Fi(u,s),Ca(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:an||Fi(u,s);var f=jt,p=xr;Os(u.type)&&(jt=u.stateNode,xr=!1),Ca(i,s,u),Kc(u.stateNode),jt=f,xr=p;break;case 5:an||Fi(u,s);case 6:if(f=jt,p=xr,jt=null,Ca(i,s,u),jt=f,xr=p,jt!==null)if(xr)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(u.stateNode)}catch(b){Tt(u,s,b)}else try{jt.removeChild(u.stateNode)}catch(b){Tt(u,s,b)}break;case 18:jt!==null&&(xr?(i=jt,xT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ef(i)):xT(jt,u.stateNode));break;case 4:f=jt,p=xr,jt=u.stateNode.containerInfo,xr=!0,Ca(i,s,u),jt=f,xr=p;break;case 0:case 11:case 14:case 15:an||_s(2,u,s),an||_s(4,u,s),Ca(i,s,u);break;case 1:an||(Fi(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&SE(u,s,f)),Ca(i,s,u);break;case 21:Ca(i,s,u);break;case 22:an=(f=an)||u.memoizedState!==null,Ca(i,s,u),an=f;break;default:Ca(i,s,u)}}function DE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ef(i)}catch(u){Tt(s,s.return,u)}}function Hj(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new OE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new OE),s;default:throw Error(r(435,i.tag))}}function wy(i,s){var u=Hj(i);s.forEach(function(f){var p=e4.bind(null,i,f);u.has(f)||(u.add(f),f.then(p,p))})}function Mr(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f],b=i,A=s,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(Os(N.type)){jt=N.stateNode,xr=!1;break e}break;case 5:jt=N.stateNode,xr=!1;break e;case 3:case 4:jt=N.stateNode.containerInfo,xr=!0;break e}N=N.return}if(jt===null)throw Error(r(160));RE(b,A,p),jt=null,xr=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)PE(s,i),s=s.sibling}var ki=null;function PE(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mr(s,i),jr(i),f&4&&(_s(3,i,i.return),jc(3,i),_s(5,i,i.return));break;case 1:Mr(s,i),jr(i),f&512&&(an||u===null||Fi(u,u.return)),f&64&&ka&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var p=ki;if(Mr(s,i),jr(i),f&512&&(an||u===null||Fi(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":b=p.getElementsByTagName("title")[0],(!b||b[it]||b[Pt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(f),p.head.insertBefore(b,p.querySelector("head > title"))),Ln(b,f,u),b[Pt]=i,Et(b),f=b;break e;case"link":var A=CT("link","href",p).get(f+(u.href||""));if(A){for(var N=0;N<A.length;N++)if(b=A[N],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(N,1);break t}}b=p.createElement(f),Ln(b,f,u),p.head.appendChild(b);break;case"meta":if(A=CT("meta","content",p).get(f+(u.content||""))){for(N=0;N<A.length;N++)if(b=A[N],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(N,1);break t}}b=p.createElement(f),Ln(b,f,u),p.head.appendChild(b);break;default:throw Error(r(468,f))}b[Pt]=i,Et(b),f=b}i.stateNode=f}else OT(p,i.type,i.stateNode);else i.stateNode=kT(p,f,i.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?OT(p,i.type,i.stateNode):kT(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&vy(i,i.memoizedProps,u.memoizedProps)}break;case 27:Mr(s,i),jr(i),f&512&&(an||u===null||Fi(u,u.return)),u!==null&&f&4&&vy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Mr(s,i),jr(i),f&512&&(an||u===null||Fi(u,u.return)),i.flags&32){p=i.stateNode;try{Zr(p,"")}catch(J){Tt(i,i.return,J)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,vy(i,p,u!==null?u.memoizedProps:p)),f&1024&&(_y=!0);break;case 6:if(Mr(s,i),jr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(J){Tt(i,i.return,J)}}break;case 3:if(Th=null,p=ki,ki=wh(s.containerInfo),Mr(s,i),ki=p,jr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ef(s.containerInfo)}catch(J){Tt(i,i.return,J)}_y&&(_y=!1,ME(i));break;case 4:f=ki,ki=wh(i.stateNode.containerInfo),Mr(s,i),jr(i),ki=f;break;case 12:Mr(s,i),jr(i);break;case 13:Mr(s,i),jr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Cy=At()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,wy(i,f)));break;case 22:p=i.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,X=ka,ne=an;if(ka=X||p,an=ne||$,Mr(s,i),an=ne,ka=X,jr(i),f&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(u===null||$||ka||an||qo(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){$=u=s;try{if(b=$.stateNode,p)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=$.stateNode;var se=$.memoizedProps.style,Z=se!=null&&se.hasOwnProperty("display")?se.display:null;N.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){Tt($,$.return,J)}}}else if(s.tag===6){if(u===null){$=s;try{$.stateNode.nodeValue=p?"":$.memoizedProps}catch(J){Tt($,$.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,wy(i,u))));break;case 19:Mr(s,i),jr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,wy(i,f)));break;case 30:break;case 21:break;default:Mr(s,i),jr(i)}}function jr(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(kE(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var p=u.stateNode,b=by(i);uh(i,b,p);break;case 5:var A=u.stateNode;u.flags&32&&(Zr(A,""),u.flags&=-33);var N=by(i);uh(i,N,A);break;case 3:case 4:var $=u.stateNode.containerInfo,X=by(i);xy(i,X,$);break;default:throw Error(r(161))}}catch(ne){Tt(i,i.return,ne)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ME(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ME(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ws(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)NE(i,s.alternate,s),s=s.sibling}function qo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:_s(4,s,s.return),qo(s);break;case 1:Fi(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&SE(s,s.return,u),qo(s);break;case 27:Kc(s.stateNode);case 26:case 5:Fi(s,s.return),qo(s);break;case 22:s.memoizedState===null&&qo(s);break;case 30:qo(s);break;default:qo(s)}i=i.sibling}}function Es(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=i,b=s,A=b.flags;switch(b.tag){case 0:case 11:case 15:Es(p,b,u),jc(4,b);break;case 1:if(Es(p,b,u),f=b,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){Tt(f,f.return,X)}if(f=b,p=f.updateQueue,p!==null){var N=f.stateNode;try{var $=p.shared.hiddenCallbacks;if($!==null)for(p.shared.hiddenCallbacks=null,p=0;p<$.length;p++)cw($[p],N)}catch(X){Tt(f,f.return,X)}}u&&A&64&&TE(b),Lc(b,b.return);break;case 27:CE(b);case 26:case 5:Es(p,b,u),u&&f===null&&A&4&&AE(b),Lc(b,b.return);break;case 12:Es(p,b,u);break;case 13:Es(p,b,u),u&&A&4&&DE(p,b);break;case 22:b.memoizedState===null&&Es(p,b,u),Lc(b,b.return);break;case 30:break;default:Es(p,b,u)}s=s.sibling}}function Ey(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&wc(u))}function Ty(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&wc(i))}function Hi(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jE(i,s,u,f),s=s.sibling}function jE(i,s,u,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(i,s,u,f),p&2048&&jc(9,s);break;case 1:Hi(i,s,u,f);break;case 3:Hi(i,s,u,f),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&wc(i)));break;case 12:if(p&2048){Hi(i,s,u,f),i=s.stateNode;try{var b=s.memoizedProps,A=b.id,N=b.onPostCommit;typeof N=="function"&&N(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){Tt(s,s.return,$)}}else Hi(i,s,u,f);break;case 13:Hi(i,s,u,f);break;case 23:break;case 22:b=s.stateNode,A=s.alternate,s.memoizedState!==null?b._visibility&2?Hi(i,s,u,f):Vc(i,s):b._visibility&2?Hi(i,s,u,f):(b._visibility|=2,Xl(i,s,u,f,(s.subtreeFlags&10256)!==0)),p&2048&&Ey(A,s);break;case 24:Hi(i,s,u,f),p&2048&&Ty(s.alternate,s);break;default:Hi(i,s,u,f)}}function Xl(i,s,u,f,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,A=s,N=u,$=f,X=A.flags;switch(A.tag){case 0:case 11:case 15:Xl(b,A,N,$,p),jc(8,A);break;case 23:break;case 22:var ne=A.stateNode;A.memoizedState!==null?ne._visibility&2?Xl(b,A,N,$,p):Vc(b,A):(ne._visibility|=2,Xl(b,A,N,$,p)),p&&X&2048&&Ey(A.alternate,A);break;case 24:Xl(b,A,N,$,p),p&&X&2048&&Ty(A.alternate,A);break;default:Xl(b,A,N,$,p)}s=s.sibling}}function Vc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,p=f.flags;switch(f.tag){case 22:Vc(u,f),p&2048&&Ey(f.alternate,f);break;case 24:Vc(u,f),p&2048&&Ty(f.alternate,f);break;default:Vc(u,f)}s=s.sibling}}var Uc=8192;function Ql(i){if(i.subtreeFlags&Uc)for(i=i.child;i!==null;)LE(i),i=i.sibling}function LE(i){switch(i.tag){case 26:Ql(i),i.flags&Uc&&i.memoizedState!==null&&N4(ki,i.memoizedState,i.memoizedProps);break;case 5:Ql(i);break;case 3:case 4:var s=ki;ki=wh(i.stateNode.containerInfo),Ql(i),ki=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Uc,Uc=16777216,Ql(i),Uc=s):Ql(i));break;default:Ql(i)}}function VE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];kn=f,zE(f,i)}VE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)UE(i),i=i.sibling}function UE(i){switch(i.tag){case 0:case 11:case 15:zc(i),i.flags&2048&&_s(9,i,i.return);break;case 3:zc(i);break;case 12:zc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ch(i)):zc(i);break;default:zc(i)}}function ch(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];kn=f,zE(f,i)}VE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:_s(8,s,s.return),ch(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,ch(s));break;default:ch(s)}i=i.sibling}}function zE(i,s){for(;kn!==null;){var u=kn;switch(u.tag){case 0:case 11:case 15:_s(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:wc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,kn=f;else e:for(u=i;kn!==null;){f=kn;var p=f.sibling,b=f.return;if(IE(f),f===u){kn=null;break e}if(p!==null){p.return=b,kn=p;break e}kn=b}}}var Kj={getCacheForType:function(i){var s=Xn(pn),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},Gj=typeof WeakMap=="function"?WeakMap:Map,gt=0,Ct=null,Qe=null,at=0,pt=0,Lr=null,Ts=!1,Zl=!1,Sy=!1,Oa=0,Qt=0,Ss=0,$o=0,Ay=0,ai=0,Jl=0,Bc=null,_r=null,ky=!1,Cy=0,fh=1/0,dh=null,As=null,jn=0,ks=null,eu=null,tu=0,Oy=0,Ny=null,BE=null,qc=0,Iy=null;function Vr(){if((gt&2)!==0&&at!==0)return at&-at;if(Q.T!==null){var i=ql;return i!==0?i:Vy()}return vi()}function qE(){ai===0&&(ai=(at&536870912)===0||ft?ca():536870912);var i=ii.current;return i!==null&&(i.flags|=32),ai}function Ur(i,s,u){(i===Ct&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(nu(i,0),Cs(i,at,ai,!1)),Bt(i,u),((gt&2)===0||i!==Ct)&&(i===Ct&&((gt&2)===0&&($o|=u),Qt===4&&Cs(i,at,ai,!1)),Ki(i))}function $E(i,s,u){if((gt&6)!==0)throw Error(r(327));var f=!u&&(s&124)===0&&(s&i.expiredLanes)===0||Li(i,s),p=f?Xj(i,s):Py(i,s,!0),b=f;do{if(p===0){Zl&&!f&&Cs(i,s,0,!1);break}else{if(u=i.current.alternate,b&&!Yj(u)){p=Py(i,s,!1),b=!1;continue}if(p===2){if(b=s,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var N=i;p=Bc;var $=N.current.memoizedState.isDehydrated;if($&&(nu(N,A).flags|=256),A=Py(N,A,!1),A!==2){if(Sy&&!$){N.errorRecoveryDisabledLanes|=b,$o|=b,p=4;break e}b=_r,_r=p,b!==null&&(_r===null?_r=b:_r.push.apply(_r,b))}p=A}if(b=!1,p!==2)continue}}if(p===1){nu(i,0),Cs(i,s,0,!0);break}e:{switch(f=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Cs(f,s,ai,!Ts);break e;case 2:_r=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Cy+300-At(),10<p)){if(Cs(f,s,ai,!Ts),yr(f,0,!0)!==0)break e;f.timeoutHandle=vT(FE.bind(null,f,u,_r,dh,ky,s,ai,$o,Jl,Ts,b,2,-0,0),p);break e}FE(f,u,_r,dh,ky,s,ai,$o,Jl,Ts,b,0,-0,0)}}break}while(!0);Ki(i)}function FE(i,s,u,f,p,b,A,N,$,X,ne,se,Z,J){if(i.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Wc={stylesheets:null,count:0,unsuspend:O4},LE(s),se=I4(),se!==null)){i.cancelPendingCommit=se(QE.bind(null,i,s,b,u,f,p,A,N,$,ne,1,Z,J)),Cs(i,b,A,!X);return}QE(i,s,b,u,f,p,A,N,$)}function Yj(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var p=u[f],b=p.getSnapshot;p=p.value;try{if(!Dr(b(),p))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cs(i,s,u,f){s&=~Ay,s&=~$o,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var p=s;0<p;){var b=31-Tn(p),A=1<<b;f[b]=-1,p&=~A}u!==0&&or(i,u,s)}function hh(){return(gt&6)===0?($c(0),!1):!0}function Ry(){if(Qe!==null){if(pt===0)var i=Qe.return;else i=Qe,_a=Lo=null,Wp(i),Yl=null,Dc=0,i=Qe;for(;i!==null;)EE(i.alternate,i),i=i.return;Qe=null}}function nu(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,d4(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ry(),Ct=i,Qe=u=va(i.current,null),at=s,pt=0,Lr=null,Ts=!1,Zl=Li(i,s),Sy=!1,Jl=ai=Ay=$o=Ss=Qt=0,_r=Bc=null,ky=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var p=31-Tn(f),b=1<<p;s|=i[p],f&=~b}return Oa=s,Md(),u}function HE(i,s){Ye=null,Q.H=eh,s===Tc||s===Fd?(s=lw(),pt=3):s===aw?(s=lw(),pt=4):pt=s===uE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Lr=s,Qe===null&&(Qt=1,ah(i,ei(s,i.current)))}function KE(){var i=Q.H;return Q.H=eh,i===null?eh:i}function GE(){var i=Q.A;return Q.A=Kj,i}function Dy(){Qt=4,Ts||(at&4194048)!==at&&ii.current!==null||(Zl=!0),(Ss&134217727)===0&&($o&134217727)===0||Ct===null||Cs(Ct,at,ai,!1)}function Py(i,s,u){var f=gt;gt|=2;var p=KE(),b=GE();(Ct!==i||at!==s)&&(dh=null,nu(i,s)),s=!1;var A=Qt;e:do try{if(pt!==0&&Qe!==null){var N=Qe,$=Lr;switch(pt){case 8:Ry(),A=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(s=!0);var X=pt;if(pt=0,Lr=null,ru(i,N,$,X),u&&Zl){A=0;break e}break;default:X=pt,pt=0,Lr=null,ru(i,N,$,X)}}Wj(),A=Qt;break}catch(ne){HE(i,ne)}while(!0);return s&&i.shellSuspendCounter++,_a=Lo=null,gt=f,Q.H=p,Q.A=b,Qe===null&&(Ct=null,at=0,Md()),A}function Wj(){for(;Qe!==null;)YE(Qe)}function Xj(i,s){var u=gt;gt|=2;var f=KE(),p=GE();Ct!==i||at!==s?(dh=null,fh=At()+500,nu(i,s)):Zl=Li(i,s);e:do try{if(pt!==0&&Qe!==null){s=Qe;var b=Lr;t:switch(pt){case 1:pt=0,Lr=null,ru(i,s,b,1);break;case 2:case 9:if(sw(b)){pt=0,Lr=null,WE(s);break}s=function(){pt!==2&&pt!==9||Ct!==i||(pt=7),Ki(i)},b.then(s,s);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:sw(b)?(pt=0,Lr=null,WE(s)):(pt=0,Lr=null,ru(i,s,b,7));break;case 5:var A=null;switch(Qe.tag){case 26:A=Qe.memoizedState;case 5:case 27:var N=Qe;if(!A||NT(A)){pt=0,Lr=null;var $=N.sibling;if($!==null)Qe=$;else{var X=N.return;X!==null?(Qe=X,mh(X)):Qe=null}break t}}pt=0,Lr=null,ru(i,s,b,5);break;case 6:pt=0,Lr=null,ru(i,s,b,6);break;case 8:Ry(),Qt=6;break e;default:throw Error(r(462))}}Qj();break}catch(ne){HE(i,ne)}while(!0);return _a=Lo=null,Q.H=f,Q.A=p,gt=u,Qe!==null?0:(Ct=null,at=0,Md(),Qt)}function Qj(){for(;Qe!==null&&!Yt();)YE(Qe)}function YE(i){var s=_E(i.alternate,i,Oa);i.memoizedProps=i.pendingProps,s===null?mh(i):Qe=s}function WE(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=gE(u,s,s.pendingProps,s.type,void 0,at);break;case 11:s=gE(u,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:Wp(s);default:EE(u,s),s=Qe=X1(s,Oa),s=_E(u,s,Oa)}i.memoizedProps=i.pendingProps,s===null?mh(i):Qe=s}function ru(i,s,u,f){_a=Lo=null,Wp(s),Yl=null,Dc=0;var p=s.return;try{if(zj(i,p,s,u,at)){Qt=1,ah(i,ei(u,i.current)),Qe=null;return}}catch(b){if(p!==null)throw Qe=p,b;Qt=1,ah(i,ei(u,i.current)),Qe=null;return}s.flags&32768?(ft||f===1?i=!0:Zl||(at&536870912)!==0?i=!1:(Ts=i=!0,(f===2||f===9||f===3||f===6)&&(f=ii.current,f!==null&&f.tag===13&&(f.flags|=16384))),XE(s,i)):mh(s)}function mh(i){var s=i;do{if((s.flags&32768)!==0){XE(s,Ts);return}i=s.return;var u=qj(s.alternate,s,Oa);if(u!==null){Qe=u;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=i}while(s!==null);Qt===0&&(Qt=5)}function XE(i,s){do{var u=$j(i.alternate,i);if(u!==null){u.flags&=32767,Qe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=u}while(i!==null);Qt=6,Qe=null}function QE(i,s,u,f,p,b,A,N,$){i.cancelPendingCommit=null;do gh();while(jn!==0);if((gt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Tp,Al(i,u,b,A,N,$),i===Ct&&(Qe=Ct=null,at=0),eu=s,ks=i,tu=u,Oy=b,Ny=p,BE=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,t4(Ar,function(){return nT(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=Q.T,Q.T=null,p=ue.p,ue.p=2,A=gt,gt|=4;try{Fj(i,s,u)}finally{gt=A,ue.p=p,Q.T=f}}jn=1,ZE(),JE(),eT()}}function ZE(){if(jn===1){jn=0;var i=ks,s=eu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null;var f=ue.p;ue.p=2;var p=gt;gt|=4;try{PE(s,i);var b=Ky,A=z1(i.containerInfo),N=b.focusedElem,$=b.selectionRange;if(A!==N&&N&&N.ownerDocument&&U1(N.ownerDocument.documentElement,N)){if($!==null&&bp(N)){var X=$.start,ne=$.end;if(ne===void 0&&(ne=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(ne,N.value.length);else{var se=N.ownerDocument||document,Z=se&&se.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Ve=N.textContent.length,De=Math.min($.start,Ve),_t=$.end===void 0?De:Math.min($.end,Ve);!J.extend&&De>_t&&(A=_t,_t=De,De=A);var G=V1(N,De),K=V1(N,_t);if(G&&K&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==K.node||J.focusOffset!==K.offset)){var Y=se.createRange();Y.setStart(G.node,G.offset),J.removeAllRanges(),De>_t?(J.addRange(Y),J.extend(K.node,K.offset)):(Y.setEnd(K.node,K.offset),J.addRange(Y))}}}}for(se=[],J=N;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<se.length;N++){var re=se[N];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}kh=!!Hy,Ky=Hy=null}finally{gt=p,ue.p=f,Q.T=u}}i.current=s,jn=2}}function JE(){if(jn===2){jn=0;var i=ks,s=eu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=Q.T,Q.T=null;var f=ue.p;ue.p=2;var p=gt;gt|=4;try{NE(i,s.alternate,s)}finally{gt=p,ue.p=f,Q.T=u}}jn=3}}function eT(){if(jn===4||jn===3){jn=0,Vt();var i=ks,s=eu,u=tu,f=BE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?jn=5:(jn=0,eu=ks=null,tT(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(As=null),fa(u),s=s.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(En,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=Q.T,p=ue.p,ue.p=2,Q.T=null;try{for(var b=i.onRecoverableError,A=0;A<f.length;A++){var N=f[A];b(N.value,{componentStack:N.stack})}}finally{Q.T=s,ue.p=p}}(tu&3)!==0&&gh(),Ki(i),p=i.pendingLanes,(u&4194090)!==0&&(p&42)!==0?i===Iy?qc++:(qc=0,Iy=i):qc=0,$c(0)}}function tT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,wc(s)))}function gh(i){return ZE(),JE(),eT(),nT()}function nT(){if(jn!==5)return!1;var i=ks,s=Oy;Oy=0;var u=fa(tu),f=Q.T,p=ue.p;try{ue.p=32>u?32:u,Q.T=null,u=Ny,Ny=null;var b=ks,A=tu;if(jn=0,eu=ks=null,tu=0,(gt&6)!==0)throw Error(r(331));var N=gt;if(gt|=4,UE(b.current),jE(b,b.current,A,u),gt=N,$c(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(En,b)}catch{}return!0}finally{ue.p=p,Q.T=f,tT(i,s)}}function rT(i,s,u){s=ei(u,s),s=uy(i.stateNode,s,2),i=ys(i,s,2),i!==null&&(Bt(i,2),Ki(i))}function Tt(i,s,u){if(i.tag===3)rT(i,i,u);else for(;s!==null;){if(s.tag===3){rT(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(As===null||!As.has(f))){i=ei(u,i),u=oE(2),f=ys(s,u,2),f!==null&&(lE(u,f,s,i),Bt(f,2),Ki(f));break}}s=s.return}}function My(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Gj;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(u)||(Sy=!0,p.add(u),i=Zj.bind(null,i,s,u),s.then(i,i))}function Zj(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ct===i&&(at&u)===u&&(Qt===4||Qt===3&&(at&62914560)===at&&300>At()-Cy?(gt&2)===0&&nu(i,0):Ay|=u,Jl===at&&(Jl=0)),Ki(i)}function iT(i,s){s===0&&(s=Vi()),i=Vl(i,s),i!==null&&(Bt(i,s),Ki(i))}function Jj(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),iT(i,u)}function e4(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),iT(i,u)}function t4(i,s){return wt(i,s)}var ph=null,iu=null,jy=!1,yh=!1,Ly=!1,Fo=0;function Ki(i){i!==iu&&i.next===null&&(iu===null?ph=iu=i:iu=iu.next=i),yh=!0,jy||(jy=!0,r4())}function $c(i,s){if(!Ly&&yh){Ly=!0;do for(var u=!1,f=ph;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var b=0;else{var A=f.suspendedLanes,N=f.pingedLanes;b=(1<<31-Tn(42|i)+1)-1,b&=p&~(A&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,lT(f,b))}else b=at,b=yr(f,f===Ct?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Li(f,b)||(u=!0,lT(f,b));f=f.next}while(u);Ly=!1}}function n4(){aT()}function aT(){yh=jy=!1;var i=0;Fo!==0&&(f4()&&(i=Fo),Fo=0);for(var s=At(),u=null,f=ph;f!==null;){var p=f.next,b=sT(f,s);b===0?(f.next=null,u===null?ph=p:u.next=p,p===null&&(iu=u)):(u=f,(i!==0||(b&3)!==0)&&(yh=!0)),f=p}$c(i)}function sT(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-Tn(b),N=1<<A,$=p[A];$===-1?((N&u)===0||(N&f)!==0)&&(p[A]=zt(N,s)):$<=s&&(i.expiredLanes|=N),b&=~N}if(s=Ct,u=at,u=yr(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&rt(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Li(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&rt(f),fa(u)){case 2:case 8:u=Xe;break;case 32:u=Ar;break;case 268435456:u=mo;break;default:u=Ar}return f=oT.bind(null,i),u=wt(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&rt(f),i.callbackPriority=2,i.callbackNode=null,2}function oT(i,s){if(jn!==0&&jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(gh()&&i.callbackNode!==u)return null;var f=at;return f=yr(i,i===Ct?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:($E(i,f,s),sT(i,At()),i.callbackNode!=null&&i.callbackNode===u?oT.bind(null,i):null)}function lT(i,s){if(gh())return null;$E(i,s,!0)}function r4(){h4(function(){(gt&6)!==0?wt(Ut,n4):aT()})}function Vy(){return Fo===0&&(Fo=ca()),Fo}function uT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wi(""+i)}function cT(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function i4(i,s,u,f,p){if(s==="submit"&&u&&u.stateNode===p){var b=uT((p[fe]||null).action),A=f.submitter;A&&(s=(s=A[fe]||null)?uT(s.formAction):A.getAttribute("formAction"),s!==null&&(b=s,A=null));var N=new Eo("action","action",null,f,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Fo!==0){var $=A?cT(p,A):new FormData(p);iy(u,{pending:!0,data:$,method:p.method,action:b},null,$)}}else typeof b=="function"&&(N.preventDefault(),$=A?cT(p,A):new FormData(p),iy(u,{pending:!0,data:$,method:p.method,action:b},b,$))},currentTarget:p}]})}}for(var Uy=0;Uy<Ep.length;Uy++){var zy=Ep[Uy],a4=zy.toLowerCase(),s4=zy[0].toUpperCase()+zy.slice(1);Ai(a4,"on"+s4)}Ai($1,"onAnimationEnd"),Ai(F1,"onAnimationIteration"),Ai(H1,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Ej,"onTransitionRun"),Ai(Tj,"onTransitionStart"),Ai(Sj,"onTransitionCancel"),Ai(K1,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function fT(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],p=f.event;f=f.listeners;e:{var b=void 0;if(s)for(var A=f.length-1;0<=A;A--){var N=f[A],$=N.instance,X=N.currentTarget;if(N=N.listener,$!==b&&p.isPropagationStopped())break e;b=N,p.currentTarget=X;try{b(p)}catch(ne){ih(ne)}p.currentTarget=null,b=$}else for(A=0;A<f.length;A++){if(N=f[A],$=N.instance,X=N.currentTarget,N=N.listener,$!==b&&p.isPropagationStopped())break e;b=N,p.currentTarget=X;try{b(p)}catch(ne){ih(ne)}p.currentTarget=null,b=$}}}}function Ze(i,s){var u=s[Ce];u===void 0&&(u=s[Ce]=new Set);var f=i+"__bubble";u.has(f)||(dT(s,i,2,!1),u.add(f))}function By(i,s,u){var f=0;s&&(f|=4),dT(u,i,f,s)}var vh="_reactListening"+Math.random().toString(36).slice(2);function qy(i){if(!i[vh]){i[vh]=!0,Or.forEach(function(u){u!=="selectionchange"&&(o4.has(u)||By(u,!1,i),By(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[vh]||(s[vh]=!0,By("selectionchange",!1,s))}}function dT(i,s,u,f){switch(jT(s)){case 2:var p=P4;break;case 8:p=M4;break;default:p=nv}u=p.bind(null,s,u,i),p=void 0,!pa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function $y(i,s,u,f,p){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var N=f.stateNode.containerInfo;if(N===p)break;if(A===4)for(A=f.return;A!==null;){var $=A.tag;if(($===3||$===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;N!==null;){if(A=Ue(N),A===null)return;if($=A.tag,$===5||$===6||$===26||$===27){f=b=A;continue e}N=N.parentNode}}f=f.return}xo(function(){var X=b,ne=oc(u),se=[];e:{var Z=G1.get(i);if(Z!==void 0){var J=Eo,Ve=i;switch(i){case"keypress":if(_o(u)===0)break e;case"keydown":case"keyup":J=Pl;break;case"focusin":Ve="focus",J=Il;break;case"focusout":Ve="blur",J=Il;break;case"beforeblur":case"afterblur":J=Il;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=hs;break;case $1:case F1:case H1:J=uc;break;case K1:J=w;break;case"scroll":case"scrollend":J=So;break;case"wheel":J=j;break;case"copy":case"cut":case"paste":J=Cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=dc;break;case"toggle":case"beforetoggle":J=ee}var De=(s&4)!==0,_t=!De&&(i==="scroll"||i==="scrollend"),G=De?Z!==null?Z+"Capture":null:Z;De=[];for(var K=X,Y;K!==null;){var re=K;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||G===null||(re=fs(K,G),re!=null&&De.push(Hc(K,re,Y))),_t)break;K=K.return}0<De.length&&(Z=new J(Z,Ve,null,u,ne),se.push({event:Z,listeners:De}))}}if((s&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Z&&u!==sc&&(Ve=u.relatedTarget||u.fromElement)&&(Ue(Ve)||Ve[ye]))break e;if((J||Z)&&(Z=ne.window===ne?ne:(Z=ne.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Ve=u.relatedTarget||u.toElement,J=X,Ve=Ve?Ue(Ve):null,Ve!==null&&(_t=o(Ve),De=Ve.tag,Ve!==_t||De!==5&&De!==27&&De!==6)&&(Ve=null)):(J=null,Ve=X),J!==Ve)){if(De=Co,re="onMouseLeave",G="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(De=dc,re="onPointerLeave",G="onPointerEnter",K="pointer"),_t=J==null?Z:ht(J),Y=Ve==null?Z:ht(Ve),Z=new De(re,K+"leave",J,u,ne),Z.target=_t,Z.relatedTarget=Y,re=null,Ue(ne)===X&&(De=new De(G,K+"enter",Ve,u,ne),De.target=Y,De.relatedTarget=_t,re=De),_t=re,J&&Ve)t:{for(De=J,G=Ve,K=0,Y=De;Y;Y=au(Y))K++;for(Y=0,re=G;re;re=au(re))Y++;for(;0<K-Y;)De=au(De),K--;for(;0<Y-K;)G=au(G),Y--;for(;K--;){if(De===G||G!==null&&De===G.alternate)break t;De=au(De),G=au(G)}De=null}else De=null;J!==null&&hT(se,Z,J,De,!1),Ve!==null&&_t!==null&&hT(se,_t,Ve,De,!0)}}e:{if(Z=X?ht(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var xe=R1;else if(N1(Z))if(D1)xe=xj;else{xe=vj;var We=yj}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Cl(X.elementType)&&(xe=R1):xe=bj;if(xe&&(xe=xe(i,X))){I1(se,xe,u,ne);break e}We&&We(i,Z,X),i==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&rc(Z,"number",Z.value)}switch(We=X?ht(X):window,i){case"focusin":(N1(We)||We.contentEditable==="true")&&(Ml=We,xp=X,yc=null);break;case"focusout":yc=xp=Ml=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,B1(se,u,ne);break;case"selectionchange":if(wj)break;case"keydown":case"keyup":B1(se,u,ne)}var Te;if(Fe)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Si?Ei(i,u)&&(Pe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(nn&&u.locale!=="ko"&&(Si||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Si&&(Te=Sd()):(Jr=ne,kt="value"in Jr?Jr.value:Jr.textContent,Si=!0)),We=bh(X,Pe),0<We.length&&(Pe=new fc(Pe,i,null,u,ne),se.push({event:Pe,listeners:We}),Te?Pe.data=Te:(Te=Ti(u),Te!==null&&(Pe.data=Te)))),(Te=mt?hc(i,u):mj(i,u))&&(Pe=bh(X,"onBeforeInput"),0<Pe.length&&(We=new fc("onBeforeInput","beforeinput",null,u,ne),se.push({event:We,listeners:Pe}),We.data=Te)),i4(se,i,X,u,ne)}fT(se,s)})}function Hc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function bh(i,s){for(var u=s+"Capture",f=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=fs(i,u),p!=null&&f.unshift(Hc(i,p,b)),p=fs(i,s),p!=null&&f.push(Hc(i,p,b))),i.tag===3)return f;i=i.return}return[]}function au(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function hT(i,s,u,f,p){for(var b=s._reactName,A=[];u!==null&&u!==f;){var N=u,$=N.alternate,X=N.stateNode;if(N=N.tag,$!==null&&$===f)break;N!==5&&N!==26&&N!==27||X===null||($=X,p?(X=fs(u,b),X!=null&&A.unshift(Hc(u,X,$))):p||(X=fs(u,b),X!=null&&A.push(Hc(u,X,$)))),u=u.return}A.length!==0&&i.push({event:s,listeners:A})}var l4=/\r\n?/g,u4=/\u0000|\uFFFD/g;function mT(i){return(typeof i=="string"?i:""+i).replace(l4,`
`).replace(u4,"")}function gT(i,s){return s=mT(s),mT(i)===s}function xh(){}function xt(i,s,u,f,p,b){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Zr(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Zr(i,""+f);break;case"className":ha(i,"class",f);break;case"tabIndex":ha(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ha(i,u,f);break;case"style":ac(i,f,b);break;case"data":if(s!=="object"){ha(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=wi(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&xt(i,s,"name",p.name,p,null),xt(i,s,"formEncType",p.formEncType,p,null),xt(i,s,"formMethod",p.formMethod,p,null),xt(i,s,"formTarget",p.formTarget,p,null)):(xt(i,s,"encType",p.encType,p,null),xt(i,s,"method",p.method,p,null),xt(i,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=wi(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=xh);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=wi(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),da(i,"popover",f);break;case"xlinkActuate":vr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":vr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":vr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":vr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":vr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":vr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":vr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":vr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":vr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":da(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=wd.get(u)||u,da(i,u,f))}}function Fy(i,s,u,f,p,b){switch(u){case"style":ac(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Zr(i,f):(typeof f=="number"||typeof f=="bigint")&&Zr(i,""+f);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"onClick":f!=null&&(i.onclick=xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),s=u.slice(2,p?u.length-7:void 0),b=i[fe]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(s,b,p),typeof f=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,p);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):da(i,u,f)}}}function Ln(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var f=!1,p=!1,b;for(b in u)if(u.hasOwnProperty(b)){var A=u[b];if(A!=null)switch(b){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xt(i,s,b,A,u,null)}}p&&xt(i,s,"srcSet",u.srcSet,u,null),f&&xt(i,s,"src",u.src,u,null);return;case"input":Ze("invalid",i);var N=b=A=p=null,$=null,X=null;for(f in u)if(u.hasOwnProperty(f)){var ne=u[f];if(ne!=null)switch(f){case"name":p=ne;break;case"type":A=ne;break;case"checked":$=ne;break;case"defaultChecked":X=ne;break;case"value":b=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:xt(i,s,f,ne,u,null)}}nc(i,b,N,$,X,A,p,!1),ls(i);return;case"select":Ze("invalid",i),f=A=b=null;for(p in u)if(u.hasOwnProperty(p)&&(N=u[p],N!=null))switch(p){case"value":b=N;break;case"defaultValue":A=N;break;case"multiple":f=N;default:xt(i,s,p,N,u,null)}s=b,u=A,i.multiple=!!f,s!=null?us(i,!!f,s,!1):u!=null&&us(i,!!f,u,!0);return;case"textarea":Ze("invalid",i),b=p=f=null;for(A in u)if(u.hasOwnProperty(A)&&(N=u[A],N!=null))switch(A){case"value":f=N;break;case"defaultValue":p=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:xt(i,s,A,N,u,null)}_d(i,f,p,b),ls(i);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(f=u[$],f!=null))switch($){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:xt(i,s,$,f,u,null)}return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(f=0;f<Fc.length;f++)Ze(Fc[f],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xt(i,s,X,f,u,null)}return;default:if(Cl(s)){for(ne in u)u.hasOwnProperty(ne)&&(f=u[ne],f!==void 0&&Fy(i,s,ne,f,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(f=u[N],f!=null&&xt(i,s,N,f,u,null))}function c4(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,A=null,N=null,$=null,X=null,ne=null;for(J in u){var se=u[J];if(u.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":$=se;default:f.hasOwnProperty(J)||xt(i,s,J,null,f,se)}}for(var Z in f){var J=f[Z];if(se=u[Z],f.hasOwnProperty(Z)&&(J!=null||se!=null))switch(Z){case"type":b=J;break;case"name":p=J;break;case"checked":X=J;break;case"defaultChecked":ne=J;break;case"value":A=J;break;case"defaultValue":N=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==se&&xt(i,s,Z,J,f,se)}}tc(i,A,N,$,X,ne,b,p);return;case"select":J=A=N=Z=null;for(b in u)if($=u[b],u.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":J=$;default:f.hasOwnProperty(b)||xt(i,s,b,null,f,$)}for(p in f)if(b=f[p],$=u[p],f.hasOwnProperty(p)&&(b!=null||$!=null))switch(p){case"value":Z=b;break;case"defaultValue":N=b;break;case"multiple":A=b;default:b!==$&&xt(i,s,p,b,f,$)}s=N,u=A,f=J,Z!=null?us(i,!!u,Z,!1):!!f!=!!u&&(s!=null?us(i,!!u,s,!0):us(i,!!u,u?[]:"",!1));return;case"textarea":J=Z=null;for(N in u)if(p=u[N],u.hasOwnProperty(N)&&p!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:xt(i,s,N,null,f,p)}for(A in f)if(p=f[A],b=u[A],f.hasOwnProperty(A)&&(p!=null||b!=null))switch(A){case"value":Z=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&xt(i,s,A,p,f,b)}xd(i,Z,J);return;case"option":for(var Ve in u)if(Z=u[Ve],u.hasOwnProperty(Ve)&&Z!=null&&!f.hasOwnProperty(Ve))switch(Ve){case"selected":i.selected=!1;break;default:xt(i,s,Ve,null,f,Z)}for($ in f)if(Z=f[$],J=u[$],f.hasOwnProperty($)&&Z!==J&&(Z!=null||J!=null))switch($){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:xt(i,s,$,Z,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)Z=u[De],u.hasOwnProperty(De)&&Z!=null&&!f.hasOwnProperty(De)&&xt(i,s,De,null,f,Z);for(X in f)if(Z=f[X],J=u[X],f.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:xt(i,s,X,Z,f,J)}return;default:if(Cl(s)){for(var _t in u)Z=u[_t],u.hasOwnProperty(_t)&&Z!==void 0&&!f.hasOwnProperty(_t)&&Fy(i,s,_t,void 0,f,Z);for(ne in f)Z=f[ne],J=u[ne],!f.hasOwnProperty(ne)||Z===J||Z===void 0&&J===void 0||Fy(i,s,ne,Z,f,J);return}}for(var G in u)Z=u[G],u.hasOwnProperty(G)&&Z!=null&&!f.hasOwnProperty(G)&&xt(i,s,G,null,f,Z);for(se in f)Z=f[se],J=u[se],!f.hasOwnProperty(se)||Z===J||Z==null&&J==null||xt(i,s,se,Z,f,J)}var Hy=null,Ky=null;function _h(i){return i.nodeType===9?i:i.ownerDocument}function pT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Gy(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yy=null;function f4(){var i=window.event;return i&&i.type==="popstate"?i===Yy?!1:(Yy=i,!0):(Yy=null,!1)}var vT=typeof setTimeout=="function"?setTimeout:void 0,d4=typeof clearTimeout=="function"?clearTimeout:void 0,bT=typeof Promise=="function"?Promise:void 0,h4=typeof queueMicrotask=="function"?queueMicrotask:typeof bT<"u"?function(i){return bT.resolve(null).then(i).catch(m4)}:vT;function m4(i){setTimeout(function(){throw i})}function Os(i){return i==="head"}function xT(i,s){var u=s,f=0,p=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var A=i.ownerDocument;if(u&1&&Kc(A.documentElement),u&2&&Kc(A.body),u&4)for(u=A.head,Kc(u),A=u.firstChild;A;){var N=A.nextSibling,$=A.nodeName;A[it]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=N}}if(p===0){i.removeChild(b),ef(s);return}p--}else u==="$"||u==="$?"||u==="$!"?p++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);ef(s)}function Wy(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wy(u),Mt(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function g4(i,s,u,f){for(;i.nodeType===1;){var p=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[it])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ci(i.nextSibling),i===null)break}return null}function p4(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ci(i.nextSibling),i===null))return null;return i}function Xy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function y4(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Ci(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Qy=null;function _T(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function wT(i,s,u){switch(s=_h(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Mt(i)}var si=new Map,ET=new Set;function wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Na=ue.d;ue.d={f:v4,r:b4,D:x4,C:_4,L:w4,m:E4,X:S4,S:T4,M:A4};function v4(){var i=Na.f(),s=hh();return i||s}function b4(i){var s=Me(i);s!==null&&s.tag===5&&s.type==="form"?$w(s):Na.r(i)}var su=typeof document>"u"?null:document;function TT(i,s,u){var f=su;if(f&&typeof s=="string"&&s){var p=Sn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),ET.has(p)||(ET.add(p),i={rel:i,crossOrigin:u,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),Ln(s,"link",i),Et(s),f.head.appendChild(s)))}}function x4(i){Na.D(i),TT("dns-prefetch",i,null)}function _4(i,s){Na.C(i,s),TT("preconnect",i,s)}function w4(i,s,u){Na.L(i,s,u);var f=su;if(f&&i&&s){var p='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+Sn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+Sn(u.imageSizes)+'"]')):p+='[href="'+Sn(i)+'"]';var b=p;switch(s){case"style":b=ou(i);break;case"script":b=lu(i)}si.has(b)||(i=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),si.set(b,i),f.querySelector(p)!==null||s==="style"&&f.querySelector(Gc(b))||s==="script"&&f.querySelector(Yc(b))||(s=f.createElement("link"),Ln(s,"link",i),Et(s),f.head.appendChild(s)))}}function E4(i,s){Na.m(i,s);var u=su;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Sn(f)+'"][href="'+Sn(i)+'"]',b=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=lu(i)}if(!si.has(b)&&(i=m({rel:"modulepreload",href:i},s),si.set(b,i),u.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Yc(b)))return}f=u.createElement("link"),Ln(f,"link",i),Et(f),u.head.appendChild(f)}}}function T4(i,s,u){Na.S(i,s,u);var f=su;if(f&&i){var p=Cr(f).hoistableStyles,b=ou(i);s=s||"default";var A=p.get(b);if(!A){var N={loading:0,preload:null};if(A=f.querySelector(Gc(b)))N.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},u),(u=si.get(b))&&Zy(i,u);var $=A=f.createElement("link");Et($),Ln($,"link",i),$._p=new Promise(function(X,ne){$.onload=X,$.onerror=ne}),$.addEventListener("load",function(){N.loading|=1}),$.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Eh(A,s,f)}A={type:"stylesheet",instance:A,count:1,state:N},p.set(b,A)}}}function S4(i,s){Na.X(i,s);var u=su;if(u&&i){var f=Cr(u).hoistableScripts,p=lu(i),b=f.get(p);b||(b=u.querySelector(Yc(p)),b||(i=m({src:i,async:!0},s),(s=si.get(p))&&Jy(i,s),b=u.createElement("script"),Et(b),Ln(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(p,b))}}function A4(i,s){Na.M(i,s);var u=su;if(u&&i){var f=Cr(u).hoistableScripts,p=lu(i),b=f.get(p);b||(b=u.querySelector(Yc(p)),b||(i=m({src:i,async:!0,type:"module"},s),(s=si.get(p))&&Jy(i,s),b=u.createElement("script"),Et(b),Ln(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(p,b))}}function ST(i,s,u,f){var p=(p=Ie.current)?wh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=ou(u.href),u=Cr(p).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=ou(u.href);var b=Cr(p).hoistableStyles,A=b.get(i);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=p.querySelector(Gc(i)))&&!b._p&&(A.instance=b,A.state.loading=5),si.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},si.set(i,u),b||k4(p,i,u,A.state))),s&&f===null)throw Error(r(528,""));return A}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lu(u),u=Cr(p).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ou(i){return'href="'+Sn(i)+'"'}function Gc(i){return'link[rel="stylesheet"]['+i+"]"}function AT(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function k4(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Ln(s,"link",u),Et(s),i.head.appendChild(s))}function lu(i){return'[src="'+Sn(i)+'"]'}function Yc(i){return"script[async]"+i}function kT(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Sn(u.href)+'"]');if(f)return s.instance=f,Et(f),f;var p=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Et(f),Ln(f,"style",p),Eh(f,u.precedence,i),s.instance=f;case"stylesheet":p=ou(u.href);var b=i.querySelector(Gc(p));if(b)return s.state.loading|=4,s.instance=b,Et(b),b;f=AT(u),(p=si.get(p))&&Zy(f,p),b=(i.ownerDocument||i).createElement("link"),Et(b);var A=b;return A._p=new Promise(function(N,$){A.onload=N,A.onerror=$}),Ln(b,"link",f),s.state.loading|=4,Eh(b,u.precedence,i),s.instance=b;case"script":return b=lu(u.src),(p=i.querySelector(Yc(b)))?(s.instance=p,Et(p),p):(f=u,(p=si.get(b))&&(f=m({},u),Jy(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),Et(p),Ln(p,"link",f),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Eh(f,u.precedence,i));return s.instance}function Eh(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,b=p,A=0;A<f.length;A++){var N=f[A];if(N.dataset.precedence===s)b=N;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Zy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Jy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Th=null;function CT(i,s,u){if(Th===null){var f=new Map,p=Th=new Map;p.set(u,f)}else p=Th,f=p.get(u),f||(f=new Map,p.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),p=0;p<u.length;p++){var b=u[p];if(!(b[it]||b[Pt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(s)||"";A=i+A;var N=f.get(A);N?N.push(b):f.set(A,[b])}}return f}function OT(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function C4(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function NT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wc=null;function O4(){}function N4(i,s,u){if(Wc===null)throw Error(r(475));var f=Wc;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=ou(u.href),b=i.querySelector(Gc(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Sh.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=b,Et(b);return}b=i.ownerDocument||i,u=AT(u),(p=si.get(p))&&Zy(u,p),b=b.createElement("link"),Et(b);var A=b;A._p=new Promise(function(N,$){A.onload=N,A.onerror=$}),Ln(b,"link",u),s.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Sh.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function I4(){if(Wc===null)throw Error(r(475));var i=Wc;return i.stylesheets&&i.count===0&&ev(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&ev(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Sh(){if(this.count--,this.count===0){if(this.stylesheets)ev(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ah=null;function ev(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ah=new Map,s.forEach(R4,i),Ah=null,Sh.call(i))}function R4(i,s){if(!(s.state.loading&4)){var u=Ah.get(i);if(u)var f=u.get(null);else{u=new Map,Ah.set(i,u);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var A=p[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),f=A)}f&&u.set(null,f)}p=s.instance,A=p.getAttribute("data-precedence"),b=u.get(A)||f,b===f&&u.set(null,p),u.set(A,p),this.count++,f=Sh.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Xc={$$typeof:L,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function D4(i,s,u,f,p,b,A,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.hiddenUpdates=sr(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function IT(i,s,u,f,p,b,A,N,$,X,ne,se){return i=new D4(i,s,u,A,N,$,X,se),s=1,b===!0&&(s|=24),b=Pr(3,null,null,s),i.current=b,b.stateNode=i,s=Mp(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:s},Up(b),i}function RT(i){return i?(i=Ul,i):Ul}function DT(i,s,u,f,p,b){p=RT(p),f.context===null?f.context=p:f.pendingContext=p,f=ps(s),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=ys(i,f,s),u!==null&&(Ur(u,i,s),Ac(u,i,s))}function PT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function tv(i,s){PT(i,s),(i=i.alternate)&&PT(i,s)}function MT(i){if(i.tag===13){var s=Vl(i,67108864);s!==null&&Ur(s,i,67108864),tv(i,67108864)}}var kh=!0;function P4(i,s,u,f){var p=Q.T;Q.T=null;var b=ue.p;try{ue.p=2,nv(i,s,u,f)}finally{ue.p=b,Q.T=p}}function M4(i,s,u,f){var p=Q.T;Q.T=null;var b=ue.p;try{ue.p=8,nv(i,s,u,f)}finally{ue.p=b,Q.T=p}}function nv(i,s,u,f){if(kh){var p=rv(f);if(p===null)$y(i,s,f,Ch,u),LT(i,f);else if(L4(p,i,s,u,f))f.stopPropagation();else if(LT(i,f),s&4&&-1<j4.indexOf(i)){for(;p!==null;){var b=Me(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=kr(b.pendingLanes);if(A!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var $=1<<31-Tn(A);N.entanglements[1]|=$,A&=~$}Ki(b),(gt&6)===0&&(fh=At()+500,$c(0))}}break;case 13:N=Vl(b,2),N!==null&&Ur(N,b,2),hh(),tv(b,2)}if(b=rv(f),b===null&&$y(i,s,f,Ch,u),b===p)break;p=b}p!==null&&f.stopPropagation()}else $y(i,s,f,null,u)}}function rv(i){return i=oc(i),iv(i)}var Ch=null;function iv(i){if(Ch=null,i=Ue(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ch=i,null}function jT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case Ut:return 2;case Xe:return 8;case Ar:case ar:return 32;case mo:return 268435456;default:return 32}default:return 32}}var av=!1,Ns=null,Is=null,Rs=null,Qc=new Map,Zc=new Map,Ds=[],j4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LT(i,s){switch(i){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Qc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(s.pointerId)}}function Jc(i,s,u,f,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[p]},s!==null&&(s=Me(s),s!==null&&MT(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function L4(i,s,u,f,p){switch(s){case"focusin":return Ns=Jc(Ns,i,s,u,f,p),!0;case"dragenter":return Is=Jc(Is,i,s,u,f,p),!0;case"mouseover":return Rs=Jc(Rs,i,s,u,f,p),!0;case"pointerover":var b=p.pointerId;return Qc.set(b,Jc(Qc.get(b)||null,i,s,u,f,p)),!0;case"gotpointercapture":return b=p.pointerId,Zc.set(b,Jc(Zc.get(b)||null,i,s,u,f,p)),!0}return!1}function VT(i){var s=Ue(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,kl(i.priority,function(){if(u.tag===13){var f=Vr();f=go(f);var p=Vl(u,f);p!==null&&Ur(p,u,f),tv(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Oh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=rv(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);sc=f,u.target.dispatchEvent(f),sc=null}else return s=Me(u),s!==null&&MT(s),i.blockedOn=u,!1;s.shift()}return!0}function UT(i,s,u){Oh(i)&&u.delete(s)}function V4(){av=!1,Ns!==null&&Oh(Ns)&&(Ns=null),Is!==null&&Oh(Is)&&(Is=null),Rs!==null&&Oh(Rs)&&(Rs=null),Qc.forEach(UT),Zc.forEach(UT)}function Nh(i,s){i.blockedOn===s&&(i.blockedOn=null,av||(av=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V4)))}var Ih=null;function zT(i){Ih!==i&&(Ih=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ih===i&&(Ih=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],p=i[s+2];if(typeof f!="function"){if(iv(f||u)===null)continue;break}var b=Me(u);b!==null&&(i.splice(s,3),s-=3,iy(b,{pending:!0,data:p,method:u.method,action:f},f,p))}}))}function ef(i){function s($){return Nh($,i)}Ns!==null&&Nh(Ns,i),Is!==null&&Nh(Is,i),Rs!==null&&Nh(Rs,i),Qc.forEach(s),Zc.forEach(s);for(var u=0;u<Ds.length;u++){var f=Ds[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ds.length&&(u=Ds[0],u.blockedOn===null);)VT(u),u.blockedOn===null&&Ds.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var p=u[f],b=u[f+1],A=p[fe]||null;if(typeof b=="function")A||zT(u);else if(A){var N=null;if(b&&b.hasAttribute("formAction")){if(p=b,A=b[fe]||null)N=A.formAction;else if(iv(p)!==null)continue}else N=A.action;typeof N=="function"?u[f+1]=N:(u.splice(f,3),f-=3),zT(u)}}}function sv(i){this._internalRoot=i}Rh.prototype.render=sv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=Vr();DT(u,f,i,s,null,null)},Rh.prototype.unmount=sv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;DT(i.current,2,null,i,null,null),hh(),s[ye]=null}};function Rh(i){this._internalRoot=i}Rh.prototype.unstable_scheduleHydration=function(i){if(i){var s=vi();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Ds.length&&s!==0&&s<Ds[u].priority;u++);Ds.splice(u,0,i),u===0&&VT(i)}};var BT=e.version;if(BT!=="19.1.1")throw Error(r(527,BT,"19.1.1"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var U4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{En=Dh.inject(U4),mn=Dh}catch{}}return nf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,f="",p=rE,b=iE,A=aE,N=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=IT(i,1,!1,null,null,u,f,p,b,A,N,null),i[ye]=s.current,qy(i),new sv(s)},nf.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var f=!1,p="",b=rE,A=iE,N=aE,$=null,X=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&($=u.unstable_transitionCallbacks),u.formState!==void 0&&(X=u.formState)),s=IT(i,1,!0,s,u??null,f,p,b,A,N,$,X),s.context=RT(null),u=s.current,f=Vr(),f=go(f),p=ps(f),p.callback=null,ys(u,p,f),u=f,s.current.lanes=u,Bt(s,u),Ki(s),i[ye]=s.current,qy(i),new Rh(s)},nf.version="19.1.1",nf}var QT;function Q4(){if(QT)return uv.exports;QT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uv.exports=X4(),uv.exports}var Z4=Q4();const J4=()=>{};var ZT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},e3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],l=t[n++],c=t[n++],d=((a&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},uO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],l=a+1<t.length,c=l?t[a+1]:0,d=a+2<t.length,h=d?t[a+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let v=(c&15)<<2|h>>6,_=h&63;d||(_=64,l||(v=64)),r.push(n[m],n[y],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||c==null||h==null||y==null)throw new t3;const v=o<<2|c>>4;if(r.push(v),h!==64){const _=c<<4&240|h>>2;if(r.push(_),y!==64){const E=h<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n3=function(t){const e=lO(t);return uO.encodeByteArray(e,!0)},ym=function(t){return n3(t).replace(/\./g,"")},cO=function(t){try{return uO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=()=>r3().__FIREBASE_DEFAULTS__,a3=()=>{if(typeof process>"u"||typeof ZT>"u")return;const t=ZT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cO(t[1]);return e&&JSON.parse(e)},_g=()=>{try{return J4()||i3()||a3()||s3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fO=t=>_g()?.emulatorHosts?.[t],o3=t=>{const e=fO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dO=()=>_g()?.config,hO=t=>_g()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ym(JSON.stringify(n)),ym(JSON.stringify(l)),""].join(".")}const bf={};function c3(){const t={prod:[],emulator:[]};for(const e of Object.keys(bf))bf[e]?t.emulator.push(e):t.prod.push(e);return t}function f3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let JT=!1;function gO(t,e){if(typeof window>"u"||typeof document>"u"||!Vu(window.location.host)||bf[t]===e||bf[t]||JT)return;bf[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=c3().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{JT=!0,l()},v}function m(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=f3(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),k=n("learnmore"),T=document.getElementById(k)||document.createElement("a"),I=n("preprendIcon"),M=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const L=v.element;c(L),m(T,k);const z=h();d(M,I),L.append(M,E,T,z),document.body.appendChild(L)}o?(E.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rr())}function h3(){const t=_g()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y3(){const t=rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v3(){return!h3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b3(){try{return typeof indexedDB=="object"}catch{return!1}}function x3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="FirebaseError";class Za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_3,Object.setPrototypeOf(this,Za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qf.prototype.create)}}class Qf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?w3(o,r):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new Za(a,c,r)}}function w3(t,e){return t.replace(E3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const E3=/\{\$([^}]+)}/g;function T3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ol(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],l=e[a];if(eS(o)&&eS(l)){if(!ol(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function eS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ff(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function df(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function S3(t,e){const n=new A3(t,e);return n.subscribe.bind(n)}class A3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");k3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=hv),a.error===void 0&&(a.error=hv),a.complete===void 0&&(a.complete=hv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t){return t&&t._delegate?t._delegate:t}class ll{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N3(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function O3(t){return t===Ko?void 0:t}function N3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const R3={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},D3=et.INFO,P3={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},M3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=P3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fx{constructor(e){this.name=e,this._logLevel=D3,this._logHandler=M3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const j3=(t,e)=>e.some(n=>t instanceof n);let tS,nS;function L3(){return tS||(tS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V3(){return nS||(nS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pO=new WeakMap,Q0=new WeakMap,yO=new WeakMap,mv=new WeakMap,dx=new WeakMap;function U3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Hs(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&pO.set(n,t)}).catch(()=>{}),dx.set(e,t),e}function z3(t){if(Q0.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Q0.set(t,e)}let Z0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B3(t){Z0=t(Z0)}function q3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gv(this),e,...n);return yO.set(r,e.sort?e.sort():[e]),Hs(r)}:V3().includes(t)?function(...e){return t.apply(gv(this),e),Hs(pO.get(this))}:function(...e){return Hs(t.apply(gv(this),e))}}function $3(t){return typeof t=="function"?q3(t):(t instanceof IDBTransaction&&z3(t),j3(t,L3())?new Proxy(t,Z0):t)}function Hs(t){if(t instanceof IDBRequest)return U3(t);if(mv.has(t))return mv.get(t);const e=$3(t);return e!==t&&(mv.set(t,e),dx.set(e,t)),e}const gv=t=>dx.get(t);function F3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(t,e),c=Hs(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Hs(l.result),d.oldVersion,d.newVersion,Hs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const H3=["get","getKey","getAll","getAllKeys","count"],K3=["put","add","delete","clear"],pv=new Map;function rS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=K3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||H3.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,a?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),a&&d.done]))[0]};return pv.set(e,o),o}B3(t=>({...t,get:(e,n,r)=>rS(e,n)||t.get(e,n,r),has:(e,n)=>!!rS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y3(t){return t.getComponent()?.type==="VERSION"}const J0="@firebase/app",iS="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new fx("@firebase/app"),W3="@firebase/app-compat",X3="@firebase/analytics-compat",Q3="@firebase/analytics",Z3="@firebase/app-check-compat",J3="@firebase/app-check",e6="@firebase/auth",t6="@firebase/auth-compat",n6="@firebase/database",r6="@firebase/data-connect",i6="@firebase/database-compat",a6="@firebase/functions",s6="@firebase/functions-compat",o6="@firebase/installations",l6="@firebase/installations-compat",u6="@firebase/messaging",c6="@firebase/messaging-compat",f6="@firebase/performance",d6="@firebase/performance-compat",h6="@firebase/remote-config",m6="@firebase/remote-config-compat",g6="@firebase/storage",p6="@firebase/storage-compat",y6="@firebase/firestore",v6="@firebase/ai",b6="@firebase/firestore-compat",x6="firebase",_6="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="[DEFAULT]",w6={[J0]:"fire-core",[W3]:"fire-core-compat",[Q3]:"fire-analytics",[X3]:"fire-analytics-compat",[J3]:"fire-app-check",[Z3]:"fire-app-check-compat",[e6]:"fire-auth",[t6]:"fire-auth-compat",[n6]:"fire-rtdb",[r6]:"fire-data-connect",[i6]:"fire-rtdb-compat",[a6]:"fire-fn",[s6]:"fire-fn-compat",[o6]:"fire-iid",[l6]:"fire-iid-compat",[u6]:"fire-fcm",[c6]:"fire-fcm-compat",[f6]:"fire-perf",[d6]:"fire-perf-compat",[h6]:"fire-rc",[m6]:"fire-rc-compat",[g6]:"fire-gcs",[p6]:"fire-gcs-compat",[y6]:"fire-fst",[b6]:"fire-fst-compat",[v6]:"fire-vertex","fire-js":"fire-js",[x6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Map,E6=new Map,tb=new Map;function aS(t,e){try{t.container.addComponent(e)}catch(n){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wu(t){const e=t.name;if(tb.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;tb.set(e,t);for(const n of vm.values())aS(n,t);for(const n of E6.values())aS(n,t);return!0}function hx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Oi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Qf("app","Firebase",T6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=_6;function vO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:eb,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ks.create("bad-app-name",{appName:String(a)});if(n||(n=dO()),!n)throw Ks.create("no-options");const o=vm.get(a);if(o){if(ol(n,o.options)&&ol(r,o.config))return o;throw Ks.create("duplicate-app",{appName:a})}const l=new I3(a);for(const d of tb.values())l.addComponent(d);const c=new S6(n,r,l);return vm.set(a,c),c}function bO(t=eb){const e=vm.get(t);if(!e&&t===eb&&dO())return vO();if(!e)throw Ks.create("no-app",{appName:t});return e}function Gs(t,e,n){let r=w6[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(l.join(" "));return}wu(new ll(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="firebase-heartbeat-database",k6=1,Cf="firebase-heartbeat-store";let yv=null;function xO(){return yv||(yv=F3(A6,k6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),yv}async function C6(t){try{const n=(await xO()).transaction(Cf),r=await n.objectStore(Cf).get(_O(t));return await n.done,r}catch(e){if(e instanceof Za)Fa.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e?.message});Fa.warn(n.message)}}}async function sS(t,e){try{const r=(await xO()).transaction(Cf,"readwrite");await r.objectStore(Cf).put(e,_O(t)),await r.done}catch(n){if(n instanceof Za)Fa.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n?.message});Fa.warn(r.message)}}}function _O(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=1024,N6=30;class I6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>N6){const a=P6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oS(),{heartbeatsToSend:n,unsentEntries:r}=R6(this._heartbeatsCache.heartbeats),a=ym(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Fa.warn(e),""}}}function oS(){return new Date().toISOString().substring(0,10)}function R6(t,e=O6){const n=[];let r=t.slice();for(const a of t){const o=n.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),lS(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b3()?x3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lS(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}function P6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){wu(new ll("platform-logger",e=>new G3(e),"PRIVATE")),wu(new ll("heartbeat",e=>new I6(e),"PRIVATE")),Gs(J0,iS,t),Gs(J0,iS,"esm2020"),Gs("fire-js","")}M6("");var j6="firebase",L6="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(j6,L6,"app");function wO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V6=wO,EO=new Qf("auth","Firebase",wO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new fx("@firebase/auth");function U6(t,...e){bm.logLevel<=et.WARN&&bm.warn(`Auth (${Uu}): ${t}`,...e)}function im(t,...e){bm.logLevel<=et.ERROR&&bm.error(`Auth (${Uu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,...e){throw mx(t,...e)}function Qi(t,...e){return mx(t,...e)}function TO(t,e,n){const r={...V6(),[e]:n};return new Qf("auth","Firebase",r).create(e,{appName:t.name})}function Ys(t){return TO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EO.create(t,...e)}function je(t,e,...n){if(!t)throw mx(e,...n)}function Ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw im(e),new Error(e)}function Ha(t,e){t||Ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return typeof self<"u"&&self.location?.href||""}function z6(){return uS()==="http:"||uS()==="https:"}function uS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z6()||g3()||"connection"in navigator)?navigator.onLine:!0}function q6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ha(n>e,"Short delay should be less than long delay!"),this.isMobile=d3()||p3()}get(){return B6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){Ha(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H6=new Jf(3e4,6e4);function pl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lo(t,e,n,r,a={}){return AO(t,a,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Zf({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...o};return m3()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Vu(t.emulatorConfig.host)&&(h.credentials="include"),SO.fetch()(await kO(t,t.config.apiHost,n,c),h)})}async function AO(t,e,n){t._canInitEmulator=!1;const r={...$6,...e};try{const a=new G6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ph(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ph(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw TO(t,m,h);Pi(t,m)}}catch(a){if(a instanceof Za)throw a;Pi(t,"network-request-failed",{message:String(a)})}}async function wg(t,e,n,r,a={}){const o=await lo(t,e,n,r,a);return"mfaPendingCredential"in o&&Pi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function kO(t,e,n,r){const a=`${e}${n}?${r}`,o=t,l=o.config.emulator?gx(t.config,a):`${t.config.apiScheme}://${a}`;return F6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function K6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),H6.get())})}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Qi(t,e,r);return a.customData._tokenResponse=n,a}function cS(t){return t!==void 0&&t.enterprise!==void 0}class Y6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W6(t,e){return lo(t,"GET","/v2/recaptchaConfig",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function xm(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q6(t,e=!1){const n=Hr(t),r=await n.getIdToken(e),a=px(r);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,l=o?.sign_in_provider;return{claims:a,token:r,authTime:xf(vv(a.auth_time)),issuedAtTime:xf(vv(a.iat)),expirationTime:xf(vv(a.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function vv(t){return Number(t)*1e3}function px(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{const a=cO(n);return a?JSON.parse(a):(im("Failed to decode base64 JWT payload"),null)}catch(a){return im("Caught error parsing JWT payload as JSON",a?.toString()),null}}function fS(t){const e=px(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Za&&Z6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xf(this.lastLoginAt),this.creationTime=xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){const e=t.auth,n=await t.getIdToken(),r=await Of(t,xm(e,{idToken:n}));je(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?CO(a.providerUserInfo):[],l=tL(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!l?.length,h=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new rb(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function eL(t){const e=Hr(t);await _m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tL(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function CO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e){const n=await AO(t,{},async()=>{const r=Zf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,l=await kO(t,a,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Vu(t.emulatorConfig.host)&&(d.credentials="include"),SO.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rL(t,e){return lo(t,"POST","/v2/accounts:revokeToken",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=fS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await nL(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,l=new pu;return r&&(je(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(je(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),o&&(je(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pu,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new J6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new rb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Of(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q6(this,e)}reload(){return eL(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Of(this,X6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:_,providerData:E,stsTokenManager:k}=n;je(y&&k,e,"internal-error");const T=pu.fromJSON(this.name,k);je(typeof y=="string",e,"internal-error"),Ms(r,e.name),Ms(a,e.name),je(typeof v=="boolean",e,"internal-error"),je(typeof _=="boolean",e,"internal-error"),Ms(o,e.name),Ms(l,e.name),Ms(c,e.name),Ms(d,e.name),Ms(h,e.name),Ms(m,e.name);const I=new Ri({uid:y,auth:e,email:a,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:T,createdAt:h,lastLoginAt:m});return E&&Array.isArray(E)&&(I.providerData=E.map(M=>({...M}))),d&&(I._redirectEventId=d),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new pu;a.updateFromServerResponse(n);const o=new Ri({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await _m(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];je(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?CO(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!o?.length,c=new pu;c.updateFromIdToken(r);const d=new Ri({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new rb(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function ja(t){Ha(t instanceof Function,"Expected a class definition");let e=dS.get(t);return e?(Ha(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OO.type="NONE";const hS=OO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t,e,n){return`firebase:${t}:${e}:${n}`}class yu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=am(this.userKey,a.apiKey,o),this.fullPersistenceKey=am("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xm(this.auth,{idToken:e}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yu(ja(hS),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=a[0]||ja(hS);const l=am(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let y;if(typeof m=="string"){const v=await xm(e,{idToken:m}).catch(()=>{});if(!v)break;y=await Ri._fromGetAccountInfoResponse(e,v,m)}else y=Ri._fromJSON(e,m);h!==o&&(c=y),o=h;break}}catch{}const d=a.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new yu(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new yu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MO(e))return"Blackberry";if(jO(e))return"Webos";if(IO(e))return"Safari";if((e.includes("chrome/")||RO(e))&&!e.includes("edge/"))return"Chrome";if(PO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NO(t=rr()){return/firefox\//i.test(t)}function IO(t=rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RO(t=rr()){return/crios\//i.test(t)}function DO(t=rr()){return/iemobile/i.test(t)}function PO(t=rr()){return/android/i.test(t)}function MO(t=rr()){return/blackberry/i.test(t)}function jO(t=rr()){return/webos/i.test(t)}function yx(t=rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iL(t=rr()){return yx(t)&&!!window.navigator?.standalone}function aL(){return y3()&&document.documentMode===10}function LO(t=rr()){return yx(t)||PO(t)||jO(t)||MO(t)||/windows phone/i.test(t)||DO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t,e=[]){let n;switch(t){case"Browser":n=mS(rr());break;case"Worker":n=`${mS(rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e={}){return lo(t,"GET","/v2/passwordPolicy",pl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=6;class uL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gS(this),this.idTokenSubscription=new gS(this),this.beforeStateQueue=new sL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ja(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xm(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Oi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _m(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject(Ys(this));const n=e?Hr(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oL(this),n=new uL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ja(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await yu.create(this,[ja(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zu(t){return Hr(t)}class gS{constructor(e){this.auth=e,this.observer=null,this.addObserver=S3(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fL(t){Eg=t}function UO(t){return Eg.loadJS(t)}function dL(){return Eg.recaptchaEnterpriseScript}function hL(){return Eg.gapiScript}function mL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gL{constructor(){this.enterprise=new pL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yL="recaptcha-enterprise",zO="NO_RECAPTCHA";class vL{constructor(e){this.type=yL,this.auth=zu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{W6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new Y6(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function a(o,l,c){const d=window.grecaptcha;cS(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(zO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&cS(window.grecaptcha))a(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=dL();d.length!==0&&(d+=c),UO(d).then(()=>{a(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function pS(t,e,n,r=!1,a=!1){const o=new vL(t);let l;if(a)l=zO;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function yS(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await pS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await pS(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e){const n=hx(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(ol(o,e??{}))return a;Pi(a,"already-initialized")}return n.initialize({options:e})}function xL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ja);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _L(t,e,n){const r=zu(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=BO(e),{host:l,port:c}=wL(e),d=c===null?"":`:${c}`,h={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(ol(h,r.config.emulator)&&ol(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Vu(l)?(mO(`${o}//${l}${d}`),gO("Auth",!0)):EL()}function BO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wL(t){const e=BO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:vS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:vS(l)}}}function vS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ma("not implemented")}_getIdTokenResponse(e){return Ma("not implemented")}_linkToIdToken(e,n){return Ma("not implemented")}_getReauthenticationResolver(e){return Ma("not implemented")}}async function TL(t,e){return lo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e){return wg(t,"POST","/v1/accounts:signInWithPassword",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){return wg(t,"POST","/v1/accounts:signInWithEmailLink",pl(t,e))}async function kL(t,e){return wg(t,"POST","/v1/accounts:signInWithEmailLink",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends vx{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Nf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yS(e,n,"signInWithPassword",SL);case"emailLink":return AL(e,{email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yS(e,r,"signUpPassword",TL);case"emailLink":return kL(e,{idToken:n,email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t,e){return wg(t,"POST","/v1/accounts:signInWithIdp",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="http://localhost";class ul extends vx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const l=new ul(r,a);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return vu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vu(e,n)}buildRequest(){const e={requestUri:CL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NL(t){const e=ff(df(t)).link,n=e?ff(df(e)).deep_link_id:null,r=ff(df(t)).deep_link_id;return(r?ff(df(r)).link:null)||r||n||e||t}class bx{constructor(e){const n=ff(df(e)),r=n.apiKey??null,a=n.oobCode??null,o=OL(n.mode??null);je(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NL(e);try{return new bx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.providerId=Bu.PROVIDER_ID}static credential(e,n){return Nf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bx.parseLink(n);return je(r,"argument-error"),Nf._fromEmailAndCode(e,r.code,r.tenantId)}}Bu.PROVIDER_ID="password";Bu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends qO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends ed{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends ed{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends ed{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Ri._fromIdTokenResponse(e,r,a),l=bS(r);return new Eu({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=bS(r);return new Eu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function bS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends Za{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,wm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new wm(e,n,r,a)}}function $O(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wm._fromErrorAndOperation(t,o,e,r):o})}async function IL(t,e,n=!1){const r=await Of(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Eu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e,n=!1){const{auth:r}=t;if(Oi(r.app))return Promise.reject(Ys(r));const a="reauthenticate";try{const o=await Of(t,$O(r,a,e,t),n);je(o.idToken,r,"internal-error");const l=px(o.idToken);je(l,r,"internal-error");const{sub:c}=l;return je(t.uid===c,r,"user-mismatch"),Eu._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Pi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e,n=!1){if(Oi(t.app))return Promise.reject(Ys(t));const r="signIn",a=await $O(t,r,e),o=await Eu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function DL(t,e){return FO(zu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t){const e=zu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ML(t,e,n){return Oi(t.app)?Promise.reject(Ys(t)):DL(Hr(t),Bu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PL(t),r})}function jL(t,e,n,r){return Hr(t).onIdTokenChanged(e,n,r)}function LL(t,e,n){return Hr(t).beforeAuthStateChanged(e,n)}function VL(t,e,n,r){return Hr(t).onAuthStateChanged(e,n,r)}function xS(t){return Hr(t).signOut()}const Em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Em,"1"),this.storage.removeItem(Em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=1e3,zL=10;class KO extends HO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);aL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,zL):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KO.type="LOCAL";const BL=KO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO extends HO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GO.type="SESSION";const YO=GO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(l).map(async h=>h(n.origin,o)),d=await qL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=xx("",20);a.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return window}function FL(t){Zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function HL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KL(){return navigator?.serviceWorker?.controller||null}function GL(){return WO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="firebaseLocalStorageDb",YL=1,Tm="firebaseLocalStorage",QO="fbase_key";class td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sg(t,e){return t.transaction([Tm],e?"readwrite":"readonly").objectStore(Tm)}function WL(){const t=indexedDB.deleteDatabase(XO);return new td(t).toPromise()}function ib(){const t=indexedDB.open(XO,YL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tm,{keyPath:QO})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tm)?e(r):(r.close(),await WL(),e(await ib()))})})}async function _S(t,e,n){const r=Sg(t,!0).put({[QO]:e,value:n});return new td(r).toPromise()}async function XL(t,e){const n=Sg(t,!1).get(e),r=await new td(n).toPromise();return r===void 0?null:r.value}function wS(t,e){const n=Sg(t,!0).delete(e);return new td(n).toPromise()}const QL=800,ZL=3;class ZO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ib(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tg._getInstance(GL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HL(),!this.activeServiceWorker)return;this.sender=new $L(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ib();return await _S(e,Em,"1"),await wS(e,Em),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_S(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Sg(a,!1).getAll();return new td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZO.type="LOCAL";const JL=ZO;new Jf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t,e){return e?ja(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tV(t){return FO(t.auth,new _x(t),t.bypassAuthState)}function nV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),RL(n,new _x(t),t.bypassAuthState)}async function rV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),IL(n,new _x(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tV;case"linkViaPopup":case"linkViaRedirect":return rV;case"reauthViaPopup":case"reauthViaRedirect":return nV;default:Pi(this.auth,"internal-error")}}resolve(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new Jf(2e3,1e4);class mu extends JO{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,mu.currentPopupAction&&mu.currentPopupAction.cancel(),mu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Ha(this.filter.length===1,"Popup operations only handle one event");const e=xx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iV.get())};e()}}mu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="pendingRedirect",sm=new Map;class sV extends JO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sm.get(this.auth._key());if(!e){try{const r=await oV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sm.set(this.auth._key(),e)}return this.bypassAuthState||sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oV(t,e){const n=cV(e),r=uV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function lV(t,e){sm.set(t._key(),e)}function uV(t){return ja(t._redirectPersistence)}function cV(t){return am(aV,t.config.apiKey,t.name)}async function fV(t,e,n=!1){if(Oi(t.app))return Promise.reject(Ys(t));const r=zu(t),a=eV(r,e),l=await new sV(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=600*1e3;class hV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eN(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ES(e))}saveEventToCache(e){this.cachedEventUids.add(ES(e)),this.lastProcessedEventTime=Date.now()}}function ES(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yV=/^https?/;async function vV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gV(t);for(const n of e)try{if(bV(n))return}catch{}Pi(t,"unauthorized-domain")}function bV(t){const e=nb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!yV.test(n))return!1;if(pV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new Jf(3e4,6e4);function TS(){const t=Zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _V(t){return new Promise((e,n)=>{function r(){TS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TS(),n(Qi(t,"network-request-failed"))},timeout:xV.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)r();else{const a=mL("iframefcb");return Zi()[a]=()=>{gapi.load?r():n(Qi(t,"network-request-failed"))},UO(`${hL()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw om=null,e})}let om=null;function wV(t){return om=om||_V(t),om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new Jf(5e3,15e3),TV="__/auth/iframe",SV="emulator/auth/iframe",AV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CV(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gx(e,SV):`https://${t.config.authDomain}/${TV}`,r={apiKey:e.apiKey,appName:t.name,v:Uu},a=kV.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zf(r).slice(1)}`}async function OV(t){const e=await wV(t),n=Zi().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:CV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AV,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const l=Qi(t,"network-request-failed"),c=Zi().setTimeout(()=>{o(l)},EV.get());function d(){Zi().clearTimeout(c),a(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IV=500,RV=600,DV="_blank",PV="http://localhost";class SS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MV(t,e,n,r=IV,a=RV){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...NV,width:r.toString(),height:a.toString(),top:o,left:l},h=rr().toLowerCase();n&&(c=RO(h)?DV:n),NO(h)&&(e=e||PV,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[_,E])=>`${v}${_}=${E},`,"");if(iL(h)&&c!=="_self")return jV(e||"",c),new SS(null);const y=window.open(e||"",c,m);je(y,t,"popup-blocked");try{y.focus()}catch{}return new SS(y)}function jV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="__/auth/handler",VV="emulator/auth/handler",UV=encodeURIComponent("fac");async function AS(t,e,n,r,a,o){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uu,eventId:a};if(e instanceof qO){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",T3(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof ed){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${UV}=${encodeURIComponent(d)}`:"";return`${zV(t)}?${Zf(c).slice(1)}${h}`}function zV({config:t}){return t.emulator?gx(t,VV):`https://${t.authDomain}/${LV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="webStorageSupport";class BV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YO,this._completeRedirectFn=fV,this._overrideRedirectResult=lV}async _openPopup(e,n,r,a){Ha(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await AS(e,n,r,nb(),a);return MV(e,o,xx())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await AS(e,n,r,nb(),a);return FL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ha(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OV(e),r=new hV(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bv,{type:bv},a=>{const o=a?.[0]?.[bv];o!==void 0&&n(!!o),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LO()||IO()||yx()}}const qV=BV;var kS="@firebase/auth",CS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HV(t){wu(new ll("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VO(t)},h=new cL(r,a,o,d);return xL(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wu(new ll("auth-internal",e=>{const n=zu(e.getProvider("auth").getImmediate());return(r=>new $V(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(kS,CS,FV(t)),Gs(kS,CS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=300,GV=hO("authIdTokenMaxAge")||KV;let OS=null;const YV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GV)return;const a=n?.token;OS!==a&&(OS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function WV(t=bO()){const e=hx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bL(t,{popupRedirectResolver:qV,persistence:[JL,BL,YO]}),r=hO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=YV(o.toString());LL(n,l,()=>l(n.currentUser)),jL(n,c=>l(c))}}const a=fO("auth");return a&&_L(n,`http://${a}`),n}function XV(){return document.getElementsByTagName("head")?.[0]??document}fL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Qi("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",XV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HV("Browser");var NS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,tN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,O){function D(){}D.prototype=O.prototype,R.F=O.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(U,P,B){for(var V=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)V[pe-2]=arguments[pe];return O.prototype[P].apply(U,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,O,D){D||(D=0);const U=Array(16);if(typeof O=="string")for(var P=0;P<16;++P)U[P]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(P=0;P<16;++P)U[P]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=R.g[0],D=R.g[1],P=R.g[2];let B=R.g[3],V;V=O+(B^D&(P^B))+U[0]+3614090360&4294967295,O=D+(V<<7&4294967295|V>>>25),V=B+(P^O&(D^P))+U[1]+3905402710&4294967295,B=O+(V<<12&4294967295|V>>>20),V=P+(D^B&(O^D))+U[2]+606105819&4294967295,P=B+(V<<17&4294967295|V>>>15),V=D+(O^P&(B^O))+U[3]+3250441966&4294967295,D=P+(V<<22&4294967295|V>>>10),V=O+(B^D&(P^B))+U[4]+4118548399&4294967295,O=D+(V<<7&4294967295|V>>>25),V=B+(P^O&(D^P))+U[5]+1200080426&4294967295,B=O+(V<<12&4294967295|V>>>20),V=P+(D^B&(O^D))+U[6]+2821735955&4294967295,P=B+(V<<17&4294967295|V>>>15),V=D+(O^P&(B^O))+U[7]+4249261313&4294967295,D=P+(V<<22&4294967295|V>>>10),V=O+(B^D&(P^B))+U[8]+1770035416&4294967295,O=D+(V<<7&4294967295|V>>>25),V=B+(P^O&(D^P))+U[9]+2336552879&4294967295,B=O+(V<<12&4294967295|V>>>20),V=P+(D^B&(O^D))+U[10]+4294925233&4294967295,P=B+(V<<17&4294967295|V>>>15),V=D+(O^P&(B^O))+U[11]+2304563134&4294967295,D=P+(V<<22&4294967295|V>>>10),V=O+(B^D&(P^B))+U[12]+1804603682&4294967295,O=D+(V<<7&4294967295|V>>>25),V=B+(P^O&(D^P))+U[13]+4254626195&4294967295,B=O+(V<<12&4294967295|V>>>20),V=P+(D^B&(O^D))+U[14]+2792965006&4294967295,P=B+(V<<17&4294967295|V>>>15),V=D+(O^P&(B^O))+U[15]+1236535329&4294967295,D=P+(V<<22&4294967295|V>>>10),V=O+(P^B&(D^P))+U[1]+4129170786&4294967295,O=D+(V<<5&4294967295|V>>>27),V=B+(D^P&(O^D))+U[6]+3225465664&4294967295,B=O+(V<<9&4294967295|V>>>23),V=P+(O^D&(B^O))+U[11]+643717713&4294967295,P=B+(V<<14&4294967295|V>>>18),V=D+(B^O&(P^B))+U[0]+3921069994&4294967295,D=P+(V<<20&4294967295|V>>>12),V=O+(P^B&(D^P))+U[5]+3593408605&4294967295,O=D+(V<<5&4294967295|V>>>27),V=B+(D^P&(O^D))+U[10]+38016083&4294967295,B=O+(V<<9&4294967295|V>>>23),V=P+(O^D&(B^O))+U[15]+3634488961&4294967295,P=B+(V<<14&4294967295|V>>>18),V=D+(B^O&(P^B))+U[4]+3889429448&4294967295,D=P+(V<<20&4294967295|V>>>12),V=O+(P^B&(D^P))+U[9]+568446438&4294967295,O=D+(V<<5&4294967295|V>>>27),V=B+(D^P&(O^D))+U[14]+3275163606&4294967295,B=O+(V<<9&4294967295|V>>>23),V=P+(O^D&(B^O))+U[3]+4107603335&4294967295,P=B+(V<<14&4294967295|V>>>18),V=D+(B^O&(P^B))+U[8]+1163531501&4294967295,D=P+(V<<20&4294967295|V>>>12),V=O+(P^B&(D^P))+U[13]+2850285829&4294967295,O=D+(V<<5&4294967295|V>>>27),V=B+(D^P&(O^D))+U[2]+4243563512&4294967295,B=O+(V<<9&4294967295|V>>>23),V=P+(O^D&(B^O))+U[7]+1735328473&4294967295,P=B+(V<<14&4294967295|V>>>18),V=D+(B^O&(P^B))+U[12]+2368359562&4294967295,D=P+(V<<20&4294967295|V>>>12),V=O+(D^P^B)+U[5]+4294588738&4294967295,O=D+(V<<4&4294967295|V>>>28),V=B+(O^D^P)+U[8]+2272392833&4294967295,B=O+(V<<11&4294967295|V>>>21),V=P+(B^O^D)+U[11]+1839030562&4294967295,P=B+(V<<16&4294967295|V>>>16),V=D+(P^B^O)+U[14]+4259657740&4294967295,D=P+(V<<23&4294967295|V>>>9),V=O+(D^P^B)+U[1]+2763975236&4294967295,O=D+(V<<4&4294967295|V>>>28),V=B+(O^D^P)+U[4]+1272893353&4294967295,B=O+(V<<11&4294967295|V>>>21),V=P+(B^O^D)+U[7]+4139469664&4294967295,P=B+(V<<16&4294967295|V>>>16),V=D+(P^B^O)+U[10]+3200236656&4294967295,D=P+(V<<23&4294967295|V>>>9),V=O+(D^P^B)+U[13]+681279174&4294967295,O=D+(V<<4&4294967295|V>>>28),V=B+(O^D^P)+U[0]+3936430074&4294967295,B=O+(V<<11&4294967295|V>>>21),V=P+(B^O^D)+U[3]+3572445317&4294967295,P=B+(V<<16&4294967295|V>>>16),V=D+(P^B^O)+U[6]+76029189&4294967295,D=P+(V<<23&4294967295|V>>>9),V=O+(D^P^B)+U[9]+3654602809&4294967295,O=D+(V<<4&4294967295|V>>>28),V=B+(O^D^P)+U[12]+3873151461&4294967295,B=O+(V<<11&4294967295|V>>>21),V=P+(B^O^D)+U[15]+530742520&4294967295,P=B+(V<<16&4294967295|V>>>16),V=D+(P^B^O)+U[2]+3299628645&4294967295,D=P+(V<<23&4294967295|V>>>9),V=O+(P^(D|~B))+U[0]+4096336452&4294967295,O=D+(V<<6&4294967295|V>>>26),V=B+(D^(O|~P))+U[7]+1126891415&4294967295,B=O+(V<<10&4294967295|V>>>22),V=P+(O^(B|~D))+U[14]+2878612391&4294967295,P=B+(V<<15&4294967295|V>>>17),V=D+(B^(P|~O))+U[5]+4237533241&4294967295,D=P+(V<<21&4294967295|V>>>11),V=O+(P^(D|~B))+U[12]+1700485571&4294967295,O=D+(V<<6&4294967295|V>>>26),V=B+(D^(O|~P))+U[3]+2399980690&4294967295,B=O+(V<<10&4294967295|V>>>22),V=P+(O^(B|~D))+U[10]+4293915773&4294967295,P=B+(V<<15&4294967295|V>>>17),V=D+(B^(P|~O))+U[1]+2240044497&4294967295,D=P+(V<<21&4294967295|V>>>11),V=O+(P^(D|~B))+U[8]+1873313359&4294967295,O=D+(V<<6&4294967295|V>>>26),V=B+(D^(O|~P))+U[15]+4264355552&4294967295,B=O+(V<<10&4294967295|V>>>22),V=P+(O^(B|~D))+U[6]+2734768916&4294967295,P=B+(V<<15&4294967295|V>>>17),V=D+(B^(P|~O))+U[13]+1309151649&4294967295,D=P+(V<<21&4294967295|V>>>11),V=O+(P^(D|~B))+U[4]+4149444226&4294967295,O=D+(V<<6&4294967295|V>>>26),V=B+(D^(O|~P))+U[11]+3174756917&4294967295,B=O+(V<<10&4294967295|V>>>22),V=P+(O^(B|~D))+U[2]+718787259&4294967295,P=B+(V<<15&4294967295|V>>>17),V=D+(B^(P|~O))+U[9]+3951481745&4294967295,R.g[0]=R.g[0]+O&4294967295,R.g[1]=R.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+B&4294967295}r.prototype.v=function(R,O){O===void 0&&(O=R.length);const D=O-this.blockSize,U=this.C;let P=this.h,B=0;for(;B<O;){if(P==0)for(;B<=D;)a(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<O;)if(U[P++]=R.charCodeAt(B++),P==this.blockSize){a(this,U),P=0;break}}else for(;B<O;)if(U[P++]=R[B++],P==this.blockSize){a(this,U),P=0;break}}this.h=P,this.o+=O},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var O=1;O<R.length-8;++O)R[O]=0;O=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=O&255,O/=256;for(this.v(R),R=Array(16),O=0,D=0;D<4;++D)for(let U=0;U<32;U+=8)R[O++]=this.g[D]>>>U&255;return R};function o(R,O){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=O(R)}function l(R,O){this.h=O;const D=[];let U=!0;for(let P=R.length-1;P>=0;P--){const B=R[P]|0;U&&B==O||(D[P]=B,U=!1)}this.g=D}var c={};function d(R){return-128<=R&&R<128?o(R,function(O){return new l([O|0],O<0?-1:0)}):new l([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return y;if(R<0)return T(h(-R));const O=[];let D=1;for(let U=0;R>=D;U++)O[U]=R/D|0,D*=4294967296;return new l(O,0)}function m(R,O){if(R.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(R.charAt(0)=="-")return T(m(R.substring(1),O));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(O,8));let U=y;for(let B=0;B<R.length;B+=8){var P=Math.min(8,R.length-B);const V=parseInt(R.substring(B,B+P),O);P<8?(P=h(Math.pow(O,P)),U=U.j(P).add(h(V))):(U=U.j(D),U=U.add(h(V)))}return U}var y=d(0),v=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(k(this))return-T(this).m();let R=0,O=1;for(let D=0;D<this.g.length;D++){const U=this.i(D);R+=(U>=0?U:4294967296+U)*O,O*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(E(this))return"0";if(k(this))return"-"+T(this).toString(R);const O=h(Math.pow(R,6));var D=this;let U="";for(;;){const P=z(D,O).g;D=I(D,P.j(O));let B=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=P,E(D))return B+U;for(;B.length<6;)B="0"+B;U=B+U}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function E(R){if(R.h!=0)return!1;for(let O=0;O<R.g.length;O++)if(R.g[O]!=0)return!1;return!0}function k(R){return R.h==-1}t.l=function(R){return R=I(this,R),k(R)?-1:E(R)?0:1};function T(R){const O=R.g.length,D=[];for(let U=0;U<O;U++)D[U]=~R.g[U];return new l(D,~R.h).add(v)}t.abs=function(){return k(this)?T(this):this},t.add=function(R){const O=Math.max(this.g.length,R.g.length),D=[];let U=0;for(let P=0;P<=O;P++){let B=U+(this.i(P)&65535)+(R.i(P)&65535),V=(B>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);U=V>>>16,B&=65535,V&=65535,D[P]=V<<16|B}return new l(D,D[D.length-1]&-2147483648?-1:0)};function I(R,O){return R.add(T(O))}t.j=function(R){if(E(this)||E(R))return y;if(k(this))return k(R)?T(this).j(T(R)):T(T(this).j(R));if(k(R))return T(this.j(T(R)));if(this.l(_)<0&&R.l(_)<0)return h(this.m()*R.m());const O=this.g.length+R.g.length,D=[];for(var U=0;U<2*O;U++)D[U]=0;for(U=0;U<this.g.length;U++)for(let P=0;P<R.g.length;P++){const B=this.i(U)>>>16,V=this.i(U)&65535,pe=R.i(P)>>>16,Ee=R.i(P)&65535;D[2*U+2*P]+=V*Ee,M(D,2*U+2*P),D[2*U+2*P+1]+=B*Ee,M(D,2*U+2*P+1),D[2*U+2*P+1]+=V*pe,M(D,2*U+2*P+1),D[2*U+2*P+2]+=B*pe,M(D,2*U+2*P+2)}for(R=0;R<O;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=O;R<2*O;R++)D[R]=0;return new l(D,0)};function M(R,O){for(;(R[O]&65535)!=R[O];)R[O+1]+=R[O]>>>16,R[O]&=65535,O++}function L(R,O){this.g=R,this.h=O}function z(R,O){if(E(O))throw Error("division by zero");if(E(R))return new L(y,y);if(k(R))return O=z(T(R),O),new L(T(O.g),T(O.h));if(k(O))return O=z(R,T(O)),new L(T(O.g),O.h);if(R.g.length>30){if(k(R)||k(O))throw Error("slowDivide_ only works with positive integers.");for(var D=v,U=O;U.l(R)<=0;)D=q(D),U=q(U);var P=F(D,1),B=F(U,1);for(U=F(U,2),D=F(D,2);!E(U);){var V=B.add(U);V.l(R)<=0&&(P=P.add(D),B=V),U=F(U,1),D=F(D,1)}return O=I(R,P.j(O)),new L(P,O)}for(P=y;R.l(O)>=0;){for(D=Math.max(1,Math.floor(R.m()/O.m())),U=Math.ceil(Math.log(D)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),B=h(D),V=B.j(O);k(V)||V.l(R)>0;)D-=U,B=h(D),V=B.j(O);E(B)&&(B=v),P=P.add(B),R=I(R,V)}return new L(P,R)}t.B=function(R){return z(this,R).h},t.and=function(R){const O=Math.max(this.g.length,R.g.length),D=[];for(let U=0;U<O;U++)D[U]=this.i(U)&R.i(U);return new l(D,this.h&R.h)},t.or=function(R){const O=Math.max(this.g.length,R.g.length),D=[];for(let U=0;U<O;U++)D[U]=this.i(U)|R.i(U);return new l(D,this.h|R.h)},t.xor=function(R){const O=Math.max(this.g.length,R.g.length),D=[];for(let U=0;U<O;U++)D[U]=this.i(U)^R.i(U);return new l(D,this.h^R.h)};function q(R){const O=R.g.length+1,D=[];for(let U=0;U<O;U++)D[U]=R.i(U)<<1|R.i(U-1)>>>31;return new l(D,R.h)}function F(R,O){const D=O>>5;O%=32;const U=R.g.length-D,P=[];for(let B=0;B<U;B++)P[B]=O>0?R.i(B+D)>>>O|R.i(B+D+1)<<32-O:R.i(B+D);return new l(P,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tN=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Ws=l}).apply(typeof NS<"u"?NS:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nN,hf,rN,lm,ab,iN,aN,sN;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var w=0;w<g.length;++w){var S=g[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function a(g,w){if(w)e:{var S=r;g=g.split(".");for(var j=0;j<g.length-1;j++){var W=g[j];if(!(W in S))break e;S=S[W]}g=g[g.length-1],j=S[g],w=w(j),w!=j&&w!=null&&e(S,g,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(w){var S=[],j;for(j in w)Object.prototype.hasOwnProperty.call(w,j)&&S.push([j,w[j]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function d(g,w,S){return g.call.apply(g.bind,arguments)}function h(g,w,S){return h=d,h.apply(null,arguments)}function m(g,w){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),g.apply(this,j)}}function y(g,w){function S(){}S.prototype=w.prototype,g.Z=w.prototype,g.prototype=new S,g.prototype.constructor=g,g.Ob=function(j,W,ee){for(var de=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)de[Fe-2]=arguments[Fe];return w.prototype[W].apply(j,de)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const w=g.length;if(w>0){const S=Array(w);for(let j=0;j<w;j++)S[j]=g[j];return S}return[]}function E(g,w){for(let j=1;j<arguments.length;j++){const W=arguments[j];var S=typeof W;if(S=S!="object"?S:W?Array.isArray(W)?"array":S:"null",S=="array"||S=="object"&&typeof W.length=="number"){S=g.length||0;const ee=W.length||0;g.length=S+ee;for(let de=0;de<ee;de++)g[S+de]=W[de]}else g.push(W)}}class k{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(g){l.setTimeout(()=>{throw g},0)}function I(){var g=R;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class M{constructor(){this.h=this.g=null}add(w,S){const j=L.get();j.set(w,S),this.h?this.h.next=j:this.g=j,this.h=j}}var L=new k(()=>new z,g=>g.reset());class z{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let q,F=!1,R=new M,O=()=>{const g=Promise.resolve(void 0);q=()=>{g.then(D)}};function D(){for(var g;g=I();){try{g.h.call(g.g)}catch(S){T(S)}var w=L;w.j(g),w.h<100&&(w.h++,g.next=w.g,w.g=g)}F=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const S=()=>{};l.addEventListener("test",S,w),l.removeEventListener("test",S,w)}catch{}return g})();function V(g){return/^[\s\xa0]*$/.test(g)}function pe(g,w){P.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,w)}y(pe,P),pe.prototype.init=function(g,w){const S=this.type=g.type,j=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget,w||(S=="mouseover"?w=g.fromElement:S=="mouseout"&&(w=g.toElement)),this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ue(g,w,S,j,W){this.listener=g,this.proxy=null,this.src=w,this.type=S,this.capture=!!j,this.ha=W,this.key=++Q,this.da=this.fa=!1}function ge(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ae(g,w,S){for(const j in g)w.call(S,g[j],j,g)}function H(g,w){for(const S in g)w.call(void 0,g[S],S,g)}function ie(g){const w={};for(const S in g)w[S]=g[S];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(g,w){let S,j;for(let W=1;W<arguments.length;W++){j=arguments[W];for(S in j)g[S]=j[S];for(let ee=0;ee<ae.length;ee++)S=ae[ee],Object.prototype.hasOwnProperty.call(j,S)&&(g[S]=j[S])}}function _e(g){this.src=g,this.g={},this.h=0}_e.prototype.add=function(g,w,S,j,W){const ee=g.toString();g=this.g[ee],g||(g=this.g[ee]=[],this.h++);const de=Ie(g,w,j,W);return de>-1?(w=g[de],S||(w.fa=!1)):(w=new ue(w,this.src,ee,!!j,W),w.fa=S,g.push(w)),w};function Ne(g,w){const S=w.type;if(S in g.g){var j=g.g[S],W=Array.prototype.indexOf.call(j,w,void 0),ee;(ee=W>=0)&&Array.prototype.splice.call(j,W,1),ee&&(ge(w),g.g[S].length==0&&(delete g.g[S],g.h--))}}function Ie(g,w,S,j){for(let W=0;W<g.length;++W){const ee=g[W];if(!ee.da&&ee.listener==w&&ee.capture==!!S&&ee.ha==j)return W}return-1}var Gt="closure_lm_"+(Math.random()*1e6|0),ot={};function me(g,w,S,j,W){if(Array.isArray(w)){for(let ee=0;ee<w.length;ee++)me(g,w[ee],S,j,W);return null}return S=Gn(S),g&&g[Ee]?g.J(w,S,c(j)?!!j.capture:!1,W):qe(g,w,S,!1,j,W)}function qe(g,w,S,j,W,ee){if(!w)throw Error("Invalid event type");const de=c(W)?!!W.capture:!!W;let Fe=Vt(g);if(Fe||(g[Gt]=Fe=new _e(g)),S=Fe.add(w,S,j,de,ee),S.proxy)return S;if(j=Ke(),S.proxy=j,j.src=g,j.listener=S,g.addEventListener)B||(W=de),W===void 0&&(W=!1),g.addEventListener(w.toString(),j,W);else if(g.attachEvent)g.attachEvent(rt(w.toString()),j);else if(g.addListener&&g.removeListener)g.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ke(){function g(S){return w.call(g.src,g.listener,S)}const w=Yt;return g}function ce(g,w,S,j,W){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)ce(g,w[ee],S,j,W);else j=c(j)?!!j.capture:!!j,S=Gn(S),g&&g[Ee]?(g=g.i,ee=String(w).toString(),ee in g.g&&(w=g.g[ee],S=Ie(w,S,j,W),S>-1&&(ge(w[S]),Array.prototype.splice.call(w,S,1),w.length==0&&(delete g.g[ee],g.h--)))):g&&(g=Vt(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Ie(w,S,j,W)),(S=g>-1?w[g]:null)&&wt(S))}function wt(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[Ee])Ne(w.i,g);else{var S=g.type,j=g.proxy;w.removeEventListener?w.removeEventListener(S,j,g.capture):w.detachEvent?w.detachEvent(rt(S),j):w.addListener&&w.removeListener&&w.removeListener(j),(S=Vt(w))?(Ne(S,g),S.h==0&&(S.src=null,w[Gt]=null)):ge(g)}}}function rt(g){return g in ot?ot[g]:ot[g]="on"+g}function Yt(g,w){if(g.da)g=!0;else{w=new pe(w,this);const S=g.listener,j=g.ha||g.src;g.fa&&wt(g),g=S.call(j,w)}return g}function Vt(g){return g=g[Gt],g instanceof _e?g:null}var At="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gn(g){return typeof g=="function"?g:(g[At]||(g[At]=function(w){return g.handleEvent(w)}),g[At])}function Ut(){U.call(this),this.i=new _e(this),this.M=this,this.G=null}y(Ut,U),Ut.prototype[Ee]=!0,Ut.prototype.removeEventListener=function(g,w,S,j){ce(this,g,w,S,j)};function Xe(g,w){var S,j=g.G;if(j)for(S=[];j;j=j.G)S.push(j);if(g=g.M,j=w.type||w,typeof w=="string")w=new P(w,g);else if(w instanceof P)w.target=w.target||g;else{var W=w;w=new P(j,g),he(w,W)}W=!0;let ee,de;if(S)for(de=S.length-1;de>=0;de--)ee=w.g=S[de],W=Ar(ee,j,!0,w)&&W;if(ee=w.g=g,W=Ar(ee,j,!0,w)&&W,W=Ar(ee,j,!1,w)&&W,S)for(de=0;de<S.length;de++)ee=w.g=S[de],W=Ar(ee,j,!1,w)&&W}Ut.prototype.N=function(){if(Ut.Z.N.call(this),this.i){var g=this.i;for(const w in g.g){const S=g.g[w];for(let j=0;j<S.length;j++)ge(S[j]);delete g.g[w],g.h--}}this.G=null},Ut.prototype.J=function(g,w,S,j){return this.i.add(String(g),w,!1,S,j)},Ut.prototype.K=function(g,w,S,j){return this.i.add(String(g),w,!0,S,j)};function Ar(g,w,S,j){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let ee=0;ee<w.length;++ee){const de=w[ee];if(de&&!de.da&&de.capture==S){const Fe=de.listener,It=de.ha||de.src;de.fa&&Ne(g.i,de),W=Fe.call(It,j)!==!1&&W}}return W&&!j.defaultPrevented}function ar(g,w){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(g,w||0)}function mo(g){g.g=ar(()=>{g.g=null,g.i&&(g.i=!1,mo(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class Mi extends U{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(g){U.call(this),this.h=g,this.g={}}y(ji,U);var En=[];function mn(g){Ae(g.g,function(w,S){this.g.hasOwnProperty(S)&&wt(w)},g),g.g={}}ji.prototype.N=function(){ji.Z.N.call(this),mn(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=l.JSON.stringify,Tn=l.JSON.parse,is=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Sl(){}function as(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){P.call(this,"d")}y(Jt,P);function kr(){P.call(this,"c")}y(kr,P);var yr={},Li=null;function zt(){return Li=Li||new Ut}yr.Ia="serverreachability";function ca(g){P.call(this,yr.Ia,g)}y(ca,P);function Vi(g){const w=zt();Xe(w,new ca(w))}yr.STAT_EVENT="statevent";function sr(g,w){P.call(this,yr.STAT_EVENT,g),this.stat=w}y(sr,P);function Bt(g){const w=zt();Xe(w,new sr(w,g))}yr.Ja="timingevent";function Al(g,w){P.call(this,yr.Ja,g),this.size=w}y(Al,P);function or(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},w)}function Ui(){this.g=!0}Ui.prototype.ua=function(){this.g=!1};function go(g,w,S,j,W,ee){g.info(function(){if(g.g)if(ee){var de="",Fe=ee.split("&");for(let mt=0;mt<Fe.length;mt++){var It=Fe[mt].split("=");if(It.length>1){const nn=It[0];It=It[1];const Rr=nn.split("_");de=Rr.length>=2&&Rr[1]=="type"?de+(nn+"="+It+"&"):de+(nn+"=redacted&")}}}else de=null;else de=ee;return"XMLHTTP REQ ("+j+") [attempt "+W+"]: "+w+`
`+S+`
`+de})}function fa(g,w,S,j,W,ee,de){g.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+W+"]: "+w+`
`+S+`
`+ee+" "+de})}function vi(g,w,S,j){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+Wr(g,S)+(j?" "+j:"")})}function kl(g,w){g.info(function(){return"TIMEOUT: "+w})}Ui.prototype.info=function(){};function Wr(g,w){if(!g.g)return w;if(!w)return null;try{const ee=JSON.parse(w);if(ee){for(g=0;g<ee.length;g++)if(Array.isArray(ee[g])){var S=ee[g];if(!(S.length<2)){var j=S[1];if(Array.isArray(j)&&!(j.length<1)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(let de=1;de<j.length;de++)j[de]=""}}}}return Wt(ee)}catch{return w}}var Pt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ye;function Ce(){}y(Ce,Sl),Ce.prototype.g=function(){return new XMLHttpRequest},ye=new Ce;function we(g){return encodeURIComponent(String(g))}function $e(g){var w=1;g=g.split(":");const S=[];for(;w>0&&g.length;)S.push(g.shift()),w--;return g.length&&S.push(g.join(":")),S}function ze(g,w,S,j){this.j=g,this.i=w,this.l=S,this.S=j||1,this.V=new ji(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new it}function it(){this.i=null,this.g="",this.h=!1}var Mt={},Ue={};function Me(g,w,S){g.M=1,g.A=ma(qt(w)),g.u=S,g.R=!0,ht(g,null)}function ht(g,w){g.F=Date.now(),Pn(g),g.B=qt(g.A);var S=g.B,j=g.S;Array.isArray(j)||(j=[String(j)]),wd(S.i,"t",j),g.C=0,S=g.j.L,g.h=new it,g.g=Dl(g.j,S?w:null,!g.u),g.P>0&&(g.O=new Mi(h(g.Y,g,g.g),g.P)),w=g.V,S=g.g,j=g.ba;var W="readystatechange";Array.isArray(W)||(W&&(En[0]=W.toString()),W=En);for(let ee=0;ee<W.length;ee++){const de=me(S,W[ee],j||w.handleEvent,!1,w.h||w);if(!de)break;w.g[de.key]=de}w=g.J?ie(g.J):{},g.u?(g.v||(g.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,w)):(g.v="GET",g.g.ea(g.B,g.v,null,w)),Vi(),go(g.i,g.v,g.B,g.l,g.S,g.u)}ze.prototype.ba=function(g){g=g.target;const w=this.O;w&&Wn(g)==3?w.j():this.Y(g)},ze.prototype.Y=function(g){try{if(g==this.g)e:{const Fe=Wn(this.g),It=this.g.ya(),mt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||Eo(this.g)))){this.K||Fe!=4||It==7||(It==8||mt<=0?Vi(3):Vi(2)),lr(this);var w=this.g.ca();this.X=w;var S=Cr(this);if(this.o=w==200,fa(this.i,this.v,this.B,this.l,this.S,Fe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var j,W=this.g;if((j=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(j)){var ee=j;break t}}ee=null}if(g=ee)vi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ss(this,g);else{this.o=!1,this.m=3,Bt(12),Nr(this),bi(this);break e}}if(this.R){g=!0;let nn;for(;!this.K&&this.C<S.length;)if(nn=Or(this,S),nn==Ue){Fe==4&&(this.m=4,Bt(14),g=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Mt){this.m=4,Bt(15),vi(this.i,this.l,S,"[Invalid Chunk]"),g=!1;break}else vi(this.i,this.l,nn,null),ss(this,nn);if(Et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||S.length!=0||this.h.h||(this.m=1,Bt(16),g=!1),this.o=this.o&&g,!g)vi(this.i,this.l,S,"[Invalid Chunked Response]"),Nr(this),bi(this);else if(S.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),cc(de),de.P=!0,Bt(11))}}else vi(this.i,this.l,S,null),ss(this,S);Fe==4&&Nr(this),this.o&&!this.K&&(Fe==4?fc(this.j,this):(this.o=!1,Pn(this)))}else To(this.g),w==400&&S.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),Nr(this),bi(this)}}}catch{}finally{}};function Cr(g){if(!Et(g))return g.g.la();const w=Eo(g.g);if(w==="")return"";let S="";const j=w.length,W=Wn(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Nr(g),bi(g),"";g.h.i=new l.TextDecoder}for(let ee=0;ee<j;ee++)g.h.h=!0,S+=g.h.i.decode(w[ee],{stream:!(W&&ee==j-1)});return w.length=0,g.h.g+=S,g.C=0,g.h.g}function Et(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Or(g,w){var S=g.C,j=w.indexOf(`
`,S);return j==-1?Ue:(S=Number(w.substring(S,j)),isNaN(S)?Mt:(j+=1,j+S>w.length?Ue:(w=w.slice(j,j+S),g.C=j+S,w)))}ze.prototype.cancel=function(){this.K=!0,Nr(this)};function Pn(g){g.T=Date.now()+g.H,en(g,g.H)}function en(g,w){if(g.D!=null)throw Error("WatchDog timer not null");g.D=or(h(g.aa,g),w)}function lr(g){g.D&&(l.clearTimeout(g.D),g.D=null)}ze.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(kl(this.i,this.B),this.M!=2&&(Vi(),Bt(17)),Nr(this),this.m=2,bi(this)):en(this,this.T-g)};function bi(g){g.j.I==0||g.K||fc(g.j,g)}function Nr(g){lr(g);var w=g.O;w&&typeof w.dispose=="function"&&w.dispose(),g.O=null,mn(g.V),g.g&&(w=g.g,g.g=null,w.abort(),w.dispose())}function ss(g,w){try{var S=g.j;if(S.I!=0&&(S.g==g||xi(S.h,g))){if(!g.L&&xi(S.h,g)&&S.I==3){try{var j=S.Ba.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var W=j;if(W[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<g.F)Rl(S),zi(S);else break e;uc(S),Bt(18)}}else S.xa=W[1],0<S.xa-S.K&&W[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=or(h(S.Va,S),6e3));vr(S.h)<=1&&S.ta&&(S.ta=void 0)}else ya(S,11)}else if((g.L||S.g==g)&&Rl(S),!V(w))for(W=S.Ba.g.parse(w),w=0;w<W.length;w++){let mt=W[w];const nn=mt[0];if(!(nn<=S.K))if(S.K=nn,mt=mt[1],S.I==2)if(mt[0]=="c"){S.M=mt[1],S.ba=mt[2];const Rr=mt[3];Rr!=null&&(S.ka=Rr,S.j.info("VER="+S.ka));const Bi=mt[4];Bi!=null&&(S.za=Bi,S.j.info("SVER="+S.za));const Ei=mt[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(j=1.5*Ei,S.O=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Ti=g.g;if(Ti){const Si=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var ee=j.h;ee.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Xr(ee,ee.h),ee.h=null))}if(j.G){const hc=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;hc&&(j.wa=hc,vt(j.J,j.G,hc))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-g.F,S.j.info("Handshake RTT: "+S.T+"ms")),j=S;var de=g;if(j.na=Id(j,j.L?j.ba:null,j.W),de.L){Ir(j.h,de);var Fe=de,It=j.O;It&&(Fe.H=It),Fe.D&&(lr(Fe),Pn(Fe)),j.g=de}else kd(j);S.i.length>0&&Co(S)}else mt[0]!="stop"&&mt[0]!="close"||ya(S,7);else S.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?ya(S,7):Ao(S):mt[0]!="noop"&&S.l&&S.l.qa(mt),S.A=0)}}Vi(4)}catch{}}var po=class{constructor(g,w){this.g=g,this.map=w}};function da(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ha(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function vr(g){return g.h?1:g.g?g.g.size:0}function xi(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Xr(g,w){g.g?g.g.add(w):g.h=w}function Ir(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}da.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Qr(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const S of g.g.values())w=w.concat(S.G);return w}return _(g.i)}var lt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tn(g,w){if(g){g=g.split("&");for(let S=0;S<g.length;S++){const j=g[S].indexOf("=");let W,ee=null;j>=0?(W=g[S].substring(0,j),ee=g[S].substring(j+1)):W=g[S],w(W,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function _i(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;g instanceof _i?(this.l=g.l,os(this,g.j),this.o=g.o,this.g=g.g,yo(this,g.u),this.h=g.h,ls(this,Ed(g.i)),this.m=g.m):g&&(w=String(g).match(lt))?(this.l=!1,os(this,w[1]||"",!0),this.o=vo(w[2]||""),this.g=vo(w[3]||"",!0),yo(this,w[4]),this.h=vo(w[5]||"",!0),ls(this,w[6]||"",!0),this.m=vo(w[7]||"")):(this.l=!1,this.i=new Zr(null,this.l))}_i.prototype.toString=function(){const g=[];var w=this.j;w&&g.push(Sn(w,nc,!0),":");var S=this.g;return(S||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Sn(w,nc,!0),"@"),g.push(we(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&g.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&g.push("/"),g.push(Sn(S,S.charAt(0)=="/"?us:rc,!0))),(S=this.i.toString())&&g.push("?",S),(S=this.m)&&g.push("#",Sn(S,_d)),g.join("")},_i.prototype.resolve=function(g){const w=qt(this);let S=!!g.j;S?os(w,g.j):S=!!g.o,S?w.o=g.o:S=!!g.g,S?w.g=g.g:S=g.u!=null;var j=g.h;if(S)yo(w,g.u);else if(S=!!g.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var W=w.h.lastIndexOf("/");W!=-1&&(j=w.h.slice(0,W+1)+j)}if(W=j,W==".."||W==".")j="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){j=W.lastIndexOf("/",0)==0,W=W.split("/");const ee=[];for(let de=0;de<W.length;){const Fe=W[de++];Fe=="."?j&&de==W.length&&ee.push(""):Fe==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),j&&de==W.length&&ee.push("")):(ee.push(Fe),j=!0)}j=ee.join("/")}else j=W}return S?w.h=j:S=g.i.toString()!=="",S?ls(w,Ed(g.i)):S=!!g.m,S&&(w.m=g.m),w};function qt(g){return new _i(g)}function os(g,w,S){g.j=S?vo(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function yo(g,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);g.u=w}else g.u=null}function ls(g,w,S){w instanceof Zr?(g.i=w,sc(g.i,g.l)):(S||(w=Sn(w,xd)),g.i=new Zr(w,g.l))}function vt(g,w,S){g.i.set(w,S)}function ma(g){return vt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function vo(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Sn(g,w,S){return typeof g=="string"?(g=encodeURI(g).replace(w,tc),S&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function tc(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var nc=/[#\/\?@]/g,rc=/[#\?:]/g,us=/[#\?]/g,xd=/[#\?@]/g,_d=/#/g;function Zr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function ga(g){g.g||(g.g=new Map,g.h=0,g.i&&tn(g.i,function(w,S){g.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}t=Zr.prototype,t.add=function(g,w){ga(this),this.i=null,g=wi(this,g);let S=this.g.get(g);return S||this.g.set(g,S=[]),S.push(w),this.h+=1,this};function ic(g,w){ga(g),w=wi(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function ac(g,w){return ga(g),w=wi(g,w),g.g.has(w)}t.forEach=function(g,w){ga(this),this.g.forEach(function(S,j){S.forEach(function(W){g.call(w,W,j,this)},this)},this)};function Cl(g,w){ga(g);let S=[];if(typeof w=="string")ac(g,w)&&(S=S.concat(g.g.get(wi(g,w))));else for(g=Array.from(g.g.values()),w=0;w<g.length;w++)S=S.concat(g[w]);return S}t.set=function(g,w){return ga(this),this.i=null,g=wi(this,g),ac(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=Cl(this,g),g.length>0?String(g[0]):w):w};function wd(g,w,S){ic(g,w),S.length>0&&(g.i=null,g.g.set(wi(g,w),_(S)),g.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(let j=0;j<w.length;j++){var S=w[j];const W=we(S);S=Cl(this,S);for(let ee=0;ee<S.length;ee++){let de=W;S[ee]!==""&&(de+="="+we(S[ee])),g.push(de)}}return this.i=g.join("&")};function Ed(g){const w=new Zr;return w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),w}function wi(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function sc(g,w){w&&!g.j&&(ga(g),g.i=null,g.g.forEach(function(S,j){const W=j.toLowerCase();j!=W&&(ic(this,j),wd(this,W,S))},g)),g.j=w}function oc(g,w){const S=new Ui;if(l.Image){const j=new Image;j.onload=m(ur,S,"TestLoadImage: loaded",!0,w,j),j.onerror=m(ur,S,"TestLoadImage: error",!1,w,j),j.onabort=m(ur,S,"TestLoadImage: abort",!1,w,j),j.ontimeout=m(ur,S,"TestLoadImage: timeout",!1,w,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=g}else w(!1)}function cs(g,w){const S=new Ui,j=new AbortController,W=setTimeout(()=>{j.abort(),ur(S,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:j.signal}).then(ee=>{clearTimeout(W),ee.ok?ur(S,"TestPingServer: ok",!0,w):ur(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),ur(S,"TestPingServer: error",!1,w)})}function ur(g,w,S,j,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),j(S)}catch{}}function Td(){this.g=new is}function bo(g){this.i=g.Sb||null,this.h=g.ab||!1}y(bo,Sl),bo.prototype.g=function(){return new xo(this.i,this.h)};function xo(g,w){Ut.call(this),this.H=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(xo,Ut),t=xo.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=w,this.readyState=1,pa(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(w.body=g),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fs(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function fs(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?cr(this):pa(this),this.readyState==3&&fs(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,cr(this))},t.Na=function(g){this.g&&(this.response=g,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(g){g.readyState=4,g.l=null,g.j=null,g.B=null,pa(g)}t.setRequestHeader=function(g,w){this.A.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,g.push(S[0]+": "+S[1]),S=w.next();return g.join(`\r
`)};function pa(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ds(g){let w="";return Ae(g,function(S,j){w+=j,w+=":",w+=S,w+=`\r
`}),w}function Jr(g,w,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=ds(S),typeof g=="string"?S!=null&&we(S):vt(g,w,S))}function kt(g){Ut.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(kt,Ut);var Ol=/^https?$/i,Sd=["POST","PUT"];t=kt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,w,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ye.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ee){_o(this,ee);return}if(g=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var W in j)S.set(W,j[W]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ee of j.keys())S.set(ee,j.get(ee));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(ee=>ee.toLowerCase()=="content-type"),W=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Sd,w,void 0)>=0)||j||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of S)this.g.setRequestHeader(ee,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ee){_o(this,ee)}};function _o(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.o=5,wo(g),gn(g)}function wo(g){g.A||(g.A=!0,Xe(g,"complete"),Xe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Xe(this,"complete"),Xe(this,"abort"),gn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?lc(this):this.Xa())},t.Xa=function(){lc(this)};function lc(g){if(g.h&&typeof o<"u"){if(g.v&&Wn(g)==4)setTimeout(g.Ca.bind(g),0);else if(Xe(g,"readystatechange"),Wn(g)==4){g.h=!1;try{const ee=g.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var j;if(j=ee===0){let de=String(g.D).match(lt)[1]||null;!de&&l.self&&l.self.location&&(de=l.self.location.protocol.slice(0,-1)),j=!Ol.test(de?de.toLowerCase():"")}S=j}if(S)Xe(g,"complete"),Xe(g,"success");else{g.o=6;try{var W=Wn(g)>2?g.g.statusText:""}catch{W=""}g.l=W+" ["+g.ca()+"]",wo(g)}}finally{gn(g)}}}}function gn(g,w){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const S=g.g;g.g=null,w||Xe(g,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wn(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),Tn(w)}};function Eo(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function To(g){const w={};g=(g.g&&Wn(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<g.length;j++){if(V(g[j]))continue;var S=$e(g[j]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ee=w[W]||[];w[W]=ee,ee.push(S)}H(w,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(g,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[g]||w}function Nl(g){this.za=0,this.i=[],this.j=new Ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=So("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=So("baseRetryDelayMs",5e3,g),this.Za=So("retryDelaySeedMs",1e4,g),this.Ta=So("forwardChannelMaxRetries",2,g),this.va=So("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new da(g&&g.concurrentRequestLimit),this.Ba=new Td,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Nl.prototype,t.ka=8,t.I=1,t.connect=function(g,w,S,j){Bt(0),this.W=g,this.H=w||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.J=Id(this,null,this.W),Co(this)};function Ao(g){if(ko(g),g.I==3){var w=g.V++,S=qt(g.J);if(vt(S,"SID",g.M),vt(S,"RID",w),vt(S,"TYPE","terminate"),Oo(g,S),w=new ze(g,g.j,w),w.M=2,w.A=ma(qt(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=w.A,S=!0),S||(w.g=Dl(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Pn(w)}Nd(g)}function zi(g){g.g&&(cc(g),g.g.cancel(),g.g=null)}function ko(g){zi(g),g.v&&(l.clearTimeout(g.v),g.v=null),Rl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Co(g){if(!ha(g.h)&&!g.m){g.m=!0;var w=g.Ea;q||O(),F||(q(),F=!0),R.add(w,g),g.D=0}}function pp(g,w){return vr(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=w.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=or(h(g.Ea,g,w),Od(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const W=new ze(this,this.j,g);let ee=this.o;if(this.U&&(ee?(ee=ie(ee),he(ee,this.U)):ee=this.U),this.u!==null||this.R||(W.J=ee,ee=null),this.S)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,w>4096){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Il(this,W,w),S=qt(this.J),vt(S,"RID",g),vt(S,"CVER",22),this.G&&vt(S,"X-HTTP-Session-Id",this.G),Oo(this,S),ee&&(this.R?w="headers="+we(ds(ee))+"&"+w:this.u&&Jr(S,this.u,ee)),Xr(this.h,W),this.Ra&&vt(S,"TYPE","init"),this.S?(vt(S,"$req",w),vt(S,"SID","null"),W.U=!0,Me(W,S,null)):Me(W,S,w),this.I=2}}else this.I==3&&(g?Ad(this,g):this.i.length==0||ha(this.h)||Ad(this))};function Ad(g,w){var S;w?S=w.l:S=g.V++;const j=qt(g.J);vt(j,"SID",g.M),vt(j,"RID",S),vt(j,"AID",g.K),Oo(g,j),g.u&&g.o&&Jr(j,g.u,g.o),S=new ze(g,g.j,S,g.D+1),g.u===null&&(S.J=g.o),w&&(g.i=w.G.concat(g.i)),w=Il(g,S,1e3),S.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Xr(g.h,S),Me(S,j,w)}function Oo(g,w){g.H&&Ae(g.H,function(S,j){vt(w,j,S)}),g.l&&Ae({},function(S,j){vt(w,j,S)})}function Il(g,w,S){S=Math.min(g.i.length,S);const j=g.l?h(g.l.Ka,g.l,g):null;e:{var W=g.i;let Fe=-1;for(;;){const It=["count="+S];Fe==-1?S>0?(Fe=W[0].g,It.push("ofs="+Fe)):Fe=0:It.push("ofs="+Fe);let mt=!0;for(let nn=0;nn<S;nn++){var ee=W[nn].g;const Rr=W[nn].map;if(ee-=Fe,ee<0)Fe=Math.max(0,W[nn].g-100),mt=!1;else try{ee="req"+ee+"_"||"";try{var de=Rr instanceof Map?Rr:Object.entries(Rr);for(const[Bi,Ei]of de){let Ti=Ei;c(Ei)&&(Ti=Wt(Ei)),It.push(ee+Bi+"="+encodeURIComponent(Ti))}}catch(Bi){throw It.push(ee+"type="+encodeURIComponent("_badmap")),Bi}}catch{j&&j(Rr)}}if(mt){de=It.join("&");break e}}de=void 0}return g=g.i.splice(0,S),w.G=g,de}function kd(g){if(!g.g&&!g.v){g.Y=1;var w=g.Da;q||O(),F||(q(),F=!0),R.add(w,g),g.A=0}}function uc(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=or(h(g.Da,g),Od(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Cd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=or(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),zi(this),Cd(this))};function cc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Cd(g){g.g=new ze(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var w=qt(g.na);vt(w,"RID","rpc"),vt(w,"SID",g.M),vt(w,"AID",g.K),vt(w,"CI",g.F?"0":"1"),!g.F&&g.ia&&vt(w,"TO",g.ia),vt(w,"TYPE","xmlhttp"),Oo(g,w),g.u&&g.o&&Jr(w,g.u,g.o),g.O&&(g.g.H=g.O);var S=g.g;g=g.ba,S.M=1,S.A=ma(qt(w)),S.u=null,S.R=!0,ht(S,g)}t.Va=function(){this.C!=null&&(this.C=null,zi(this),uc(this),Bt(19))};function Rl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function fc(g,w){var S=null;if(g.g==w){Rl(g),cc(g),g.g=null;var j=2}else if(xi(g.h,w))S=w.G,Ir(g.h,w),j=1;else return;if(g.I!=0){if(w.o)if(j==1){S=w.u?w.u.length:0,w=Date.now()-w.F;var W=g.D;j=zt(),Xe(j,new Al(j,S)),Co(g)}else kd(g);else if(W=w.m,W==3||W==0&&w.X>0||!(j==1&&pp(g,w)||j==2&&uc(g)))switch(S&&S.length>0&&(w=g.h,w.i=w.i.concat(S)),W){case 1:ya(g,5);break;case 4:ya(g,10);break;case 3:ya(g,6);break;default:ya(g,2)}}}function Od(g,w){let S=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(S*=2),S*w}function ya(g,w){if(g.j.info("Error code "+w),w==2){var S=h(g.bb,g),j=g.Ua;const W=!j;j=new _i(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||os(j,"https"),ma(j),W?oc(j.toString(),S):cs(j.toString(),S)}else Bt(2);g.I=0,g.l&&g.l.pa(w),Nd(g),ko(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Nd(g){if(g.I=0,g.ja=[],g.l){const w=Qr(g.h);(w.length!=0||g.i.length!=0)&&(E(g.ja,w),E(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Id(g,w,S){var j=S instanceof _i?qt(S):new _i(S);if(j.g!="")w&&(j.g=w+"."+j.g),yo(j,j.u);else{var W=l.location;j=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const ee=new _i(null);j&&os(ee,j),w&&(ee.g=w),W&&yo(ee,W),S&&(ee.h=S),j=ee}return S=g.G,w=g.wa,S&&w&&vt(j,S,w),vt(j,"VER",g.ka),Oo(g,j),j}function Dl(g,w,S){if(w&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Aa&&!g.ma?new kt(new bo({ab:S})):new kt(g.ma),w.Fa(g.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rd(){}t=Rd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pl(){}Pl.prototype.g=function(g,w){return new fr(g,w)};function fr(g,w){Ut.call(this),this.g=new Nl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(g?g["X-WebChannel-Client-Profile"]=w.sa:g={"X-WebChannel-Client-Profile":w.sa}),this.g.U=g,(g=w&&w.Qb)&&!V(g)&&(this.g.u=g),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new hs(this)}y(fr,Ut),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){Ao(this.g)},fr.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var S={};S.__data__=g,g=S}else this.v&&(S={},S.__data__=Wt(g),g=S);w.i.push(new po(w.Ya++,g)),w.I==3&&Co(w)},fr.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,fr.Z.N.call(this)};function dc(g){Jt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const S in w){g=S;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}y(dc,Jt);function Dd(){kr.call(this),this.status=1}y(Dd,kr);function hs(g){this.g=g}y(hs,Rd),hs.prototype.ra=function(){Xe(this.g,"a")},hs.prototype.qa=function(g){Xe(this.g,new dc(g))},hs.prototype.pa=function(g){Xe(this.g,new Dd)},hs.prototype.oa=function(){Xe(this.g,"b")},Pl.prototype.createWebChannel=Pl.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,sN=function(){return new Pl},aN=function(){return zt()},iN=yr,ab={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pt.NO_ERROR=0,Pt.TIMEOUT=8,Pt.HTTP_ERROR=6,lm=Pt,fe.COMPLETE="complete",rN=fe,as.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Ut.prototype.listen=Ut.prototype.J,hf=as,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,nN=kt}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const IS="@firebase/firestore",RS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new fx("@firebase/firestore");function cu(){return cl.logLevel}function ve(t,...e){if(cl.logLevel<=et.DEBUG){const n=e.map(wx);cl.debug(`Firestore (${qu}): ${t}`,...n)}}function Ka(t,...e){if(cl.logLevel<=et.ERROR){const n=e.map(wx);cl.error(`Firestore (${qu}): ${t}`,...n)}}function Tu(t,...e){if(cl.logLevel<=et.WARN){const n=e.map(wx);cl.warn(`Firestore (${qu}): ${t}`,...n)}}function wx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oN(t,r,n)}function oN(t,e,n){let r=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ka(r),new Error(r)}function dt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||oN(e,a,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(er.UNAUTHENTICATED)))}shutdown(){}}class ZV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JV{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xs,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},c=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new lN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class e5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=r5(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function sb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return xv(a)===xv(o)?tt(a,o):xv(a)?1:-1}return tt(t.length,e.length)}const i5=55296,a5=57343;function xv(t){const e=t.charCodeAt(0);return e>=i5&&e<=a5}function Su(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="__name__";class Yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Yi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return tt(e.length,n.length)}static compareSegments(e,n){const r=Yi.isNumericId(e),a=Yi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):sb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class Ft extends Yi{construct(e,n,r){return new Ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Ft(n)}static emptyPath(){return new Ft([])}}const s5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Yi{construct(e,n,r){return new Bn(e,n,r)}static isValidIdentifier(e){return s5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PS}static keyField(){return new Bn([PS])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Se(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Se(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Se(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(r+=c,a++):(o(),a++)}if(o(),l)throw new Se(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Ft.fromString(e))}static fromName(e){return new Re(Ft.fromString(e).popFirst(5))}static empty(){return new Re(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e,n){if(!n)throw new Se(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l5(t,e,n,r){if(e===!0&&r===!0)throw new Se(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MS(t){if(!Re.isDocumentKey(t))throw new Se(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function If(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tx(t);throw new Se(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function nd(t,e){if(!uN(t))throw new Se(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Se(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=-62135596800,LS=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LS);return new Dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jS)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LS}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nd(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:fn("string",Dt._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Dt(0,0))}static max(){return new Be(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=-1;function u5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new Js(a,Re.empty(),e)}function c5(t){return new Js(t.readTime,t.key,Rf)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(Be.min(),Re.empty(),Rf)}static max(){return new Js(Be.max(),Re.empty(),Rf)}}function f5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==d5)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let a=0,o=0,l=!1;e.forEach((c=>{++a,c.next((()=>{++o,l&&o===a&&n()}),(d=>r(d)))})),l=!0,o===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((a=>a?oe.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,a)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next((m=>{l[h]=m,++c,c===o&&r(l)}),(m=>a(m)))}}))}static doWhile(e,n){return new oe(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function m5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ag.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=-1;function kg(t){return t==null}function Sm(t){return t===0&&1/t==-1/0}function g5(t){return typeof t=="number"&&Number.isInteger(t)&&!Sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="";function p5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VS(e)),e=y5(t.get(n),e);return VS(e)}function y5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case cN:n+="";break;default:n+=o}}return n}function VS(t){return t+cN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??Un.RED,this.left=a??Un.EMPTY,this.right=o??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new Un(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Un.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zS(this.data.getIterator())}getIteratorFrom(e){return new zS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xn(this.comparator);return n.data=e,n}}class zS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Di([])}unionWith(e){let n=new xn(Bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dN("Invalid base64 string: "+o):o}})(e);return new Fn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o})(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const v5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=v5.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function to(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="server_timestamp",mN="__type__",gN="__previous_value__",pN="__local_write_time__";function Ax(t){return(t?.mapValue?.fields||{})[mN]?.stringValue===hN}function Cg(t){const e=t.mapValue.fields[gN];return Ax(e)?Cg(e):e}function Df(t){const e=eo(t.mapValue.fields[pN].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,a,o,l,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const Am="(default)";class Pf{constructor(e,n){this.projectId=e,this.database=n||Am}static empty(){return new Pf("","")}get isDefaultDatabase(){return this.database===Am}isEqual(e){return e instanceof Pf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="__type__",x5="__max__",Lh={mapValue:{}},vN="__vector__",km="value";function no(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ax(t)?4:w5(t)?9007199254740991:_5(t)?10:11:Le(28295,{value:t})}function ia(t,e){if(t===e)return!0;const n=no(t);if(n!==no(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Df(t).isEqual(Df(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=eo(a.timestampValue),c=eo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return to(a.bytesValue).isEqual(to(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return on(a.geoPointValue.latitude)===on(o.geoPointValue.latitude)&&on(a.geoPointValue.longitude)===on(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return on(a.integerValue)===on(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=on(a.doubleValue),c=on(o.doubleValue);return l===c?Sm(l)===Sm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:case 11:return(function(a,o){const l=a.mapValue.fields||{},c=o.mapValue.fields||{};if(US(l)!==US(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ia(l[d],c[d])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Mf(t,e){return(t.values||[]).find((n=>ia(n,e)))!==void 0}function Au(t,e){if(t===e)return 0;const n=no(t),r=no(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=on(o.integerValue||o.doubleValue),d=on(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return BS(t.timestampValue,e.timestampValue);case 4:return BS(Df(t),Df(e));case 5:return sb(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=to(o),d=to(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=tt(c[h],d[h]);if(m!==0)return m}return tt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=tt(on(o.latitude),on(l.latitude));return c!==0?c:tt(on(o.longitude),on(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return qS(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},d=l.fields||{},h=c[km]?.arrayValue,m=d[km]?.arrayValue,y=tt(h?.values?.length||0,m?.values?.length||0);return y!==0?y:qS(h,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Lh.mapValue&&l===Lh.mapValue)return 0;if(o===Lh.mapValue)return 1;if(l===Lh.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const v=sb(d[y],m[y]);if(v!==0)return v;const _=Au(c[d[y]],h[m[y]]);if(_!==0)return _}return tt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function BS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=eo(t),r=eo(e),a=tt(n.seconds,r.seconds);return a!==0?a:tt(n.nanos,r.nanos)}function qS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Au(n[a],r[a]);if(o)return o}return tt(n.length,r.length)}function ku(t){return ob(t)}function ob(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=eo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return to(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=ob(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${ob(n.fields[l])}`;return a+"}"})(t.mapValue):Le(61005,{value:t})}function um(t){switch(no(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cg(t);return e?16+um(e):16;case 5:return 2*t.stringValue.length;case 6:return to(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+um(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return yl(r.fields,((o,l)=>{a+=o.length+um(l)})),a})(t.mapValue);default:throw Le(13486,{value:t})}}function lb(t){return!!t&&"integerValue"in t}function kx(t){return!!t&&"arrayValue"in t}function $S(t){return!!t&&"nullValue"in t}function FS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cm(t){return!!t&&"mapValue"in t}function _5(t){return(t?.mapValue?.fields||{})[yN]?.stringValue===vN}function _f(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=_f(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_f(t.arrayValue.values[n]);return e}return{...t}}function w5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_f(n)}setAll(e){let n=Bn.emptyPath(),r={},a=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=c.popLast()}l?r[c.lastSegment()]=_f(l):a.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];cm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){yl(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new ui(_f(this.value))}}function bN(t){const e=[];return yl(t.fields,((n,r)=>{const a=new Bn([n]);if(cm(r)){const o=bN(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)})),new Di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,a,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new tr(e,0,Be.min(),Be.min(),Be.min(),ui.empty(),0)}static newFoundDocument(e,n,r,a){return new tr(e,1,n,Be.min(),r,a,0)}static newNoDocument(e,n){return new tr(e,2,n,Be.min(),Be.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new tr(e,3,n,Be.min(),Be.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.position=e,this.inclusive=n}}function HS(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],l=t.position[a];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(l.referenceValue),n.key):r=Au(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ia(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n="asc"){this.field=e,this.dir=n}}function E5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{}class bn extends xN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S5(e,n,r):n==="array-contains"?new C5(e,r):n==="in"?new O5(e,r):n==="not-in"?new N5(e,r):n==="array-contains-any"?new I5(e,r):new bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A5(e,r):new k5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Au(n,this.value)):n!==null&&no(this.value)===no(n)&&this.matchesComparison(Au(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class aa extends xN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new aa(e,n)}matches(e){return _N(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _N(t){return t.op==="and"}function wN(t){return T5(t)&&_N(t)}function T5(t){for(const e of t.filters)if(e instanceof aa)return!1;return!0}function ub(t){if(t instanceof bn)return t.field.canonicalString()+t.op.toString()+ku(t.value);if(wN(t))return t.filters.map((e=>ub(e))).join(",");{const e=t.filters.map((n=>ub(n))).join(",");return`${t.op}(${e})`}}function EN(t,e){return t instanceof bn?(function(r,a){return a instanceof bn&&r.op===a.op&&r.field.isEqual(a.field)&&ia(r.value,a.value)})(t,e):t instanceof aa?(function(r,a){return a instanceof aa&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,l,c)=>o&&EN(l,a.filters[c])),!0):!1})(t,e):void Le(19439)}function TN(t){return t instanceof bn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ku(n.value)}`})(t):t instanceof aa?(function(n){return n.op.toString()+" {"+n.getFilters().map(TN).join(" ,")+"}"})(t):"Filter"}class S5 extends bn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class A5 extends bn{constructor(e,n){super(e,"in",n),this.keys=SN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class k5 extends bn{constructor(e,n){super(e,"not-in",n),this.keys=SN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function SN(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class C5 extends bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kx(n)&&Mf(n.arrayValue,this.value)}}class O5 extends bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mf(this.value.arrayValue,n)}}class N5 extends bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mf(this.value.arrayValue,n)}}class I5 extends bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Mf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n=null,r=[],a=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function GS(t,e=null,n=[],r=[],a=null,o=null,l=null){return new R5(t,e,n,r,a,o,l)}function Cx(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ub(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),kg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ku(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ku(r))).join(",")),e.Te=n}return e.Te}function Ox(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KS(t.startAt,e.startAt)&&KS(t.endAt,e.endAt)}function cb(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n=null,r=[],a=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function D5(t,e,n,r,a,o,l,c){return new Og(t,e,n,r,a,o,l,c)}function Nx(t){return new Og(t)}function YS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P5(t){return t.collectionGroup!==null}function wf(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new xn(Bn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Om(o,r))})),n.has(Bn.keyField().canonicalString())||e.Ie.push(new Om(Bn.keyField(),r))}return e.Ie}function Ji(t){const e=He(t);return e.Ee||(e.Ee=M5(e,wf(t))),e.Ee}function M5(t,e){if(t.limitType==="F")return GS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Om(a.field,o)}));const n=t.endAt?new Cm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cm(t.startAt.position,t.startAt.inclusive):null;return GS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fb(t,e,n){return new Og(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ng(t,e){return Ox(Ji(t),Ji(e))&&t.limitType===e.limitType}function AN(t){return`${Cx(Ji(t))}|lt:${t.limitType}`}function fu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>TN(a))).join(", ")}]`),kg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>ku(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>ku(a))).join(",")),`Target(${r})`})(Ji(t))}; limitType=${t.limitType})`}function Ig(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of wf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,c,d){const h=HS(l,c,d);return l.inclusive?h<=0:h<0})(r.startAt,wf(r),a)||r.endAt&&!(function(l,c,d){const h=HS(l,c,d);return l.inclusive?h>=0:h>0})(r.endAt,wf(r),a))})(t,e)}function j5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kN(t){return(e,n)=>{let r=!1;for(const a of wf(t)){const o=L5(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function L5(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?Au(d,h):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return fN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new Kt(Re.comparator);function Ga(){return V5}const CN=new Kt(Re.comparator);function mf(...t){let e=CN;for(const n of t)e=e.insert(n.key,n);return e}function ON(t){let e=CN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qo(){return Ef()}function NN(){return Ef()}function Ef(){return new vl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const U5=new Kt(Re.comparator),z5=new xn(Re.comparator);function nt(...t){let e=z5;for(const n of t)e=e.add(n);return e}const B5=new xn(tt);function q5(){return B5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(e)?"-0":e}}function IN(t){return{integerValue:""+t}}function $5(t,e){return g5(e)?IN(e):Ix(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this._=void 0}}function F5(t,e,n){return t instanceof Nm?(function(a,o){const l={fields:{[mN]:{stringValue:hN},[pN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Ax(o)&&(o=Cg(o)),o&&(l.fields[gN]=o),{mapValue:l}})(n,e):t instanceof jf?DN(t,e):t instanceof Lf?PN(t,e):(function(a,o){const l=RN(a,o),c=WS(l)+WS(a.Ae);return lb(l)&&lb(a.Ae)?IN(c):Ix(a.serializer,c)})(t,e)}function H5(t,e,n){return t instanceof jf?DN(t,e):t instanceof Lf?PN(t,e):n}function RN(t,e){return t instanceof Im?(function(r){return lb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Nm extends Rg{}class jf extends Rg{constructor(e){super(),this.elements=e}}function DN(t,e){const n=MN(e);for(const r of t.elements)n.some((a=>ia(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Lf extends Rg{constructor(e){super(),this.elements=e}}function PN(t,e){let n=MN(e);for(const r of t.elements)n=n.filter((a=>!ia(a,r)));return{arrayValue:{values:n}}}class Im extends Rg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WS(t){return on(t.integerValue||t.doubleValue)}function MN(t){return kx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function K5(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof jf&&a instanceof jf||r instanceof Lf&&a instanceof Lf?Su(r.elements,a.elements,ia):r instanceof Im&&a instanceof Im?ia(r.Ae,a.Ae):r instanceof Nm&&a instanceof Nm})(t.transform,e.transform)}class G5{constructor(e,n){this.version=e,this.transformResults=n}}class za{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new za}static exists(e){return new za(void 0,e)}static updateTime(e){return new za(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dg{}function jN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VN(t.key,za.none()):new rd(t.key,t.data,za.none());{const n=t.data,r=ui.empty();let a=new xn(Bn.comparator);for(let o of e.fields)if(!a.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new bl(t.key,r,new Di(a.toArray()),za.none())}}function Y5(t,e,n){t instanceof rd?(function(a,o,l){const c=a.value.clone(),d=QS(a.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof bl?(function(a,o,l){if(!fm(a.precondition,o))return void o.convertToUnknownDocument(l.version);const c=QS(a.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(LN(a)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Tf(t,e,n,r){return t instanceof rd?(function(o,l,c,d){if(!fm(o.precondition,l))return c;const h=o.value.clone(),m=ZS(o.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof bl?(function(o,l,c,d){if(!fm(o.precondition,l))return c;const h=ZS(o.fieldTransforms,d,l),m=l.data;return m.setAll(LN(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,l,c){return fm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function W5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=RN(r.transform,a||null);o!=null&&(n===null&&(n=ui.empty()),n.set(r.field,o))}return n||null}function XS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Su(r,a,((o,l)=>K5(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rd extends Dg{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bl extends Dg{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function QS(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],l=o.transform,c=e.data.field(o.field);r.set(o.field,H5(l,c,n[a]))}return r}function ZS(t,e,n){const r=new Map;for(const a of t){const o=a.transform,l=n.data.field(a.field);r.set(a.field,F5(o,l,e))}return r}class VN extends Dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X5 extends Dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&Y5(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NN();return this.mutations.forEach((a=>{const o=e.get(a.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(a.key)?null:c;const d=jN(l,c);d!==null&&r.set(a.key,d),l.isValidDocument()||l.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,((n,r)=>XS(n,r)))&&Su(this.baseMutations,e.baseMutations,((n,r)=>XS(n,r)))}}class Rx{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){dt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return U5})();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new Rx(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,st;function e9(t){switch(t){case le.OK:return Le(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function UN(t){if(t===void 0)return Ka("GRPC error has no .code"),le.UNKNOWN;switch(t){case cn.OK:return le.OK;case cn.CANCELLED:return le.CANCELLED;case cn.UNKNOWN:return le.UNKNOWN;case cn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case cn.INTERNAL:return le.INTERNAL;case cn.UNAVAILABLE:return le.UNAVAILABLE;case cn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case cn.NOT_FOUND:return le.NOT_FOUND;case cn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case cn.ABORTED:return le.ABORTED;case cn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case cn.DATA_LOSS:return le.DATA_LOSS;default:return Le(39323,{code:t})}}(st=cn||(cn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new Ws([4294967295,4294967295],0);function JS(t){const e=t9().encode(t),n=new tN;return n.update(e),new Uint8Array(n.digest())}function eA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([a,o],0)]}class Dx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gf(`Invalid padding: ${n}`);if(r<0)throw new gf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ws.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ws.fromNumber(r)));return a.compare(n9)===1&&(a=new Ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JS(e),[r,a]=eA(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Dx(o,a,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=JS(e),[r,a]=eA(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pg(Be.min(),a,new Kt(tt),Ga(),nt())}}class id{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new id(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class zN{constructor(e,n){this.targetId=e,this.Ce=n}}class BN{constructor(e,n,r=Fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class tA{constructor(){this.ve=0,this.Fe=nA(),this.Me=Fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),n=nt(),r=nt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Le(38017,{changeType:o})}})),new id(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=nA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class r9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ga(),this.Je=Vh(),this.He=Vh(),this.Ye=new Kt(tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(cb(o))if(r===0){const l=new Re(o.path);this.et(n,l,tr.newNoDocument(l,Be.min()))}else dt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let l,c;try{l=to(r).toUint8Array()}catch(d){if(d instanceof dN)return Tu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Dx(l,a,o)}catch(d){return Tu(d instanceof gf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&cb(c.target)){const d=new Re(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,tr.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=nt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const a=new Pg(e,n,this.Ye,this.je,r);return this.je=Ga(),this.Je=Vh(),this.He=Vh(),this.Ye=new Kt(tt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xn(tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xn(tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vh(){return new Kt(Re.comparator)}function nA(){return new Kt(Re.comparator)}const i9={asc:"ASCENDING",desc:"DESCENDING"},a9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s9={and:"AND",or:"OR"};class o9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function db(t,e){return t.useProto3Json||kg(e)?e:{value:e}}function Rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l9(t,e){return Rm(t,e.toTimestamp())}function ea(t){return dt(!!t,49232),Be.fromTimestamp((function(n){const r=eo(n);return new Dt(r.seconds,r.nanos)})(t))}function Px(t,e){return hb(t,e).canonicalString()}function hb(t,e){const n=(function(a){return new Ft(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $N(t){const e=Ft.fromString(t);return dt(YN(e),10190,{key:e.toString()}),e}function mb(t,e){return Px(t.databaseId,e.path)}function _v(t,e){const n=$N(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(HN(n))}function FN(t,e){return Px(t.databaseId,e)}function u9(t){const e=$N(t);return e.length===4?Ft.emptyPath():HN(e)}function gb(t){return new Ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HN(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rA(t,e,n){return{name:mb(t,e),fields:n.value.mapValue.fields}}function c9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Le(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(h,m){return h.useProto3Json?(dt(m===void 0||typeof m=="string",58123),Fn.fromBase64String(m||"")):(dt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Fn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const m=h.code===void 0?le.UNKNOWN:UN(h.code);return new Se(m,h.message||"")})(l);n=new BN(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=_v(t,r.document.name),o=ea(r.document.updateTime),l=r.document.createTime?ea(r.document.createTime):Be.min(),c=new ui({mapValue:{fields:r.document.fields}}),d=tr.newFoundDocument(a,o,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new dm(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=_v(t,r.document),o=r.readTime?ea(r.readTime):Be.min(),l=tr.newNoDocument(a,o),c=r.removedTargetIds||[];n=new dm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=_v(t,r.document),o=r.removedTargetIds||[];n=new dm([],o,a,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new J5(a,o),c=r.targetId;n=new zN(c,l)}}return n}function f9(t,e){let n;if(e instanceof rd)n={update:rA(t,e.key,e.value)};else if(e instanceof VN)n={delete:mb(t,e.key)};else if(e instanceof bl)n={update:rA(t,e.key,e.data),updateMask:x9(e.fieldMask)};else{if(!(e instanceof X5))return Le(16599,{Vt:e.type});n={verify:mb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Nm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Im)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Le(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:l9(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function d9(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map((n=>(function(a,o){let l=a.updateTime?ea(a.updateTime):ea(o);return l.isEqual(Be.min())&&(l=ea(o)),new G5(l,a.transformResults||[])})(n,e)))):[]}function h9(t,e){return{documents:[FN(t,e.path)]}}function m9(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FN(t,a);const o=(function(h){if(h.length!==0)return GN(aa.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((m=>(function(v){return{field:du(v.field),direction:y9(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=db(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function g9(t){let e=u9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){dt(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(y){const v=KN(y);return v instanceof aa&&wN(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((v=>(function(E){return new Om(hu(E.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let v;return v=typeof y=="object"?y.value:y,kg(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(y){const v=!!y.before,_=y.values||[];return new Cm(_,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(y){const v=!y.before,_=y.values||[];return new Cm(_,v)})(n.endAt)),D5(e,a,l,o,c,"F",d,h)}function p9(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=hu(n.unaryFilter.field);return bn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hu(n.unaryFilter.field);return bn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hu(n.unaryFilter.field);return bn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return bn.create(hu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return aa.create(n.compositeFilter.filters.map((r=>KN(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function y9(t){return i9[t]}function v9(t){return a9[t]}function b9(t){return s9[t]}function du(t){return{fieldPath:t.canonicalString()}}function hu(t){return Bn.fromServerFormat(t.fieldPath)}function GN(t){return t instanceof bn?(function(n){if(n.op==="=="){if(FS(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NAN"}};if($S(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FS(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NAN"}};if($S(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(n.field),op:v9(n.op),value:n.value}}})(t):t instanceof aa?(function(n){const r=n.getFilters().map((a=>GN(a)));return r.length===1?r[0]:{compositeFilter:{op:b9(n.op),filters:r}}})(t):Le(54877,{filter:t})}function x9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,a,o=Be.min(),l=Be.min(),c=Fn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.yt=e}}function w9(t){const e=g9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.Cn=new T9}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Js.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class T9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new xn(Ft.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new xn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WN=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(WN,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cu(0)}static cr(){return new Cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="LruGarbageCollector",S9=1048576;function sA([t,e],[n,r]){const a=tt(t,n);return a===0?tt(e,r):a}class A9{constructor(e){this.Ir=e,this.buffer=new xn(sA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(aA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fu(n)?ve(aA,"Ignoring IndexedDB error during garbage collection: ",n):await $u(n)}await this.Vr(3e5)}))}}class C9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Ag.ce);const r=new A9(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(iA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iA):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,l,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,l=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(h=Date.now(),cu()<=et.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y}))))}}function O9(t,e){return new C9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.changes=new vl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Tf(r.mutation,a,Di.empty(),Dt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=nt()){const a=Qo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let l=mf();return o.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,nt())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,a){let o=Ga();const l=Ef(),c=(function(){return Ef()})();return n.forEach(((d,h)=>{const m=r.get(h.key);a.has(h.key)&&(m===void 0||m.mutation instanceof bl)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Tf(m.mutation,h,m.mutation.getFieldMask(),Dt.now())):l.set(h.key,Di.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>c.set(h,new I9(m,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Ef();let a=new Kt(((l,c)=>l-c)),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Di.empty();m=c.applyToLocalView(h,m),r.set(d,m);const y=(a.get(c.batchId)||nt()).add(d);a=a.insert(c.batchId,y)}))})).next((()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,y=NN();m.forEach((v=>{if(!o.has(v)){const _=jN(n.get(v),r.get(v));_!==null&&y.set(v,_),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,y))}return oe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):oe.resolve(Qo());let c=Rf,d=o;return l.next((h=>oe.forEach(h,((m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?oe.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,d,h,nt()))).next((m=>({batchId:c,changes:ON(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let a=mf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let l=mf();return this.indexManager.getCollectionParents(e,o).next((c=>oe.forEach(c,(d=>{const h=(function(y,v){return new Og(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((m=>{m.forEach(((y,v)=>{l=l.insert(y,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((l=>{o.forEach(((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,tr.newInvalidDocument(m)))}));let c=mf();return l.forEach(((d,h)=>{const m=o.get(d);m!==void 0&&Tf(m.mutation,h,Di.empty(),Dt.now()),Ig(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ea(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:w9(a.bundledQuery),readTime:ea(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.overlays=new Kt(Re.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return oe.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const a=Qo(),o=n.length+1,l=new Re(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Kt(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=Qo(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Qo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=a)););return oe.resolve(c)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Z5(n,r));let o=this.qr.get(n);o===void 0&&(o=nt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.Qr=new xn(On.$r),this.Ur=new xn(On.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new On(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new On(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Re(new Ft([])),r=new On(n,e),a=new On(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new Ft([])),r=new On(n,e),a=new On(n,e+1);let o=nt();return this.Ur.forEachInRange([r,a],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new On(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||tt(e.Yr,n.Yr)}static Kr(e,n){return tt(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xn(On.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q5(o,n,r,a);this.mutationQueue.push(l);for(const c of a)this.Zr=this.Zr.add(new On(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Sx:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new On(n,0),a=new On(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(l=>{const c=this.Xr(l.Yr);o.push(c)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xn(tt);return n.forEach((a=>{const o=new On(a,0),l=new On(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const l=new On(new Re(o),0);let c=new xn(tt);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(c=c.add(d.Yr)),!0)}),l),oe.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(a=>{const o=new On(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new On(n,0),a=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.ri=e,this.docs=(function(){return new Kt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(n))}getEntries(e,n){let r=Ga();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():tr.newInvalidDocument(a))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Ga();const l=n.path,c=new Re(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||f5(c5(m),r)<=0||(a.has(m.key)||Ig(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Le(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new V9(this)}getSize(e){return oe.resolve(this.size)}}class V9 extends N9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.persistence=e,this.si=new vl((n=>Cx(n)),Ox),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new Mx,this.targetCount=0,this.ai=Cu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),oe.waitFor(o).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((l=>{o.push(a.markPotentiallyOrphaned(e,l))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ag(0),this.li=!1,this.li=!0,this.hi=new M9,this.referenceDelegate=e(this),this.Pi=new U9(this),this.indexManager=new E9,this.remoteDocumentCache=(function(a){return new L9(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _9(n),this.Ii=new D9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new j9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const a=new z9(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class z9 extends h5{constructor(e){super(),this.currentSequenceNumber=e}}class jx{constructor(e){this.persistence=e,this.Ri=new Mx,this.Vi=null}static mi(e){return new jx(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const a=Re.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Dm{constructor(e,n){this.persistence=e,this.pi=new vl((r=>p5(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=O9(this,n)}static mi(e,n){return new Dm(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?oe.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,Be.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=um(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=nt(),a=nt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Lx(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v3()?8:m5(rr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new B9;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(cu()<=et.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(cu()<=et.DEBUG&&ve("QueryEngine","Query:",fu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(cu()<=et.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(n))):oe.resolve())}ys(e,n){if(YS(n))return oe.resolve(null);let r=Ji(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=fb(n,null,"F"),r=Ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=nt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,l,d.readTime)?this.ys(e,fb(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,a){return YS(n)||a.isEqual(Be.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,a)?oe.resolve(null):(cu()<=et.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fu(n)),this.vs(e,l,n,u5(a,Rf)).next((c=>c)))}))}Ds(e,n){let r=new xn(kN(e));return n.forEach(((a,o)=>{Ig(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return cu()<=et.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",fu(n)),this.ps.getDocumentsMatchingQuery(e,n,Js.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="LocalStore",$9=3e8;class F9{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Kt(tt),this.xs=new vl((o=>Cx(o)),Ox),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function H9(t,e,n,r){return new F9(t,e,n,r)}async function QN(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let d=nt();for(const h of a){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of o){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function K9(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const y=h.batch,v=y.keys();let _=oe.resolve();return v.forEach((E=>{_=_.next((()=>m.getEntry(d,E))).next((k=>{const T=h.docVersions.get(E);dt(T!==null,48541),k.version.compareTo(T)<0&&(y.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),m.addEntry(k)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(d,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=nt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function ZN(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function G9(t,e){const n=He(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const c=[];e.targetChanges.forEach(((m,y)=>{const v=a.get(y);if(!v)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y))));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(Fn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),a=a.insert(y,_),(function(k,T,I){return k.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=$9?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,_,m)&&c.push(n.Pi.updateTargetData(o,_))}));let d=Ga(),h=nt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(Y9(o,l,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(Be.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return oe.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,h))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function Y9(t,e,n){let r=nt(),a=nt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Ga();return n.forEach(((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(c)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ve(Vx,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:a}}))}function W9(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Sx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X9(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,oe.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new Fs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function pb(t,e,n){const r=He(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!Fu(l))throw l;ve(Vx,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function oA(t,e,n){const r=He(t);let a=Be.min(),o=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,m){const y=He(d),v=y.xs.get(m);return v!==void 0?oe.resolve(y.Ms.get(v)):y.Pi.getTargetData(h,m)})(r,l,Ji(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:Be.min(),n?o:nt()))).next((c=>(Q9(r,j5(e),c),{documents:c,Qs:o})))))}function Q9(t,e,n){let r=t.Os.get(e)||Be.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class lA{constructor(){this.activeTargetIds=q5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z9{constructor(){this.Mo=new lA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="ConnectivityMonitor";class cA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(uA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(uA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function yb(){return Uh===null?Uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="RestConnection",eU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Am?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const l=yb(),c=this.zo(e,n.toUriEncodedString());ve(wv,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:h}=new URL(c),m=Vu(h);return this.Jo(e,c,d,r,m).then((y=>(ve(wv,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Tu(wv,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,n,r,a,o,l){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=eU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class rU extends tU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const l=yb();return new Promise(((c,d)=>{const h=new nN;h.setWithCredentials(!0),h.listenOnce(rN.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case lm.NO_ERROR:const y=h.getResponseJson();ve(Zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case lm.TIMEOUT:ve(Zn,`RPC '${e}' ${l} timed out`),d(new Se(le.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:const v=h.getStatus();if(ve(Zn,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_?.error;if(E&&E.status&&E.message){const k=(function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(M)>=0?M:le.UNKNOWN})(E.status);d(new Se(k,E.message))}else d(new Se(le.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Se(le.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ve(Zn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(a);ve(Zn,`RPC '${e}' ${l} sending request:`,a),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const a=yb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sN(),c=aN(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");ve(Zn,`Creating RPC '${e}' stream ${a}: ${m}`,d);const y=l.createWebChannel(m,d);this.I_(y);let v=!1,_=!1;const E=new nU({Yo:T=>{_?ve(Zn,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(v||(ve(Zn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),ve(Zn,`RPC '${e}' stream ${a} sending:`,T),y.send(T))},Zo:()=>y.close()}),k=(T,I,M)=>{T.listen(I,(L=>{try{M(L)}catch(z){setTimeout((()=>{throw z}),0)}}))};return k(y,hf.EventType.OPEN,(()=>{_||(ve(Zn,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),k(y,hf.EventType.CLOSE,(()=>{_||(_=!0,ve(Zn,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(y))})),k(y,hf.EventType.ERROR,(T=>{_||(_=!0,Tu(Zn,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new Se(le.UNAVAILABLE,"The operation could not be completed")))})),k(y,hf.EventType.MESSAGE,(T=>{if(!_){const I=T.data[0];dt(!!I,16349);const M=I,L=M?.error||M[0]?.error;if(L){ve(Zn,`RPC '${e}' stream ${a} received error:`,L);const z=L.status;let q=(function(O){const D=cn[O];if(D!==void 0)return UN(D)})(z),F=L.message;q===void 0&&(q=le.INTERNAL,F="Unknown error status: "+z+" with message "+L.message),_=!0,E.a_(new Se(q,F)),y.close()}else ve(Zn,`RPC '${e}' stream ${a} received:`,I),E.u_(I)}})),k(c,iN.STAT_EVENT,(T=>{T.stat===ab.PROXY?ve(Zn,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===ab.NOPROXY&&ve(Zn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ev(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){return new o9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="PersistentStream";class eI{constructor(e,n,r,a,o,l,c,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Ka(n.toString()),Ka("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Se(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(fA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(fA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iU extends eI{constructor(e,n,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=c9(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Be.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?ea(l.readTime):Be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=gb(this.serializer),n.addTarget=(function(o,l){let c;const d=l.target;if(c=cb(d)?{documents:h9(o,d)}:{query:m9(o,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=qN(o,l.resumeToken);const h=db(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=Rm(o,l.snapshotVersion.toTimestamp());const h=db(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=p9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=gb(this.serializer),n.removeTarget=e,this.q_(n)}}class aU extends eI{constructor(e,n,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=d9(e.writeResults,e.commitTime),r=ea(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>f9(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{}class oU extends sU{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,hb(n,r),a,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(le.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,hb(n,r),a,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(le.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ka(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="RemoteStore";class uU{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{xl(this)&&(ve(fl,"Restarting streams for network reachability change."),await(async function(d){const h=He(d);h.Ea.add(4),await ad(h),h.Ra.set("Unknown"),h.Ea.delete(4),await jg(h)})(this))}))})),this.Ra=new lU(r,a)}}async function jg(t){if(xl(t))for(const e of t.da)await e(!0)}async function ad(t){for(const e of t.da)await e(!1)}function tI(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qx(n)?Bx(n):Hu(n).O_()&&zx(n,e))}function Ux(t,e){const n=He(t),r=Hu(n);n.Ia.delete(e),r.O_()&&nI(n,e),n.Ia.size===0&&(r.O_()?r.L_():xl(n)&&n.Ra.set("Unknown"))}function zx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hu(t).Y_(e)}function nI(t,e){t.Va.Ue(e),Hu(t).Z_(e)}function Bx(t){t.Va=new r9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hu(t).start(),t.Ra.ua()}function qx(t){return xl(t)&&!Hu(t).x_()&&t.Ia.size>0}function xl(t){return He(t).Ea.size===0}function rI(t){t.Va=void 0}async function cU(t){t.Ra.set("Online")}async function fU(t){t.Ia.forEach(((e,n)=>{zx(t,e)}))}async function dU(t,e){rI(t),qx(t)?(t.Ra.ha(e),Bx(t)):t.Ra.set("Unknown")}async function hU(t,e,n){if(t.Ra.set("Online"),e instanceof BN&&e.state===2&&e.cause)try{await(async function(a,o){const l=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.Ia.delete(c),a.Va.removeTarget(c))})(t,e)}catch(r){ve(fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pm(t,r)}else if(e instanceof dm?t.Va.Ze(e):e instanceof zN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const r=await ZN(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ia.get(h);m&&o.Ia.set(h,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,h)=>{const m=o.Ia.get(d);if(!m)return;o.Ia.set(d,m.withResumeToken(Fn.EMPTY_BYTE_STRING,m.snapshotVersion)),nI(o,d);const y=new Fs(m.target,d,h,m.sequenceNumber);zx(o,y)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ve(fl,"Failed to raise snapshot:",r),await Pm(t,r)}}async function Pm(t,e,n){if(!Fu(e))throw e;t.Ea.add(1),await ad(t),t.Ra.set("Offline"),n||(n=()=>ZN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(fl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jg(t)}))}function iI(t,e){return e().catch((n=>Pm(t,n,e)))}async function Lg(t){const e=He(t),n=ro(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sx;for(;mU(e);)try{const a=await W9(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,gU(e,a)}catch(a){await Pm(e,a)}aI(e)&&sI(e)}function mU(t){return xl(t)&&t.Ta.length<10}function gU(t,e){t.Ta.push(e);const n=ro(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aI(t){return xl(t)&&!ro(t).x_()&&t.Ta.length>0}function sI(t){ro(t).start()}async function pU(t){ro(t).ra()}async function yU(t){const e=ro(t);for(const n of t.Ta)e.ea(n.mutations)}async function vU(t,e,n){const r=t.Ta.shift(),a=Rx.from(r,e,n);await iI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Lg(t)}async function bU(t,e){e&&ro(t).X_&&await(async function(r,a){if((function(l){return e9(l)&&l!==le.ABORTED})(a.code)){const o=r.Ta.shift();ro(r).B_(),await iI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Lg(r)}})(t,e),aI(t)&&sI(t)}async function dA(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),ve(fl,"RemoteStore received new credentials");const r=xl(n);n.Ea.add(3),await ad(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jg(n)}async function xU(t,e){const n=He(t);e?(n.Ea.delete(2),await jg(n)):e||(n.Ea.add(2),await ad(n),n.Ra.set("Unknown"))}function Hu(t){return t.ma||(t.ma=(function(n,r,a){const o=He(n);return o.sa(),new iU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:cU.bind(null,t),t_:fU.bind(null,t),r_:dU.bind(null,t),H_:hU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),qx(t)?Bx(t):t.Ra.set("Unknown")):(await t.ma.stop(),rI(t))}))),t.ma}function ro(t){return t.fa||(t.fa=(function(n,r,a){const o=He(n);return o.sa(),new aU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pU.bind(null,t),r_:bU.bind(null,t),ta:yU.bind(null,t),na:vU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Lg(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(fl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const l=Date.now()+r,c=new $x(e,n,l,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fx(t,e){if(Ka("AsyncQueue",`${e}: ${t}`),Fu(t))return new Se(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{static emptySet(e){return new bu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=mf(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.ga=new Kt(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ou{constructor(e,n,r,a,o,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Ou(e,n,bu.emptySet(n),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wU{constructor(){this.queries=mA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=He(n),o=a.queries;a.queries=mA(),o.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Se(le.ABORTED,"Firestore shutting down"))}}function mA(){return new vl((t=>AN(t)),Ng)}async function EU(t,e){const n=He(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new _U,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const c=Fx(l,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(c)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Hx(n)}async function TU(t,e){const n=He(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SU(t,e){const n=He(t);let r=!1;for(const a of e){const o=a.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(a)&&(r=!0);l.wa=a}}r&&Hx(n)}function AU(t,e,n){const r=He(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function Hx(t){t.Ca.forEach((e=>{e.next()}))}var vb,gA;(gA=vb||(vb={})).Ma="default",gA.Cache="cache";class kU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.key=e}}class lI{constructor(e){this.key=e}}class CU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=kN(e),this.tu=new bu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new hA,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=a,c=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,y)=>{const v=a.get(m),_=Ig(this.query,y)?y:null,E=!!v&&this.mutatedKeys.has(v.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;v&&_?v.data.isEqual(_.data)?E!==k&&(r.track({type:3,doc:_}),T=!0):this.su(v,_)||(r.track({type:2,doc:_}),T=!0,(d&&this.eu(_,d)>0||h&&this.eu(_,h)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),T=!0):v&&!_&&(r.track({type:1,doc:v}),T=!0,(d||h)&&(c=!0)),T&&(_?(l=l.add(_),o=k?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,y)=>(function(_,E){const k=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:T})}};return k(_)-k(E)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),a=a??!1;const c=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new Ou(this.query,e.tu,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new lI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new oI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=nt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ou.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kx="SyncEngine";class OU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NU{constructor(e){this.key=e,this.hu=!1}}class IU{constructor(e,n,r,a,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new vl((c=>AN(c)),Ng),this.Iu=new Map,this.Eu=new Set,this.du=new Kt(Re.comparator),this.Au=new Map,this.Ru=new Mx,this.Vu={},this.mu=new Map,this.fu=Cu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RU(t,e,n=!0){const r=mI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await uI(r,e,n,!0),a}async function DU(t,e){const n=mI(t);await uI(n,e,!0,!1)}async function uI(t,e,n,r){const a=await X9(t.localStore,Ji(e)),o=a.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await PU(t,e,o,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&tI(t.remoteStore,a),c}async function PU(t,e,n,r,a){t.pu=(y,v,_)=>(async function(k,T,I,M){let L=T.view.ru(I);L.Cs&&(L=await oA(k.localStore,T.query,!1).then((({documents:R})=>T.view.ru(R,L))));const z=M&&M.targetChanges.get(T.targetId),q=M&&M.targetMismatches.get(T.targetId)!=null,F=T.view.applyChanges(L,k.isPrimaryClient,z,q);return yA(k,T.targetId,F.au),F.snapshot})(t,y,v,_);const o=await oA(t.localStore,e,!0),l=new CU(e,o.Qs),c=l.ru(o.documents),d=id.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=l.applyChanges(c,t.isPrimaryClient,d);yA(t,n,h.au);const m=new OU(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function MU(t,e,n){const r=He(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((l=>!Ng(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await pb(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Ux(r.remoteStore,a.targetId),bb(r,a.targetId)})).catch($u)):(bb(r,a.targetId),await pb(r.localStore,a.targetId,!0))}async function jU(t,e){const n=He(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ux(n.remoteStore,r.targetId))}async function LU(t,e,n){const r=FU(t);try{const a=await(function(l,c){const d=He(l),h=Dt.now(),m=c.reduce(((_,E)=>_.add(E.key)),nt());let y,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=Ga(),k=nt();return d.Ns.getEntries(_,m).next((T=>{E=T,E.forEach(((I,M)=>{M.isValidDocument()||(k=k.add(I))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,E))).next((T=>{y=T;const I=[];for(const M of c){const L=W5(M,y.get(M.key).overlayedDocument);L!=null&&I.push(new bl(M.key,L,bN(L.value.mapValue),za.exists(!0)))}return d.mutationQueue.addMutationBatch(_,h,I,c)})).next((T=>{v=T;const I=T.applyToLocalDocumentSet(y,k);return d.documentOverlayCache.saveOverlays(_,T.batchId,I)}))})).then((()=>({batchId:v.batchId,changes:ON(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,c,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new Kt(tt)),h=h.insert(c,d),l.Vu[l.currentUser.toKey()]=h})(r,a.batchId,n),await sd(r,a.changes),await Lg(r.remoteStore)}catch(a){const o=Fx(a,"Failed to persist write");n.reject(o)}}async function cI(t,e){const n=He(t);try{const r=await G9(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const l=n.Au.get(o);l&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?dt(l.hu,14607):a.removedDocuments.size>0&&(dt(l.hu,42227),l.hu=!1))})),await sd(n,r,e)}catch(r){await $u(r)}}function pA(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(l,c){const d=He(l);d.onlineState=c;let h=!1;d.queries.forEach(((m,y)=>{for(const v of y.Sa)v.va(c)&&(h=!0)})),h&&Hx(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VU(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let l=new Kt(Re.comparator);l=l.insert(o,tr.newNoDocument(o,Be.min()));const c=nt().add(o),d=new Pg(Be.min(),new Map,new Kt(tt),l,c);await cI(r,d),r.du=r.du.remove(o),r.Au.delete(e),Gx(r)}else await pb(r.localStore,e,!1).then((()=>bb(r,e,n))).catch($u)}async function UU(t,e){const n=He(t),r=e.batch.batchId;try{const a=await K9(n.localStore,e);dI(n,r,null),fI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sd(n,a)}catch(a){await $u(a)}}async function zU(t,e,n){const r=He(t);try{const a=await(function(l,c){const d=He(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((y=>(dt(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(h,y)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);dI(r,e,n),fI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sd(r,a)}catch(a){await $u(a)}}function fI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function dI(t,e,n){const r=He(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function bb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||hI(t,r)}))}function hI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ux(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Gx(t))}function yA(t,e,n){for(const r of n)r instanceof oI?(t.Ru.addReference(r.key,e),BU(t,r)):r instanceof lI?(ve(Kx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hI(t,r.key)):Le(19791,{wu:r})}function BU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(Kx,"New document in limbo: "+n),t.Eu.add(r),Gx(t))}function Gx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(Ft.fromString(e)),r=t.fu.next();t.Au.set(r,new NU(n)),t.du=t.du.insert(n,r),tI(t.remoteStore,new Fs(Ji(Nx(n.path)),r,"TargetPurposeLimboResolution",Ag.ce))}}async function sd(t,e,n){const r=He(t),a=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){a.push(h);const m=Lx.As(d.targetId,h);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(d,h){const m=He(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>oe.forEach(h,(v=>oe.forEach(v.Es,(_=>m.persistence.referenceDelegate.addReference(y,v.targetId,_))).next((()=>oe.forEach(v.ds,(_=>m.persistence.referenceDelegate.removeReference(y,v.targetId,_)))))))))}catch(y){if(!Fu(y))throw y;ve(Vx,"Failed to update sequence numbers: "+y)}for(const y of h){const v=y.targetId;if(!y.fromCache){const _=m.Ms.get(v),E=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(v,k)}}})(r.localStore,o))}async function qU(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){ve(Kx,"User change. New user:",e.toKey());const r=await QN(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((d=>{d.reject(new Se(le.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sd(n,r.Ls)}}function $U(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let a=nt();const o=n.Iu.get(e);if(!o)return a;for(const l of o){const c=n.Tu.get(l);a=a.unionWith(c.view.nu)}return a}}function mI(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$U.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VU.bind(null,e),e.Pu.H_=SU.bind(null,e.eventManager),e.Pu.yu=AU.bind(null,e.eventManager),e}function FU(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zU.bind(null,e),e}class Mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return H9(this.persistence,new q9,e.initialUser,this.serializer)}Cu(e){return new XN(jx.mi,this.serializer)}Du(e){return new Z9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mm.provider={build:()=>new Mm};class HU extends Mm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof Dm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new XN((r=>Dm.mi(r,n)),this.serializer)}}class xb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wU})()}createDatastore(e){const n=Mg(e.databaseInfo.databaseId),r=(function(o){return new rU(o)})(e.databaseInfo);return(function(o,l,c,d){return new oU(o,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,l,c){return new uU(r,a,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>pA(this.syncEngine,n,0)),(function(){return cA.v()?new cA:new J9})())}createSyncEngine(e,n){return(function(a,o,l,c,d,h,m){const y=new IU(a,o,l,c,d,h);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=He(n);ve(fl,"RemoteStore shutting down."),r.Ea.add(5),await ad(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xb.provider={build:()=>new xb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ka("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="FirestoreClient";class GU{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=er.UNAUTHENTICATED,this.clientId=Ex.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{ve(io,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(io,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Tv(t,e){t.asyncQueue.verifyOperationInProgress(),ve(io,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await QN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function vA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YU(t);ve(io,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>dA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>dA(e.remoteStore,a))),t._onlineComponents=e}async function YU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(io,"Using user provided OfflineComponentProvider");try{await Tv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Tu("Error using user provided cache. Falling back to memory cache: "+n),await Tv(t,new Mm)}}else ve(io,"Using default OfflineComponentProvider"),await Tv(t,new HU(void 0));return t._offlineComponents}async function gI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(io,"Using user provided OnlineComponentProvider"),await vA(t,t._uninitializedComponentsProvider._online)):(ve(io,"Using default OnlineComponentProvider"),await vA(t,new xb))),t._onlineComponents}function WU(t){return gI(t).then((e=>e.syncEngine))}async function XU(t){const e=await gI(t),n=e.eventManager;return n.onListen=RU.bind(null,e.syncEngine),n.onUnlisten=MU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jU.bind(null,e.syncEngine),n}function QU(t,e,n={}){const r=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,d,h){const m=new KU({next:v=>{m.Nu(),l.enqueueAndForget((()=>TU(o,y)));const _=v.docs.has(c);!_&&v.fromCache?h.reject(new Se(le.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&d&&d.source==="server"?h.reject(new Se(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),y=new kU(Nx(c.path),m,{includeMetadataChanges:!0,qa:!0});return EU(o,y)})(await XU(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="firestore.googleapis.com",xA=!0;class _A{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yI,this.ssl=xA}else this.host=e.host,this.ssl=e.ssl??xA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<S9)throw new Se(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yx{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _A({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _A(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QV;switch(r.type){case"firstParty":return new t5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=bA.get(n);r&&(ve("ComponentProvider","Removing Datastore"),bA.delete(n),r.terminate())})(this),Promise.resolve()}}function ZU(t,e,n,r={}){t=If(t,Yx);const a=Vu(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;a&&(mO(`https://${c}`),gO("Firestore",!0)),o.host!==yI&&o.host!==c&&Tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:a,emulatorOptions:r};if(!ol(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=er.MOCK_USER;else{h=u3(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Se(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new er(y)}t._authCredentials=new ZV(new lN(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wx(this.firestore,e,this._query)}}class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}toJSON(){return{type:In._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nd(n,In._jsonSchema))return new In(e,r||null,new Re(Ft.fromString(n.referencePath)))}}In._jsonSchemaVersion="firestore/documentReference/1.0",In._jsonSchema={type:fn("string",In._jsonSchemaVersion),referencePath:fn("string")};class Vf extends Wx{constructor(e,n,r){super(e,n,Nx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new Re(e))}withConverter(e){return new Vf(this.firestore,e,this._path)}}function JU(t,e,...n){if(t=Hr(t),arguments.length===1&&(e=Ex.newId()),o5("doc","path",e),t instanceof Yx){const r=Ft.fromString(e,...n);return MS(r),new In(t,null,new Re(r))}{if(!(t instanceof In||t instanceof Vf))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return MS(r),new In(t.firestore,t instanceof Vf?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="AsyncQueue";class EA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JN(this,"async_queue_retry"),this._c=()=>{const r=Ev();r&&ve(wA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ev();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ev();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fu(e))throw e;ve(wA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ka("INTERNAL UNHANDLED ERROR: ",TA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=$x.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:TA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xx extends Yx{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new EA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EA(e),this._firestoreClient=void 0,await e}}}function ez(t,e){const n=typeof t=="object"?t:bO(),r=typeof t=="string"?t:Am,a=hx(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=o3("firestore");o&&ZU(a,...o)}return a}function vI(t){if(t._terminated)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tz(t),t._firestoreClient}function tz(t){const e=t._freezeSettings(),n=(function(a,o,l,c){return new b5(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pI(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(Fn.fromBase64String(e))}catch(n){throw new Se(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nd(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:fn("string",ci._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ta._jsonSchemaVersion}}static fromJSON(e){if(nd(e,ta._jsonSchema))return new ta(e.latitude,e.longitude)}}ta._jsonSchemaVersion="firestore/geoPoint/1.0",ta._jsonSchema={type:fn("string",ta._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:na._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nd(e,na._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new na(e.vectorValues);throw new Se(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}na._jsonSchemaVersion="firestore/vectorValue/1.0",na._jsonSchema={type:fn("string",na._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=/^__.*__$/;class rz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bl(e,this.data,this.fieldMask,n,this.fieldTransforms):new rd(e,this.data,n,this.fieldTransforms)}}function xI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class Zx{constructor(e,n,r,a,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xI(this.Ac)&&nz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mg(e)}Cc(e,n,r,a=!1){return new Zx({Ac:e,methodName:n,Dc:r,path:Bn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function az(t){const e=t._freezeSettings(),n=Mg(t._databaseId);return new iz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sz(t,e,n,r,a,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);TI("Data must be an object, but it was:",l,r);const c=wI(r,l);let d,h;if(o.merge)d=new Di(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const v=oz(e,y,n);if(!l.contains(v))throw new Se(le.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);uz(m,v)||m.push(v)}d=new Di(m),h=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,h=l.fieldTransforms;return new rz(new ui(c),d,h)}function _I(t,e){if(EI(t=Hr(t)))return TI("Unsupported field value:",e,t),wI(t,e);if(t instanceof bI)return(function(r,a){if(!xI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let l=0;for(const c of r){let d=_I(c,a.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Dt.fromDate(r);return{timestampValue:Rm(a.serializer,o)}}if(r instanceof Dt){const o=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rm(a.serializer,o)}}if(r instanceof ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:qN(a.serializer,r._byteString)};if(r instanceof In){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Px(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof na)return(function(l,c){return{mapValue:{fields:{[yN]:{stringValue:vN},[km]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Ix(c.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Tx(r)}`)})(t,e)}function wI(t,e){const n={};return fN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(t,((r,a)=>{const o=_I(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function EI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof ta||t instanceof ci||t instanceof In||t instanceof bI||t instanceof na)}function TI(t,e,n){if(!EI(n)||!uN(n)){const r=Tx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function oz(t,e,n){if((e=Hr(e))instanceof Qx)return e._internalPath;if(typeof e=="string")return SI(t,e);throw jm("Field path arguments must be of type string or ",t,!1,void 0,n)}const lz=new RegExp("[~\\*/\\[\\]]");function SI(t,e,n){if(e.search(lz)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qx(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jm(t,e,n,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${a}`),d+=")"),new Se(le.INVALID_ARGUMENT,c+t+d)}function uz(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cz extends AI{data(){return super.data()}}function kI(t,e){return typeof e=="string"?SI(t,e):e instanceof Qx?e._internalPath:e._delegate._internalPath}class fz{convertValue(e,n="none"){switch(no(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(to(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yl(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[km].arrayValue?.values?.map((r=>on(r.doubleValue)));return new na(n)}convertGeoPoint(e){return new ta(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const n=eo(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ft.fromString(e);dt(YN(r),9688,{name:e});const a=new Pf(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return a.isEqual(n)||Ka(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class pf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends AI{constructor(e,n,r,a,o,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",nl._jsonSchema={type:fn("string",nl._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class hm extends nl{data(e={}){return super.data(e)}}class Sf{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new pf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new hm(this._firestore,this._userDataWriter,r.key,r,new pf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((c=>{const d=new hm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new pf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const d=new hm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new pf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:hz(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ex.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t){t=If(t,In);const e=If(t.firestore,Xx);return QU(vI(e),t._key).then((n=>vz(e,t,n)))}Sf._jsonSchemaVersion="firestore/querySnapshot/1.0",Sf._jsonSchema={type:fn("string",Sf._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class gz extends fz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function pz(t,e,n){t=If(t,In);const r=If(t.firestore,Xx),a=dz(t.converter,e);return yz(r,[sz(az(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,za.none())])}function yz(t,e){return(function(r,a){const o=new Xs;return r.asyncQueue.enqueueAndForget((async()=>LU(await WU(r),a,o))),o.promise})(vI(t),e)}function vz(t,e,n){const r=n.docs.get(e._key),a=new gz(t);return new nl(t,a,e._key,r,new pf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){qu=a})(Uu),wu(new ll("firestore",((r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Xx(new JV(r.getProvider("auth-internal")),new n5(l,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Se(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(h.options.projectId,m)})(l,a),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Gs(IS,RS,e),Gs(IS,RS,"esm2020")})();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),SA=t=>{const e=xz(t);return e.charAt(0).toUpperCase()+e.slice(1)},CI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),_z=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:l,...c},d)=>C.createElement("svg",{ref:d,...wz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CI("lucide",a),...!o&&!_z(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>C.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,e)=>{const n=C.forwardRef(({className:r,...a},o)=>C.createElement(Ez,{ref:o,iconNode:e,className:CI(`lucide-${bz(SA(t))}`,`lucide-${t}`,r),...a}));return n.displayName=SA(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],OI=Je("arrow-down-right",Tz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],NI=Je("arrow-up-right",Sz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],II=Je("calculator",Az);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],RI=Je("calendar-days",kz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],DI=Je("camera",Cz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],Nz=Je("chart-bar",Oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rz=Je("chevron-down",Iz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pz=Je("chevron-left",Dz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jz=Je("chevron-right",Mz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lm=Je("circle-check-big",Lz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],_b=Je("circle-plus",Vz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zz=Je("clock",Uz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],qz=Je("cloud-upload",Bz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fz=Je("copy",$z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["circle",{cx:"12",cy:"6",r:"1",key:"1bh7o1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["circle",{cx:"12",cy:"18",r:"1",key:"lqb9t5"}]],Kz=Je("divide",Hz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Yz=Je("dollar-sign",Gz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xz=Je("eye-off",Wz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zz=Je("eye",Qz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],e7=Je("hash",Jz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jx=Je("image",t7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Uf=Je("info",n7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],i7=Je("layout-dashboard",r7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],PI=Je("list-plus",a7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],o7=Je("log-in",s7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u7=Je("log-out",l7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],f7=Je("maximize-2",c7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],h7=Je("menu",d7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],e_=Je("pen-line",m7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],p7=Je("ratio",g7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],t_=Je("save",y7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],n_=Je("target",v7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_l=Je("trash-2",b7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],r_=Je("trending-up",x7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i_=Je("triangle-alert",_7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MI=Je("users",w7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],T7=Je("wallet",E7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a_=Je("zap",S7);function jI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=jI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ot(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=jI(t))&&(r&&(r+=" "),r+=e);return r}var Sv={},Av={},AA;function A7(){return AA||(AA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Av)),Av}var kv={},kA;function LI(){return kA||(kA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(kv)),kv}var Cv={},CA;function VI(){return CA||(CA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Cv)),Cv}var Ov={},OA;function s_(){return OA||(OA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],a=n.length;if(a===0)return r;let o=0,l="",c="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<a;){const h=n[o];c?h==="\\"&&o+1<a?(o++,l+=n[o]):h===c?c="":l+=h:d?h==='"'||h==="'"?c=h:h==="]"?(d=!1,r.push(l),l=""):l+=h:h==="["?(d=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,o++}return l&&r.push(l),r}t.toPath=e})(Ov)),Ov}var NA;function o_(){return NA||(NA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A7(),n=LI(),r=VI(),a=s_();function o(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const m=c[d];return m===void 0?n.isDeepKey(d)?o(c,a.toPath(d),h):h:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?h:m}default:{if(Array.isArray(d))return l(c,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const m=c[d];return m===void 0?h:m}}}function l(c,d,h){if(d.length===0)return h;let m=c;for(let y=0;y<d.length;y++){if(m==null||e.isUnsafeProperty(d[y]))return h;m=m[d[y]]}return m===void 0?h:m}t.get=o})(Sv)),Sv}var Nv,IA;function k7(){return IA||(IA=1,Nv=o_().get),Nv}var C7=k7();const Vg=oo(C7);var fi=t=>t===0?0:t>0?1:-1,gr=t=>typeof t=="number"&&t!=+t,Zo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!gr(t),hi=t=>Oe(t)||typeof t=="string",O7=0,zf=t=>{var e=++O7;return"".concat(t||"").concat(e)},ao=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var o;if(Zo(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return gr(o)&&(o=r),a&&n!=null&&o>n&&(o=n),o},UI=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Wi(t,e,n){return Oe(t)&&Oe(e)?t+n*(e-t):e}function zI(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Vg(r,e))===n)}var $n=t=>t===null||typeof t>"u",l_=t=>$n(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),N7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function u_(t){if(typeof t!="string")return!1;var e=N7;return e.includes(t)}var I7=["viewBox","children"],RA=["points","pathLength"],Iv={svg:I7,polygon:RA,polyline:RA},c_=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{u_(a)&&(r[a]=(o=>n[a](n,o)))}),r},R7=(t,e,n)=>r=>(t(e,n,r),null),D7=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var o=t[a];u_(a)&&typeof o=="function"&&(r||(r={}),r[a]=R7(o,e,n))}),r},P7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function BI(t){if(typeof t!="string")return!1;var e=P7;return e.includes(t)}function uo(t){var e=Object.entries(t).filter(n=>{var[r]=n;return BI(r)});return Object.fromEntries(e)}var qI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,M7=(t,e,n,r)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(a=r&&Iv?.[r])!==null&&a!==void 0?a:[],l=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&o.includes(e)||BI(e)),d=!!n&&u_(e);return l||c||d},Hn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(o=>{var l;M7((l=r)===null||l===void 0?void 0:l[o],o,e,n)&&(a[o]=r[o])}),a},j7=["children","width","height","viewBox","className","style","title","desc"];function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(null,arguments)}function L7(t,e){if(t==null)return{};var n,r,a=V7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function V7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $I=C.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:o,className:l,style:c,title:d,desc:h}=t,m=L7(t,j7),y=o||{width:r,height:a,x:0,y:0},v=Ot("recharts-surface",l);return C.createElement("svg",wb({},Hn(m,!0,"svg"),{className:v,width:r,height:a,style:c,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),C.createElement("title",null,d),C.createElement("desc",null,h),n)}),U7=["children","className"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function z7(t,e){if(t==null)return{};var n,r,a=B7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function B7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sa=C.forwardRef((t,e)=>{var{children:n,className:r}=t,a=z7(t,U7),o=Ot("recharts-layer",r);return C.createElement("g",Eb({className:o},Hn(a,!0),{ref:e}),n)}),q7=oO(),$7=C.createContext(null);function Zt(t){return function(){return t}}const Tb=Math.PI,Sb=2*Tb,Go=1e-6,F7=Sb-Go;function FI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function H7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return FI;const n=10**e;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class K7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?FI:H7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,o,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,a,o){if(e=+e,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,d=r-e,h=a-n,m=l-e,y=c-n,v=m*m+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Go)if(!(Math.abs(y*d-h*m)>Go)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=a-c,k=d*d+h*h,T=_*_+E*E,I=Math.sqrt(k),M=Math.sqrt(v),L=o*Math.tan((Tb-Math.acos((k+v-T)/(2*I*M)))/2),z=L/M,q=L/I;Math.abs(z-1)>Go&&this._append`L${e+z*m},${n+z*y}`,this._append`A${o},${o},0,0,${+(y*_>m*E)},${this._x1=e+q*d},${this._y1=n+q*h}`}}arc(e,n,r,a,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),d=r*Math.sin(a),h=e+c,m=n+d,y=1^l,v=l?a-o:o-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Go||Math.abs(this._y1-m)>Go)&&this._append`L${h},${m}`,r&&(v<0&&(v=v%Sb+Sb),v>F7?this._append`A${r},${r},0,1,${y},${e-c},${n-d}A${r},${r},0,1,${y},${this._x1=h},${this._y1=m}`:v>Go&&this._append`A${r},${r},0,${+(v>=Tb)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function HI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new K7(e)}function f_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KI(t){this._context=t}KI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ug(t){return new KI(t)}function GI(t){return t[0]}function YI(t){return t[1]}function WI(t,e){var n=Zt(!0),r=null,a=Ug,o=null,l=HI(c);t=typeof t=="function"?t:t===void 0?GI:Zt(t),e=typeof e=="function"?e:e===void 0?YI:Zt(e);function c(d){var h,m=(d=f_(d)).length,y,v=!1,_;for(r==null&&(o=a(_=l())),h=0;h<=m;++h)!(h<m&&n(y=d[h],h,d))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(y,h,d),+e(y,h,d));if(_)return o=null,_+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Zt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Zt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Zt(!!d),c):n},c.curve=function(d){return arguments.length?(a=d,r!=null&&(o=a(r)),c):a},c.context=function(d){return arguments.length?(d==null?r=o=null:o=a(r=d),c):r},c}function zh(t,e,n){var r=null,a=Zt(!0),o=null,l=Ug,c=null,d=HI(h);t=typeof t=="function"?t:t===void 0?GI:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?YI:Zt(+n);function h(y){var v,_,E,k=(y=f_(y)).length,T,I=!1,M,L=new Array(k),z=new Array(k);for(o==null&&(c=l(M=d())),v=0;v<=k;++v){if(!(v<k&&a(T=y[v],v,y))===I)if(I=!I)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=v-1;E>=_;--E)c.point(L[E],z[E]);c.lineEnd(),c.areaEnd()}I&&(L[v]=+t(T,v,y),z[v]=+e(T,v,y),c.point(r?+r(T,v,y):L[v],n?+n(T,v,y):z[v]))}if(M)return c=null,M+""||null}function m(){return WI().defined(a).curve(l).context(o)}return h.x=function(y){return arguments.length?(t=typeof y=="function"?y:Zt(+y),r=null,h):t},h.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Zt(+y),h):t},h.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Zt(+y),h):r},h.y=function(y){return arguments.length?(e=typeof y=="function"?y:Zt(+y),n=null,h):e},h.y0=function(y){return arguments.length?(e=typeof y=="function"?y:Zt(+y),h):e},h.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Zt(+y),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(y){return arguments.length?(a=typeof y=="function"?y:Zt(!!y),h):a},h.curve=function(y){return arguments.length?(l=y,o!=null&&(c=l(o)),h):l},h.context=function(y){return arguments.length?(y==null?o=c=null:c=l(o=y),h):o},h}class XI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function G7(t){return new XI(t,!0)}function Y7(t){return new XI(t,!1)}function Vm(){}function Um(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function QI(t){this._context=t}QI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function W7(t){return new QI(t)}function ZI(t){this._context=t}ZI.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function X7(t){return new ZI(t)}function JI(t){this._context=t}JI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Q7(t){return new JI(t)}function eR(t){this._context=t}eR.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Z7(t){return new eR(t)}function DA(t){return t<0?-1:1}function PA(t,e,n){var r=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),c=(o*a+l*r)/(r+a);return(DA(o)+DA(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function MA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Rv(t,e,n){var r=t._x0,a=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,a+c*e,o-c,l-c*n,o,l)}function zm(t){this._context=t}zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rv(this,this._t0,MA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rv(this,MA(this,n=PA(this,t,e)),n);break;default:Rv(this,this._t0,n=PA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function tR(t){this._context=new nR(t)}(tR.prototype=Object.create(zm.prototype)).point=function(t,e){zm.prototype.point.call(this,e,t)};function nR(t){this._context=t}nR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,o){this._context.bezierCurveTo(e,t,r,n,o,a)}};function J7(t){return new zm(t)}function e8(t){return new tR(t)}function rR(t){this._context=t}rR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jA(t),a=jA(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jA(t){var e,n=t.length-1,r,a=new Array(n),o=new Array(n),l=new Array(n);for(a[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/o[e];for(o[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-a[e+1];return[a,o]}function t8(t){return new rR(t)}function zg(t,e){this._context=t,this._t=e}zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function n8(t){return new zg(t,.5)}function r8(t){return new zg(t,0)}function i8(t){return new zg(t,1)}function Nu(t,e){if((l=t.length)>1)for(var n=1,r,a,o=t[e[0]],l,c=o.length;n<l;++n)for(a=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Ab(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function a8(t,e){return t[e]}function s8(t){const e=[];return e.key=t,e}function o8(){var t=Zt([]),e=Ab,n=Nu,r=a8;function a(o){var l=Array.from(t.apply(this,arguments),s8),c,d=l.length,h=-1,m;for(const y of o)for(c=0,++h;c<d;++c)(l[c][h]=[0,+r(y,l[c].key,h,o)]).data=y;for(c=0,m=f_(e(l));c<d;++c)l[m[c]].index=c;return n(l,m),l}return a.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Zt(Array.from(o)),a):t},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:Zt(+o),a):r},a.order=function(o){return arguments.length?(e=o==null?Ab:typeof o=="function"?o:Zt(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(n=o??Nu,a):n},a}function l8(t,e){if((r=t.length)>0){for(var n,r,a=0,o=t[0].length,l;a<o;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Nu(t,e)}}function u8(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,o=r.length;n<o;++n){for(var l=0,c=0;l<a;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Nu(t,e)}}function c8(t,e){if(!(!((l=t.length)>0)||!((o=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,o,l;r<o;++r){for(var c=0,d=0,h=0;c<l;++c){for(var m=t[e[c]],y=m[r][1]||0,v=m[r-1][1]||0,_=(y-v)/2,E=0;E<c;++E){var k=t[e[E]],T=k[r][1]||0,I=k[r-1][1]||0;_+=T-I}d+=y,h+=_*y}a[r-1][1]+=a[r-1][0]=n,d&&(n-=h/d)}a[r-1][1]+=a[r-1][0]=n,Nu(t,e)}}var Dv={},Pv={},LA;function f8(){return LA||(LA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}t.uniqBy=e})(Pv)),Pv}var Mv={},VA;function iR(){return VA||(VA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Mv)),Mv}var jv={},Lv={},Vv={},UA;function d8(){return UA||(UA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Vv)),Vv}var zA;function d_(){return zA||(zA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d8();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Lv)),Lv}var Uv={},BA;function h8(){return BA||(BA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Uv)),Uv}var qA;function m8(){return qA||(qA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d_(),n=h8();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(jv)),jv}var zv={},Bv={},$A;function g8(){return $A||($A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Bv)),Bv}var qv={},$v={},Fv={},Hv={},FA;function aR(){return FA||(FA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Hv)),Hv}var Kv={},HA;function sR(){return HA||(HA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Kv)),Kv}var Gv={},KA;function oR(){return KA||(KA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Gv)),Gv}var GA;function p8(){return GA||(GA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h_(),n=aR(),r=sR(),a=oR();function o(y,v,_){return typeof _!="function"?e.isMatch(y,v):l(y,v,function E(k,T,I,M,L,z){const q=_(k,T,I,M,L,z);return q!==void 0?!!q:l(k,T,E,z)},new Map)}function l(y,v,_,E){if(v===y)return!0;switch(typeof v){case"object":return c(y,v,_,E);case"function":return Object.keys(v).length>0?l(y,{...v},_,E):a.eq(y,v);default:return n.isObject(y)?typeof v=="string"?v==="":!0:a.eq(y,v)}}function c(y,v,_,E){if(v==null)return!0;if(Array.isArray(v))return h(y,v,_,E);if(v instanceof Map)return d(y,v,_,E);if(v instanceof Set)return m(y,v,_,E);const k=Object.keys(v);if(y==null)return k.length===0;if(k.length===0)return!0;if(E&&E.has(v))return E.get(v)===y;E&&E.set(v,y);try{for(let T=0;T<k.length;T++){const I=k[T];if(!r.isPrimitive(y)&&!(I in y)||v[I]===void 0&&y[I]!==void 0||v[I]===null&&y[I]!==null||!_(y[I],v[I],I,y,v,E))return!1}return!0}finally{E&&E.delete(v)}}function d(y,v,_,E){if(v.size===0)return!0;if(!(y instanceof Map))return!1;for(const[k,T]of v.entries()){const I=y.get(k);if(_(I,T,k,y,v,E)===!1)return!1}return!0}function h(y,v,_,E){if(v.length===0)return!0;if(!Array.isArray(y))return!1;const k=new Set;for(let T=0;T<v.length;T++){const I=v[T];let M=!1;for(let L=0;L<y.length;L++){if(k.has(L))continue;const z=y[L];let q=!1;if(_(z,I,T,y,v,E)&&(q=!0),q){k.add(L),M=!0;break}}if(!M)return!1}return!0}function m(y,v,_,E){return v.size===0?!0:y instanceof Set?h([...y],[...v],_,E):!1}t.isMatchWith=o,t.isSetMatch=m})(Fv)),Fv}var YA;function h_(){return YA||(YA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p8();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})($v)),$v}var Yv={},Wv={},Xv={},WA;function y8(){return WA||(WA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Xv)),Xv}var Qv={},XA;function lR(){return XA||(XA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Qv)),Qv}var Zv={},QA;function uR(){return QA||(QA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",h="[object Set]",m="[object Array]",y="[object Function]",v="[object ArrayBuffer]",_="[object Object]",E="[object Error]",k="[object DataView]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",L="[object Uint32Array]",z="[object BigUint64Array]",q="[object Int8Array]",F="[object Int16Array]",R="[object Int32Array]",O="[object BigInt64Array]",D="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=z,t.booleanTag=a,t.dataViewTag=k,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=U,t.functionTag=y,t.int16ArrayTag=F,t.int32ArrayTag=R,t.int8ArrayTag=q,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=M,t.uint32ArrayTag=L,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=I})(Zv)),Zv}var Jv={},ZA;function v8(){return ZA||(ZA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Jv)),Jv}var JA;function cR(){return JA||(JA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y8(),n=lR(),r=uR(),a=sR(),o=v8();function l(m,y){return c(m,void 0,m,new Map,y)}function c(m,y,v,_=new Map,E=void 0){const k=E?.(m,y,v,_);if(k!==void 0)return k;if(a.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const T=new Array(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,v,_,E);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;_.set(m,T);for(const[I,M]of m)T.set(I,c(M,I,v,_,E));return T}if(m instanceof Set){const T=new Set;_.set(m,T);for(const I of m)T.add(c(I,void 0,v,_,E));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,v,_,E);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,T),d(T,m,v,_,E),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return _.set(m,T),d(T,m,v,_,E),T}if(m instanceof Blob){const T=new Blob([m],{type:m.type});return _.set(m,T),d(T,m,v,_,E),T}if(m instanceof Error){const T=new m.constructor;return _.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,d(T,m,v,_,E),T}if(typeof m=="object"&&h(m)){const T=Object.create(Object.getPrototypeOf(m));return _.set(m,T),d(T,m,v,_,E),T}return m}function d(m,y,v=m,_,E){const k=[...Object.keys(y),...e.getSymbols(y)];for(let T=0;T<k.length;T++){const I=k[T],M=Object.getOwnPropertyDescriptor(m,I);(M==null||M.writable)&&(m[I]=c(y[I],I,v,_,E))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(Wv)),Wv}var ek;function b8(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cR();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Yv)),Yv}var tk;function x8(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h_(),n=b8();function r(a){return a=n.cloneDeep(a),o=>e.isMatch(o,a)}t.matches=r})(qv)),qv}var e0={},t0={},n0={},nk;function _8(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cR(),n=uR();function r(a,o){return e.cloneDeepWith(a,(l,c,d,h)=>{const m=o?.(l,c,d,h);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case n.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r})(n0)),n0}var rk;function w8(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_8();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(t0)),t0}var r0={},i0={},ik;function fR(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(i0)),i0}var a0={},ak;function E8(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lR();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(a0)),a0}var sk;function T8(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LI(),n=fR(),r=E8(),a=s_();function o(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let h=l;for(let m=0;m<d.length;m++){const y=d[m];if((h==null||!Object.hasOwn(h,y))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(y)&&y<h.length))return!1;h=h[y]}return!0}t.has=o})(r0)),r0}var ok;function S8(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h_(),n=VI(),r=w8(),a=o_(),o=T8();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(h){const m=a.get(h,c);return m===void 0?o.has(h,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(e0)),e0}var lk;function A8(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iR(),n=g8(),r=x8(),a=S8();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(zv)),zv}var uk;function k8(){return uk||(uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f8(),n=iR(),r=m8(),a=A8();function o(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(c)):[]}t.uniqBy=o})(Dv)),Dv}var s0,ck;function C8(){return ck||(ck=1,s0=k8().uniqBy),s0}var O8=C8();const fk=oo(O8);function N8(t,e,n){return e===!0?fk(t,n):typeof e=="function"?fk(t,e):t}var o0={exports:{}},l0={},u0={exports:{}},c0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function I8(){if(dk)return c0;dk=1;var t=Lu();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(y,v){var _=v(),E=r({inst:{value:_,getSnapshot:v}}),k=E[0].inst,T=E[1];return o(function(){k.value=_,k.getSnapshot=v,d(k)&&T({inst:k})},[y,_,v]),a(function(){return d(k)&&T({inst:k}),y(function(){d(k)&&T({inst:k})})},[y]),l(_),_}function d(y){var v=y.getSnapshot;y=y.value;try{var _=v();return!n(y,_)}catch{return!0}}function h(y,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return c0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,c0}var hk;function R8(){return hk||(hk=1,u0.exports=I8()),u0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk;function D8(){if(mk)return l0;mk=1;var t=Lu(),e=R8();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return l0.useSyncExternalStoreWithSelector=function(h,m,y,v,_){var E=o(null);if(E.current===null){var k={hasValue:!1,value:null};E.current=k}else k=E.current;E=c(function(){function I(F){if(!M){if(M=!0,L=F,F=v(F),_!==void 0&&k.hasValue){var R=k.value;if(_(R,F))return z=R}return z=F}if(R=z,r(L,F))return R;var O=v(F);return _!==void 0&&_(R,O)?(L=F,R):(L=F,z=O)}var M=!1,L,z,q=y===void 0?null:y;return[function(){return I(m())},q===null?void 0:function(){return I(q())}]},[m,y,v,_]);var T=a(h,E[0],E[1]);return l(function(){k.hasValue=!0,k.value=T},[T]),d(T),T},l0}var gk;function P8(){return gk||(gk=1,o0.exports=D8()),o0.exports}var M8=P8(),m_=C.createContext(null),j8=t=>t,ir=()=>{var t=C.useContext(m_);return t?t.store.dispatch:j8},mm=()=>{},L8=()=>mm,V8=(t,e)=>t===e;function ke(t){var e=C.useContext(m_);return M8.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:L8,e?e.store.getState:mm,e?e.store.getState:mm,e?t:mm,V8)}function U8(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function z8(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function B8(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var pk=t=>Array.isArray(t)?t:[t];function q8(t){const e=Array.isArray(t[0])?t[0]:t;return B8(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function $8(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var F8=class{constructor(t){this.value=t}deref(){return this.value}},H8=typeof WeakRef<"u"?WeakRef:F8,K8=0,yk=1;function Bh(){return{s:K8,v:void 0,o:null,p:null}}function dR(t,e={}){let n=Bh();const{resultEqualityCheck:r}=e;let a,o=0;function l(){let c=n;const{length:d}=arguments;for(let y=0,v=d;y<v;y++){const _=arguments[y];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const k=E.get(_);k===void 0?(c=Bh(),E.set(_,c)):c=k}else{let E=c.p;E===null&&(c.p=E=new Map);const k=E.get(_);k===void 0?(c=Bh(),E.set(_,c)):c=k}}const h=c;let m;if(c.s===yk)m=c.v;else if(m=t.apply(null,arguments),o++,r){const y=a?.deref?.()??a;y!=null&&r(y,m)&&(m=y,o!==0&&o--),a=typeof m=="object"&&m!==null||typeof m=="function"?new H8(m):m}return h.s=yk,h.v=m,m}return l.clearCache=()=>{n=Bh(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function G8(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let o=0,l=0,c,d={},h=a.pop();typeof h=="object"&&(d=h,h=a.pop()),U8(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...d},{memoize:y,memoizeOptions:v=[],argsMemoize:_=dR,argsMemoizeOptions:E=[]}=m,k=pk(v),T=pk(E),I=q8(a),M=y(function(){return o++,h.apply(null,arguments)},...k),L=_(function(){l++;const q=$8(I,arguments);return c=M.apply(null,q),c},...T);return Object.assign(L,{resultFunc:h,memoizedResultFunc:M,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var te=G8(dR),Y8=Object.assign((t,e=te)=>{z8(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>Y8}),f0={},d0={},h0={},vk;function W8(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,o)=>{if(r!==a){const l=e(r),c=e(a);if(l===c&&l===0){if(r<a)return o==="desc"?1:-1;if(r>a)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(h0)),h0}var m0={},g0={},bk;function hR(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(g0)),g0}var xk;function X8(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=a})(m0)),m0}var _k;function Q8(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W8(),n=X8(),r=s_();function a(o,l,c,d){if(o==null)return[];c=d?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const h=(_,E)=>{let k=_;for(let T=0;T<E.length&&k!=null;++T)k=k[E[T]];return k},m=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:h(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?h(E,_):typeof E=="object"?E[_]:E,y=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:y.map(E=>m(E,_))})).slice().sort((_,E)=>{for(let k=0;k<y.length;k++){const T=e.compareValues(_.criteria[k],E.criteria[k],c[k]);if(T!==0)return T}return 0}).map(_=>_.original)}t.orderBy=a})(d0)),d0}var p0={},wk;function Z8(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],o=Math.floor(r),l=(c,d)=>{for(let h=0;h<c.length;h++){const m=c[h];Array.isArray(m)&&d<o?l(m,d+1):a.push(m)}};return l(n,0),a}t.flatten=e})(p0)),p0}var y0={},Ek;function mR(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fR(),n=d_(),r=aR(),a=oR();function o(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],l):!1}t.isIterateeCall=o})(y0)),y0}var Tk;function J8(){return Tk||(Tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q8(),n=Z8(),r=mR();function a(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=a})(f0)),f0}var v0,Sk;function eB(){return Sk||(Sk=1,v0=J8().sortBy),v0}var tB=eB();const Bg=oo(tB);var gR=t=>t.legend.settings,nB=t=>t.legend.size,rB=t=>t.legend.payload;te([rB,gR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Bg(r,n):r});var qh=1;function iB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>qh||Math.abs(l.left-e.left)>qh||Math.abs(l.top-e.top)>qh||Math.abs(l.width-e.width)>qh)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Vn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var aB=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ak=aB,b0=()=>Math.random().toString(36).substring(7).split("").join("."),sB={INIT:`@@redux/INIT${b0()}`,REPLACE:`@@redux/REPLACE${b0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${b0()}`},Bm=sB;function g_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function pR(t,e,n){if(typeof t!="function")throw new Error(Vn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Vn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Vn(1));return n(pR)(t,e)}let r=t,a=e,o=new Map,l=o,c=0,d=!1;function h(){l===o&&(l=new Map,o.forEach((T,I)=>{l.set(I,T)}))}function m(){if(d)throw new Error(Vn(3));return a}function y(T){if(typeof T!="function")throw new Error(Vn(4));if(d)throw new Error(Vn(5));let I=!0;h();const M=c++;return l.set(M,T),function(){if(I){if(d)throw new Error(Vn(6));I=!1,h(),l.delete(M),o=null}}}function v(T){if(!g_(T))throw new Error(Vn(7));if(typeof T.type>"u")throw new Error(Vn(8));if(typeof T.type!="string")throw new Error(Vn(17));if(d)throw new Error(Vn(9));try{d=!0,a=r(a,T)}finally{d=!1}return(o=l).forEach(M=>{M()}),T}function _(T){if(typeof T!="function")throw new Error(Vn(10));r=T,v({type:Bm.REPLACE})}function E(){const T=y;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Vn(11));function M(){const z=I;z.next&&z.next(m())}return M(),{unsubscribe:T(M)}},[Ak](){return this}}}return v({type:Bm.INIT}),{dispatch:v,subscribe:y,getState:m,replaceReducer:_,[Ak]:E}}function oB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Bm.INIT})>"u")throw new Error(Vn(12));if(typeof n(void 0,{type:Bm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vn(13))})}function yR(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{oB(n)}catch(o){a=o}return function(l={},c){if(a)throw a;let d=!1;const h={};for(let m=0;m<r.length;m++){const y=r[m],v=n[y],_=l[y],E=v(_,c);if(typeof E>"u")throw c&&c.type,new Error(Vn(14));h[y]=E,d=d||E!==_}return d=d||r.length!==Object.keys(l).length,d?h:l}}function qm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function lB(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(Vn(15))};const l={getState:a.getState,dispatch:(d,...h)=>o(d,...h)},c=t.map(d=>d(l));return o=qm(...c)(a.dispatch),{...a,dispatch:o}}}function vR(t){return g_(t)&&"type"in t&&typeof t.type=="string"}var bR=Symbol.for("immer-nothing"),kk=Symbol.for("immer-draftable"),Kr=Symbol.for("immer-state");function Ni(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Iu=Object.getPrototypeOf;function dl(t){return!!t&&!!t[Kr]}function Ya(t){return t?xR(t)||Array.isArray(t)||!!t[kk]||!!t.constructor?.[kk]||od(t)||$g(t):!1}var uB=Object.prototype.constructor.toString();function xR(t){if(!t||typeof t!="object")return!1;const e=Iu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===uB}function $m(t,e){qg(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function qg(t){const e=t[Kr];return e?e.type_:Array.isArray(t)?1:od(t)?2:$g(t)?3:0}function kb(t,e){return qg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function _R(t,e,n){const r=qg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function cB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function od(t){return t instanceof Map}function $g(t){return t instanceof Set}function Yo(t){return t.copy_||t.base_}function Cb(t,e){if(od(t))return new Map(t);if($g(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=xR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Kr];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const l=a[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Iu(t),r)}else{const r=Iu(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function p_(t,e=!1){return Fg(t)||dl(t)||!Ya(t)||(qg(t)>1&&Object.defineProperties(t,{set:{value:$h},add:{value:$h},clear:{value:$h},delete:{value:$h}}),Object.freeze(t),e&&Object.values(t).forEach(n=>p_(n,!0))),t}function $h(){Ni(2)}function Fg(t){return Object.isFrozen(t)}var fB={};function hl(t){const e=fB[t];return e||Ni(0,t),e}var Bf;function wR(){return Bf}function dB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ck(t,e){e&&(hl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ob(t){Nb(t),t.drafts_.forEach(hB),t.drafts_=null}function Nb(t){t===Bf&&(Bf=t.parent_)}function Ok(t){return Bf=dB(Bf,t)}function hB(t){const e=t[Kr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Nk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Kr].modified_&&(Ob(e),Ni(4)),Ya(t)&&(t=Fm(e,t),e.parent_||Hm(e,t)),e.patches_&&hl("Patches").generateReplacementPatches_(n[Kr].base_,t,e.patches_,e.inversePatches_)):t=Fm(e,n,[]),Ob(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==bR?t:void 0}function Fm(t,e,n){if(Fg(e))return e;const r=e[Kr];if(!r)return $m(e,(a,o)=>Ik(t,r,e,a,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Hm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,l=!1;r.type_===3&&(o=new Set(a),a.clear(),l=!0),$m(o,(c,d)=>Ik(t,r,a,c,d,n,l)),Hm(t,a,!1),n&&t.patches_&&hl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Ik(t,e,n,r,a,o,l){if(dl(a)){const c=o&&e&&e.type_!==3&&!kb(e.assigned_,r)?o.concat(r):void 0,d=Fm(t,a,c);if(_R(n,r,d),dl(d))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Ya(a)&&!Fg(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Fm(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(od(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Hm(t,a)}}function Hm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&p_(e,n)}function mB(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:wR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=y_;n&&(a=[r],o=qf);const{revoke:l,proxy:c}=Proxy.revocable(a,o);return r.draft_=c,r.revoke_=l,c}var y_={get(t,e){if(e===Kr)return t;const n=Yo(t);if(!kb(n,e))return gB(t,n,e);const r=n[e];return t.finalized_||!Ya(r)?r:r===x0(t.base_,e)?(_0(t),t.copy_[e]=Rb(r,t)):r},has(t,e){return e in Yo(t)},ownKeys(t){return Reflect.ownKeys(Yo(t))},set(t,e,n){const r=ER(Yo(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=x0(Yo(t),e),o=a?.[Kr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cB(n,a)&&(n!==void 0||kb(t.base_,e)))return!0;_0(t),Ib(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return x0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,_0(t),Ib(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Yo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ni(11)},getPrototypeOf(t){return Iu(t.base_)},setPrototypeOf(){Ni(12)}},qf={};$m(y_,(t,e)=>{qf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});qf.deleteProperty=function(t,e){return qf.set.call(this,t,e,void 0)};qf.set=function(t,e,n){return y_.set.call(this,t[0],e,n,t[0])};function x0(t,e){const n=t[Kr];return(n?Yo(n):t)[e]}function gB(t,e,n){const r=ER(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function ER(t,e){if(!(e in t))return;let n=Iu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Iu(n)}}function Ib(t){t.modified_||(t.modified_=!0,t.parent_&&Ib(t.parent_))}function _0(t){t.copy_||(t.copy_=Cb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var pB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(d=o,...h){return l.produce(d,m=>n.call(this,m,...h))}}typeof n!="function"&&Ni(6),r!==void 0&&typeof r!="function"&&Ni(7);let a;if(Ya(e)){const o=Ok(this),l=Rb(e,void 0);let c=!0;try{a=n(l),c=!1}finally{c?Ob(o):Nb(o)}return Ck(o,r),Nk(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===bR&&(a=void 0),this.autoFreeze_&&p_(a,!0),r){const o=[],l=[];hl("Patches").generateReplacementPatches_(e,a,o,l),r(o,l)}return a}else Ni(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,a;return[this.produce(e,n,(l,c)=>{r=l,a=c}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ya(t)||Ni(8),dl(t)&&(t=Ba(t));const e=Ok(this),n=Rb(t,void 0);return n[Kr].isManual_=!0,Nb(e),n}finishDraft(t,e){const n=t&&t[Kr];(!n||!n.isManual_)&&Ni(9);const{scope_:r}=n;return Ck(r,e),Nk(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=hl("Patches").applyPatches_;return dl(t)?r(t,e):this.produce(t,a=>r(a,e))}};function Rb(t,e){const n=od(t)?hl("MapSet").proxyMap_(t,e):$g(t)?hl("MapSet").proxySet_(t,e):mB(t,e);return(e?e.scope_:wR()).drafts_.push(n),n}function Ba(t){return dl(t)||Ni(10,t),TR(t)}function TR(t){if(!Ya(t)||Fg(t))return t;const e=t[Kr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Cb(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Cb(t,!0);return $m(n,(r,a)=>{_R(n,r,TR(a))}),e&&(e.finalized_=!1),n}var yB=new pB,SR=yB.produce;function AR(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var vB=AR(),bB=AR,xB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qm:qm.apply(null,arguments)};function mi(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Fr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>vR(r)&&r.type===t,n}var kR=class yf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,yf.prototype)}static get[Symbol.species](){return yf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new yf(...e[0].concat(this)):new yf(...e.concat(this))}};function Rk(t){return Ya(t)?SR(t,()=>{}):t}function Fh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function _B(t){return typeof t=="boolean"}var wB=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let l=new kR;return n&&(_B(n)?l.push(vB):l.push(bB(n.extraArgument))),l},EB="RTK_autoBatch",Dk=t=>e=>{setTimeout(e,t)},TB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dk(10):t.type==="callback"?t.queueNotification:Dk(t.timeout),h=()=>{l=!1,o&&(o=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const y=()=>a&&m(),v=r.subscribe(y);return c.add(m),()=>{v(),c.delete(m)}},dispatch(m){try{return a=!m?.meta?.[EB],o=!a,o&&(l||(l=!0,d(h))),r.dispatch(m)}finally{a=!0}}})},SB=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new kR(t);return r&&a.push(TB(typeof r=="object"?r:void 0)),a};function AB(t){const e=wB(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(g_(n))c=yR(n);else throw new Error(Fr(1));let d;typeof r=="function"?d=r(e):d=e();let h=qm;a&&(h=xB({trace:!1,...typeof a=="object"&&a}));const m=lB(...d),y=SB(m);let v=typeof l=="function"?l(y):y();const _=h(...v);return pR(c,o,_)}function CR(t){const e={},n=[];let r;const a={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Fr(28));if(c in e)throw new Error(Fr(29));return e[c]=l,a},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),a},addMatcher(o,l){return n.push({matcher:o,reducer:l}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function kB(t){return typeof t=="function"}function CB(t,e){let[n,r,a]=CR(e),o;if(kB(t))o=()=>Rk(t());else{const c=Rk(t);o=()=>c}function l(c=o(),d){let h=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[a]),h.reduce((m,y)=>{if(y)if(dl(m)){const _=y(m,d);return _===void 0?m:_}else{if(Ya(m))return SR(m,v=>y(v,d));{const v=y(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},c)}return l.getInitialState=o,l}var OB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",NB=(t=21)=>{let e="",n=t;for(;n--;)e+=OB[Math.random()*64|0];return e},IB=Symbol.for("rtk-slice-createasyncthunk");function RB(t,e){return`${t}/${e}`}function DB({creators:t}={}){const e=t?.asyncThunk?.[IB];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(Fr(11));const l=(typeof r.reducers=="function"?r.reducers(MB()):r.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(L,z){const q=typeof L=="string"?L:L.type;if(!q)throw new Error(Fr(12));if(q in d.sliceCaseReducersByType)throw new Error(Fr(13));return d.sliceCaseReducersByType[q]=z,h},addMatcher(L,z){return d.sliceMatchers.push({matcher:L,reducer:z}),h},exposeAction(L,z){return d.actionCreators[L]=z,h},exposeCaseReducer(L,z){return d.sliceCaseReducersByName[L]=z,h}};c.forEach(L=>{const z=l[L],q={reducerName:L,type:RB(a,L),createNotation:typeof r.reducers=="function"};LB(z)?UB(q,z,h,e):jB(q,z,h)});function m(){const[L={},z=[],q=void 0]=typeof r.extraReducers=="function"?CR(r.extraReducers):[r.extraReducers],F={...L,...d.sliceCaseReducersByType};return CB(r.initialState,R=>{for(let O in F)R.addCase(O,F[O]);for(let O of d.sliceMatchers)R.addMatcher(O.matcher,O.reducer);for(let O of z)R.addMatcher(O.matcher,O.reducer);q&&R.addDefaultCase(q)})}const y=L=>L,v=new Map,_=new WeakMap;let E;function k(L,z){return E||(E=m()),E(L,z)}function T(){return E||(E=m()),E.getInitialState()}function I(L,z=!1){function q(R){let O=R[L];return typeof O>"u"&&z&&(O=Fh(_,q,T)),O}function F(R=y){const O=Fh(v,z,()=>new WeakMap);return Fh(O,R,()=>{const D={};for(const[U,P]of Object.entries(r.selectors??{}))D[U]=PB(P,R,()=>Fh(_,R,T),z);return D})}return{reducerPath:L,getSelectors:F,get selectors(){return F(q)},selectSlice:q}}const M={name:a,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:T,...I(o),injectInto(L,{reducerPath:z,...q}={}){const F=z??o;return L.inject({reducerPath:F,reducer:k},q),{...M,...I(F,!0)}}};return M}}function PB(t,e,n,r){function a(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return a.unwrapped=t,a}var Gr=DB();function MB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function jB({type:t,reducerName:e,createNotation:n},r,a){let o,l;if("reducer"in r){if(n&&!VB(r))throw new Error(Fr(17));o=r.reducer,l=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?mi(t,l):mi(t))}function LB(t){return t._reducerDefinitionType==="asyncThunk"}function VB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function UB({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Fr(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:d,settled:h,options:m}=n,y=a(t,o,m);r.exposeAction(e,y),l&&r.addCase(y.fulfilled,l),c&&r.addCase(y.pending,c),d&&r.addCase(y.rejected,d),h&&r.addMatcher(y.settled,h),r.exposeCaseReducer(e,{fulfilled:l||Hh,pending:c||Hh,rejected:d||Hh,settled:h||Hh})}function Hh(){}var zB="task",OR="listener",NR="completed",v_="cancelled",BB=`task-${v_}`,qB=`task-${NR}`,Db=`${OR}-${v_}`,$B=`${OR}-${NR}`,Hg=class{constructor(t){this.code=t,this.message=`${zB} ${v_} (reason: ${t})`}name="TaskAbortError";message},b_=(t,e)=>{if(typeof t!="function")throw new TypeError(Fr(32))},Km=()=>{},IR=(t,e=Km)=>(t.catch(e),t),RR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),rl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},il=t=>{if(t.aborted){const{reason:e}=t;throw new Hg(e)}};function DR(t,e){let n=Km;return new Promise((r,a)=>{const o=()=>a(new Hg(t.reason));if(t.aborted){o();return}n=RR(t,o),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Km})}var FB=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Hg?"cancelled":"rejected",error:n}}finally{e?.()}},Gm=t=>e=>IR(DR(t,e).then(n=>(il(t),n))),PR=t=>{const e=Gm(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:xu}=Object,Pk={},Kg="listenerMiddleware",HB=(t,e)=>{const n=r=>RR(t,()=>rl(r,t.reason));return(r,a)=>{b_(r);const o=new AbortController;n(o);const l=FB(async()=>{il(t),il(o.signal);const c=await r({pause:Gm(o.signal),delay:PR(o.signal),signal:o.signal});return il(o.signal),c},()=>rl(o,qB));return a?.autoJoin&&e.push(l.catch(Km)),{result:Gm(t)(l),cancel(){rl(o,BB)}}}},KB=(t,e)=>{const n=async(r,a)=>{il(e);let o=()=>{};const c=[new Promise((d,h)=>{let m=t({predicate:r,effect:(y,v)=>{v.unsubscribe(),d([y,v.getState(),v.getOriginalState()])}});o=()=>{m(),h()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await DR(e,Promise.race(c));return il(e),d}finally{o()}};return(r,a)=>IR(n(r,a))},MR=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:o}=t;if(e)a=mi(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Fr(21));return b_(o),{predicate:a,type:e,effect:o}},jR=xu(t=>{const{type:e,predicate:n,effect:r}=MR(t);return{id:NB(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fr(22))}}},{withTypes:()=>jR}),Mk=(t,e)=>{const{type:n,effect:r,predicate:a}=MR(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===r)},Pb=t=>{t.pending.forEach(e=>{rl(e,Db)})},GB=t=>()=>{t.forEach(Pb),t.clear()},jk=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},LR=xu(mi(`${Kg}/add`),{withTypes:()=>LR}),YB=mi(`${Kg}/removeAll`),VR=xu(mi(`${Kg}/remove`),{withTypes:()=>VR}),WB=(...t)=>{console.error(`${Kg}/error`,...t)},ld=(t={})=>{const e=new Map,{extra:n,onError:r=WB}=t;b_(r);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y?.cancelActive&&Pb(m)}),o=m=>{const y=Mk(e,m)??jR(m);return a(y)};xu(o,{withTypes:()=>o});const l=m=>{const y=Mk(e,m);return y&&(y.unsubscribe(),m.cancelActive&&Pb(y)),!!y};xu(l,{withTypes:()=>l});const c=async(m,y,v,_)=>{const E=new AbortController,k=KB(o,E.signal),T=[];try{m.pending.add(E),await Promise.resolve(m.effect(y,xu({},v,{getOriginalState:_,condition:(I,M)=>k(I,M).then(Boolean),take:k,delay:PR(E.signal),pause:Gm(E.signal),extra:n,signal:E.signal,fork:HB(E.signal,T),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,M,L)=>{I!==E&&(rl(I,Db),L.delete(I))})},cancel:()=>{rl(E,Db),m.pending.delete(E)},throwIfCancelled:()=>{il(E.signal)}})))}catch(I){I instanceof Hg||jk(r,I,{raisedBy:"effect"})}finally{await Promise.all(T),rl(E,$B),m.pending.delete(E)}},d=GB(e);return{middleware:m=>y=>v=>{if(!vR(v))return y(v);if(LR.match(v))return o(v.payload);if(YB.match(v)){d();return}if(VR.match(v))return l(v.payload);let _=m.getState();const E=()=>{if(_===Pk)throw new Error(Fr(23));return _};let k;try{if(k=y(v),e.size>0){const T=m.getState(),I=Array.from(e.values());for(const M of I){let L=!1;try{L=M.predicate(v,T,_)}catch(z){L=!1,jk(r,z,{raisedBy:"predicate"})}L&&c(M,v,m,E)}}}finally{_=Pk}return k},startListening:o,stopListening:l,clearListeners:d}};function Fr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var XB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},UR=Gr({name:"chartLayout",initialState:XB,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:QB,setLayout:ZB,setChartSize:JB,setScale:eq}=UR.actions,tq=UR.reducer;function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){nq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nq(t,e,n){return(e=rq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rq(t){var e=iq(t,"string");return typeof e=="symbol"?e:e+""}function iq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ym=Math.PI/180,aq=t=>t*180/Math.PI,qn=(t,e,n,r)=>({x:t+Math.cos(-Ym*r)*n,y:e+Math.sin(-Ym*r)*n}),sq=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},oq=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return Math.sqrt((n-a)**2+(r-o)**2)},lq=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:o}=e,l=oq({x:n,y:r},{x:a,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-a)/l,d=Math.acos(c);return r>o&&(d=2*Math.PI-d),{radius:l,angle:aq(d),angleInRadian:d}},uq=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:e-o*360,endAngle:n-o*360}},cq=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(a,o);return t+l*360},fq=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:o}=lq({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(a<l||a>c||a===0)return null;var{startAngle:d,endAngle:h}=uq(e),m=o,y;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}return y?Vk(Vk({},e),{},{radius:a,angle:cq(m,e)}):null};function zR(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){dq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dq(t,e,n){return(e=hq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hq(t){var e=mq(t,"string");return typeof e=="symbol"?e:e+""}function mq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mr(t,e,n){return $n(t)||$n(e)?n:hi(e)?Vg(t,e,n):typeof e=="function"?e(t):n}var gq=(t,e,n,r,a)=>{var o,l=-1,c=(o=e?.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var h=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,y=d>=c-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(fi(m-h)!==fi(y-m)){var _=[];if(fi(y-m)===fi(a[1]-a[0])){v=y;var E=m+a[1]-a[0];_[0]=Math.min(E,(E+h)/2),_[1]=Math.max(E,(E+h)/2)}else{v=h;var k=y+a[1]-a[0];_[0]=Math.min(m,(k+m)/2),_[1]=Math.max(m,(k+m)/2)}var T=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>T[0]&&t<=T[1]||t>=_[0]&&t<=_[1]){({index:l}=n[d]);break}}else{var I=Math.min(h,y),M=Math.max(h,y);if(t>(I+m)/2&&t<=(M+m)/2){({index:l}=n[d]);break}}}else if(e){for(var L=0;L<c;L++)if(L===0&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L>0&&L<c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L===c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2){({index:l}=e[L]);break}}return l},pq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Oe(t[o]))return li(li({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Oe(t[l]))return li(li({},t),{},{[l]:t[l]+(a||0)})}return t},Ja=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",BR=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var a,o,l=t.map(c=>(c.coordinate===e&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate));return a||l.push(e),o||l.push(n),l},qR=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:o,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:m,ticks:y,niceTicks:v,axisType:_}=t;if(!l)return null;var E=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=a==="category"&&l.bandwidth?l.bandwidth()/E:0;if(k=_==="angleAxis"&&o&&o.length>=2?fi(o[0]-o[1])*2*k:k,y||v){var T=(y||v||[]).map((I,M)=>{var L=r?r.indexOf(I):I;return{coordinate:l(L)+k,value:I,offset:k,index:M}});return T.filter(I=>!gr(I.coordinate))}return d&&h?h.map((I,M)=>({coordinate:l(I)+k,value:I,index:M,offset:k})):l.ticks&&m!=null?l.ticks(m).map((I,M)=>({coordinate:l(I)+k,value:I,offset:k,index:M})):l.domain().map((I,M)=>({coordinate:l(I)+k,value:r?r[I]:I,index:M,offset:k}))},zk=1e-4,yq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-zk,o=Math.max(r[0],r[1])+zk,l=t(e[0]),c=t(e[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([e[0],e[n-1]])}},vq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0,l=0;l<e;++l){var c=gr(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},bq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0;o<e;++o){var l=gr(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},xq={sign:vq,expand:l8,none:Nu,silhouette:u8,wiggle:c8,positive:bq},_q=(t,e,n)=>{var r=xq[n],a=o8().keys(e).value((o,l)=>+mr(o,l,0)).order(Ab).offset(r);return a(t)};function wq(t){return t==null?void 0:String(t)}function Bk(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$n(a[e.dataKey])){var c=zI(n,"value",a[e.dataKey]);if(c)return c.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var d=mr(a,$n(l)?e.dataKey:l);return $n(d)?null:e.scale(d)}var Eq=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},Tq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Sq=(t,e,n)=>{if(t!=null)return Tq(Object.keys(t).reduce((r,a)=>{var o=t[a],{stackedData:l}=o,c=l.reduce((d,h)=>{var m=zR(h,e,n),y=Eq(m);return[Math.min(d[0],y[0]),Math.max(d[1],y[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},qk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$k=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mb=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=Bg(e,m=>m.coordinate),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],h=a[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Fk(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:o}=t;return li(li({},e),{},{dataKey:n,payload:r,value:a,name:o})}function $R(t,e){if(t)return String(t);if(typeof e=="string")return e}function Aq(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var o=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return o?{x:t,y:e}:null}return r?fq({x:t,y:e},r):null}var kq=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,{radius:l}=r;return li(li(li({},r),qn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,{angle:d}=r;return li(li(li({},r),qn(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},Cq=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,es=t=>t.layout.width,ts=t=>t.layout.height,Oq=t=>t.layout.scale,FR=t=>t.layout.margin,Gg=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Yg=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Nq="data-recharts-item-index",Iq="data-recharts-item-data-key",ud=60;function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){Rq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rq(t,e,n){return(e=Dq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dq(t){var e=Pq(t,"string");return typeof e=="symbol"?e:e+""}function Pq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mq=t=>t.brush.height;function jq(t){var e=Yg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:ud;return n+a}return n},0)}function Lq(t){var e=Yg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:ud;return n+a}return n},0)}function Vq(t){var e=Gg(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Uq(t){var e=Gg(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Kn=te([es,ts,FR,Mq,jq,Lq,Vq,Uq,gR,nB],(t,e,n,r,a,o,l,c,d,h)=>{var m={left:(n.left||0)+a,right:(n.right||0)+o},y={top:(n.top||0)+l,bottom:(n.bottom||0)+c},v=Kh(Kh({},y),m),_=v.bottom;v.bottom+=r,v=pq(v,d,h);var E=t-v.left-v.right,k=e-v.top-v.bottom;return Kh(Kh({brushBottom:_},v),{},{width:Math.max(E,0),height:Math.max(k,0)})}),zq=te(Kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),HR=te(es,ts,(t,e)=>({x:0,y:0,width:t,height:e})),Bq=C.createContext(null),Yr=()=>C.useContext(Bq)!=null,Wg=t=>t.brush,Xg=te([Wg,Kn,FR],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),Qg=()=>{var t,e=Yr(),n=ke(zq),r=ke(Xg),a=(t=ke(Wg))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},qq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},KR=()=>{var t;return(t=ke(Kn))!==null&&t!==void 0?t:qq},GR=()=>ke(es),YR=()=>ke(ts),Nt=t=>t.layout.layoutType,x_=()=>ke(Nt),$q={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WR=Gr({name:"legend",initialState:$q,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ba(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:ste,setLegendSettings:ote,addLegendPayload:Fq,removeLegendPayload:Hq}=WR.actions,Kq=WR.reducer;function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(null,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Gq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gq(t,e,n){return(e=Yq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yq(t){var e=Wq(t,"string");return typeof e=="symbol"?e:e+""}function Wq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xq(t){return Array.isArray(t)&&hi(t[0])&&hi(t[1])?t.join(" ~ "):t}var Qq=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:o,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:h,label:m,labelFormatter:y,accessibilityLayer:v=!1}=t,_=()=>{if(o&&o.length){var q={padding:0,margin:0},F=(c?Bg(o,c):o).map((R,O)=>{if(R.type==="none")return null;var D=R.formatter||l||Xq,{value:U,name:P}=R,B=U,V=P;if(D){var pe=D(U,P,R,O,o);if(Array.isArray(pe))[B,V]=pe;else if(pe!=null)B=pe;else return null}var Ee=w0({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Ee},hi(V)?C.createElement("span",{className:"recharts-tooltip-item-name"},V):null,hi(V)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},B),C.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:q},F)}return null},E=w0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),k=w0({margin:0},a),T=!$n(m),I=T?m:"",M=Ot("recharts-default-tooltip",d),L=Ot("recharts-tooltip-label",h);T&&y&&o!==void 0&&o!==null&&(I=y(m,o));var z=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",jb({className:M,style:E},z),C.createElement("p",{className:L,style:k},C.isValidElement(I)?I:"".concat(I)),_())},rf="recharts-tooltip-wrapper",Zq={visibility:"hidden"};function Jq(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ot(rf,{["".concat(rf,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(rf,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(rf,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(rf,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function Gk(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:o,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:h}=t;if(o&&Oe(o[r]))return o[r];var m=n[r]-c-(a>0?a:0),y=n[r]+a;if(e[r])return l[r]?m:y;var v=d[r];if(v==null)return 0;if(l[r]){var _=m,E=v;return _<E?Math.max(y,v):Math.max(m,v)}if(h==null)return 0;var k=y+c,T=v+h;return k>T?Math.max(m,v):Math.max(y,v)}function e$(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function t$(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,h,m,y;return l.height>0&&l.width>0&&n?(m=Gk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),y=Gk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=e$({translateX:m,translateY:y,useTranslate3d:c})):h=Zq,{cssProperties:h,cssClasses:Jq({translateX:m,translateY:y,coordinate:n})}}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lb(t,e,n){return(e=n$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=r$(t,"string");return typeof e=="symbol"?e:e+""}function r$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class i$ extends C.PureComponent{constructor(){super(...arguments),Lb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Lb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:o,coordinate:l,hasPayload:c,isAnimationActive:d,offset:h,position:m,reverseDirection:y,useTranslate3d:v,viewBox:_,wrapperStyle:E,lastBoundingBox:k,innerRef:T,hasPortalFromProps:I}=this.props,{cssClasses:M,cssProperties:L}=t$({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:m,reverseDirection:y,tooltipBox:{height:k.height,width:k.width},useTranslate3d:v,viewBox:_}),z=I?{}:Gh(Gh({transition:d&&e?"transform ".concat(r,"ms ").concat(a):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),q=Gh(Gh({},z),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:q,ref:T},o)}}var a$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ku={devToolsEnabled:!1,isSsr:a$()},XR=()=>ke(t=>t.rootProps.accessibilityLayer);function pr(t){return Number.isFinite(t)}function Wm(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(null,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){s$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s$(t,e,n){return(e=o$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=l$(t,"string");return typeof e=="symbol"?e:e+""}function l$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qk={curveBasisClosed:X7,curveBasisOpen:Q7,curveBasis:W7,curveBumpX:G7,curveBumpY:Y7,curveLinearClosed:Z7,curveLinear:Ug,curveMonotoneX:J7,curveMonotoneY:e8,curveNatural:t8,curveStep:n8,curveStepAfter:i8,curveStepBefore:r8},Yh=t=>pr(t.x)&&pr(t.y),af=t=>t.x,sf=t=>t.y,u$=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(l_(t));return(n==="curveMonotone"||n==="curveBump")&&e?Qk["".concat(n).concat(e==="vertical"?"Y":"X")]:Qk[n]||Ug},c$=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:o=!1}=t,l=u$(e,a),c=o?n.filter(Yh):n,d;if(Array.isArray(r)){var h=o?r.filter(y=>Yh(y)):r,m=c.map((y,v)=>Xk(Xk({},y),{},{base:h[v]}));return a==="vertical"?d=zh().y(sf).x1(af).x0(y=>y.base.x):d=zh().x(af).y1(sf).y0(y=>y.base.y),d.defined(Yh).curve(l),d(m)}return a==="vertical"&&Oe(r)?d=zh().y(sf).x1(af).x0(r):Oe(r)?d=zh().x(af).y1(sf).y0(r):d=WI().x(af).y(sf),d.defined(Yh).curve(l),d(c)},gm=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?c$(t):r;return C.createElement("path",Vb({},uo(t),c_(t),{className:Ot("recharts-curve",e),d:o===null?void 0:o,ref:a}))},f$=["x","y","top","left","width","height","className"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function d$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){h$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h$(t,e,n){return(e=m$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m$(t){var e=g$(t,"string");return typeof e=="symbol"?e:e+""}function g$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p$(t,e){if(t==null)return{};var n,r,a=y$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function y$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var v$=(t,e,n,r,a,o)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),b$=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:o=0,height:l=0,className:c}=t,d=p$(t,f$),h=d$({x:e,y:n,top:r,left:a,width:o,height:l},d);return!Oe(e)||!Oe(n)||!Oe(o)||!Oe(l)||!Oe(r)||!Oe(a)?null:C.createElement("path",Ub({},Hn(h,!0),{className:Ot("recharts-cross",c),d:v$(e,n,o,l,r,a)}))};function x$(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){w$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w$(t,e,n){return(e=E$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=T$(t,"string");return typeof e=="symbol"?e:e+""}function T$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pi(t,e){var n=_$({},t),r=e,a=Object.keys(e),o=a.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}function S$(){}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){A$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A$(t,e,n){return(e=k$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$(t){var e=C$(t,"string");return typeof e=="symbol"?e:e+""}function C$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O$=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),N$=(t,e,n)=>t.map(r=>"".concat(O$(r)," ").concat(e,"ms ").concat(n)).join(","),I$=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),$f=(t,e)=>Object.keys(e).reduce((n,r)=>t2(t2({},n),{},{[r]:t(r,e[r])}),{});function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){R$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R$(t,e,n){return(e=D$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D$(t){var e=P$(t,"string");return typeof e=="symbol"?e:e+""}function P$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xm=(t,e,n)=>t+(e-t)*n,zb=t=>{var{from:e,to:n}=t;return e!==n},QR=(t,e,n)=>{var r=$f((a,o)=>{if(zb(o)){var[l,c]=t(o.from,o.to,o.velocity);return zn(zn({},o),{},{from:l,velocity:c})}return o},e);return n<1?$f((a,o)=>zb(o)?zn(zn({},o),{},{velocity:Xm(o.velocity,r[a].velocity,n),from:Xm(o.from,r[a].from,n)}):o,e):QR(t,r,n-1)};function M$(t,e,n,r,a,o){var l,c=r.reduce((v,_)=>zn(zn({},v),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>$f((v,_)=>_.from,c),h=()=>!Object.values(c).filter(zb).length,m=null,y=v=>{l||(l=v);var _=v-l,E=_/n.dt;c=QR(n,c,E),a(zn(zn(zn({},t),e),d())),l=v,h()||(m=o.setTimeout(y))};return()=>(m=o.setTimeout(y),()=>{m()})}function j$(t,e,n,r,a,o,l){var c=null,d=a.reduce((y,v)=>zn(zn({},y),{},{[v]:[t[v],e[v]]}),{}),h,m=y=>{h||(h=y);var v=(y-h)/r,_=$f((k,T)=>Xm(...T,n(v)),d);if(o(zn(zn(zn({},t),e),_)),v<1)c=l.setTimeout(m);else{var E=$f((k,T)=>Xm(...T,n(1)),d);o(zn(zn(zn({},t),e),E))}};return()=>(c=l.setTimeout(m),()=>{c()})}const L$=(t,e,n,r,a,o)=>{var l=I$(t,e);return n.isStepper===!0?M$(t,e,n,l,a,o):j$(t,e,n,r,l,a,o)};var Qm=1e-4,ZR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],JR=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),r2=(t,e)=>n=>{var r=ZR(t,e);return JR(r,n)},V$=(t,e)=>n=>{var r=ZR(t,e),a=[...r.map((o,l)=>o*l).slice(1),0];return JR(a,n)},i2=function(){for(var e,n,r,a,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,r,n,a]=d[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else l.length===4&&([e,r,n,a]=l);var h=r2(e,n),m=r2(r,a),y=V$(e,n),v=E=>E>1?1:E<0?0:E,_=E=>{for(var k=E>1?1:E,T=k,I=0;I<8;++I){var M=h(T)-k,L=y(T);if(Math.abs(M-k)<Qm||L<Qm)return m(T);T=v(T-M/L)}return m(T)};return _.isStepper=!1,_},U$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,o=(l,c,d)=>{var h=-(l-c)*n,m=d*r,y=d+(h-m)*a/1e3,v=d*a/1e3+l;return Math.abs(v-c)<Qm&&Math.abs(y)<Qm?[c,0]:[v,y]};return o.isStepper=!0,o.dt=a,o},z$=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i2(t);case"spring":return U$();default:if(t.split("(")[0]==="cubic-bezier")return i2(t)}return typeof t=="function"?t:null};function B$(t){var e,n=()=>null,r=!1,a=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...h]=c;if(typeof d=="number"){a=t.setTimeout(o.bind(null,h),d);return}o(d),a=t.setTimeout(o.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class q${setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}function $$(){return B$(new q$)}var F$=C.createContext($$);function H$(t,e){var n=C.useContext(F$);return C.useMemo(()=>e??n(t),[t,e,n])}var K$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},a2={t:0},E0={t:1};function eD(t){var e=pi(t,K$),{isActive:n,canBegin:r,duration:a,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:d,children:h}=e,m=H$(e.animationId,e.animationManager),[y,v]=C.useState(n?a2:E0),_=C.useRef(null);return C.useEffect(()=>{n||v(E0)},[n]),C.useEffect(()=>{if(!n||!r)return S$;var E=L$(a2,E0,z$(o),a,v,m.getTimeoutController()),k=()=>{_.current=E()};return m.start([d,l,k,a,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,a,o,l,d,c,m]),h(y.t)}function tD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(zf(e)),r=C.useRef(t);return r.current!==t&&(n.current=zf(e),r.current=t),n.current}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function o2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){G$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G$(t,e,n){return(e=Y$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y$(t){var e=W$(t,"string");return typeof e=="symbol"?e:e+""}function W$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(null,arguments)}var l2=(t,e,n,r,a)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,v=4;y<v;y++)m[y]=a[y]>o?o:a[y];h="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(e)),h+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*m[1])),h+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),h+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*m[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);h="M ".concat(t,",").concat(e+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*_,`
            L `).concat(t+n,",").concat(e+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*_," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},X$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q$=t=>{var e=pi(t,X$),n=C.useRef(null),[r,a]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var pe=n.current.getTotalLength();pe&&a(pe)}catch{}},[]);var{x:o,y:l,width:c,height:d,radius:h,className:m}=e,{animationEasing:y,animationDuration:v,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:k}=e,T=C.useRef(c),I=C.useRef(d),M=C.useRef(o),L=C.useRef(l),z=C.useMemo(()=>({x:o,y:l,width:c,height:d,radius:h}),[o,l,c,d,h]),q=tD(z,"rectangle-");if(o!==+o||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var F=Ot("recharts-rectangle",m);if(!k)return C.createElement("path",Zm({},Hn(e,!0),{className:F,d:l2(o,l,c,d,h)}));var R=T.current,O=I.current,D=M.current,U=L.current,P="0px ".concat(r===-1?1:r,"px"),B="".concat(r,"px 0px"),V=N$(["strokeDasharray"],v,typeof y=="string"?y:void 0);return C.createElement(eD,{animationId:q,key:q,canBegin:r>0,duration:v,easing:y,isActive:k,begin:_},pe=>{var Ee=Wi(R,c,pe),Q=Wi(O,d,pe),ue=Wi(D,o,pe),ge=Wi(U,l,pe);n.current&&(T.current=Ee,I.current=Q,M.current=ue,L.current=ge);var Ae;return E?pe>0?Ae={transition:V,strokeDasharray:B}:Ae={strokeDasharray:P}:Ae={strokeDasharray:B},C.createElement("path",Zm({},Hn(e,!0),{className:F,d:l2(ue,ge,Ee,Q,h),ref:n,style:o2(o2({},Ae),e.style)}))})};function nD(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:o}=t,l=qn(e,n,r,a),c=qn(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:a,endAngle:o}}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(null,arguments)}var Z$=(t,e)=>{var n=fi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Wh=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,h=c*(l?1:-1)+r,m=Math.asin(c/h)/Ym,y=d?a:a+o*m,v=qn(e,n,h,y),_=qn(e,n,r,y),E=d?a-o*m:a,k=qn(e,n,h*Math.cos(m*Ym),E);return{center:v,circleTangency:_,lineTangency:k,theta:m}},rD=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:o,endAngle:l}=t,c=Z$(o,l),d=o+c,h=qn(e,n,a,o),m=qn(e,n,a,d),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=qn(e,n,r,o),_=qn(e,n,r,d);y+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},J$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}=t,m=fi(h-d),{circleTangency:y,lineTangency:v,theta:_}=Wh({cx:e,cy:n,radius:a,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),{circleTangency:E,lineTangency:k,theta:T}=Wh({cx:e,cy:n,radius:a,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:c}),I=c?Math.abs(d-h):Math.abs(d-h)-_-T;if(I<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rD({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:d,endAngle:h});var M="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(r>0){var{circleTangency:L,lineTangency:z,theta:q}=Wh({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:F,lineTangency:R,theta:O}=Wh({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=c?Math.abs(d-h):Math.abs(d-h)-q-O;if(D<0&&o===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(z.x,",").concat(z.y,"Z")}else M+="L".concat(e,",").concat(n,"Z");return M},eF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tF=t=>{var e=pi(t,eF),{cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m,className:y}=e;if(o<a||h===m)return null;var v=Ot("recharts-sector",y),_=o-a,E=ao(l,_,0,!0),k;return E>0&&Math.abs(h-m)<360?k=J$({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(E,_/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):k=rD({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:h,endAngle:m}),C.createElement("path",Bb({},Hn(e,!0),{className:v,d:k}))};function nF(t,e,n){var r,a,o,l;if(t==="horizontal")r=e.x,o=r,a=n.top,l=n.top+n.height;else if(t==="vertical")a=e.y,l=a,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:d,innerRadius:h,outerRadius:m,angle:y}=e,v=qn(c,d,h,y),_=qn(c,d,m,y);r=v.x,a=v.y,o=_.x,l=_.y}else return nD(e);return[{x:r,y:a},{x:o,y:l}]}var T0={},S0={},A0={},u2;function rF(){return u2||(u2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hR();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(A0)),A0}var c2;function iF(){return c2||(c2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rF();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(S0)),S0}var f2;function aF(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mR(),n=iF();function r(a,o,l){l&&typeof l!="number"&&e.isIterateeCall(a,o,l)&&(o=l=void 0),a=n.toFinite(a),o===void 0?(o=a,a=0):o=n.toFinite(o),l=l===void 0?a<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-a)/(l||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=a,a+=l;return d}t.range=r})(T0)),T0}var k0,d2;function sF(){return d2||(d2=1,k0=aF().range),k0}var oF=sF();const iD=oo(oF);function Qs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lF(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function __(t){let e,n,r;t.length!==2?(e=Qs,n=(c,d)=>Qs(t(c),d),r=(c,d)=>t(c)-d):(e=t===Qs||t===lF?t:uF,n=t,r=t);function a(c,d,h=0,m=c.length){if(h<m){if(e(d,d)!==0)return m;do{const y=h+m>>>1;n(c[y],d)<0?h=y+1:m=y}while(h<m)}return h}function o(c,d,h=0,m=c.length){if(h<m){if(e(d,d)!==0)return m;do{const y=h+m>>>1;n(c[y],d)<=0?h=y+1:m=y}while(h<m)}return h}function l(c,d,h=0,m=c.length){const y=a(c,d,h,m-1);return y>h&&r(c[y-1],d)>-r(c[y],d)?y-1:y}return{left:a,center:l,right:o}}function uF(){return 0}function aD(t){return t===null?NaN:+t}function*cF(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const fF=__(Qs),cd=fF.right;__(aD).center;class h2 extends Map{constructor(e,n=mF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(m2(this,e))}has(e){return super.has(m2(this,e))}set(e,n){return super.set(dF(this,e),n)}delete(e){return super.delete(hF(this,e))}}function m2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function dF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hF({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function mF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gF(t=Qs){if(t===Qs)return sD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const pF=Math.sqrt(50),yF=Math.sqrt(10),vF=Math.sqrt(2);function Jm(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),l=o>=pF?10:o>=yF?5:o>=vF?2:1;let c,d,h;return a<0?(h=Math.pow(10,-a)/l,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*l,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=n&&n<2?Jm(t,e,n*2):[c,d,h]}function qb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,o,l]=r?Jm(e,t,n):Jm(t,e,n);if(!(o>=a))return[];const c=o-a+1,d=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)d[h]=(o-h)/-l;else for(let h=0;h<c;++h)d[h]=(o-h)*l;else if(l<0)for(let h=0;h<c;++h)d[h]=(a+h)/-l;else for(let h=0;h<c;++h)d[h]=(a+h)*l;return d}function $b(t,e,n){return e=+e,t=+t,n=+n,Jm(t,e,n)[2]}function Fb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?$b(e,t,n):$b(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function g2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function p2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oD(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?sD:gF(a);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,m=Math.log(d),y=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*y*(d-y)/d)*(h-d/2<0?-1:1),_=Math.max(n,Math.floor(e-h*y/d+v)),E=Math.min(r,Math.floor(e+(d-h)*y/d+v));oD(t,e,_,E,a)}const o=t[e];let l=n,c=r;for(of(t,n,e),a(t[r],o)>0&&of(t,n,r);l<c;){for(of(t,l,c),++l,--c;a(t[l],o)<0;)++l;for(;a(t[c],o)>0;)--c}a(t[n],o)===0?of(t,n,c):(++c,of(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function of(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function bF(t,e,n){if(t=Float64Array.from(cF(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return p2(t);if(e>=1)return g2(t);var r,a=(r-1)*e,o=Math.floor(a),l=g2(oD(t,o).subarray(0,o+1)),c=p2(t.subarray(o+1));return l+(c-l)*(a-o)}}function xF(t,e,n=aD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,o=Math.floor(a),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(a-o)}}function _F(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(a);++r<a;)o[r]=t+r*n;return o}function yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ns(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Hb=Symbol("implicit");function w_(){var t=new h2,e=[],n=[],r=Hb;function a(o){let l=t.get(o);if(l===void 0){if(r!==Hb)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new h2;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return w_(e,n).unknown(r)},yi.apply(a,arguments),a}function E_(){var t=w_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,o,l,c=!1,d=0,h=0,m=.5;delete t.unknown;function y(){var v=e().length,_=a<r,E=_?a:r,k=_?r:a;o=(k-E)/Math.max(1,v-d+h*2),c&&(o=Math.floor(o)),E+=(k-E-o*(v-d))*m,l=o*(1-d),c&&(E=Math.round(E),l=Math.round(l));var T=_F(v).map(function(I){return E+o*I});return n(_?T.reverse():T)}return t.domain=function(v){return arguments.length?(e(v),y()):e()},t.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,y()):[r,a]},t.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,c=!0,y()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(v){return arguments.length?(c=!!v,y()):c},t.padding=function(v){return arguments.length?(d=Math.min(1,h=+v),y()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),y()):d},t.paddingOuter=function(v){return arguments.length?(h=+v,y()):h},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),y()):m},t.copy=function(){return E_(e(),[r,a]).round(c).paddingInner(d).paddingOuter(h).align(m)},yi.apply(y(),arguments)}function lD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lD(e())},t}function wF(){return lD(E_.apply(null,arguments).paddingInner(1))}function T_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fd(){}var Ff=.7,eg=1/Ff,_u="\\s*([+-]?\\d+)\\s*",Hf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EF=/^#([0-9a-f]{3,8})$/,TF=new RegExp(`^rgb\\(${_u},${_u},${_u}\\)$`),SF=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)$`),AF=new RegExp(`^rgba\\(${_u},${_u},${_u},${Hf}\\)$`),kF=new RegExp(`^rgba\\(${ra},${ra},${ra},${Hf}\\)$`),CF=new RegExp(`^hsl\\(${Hf},${ra},${ra}\\)$`),OF=new RegExp(`^hsla\\(${Hf},${ra},${ra},${Hf}\\)$`),y2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T_(fd,Kf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v2,formatHex:v2,formatHex8:NF,formatHsl:IF,formatRgb:b2,toString:b2});function v2(){return this.rgb().formatHex()}function NF(){return this.rgb().formatHex8()}function IF(){return cD(this).formatHsl()}function b2(){return this.rgb().formatRgb()}function Kf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EF.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?x2(e):n===3?new Tr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TF.exec(t))?new Tr(e[1],e[2],e[3],1):(e=SF.exec(t))?new Tr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=AF.exec(t))?Xh(e[1],e[2],e[3],e[4]):(e=kF.exec(t))?Xh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=CF.exec(t))?E2(e[1],e[2]/100,e[3]/100,1):(e=OF.exec(t))?E2(e[1],e[2]/100,e[3]/100,e[4]):y2.hasOwnProperty(t)?x2(y2[t]):t==="transparent"?new Tr(NaN,NaN,NaN,0):null}function x2(t){return new Tr(t>>16&255,t>>8&255,t&255,1)}function Xh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tr(t,e,n,r)}function RF(t){return t instanceof fd||(t=Kf(t)),t?(t=t.rgb(),new Tr(t.r,t.g,t.b,t.opacity)):new Tr}function Kb(t,e,n,r){return arguments.length===1?RF(t):new Tr(t,e,n,r??1)}function Tr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}T_(Tr,Kb,uD(fd,{brighter(t){return t=t==null?eg:Math.pow(eg,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tr(al(this.r),al(this.g),al(this.b),tg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_2,formatHex:_2,formatHex8:DF,formatRgb:w2,toString:w2}));function _2(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}`}function DF(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}${Jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function w2(){const t=tg(this.opacity);return`${t===1?"rgb(":"rgba("}${al(this.r)}, ${al(this.g)}, ${al(this.b)}${t===1?")":`, ${t})`}`}function tg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function al(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jo(t){return t=al(t),(t<16?"0":"")+t.toString(16)}function E2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ii(t,e,n,r)}function cD(t){if(t instanceof Ii)return new Ii(t.h,t.s,t.l,t.opacity);if(t instanceof fd||(t=Kf(t)),!t)return new Ii;if(t instanceof Ii)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-a,d=(o+a)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?o+a:2-o-a,l*=60):c=d>0&&d<1?0:l,new Ii(l,c,d,t.opacity)}function PF(t,e,n,r){return arguments.length===1?cD(t):new Ii(t,e,n,r??1)}function Ii(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}T_(Ii,PF,uD(fd,{brighter(t){return t=t==null?eg:Math.pow(eg,t),new Ii(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new Ii(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Tr(C0(t>=240?t-240:t+120,a,r),C0(t,a,r),C0(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ii(T2(this.h),Qh(this.s),Qh(this.l),tg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tg(this.opacity);return`${t===1?"hsl(":"hsla("}${T2(this.h)}, ${Qh(this.s)*100}%, ${Qh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function T2(t){return t=(t||0)%360,t<0?t+360:t}function Qh(t){return Math.max(0,Math.min(1,t||0))}function C0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const S_=t=>()=>t;function MF(t,e){return function(n){return t+n*e}}function jF(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function LF(t){return(t=+t)==1?fD:function(e,n){return n-e?jF(e,n,t):S_(isNaN(e)?n:e)}}function fD(t,e){var n=e-t;return n?MF(t,n):S_(isNaN(t)?e:t)}const S2=(function t(e){var n=LF(e);function r(a,o){var l=n((a=Kb(a)).r,(o=Kb(o)).r),c=n(a.g,o.g),d=n(a.b,o.b),h=fD(a.opacity,o.opacity);return function(m){return a.r=l(m),a.g=c(m),a.b=d(m),a.opacity=h(m),a+""}}return r.gamma=t,r})(1);function VF(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=t[a]*(1-o)+e[a]*o;return r}}function UF(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zF(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)a[l]=Gu(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=a[l](c);return o}}function BF(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ng(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qF(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Gu(t[a],e[a]):r[a]=e[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var Gb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O0=new RegExp(Gb.source,"g");function $F(t){return function(){return t}}function FF(t){return function(e){return t(e)+""}}function HF(t,e){var n=Gb.lastIndex=O0.lastIndex=0,r,a,o,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=Gb.exec(t))&&(a=O0.exec(e));)(o=a.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:ng(r,a)})),n=O0.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?d[0]?FF(d[0].x):$F(e):(e=d.length,function(h){for(var m=0,y;m<e;++m)c[(y=d[m]).i]=y.x(h);return c.join("")})}function Gu(t,e){var n=typeof e,r;return e==null||n==="boolean"?S_(e):(n==="number"?ng:n==="string"?(r=Kf(e))?(e=r,S2):HF:e instanceof Kf?S2:e instanceof Date?BF:UF(e)?VF:Array.isArray(e)?zF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qF:ng)(t,e)}function A_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function KF(t,e){e===void 0&&(e=t,t=Gu);for(var n=0,r=e.length-1,a=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(a,a=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function GF(t){return function(){return t}}function rg(t){return+t}var A2=[0,1];function hr(t){return t}function Yb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:GF(isNaN(e)?NaN:.5)}function YF(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function WF(t,e,n){var r=t[0],a=t[1],o=e[0],l=e[1];return a<r?(r=Yb(a,r),o=n(l,o)):(r=Yb(r,a),o=n(o,l)),function(c){return o(r(c))}}function XF(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=Yb(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var d=cd(t,c,1,r)-1;return o[d](a[d](c))}}function dd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zg(){var t=A2,e=A2,n=Gu,r,a,o,l=hr,c,d,h;function m(){var v=Math.min(t.length,e.length);return l!==hr&&(l=YF(t[0],t[v-1])),c=v>2?XF:WF,d=h=null,y}function y(v){return v==null||isNaN(v=+v)?o:(d||(d=c(t.map(r),e,n)))(r(l(v)))}return y.invert=function(v){return l(a((h||(h=c(e,t.map(r),ng)))(v)))},y.domain=function(v){return arguments.length?(t=Array.from(v,rg),m()):t.slice()},y.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},y.rangeRound=function(v){return e=Array.from(v),n=A_,m()},y.clamp=function(v){return arguments.length?(l=v?!0:hr,m()):l!==hr},y.interpolate=function(v){return arguments.length?(n=v,m()):n},y.unknown=function(v){return arguments.length?(o=v,y):o},function(v,_){return r=v,a=_,m()}}function k_(){return Zg()(hr,hr)}function QF(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ig(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ru(t){return t=ig(Math.abs(t)),t?t[1]:NaN}function ZF(t,e){return function(n,r){for(var a=n.length,o=[],l=0,c=t[0],d=0;a>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),o.push(n.substring(a-=c,a+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function JF(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var eH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gf(t){if(!(e=eH.exec(t)))throw new Error("invalid format: "+t);var e;return new C_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gf.prototype=C_.prototype;function C_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}C_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tH(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var dD;function nH(t,e){var n=ig(t,e);if(!n)return t+"";var r=n[0],a=n[1],o=a-(dD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ig(t,Math.max(0,e+o-1))[0]}function k2(t,e){var n=ig(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const C2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:QF,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>k2(t*100,e),r:k2,s:nH,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function O2(t){return t}var N2=Array.prototype.map,I2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function rH(t){var e=t.grouping===void 0||t.thousands===void 0?O2:ZF(N2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?O2:JF(N2.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(y){y=Gf(y);var v=y.fill,_=y.align,E=y.sign,k=y.symbol,T=y.zero,I=y.width,M=y.comma,L=y.precision,z=y.trim,q=y.type;q==="n"?(M=!0,q="g"):C2[q]||(L===void 0&&(L=12),z=!0,q="g"),(T||v==="0"&&_==="=")&&(T=!0,v="0",_="=");var F=k==="$"?n:k==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",R=k==="$"?r:/[%p]/.test(q)?l:"",O=C2[q],D=/[defgprs%]/.test(q);L=L===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function U(P){var B=F,V=R,pe,Ee,Q;if(q==="c")V=O(P)+V,P="";else{P=+P;var ue=P<0||1/P<0;if(P=isNaN(P)?d:O(Math.abs(P),L),z&&(P=tH(P)),ue&&+P==0&&E!=="+"&&(ue=!1),B=(ue?E==="("?E:c:E==="-"||E==="("?"":E)+B,V=(q==="s"?I2[8+dD/3]:"")+V+(ue&&E==="("?")":""),D){for(pe=-1,Ee=P.length;++pe<Ee;)if(Q=P.charCodeAt(pe),48>Q||Q>57){V=(Q===46?a+P.slice(pe+1):P.slice(pe))+V,P=P.slice(0,pe);break}}}M&&!T&&(P=e(P,1/0));var ge=B.length+P.length+V.length,Ae=ge<I?new Array(I-ge+1).join(v):"";switch(M&&T&&(P=e(Ae+P,Ae.length?I-V.length:1/0),Ae=""),_){case"<":P=B+P+V+Ae;break;case"=":P=B+Ae+P+V;break;case"^":P=Ae.slice(0,ge=Ae.length>>1)+B+P+V+Ae.slice(ge);break;default:P=Ae+B+P+V;break}return o(P)}return U.toString=function(){return y+""},U}function m(y,v){var _=h((y=Gf(y),y.type="f",y)),E=Math.max(-8,Math.min(8,Math.floor(Ru(v)/3)))*3,k=Math.pow(10,-E),T=I2[8+E/3];return function(I){return _(k*I)+T}}return{format:h,formatPrefix:m}}var Zh,O_,hD;iH({thousands:",",grouping:[3],currency:["$",""]});function iH(t){return Zh=rH(t),O_=Zh.format,hD=Zh.formatPrefix,Zh}function aH(t){return Math.max(0,-Ru(Math.abs(t)))}function sH(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ru(e)/3)))*3-Ru(Math.abs(t)))}function oH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ru(e)-Ru(t))+1}function mD(t,e,n,r){var a=Fb(t,e,n),o;switch(r=Gf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=sH(a,l))&&(r.precision=o),hD(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=oH(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=aH(a))&&(r.precision=o-(r.type==="%")*2);break}}return O_(r)}function co(t){var e=t.domain;return t.ticks=function(n){var r=e();return qb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return mD(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,o=r.length-1,l=r[a],c=r[o],d,h,m=10;for(c<l&&(h=l,l=c,c=h,h=a,a=o,o=h);m-- >0;){if(h=$b(l,c,n),h===d)return r[a]=l,r[o]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function gD(){var t=k_();return t.copy=function(){return dd(t,gD())},yi.apply(t,arguments),co(t)}function pD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pD(t).unknown(e)},t=arguments.length?Array.from(t,rg):[0,1],co(n)}function yD(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],o=t[r],l;return o<a&&(l=n,n=r,r=l,l=a,a=o,o=l),t[n]=e.floor(a),t[r]=e.ceil(o),t}function R2(t){return Math.log(t)}function D2(t){return Math.exp(t)}function lH(t){return-Math.log(-t)}function uH(t){return-Math.exp(-t)}function cH(t){return isFinite(t)?+("1e"+t):t<0?0:t}function fH(t){return t===10?cH:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dH(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function P2(t){return(e,n)=>-t(-e,n)}function N_(t){const e=t(R2,D2),n=e.domain;let r=10,a,o;function l(){return a=dH(r),o=fH(r),n()[0]<0?(a=P2(a),o=P2(o),t(lH,uH)):t(R2,D2),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let h=d[0],m=d[d.length-1];const y=m<h;y&&([h,m]=[m,h]);let v=a(h),_=a(m),E,k;const T=c==null?10:+c;let I=[];if(!(r%1)&&_-v<T){if(v=Math.floor(v),_=Math.ceil(_),h>0){for(;v<=_;++v)for(E=1;E<r;++E)if(k=v<0?E/o(-v):E*o(v),!(k<h)){if(k>m)break;I.push(k)}}else for(;v<=_;++v)for(E=r-1;E>=1;--E)if(k=v>0?E/o(-v):E*o(v),!(k<h)){if(k>m)break;I.push(k)}I.length*2<T&&(I=qb(h,m,T))}else I=qb(v,_,Math.min(_-v,T)).map(o);return y?I.reverse():I},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Gf(d)).precision==null&&(d.trim=!0),d=O_(d)),c===1/0)return d;const h=Math.max(1,r*c/e.ticks().length);return m=>{let y=m/o(Math.round(a(m)));return y*r<r-.5&&(y*=r),y<=h?d(m):""}},e.nice=()=>n(yD(n(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),e}function vD(){const t=N_(Zg()).domain([1,10]);return t.copy=()=>dd(t,vD()).base(t.base()),yi.apply(t,arguments),t}function M2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function j2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function I_(t){var e=1,n=t(M2(e),j2(e));return n.constant=function(r){return arguments.length?t(M2(e=+r),j2(e)):e},co(n)}function bD(){var t=I_(Zg());return t.copy=function(){return dd(t,bD()).constant(t.constant())},yi.apply(t,arguments)}function L2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hH(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mH(t){return t<0?-t*t:t*t}function R_(t){var e=t(hr,hr),n=1;function r(){return n===1?t(hr,hr):n===.5?t(hH,mH):t(L2(n),L2(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},co(e)}function D_(){var t=R_(Zg());return t.copy=function(){return dd(t,D_()).exponent(t.exponent())},yi.apply(t,arguments),t}function gH(){return D_.apply(null,arguments).exponent(.5)}function V2(t){return Math.sign(t)*t*t}function pH(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xD(){var t=k_(),e=[0,1],n=!1,r;function a(o){var l=pH(t(o));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(o){return t.invert(V2(o))},a.domain=function(o){return arguments.length?(t.domain(o),a):t.domain()},a.range=function(o){return arguments.length?(t.range((e=Array.from(o,rg)).map(V2)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(t.clamp(o),a):t.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return xD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},yi.apply(a,arguments),co(a)}function _D(){var t=[],e=[],n=[],r;function a(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=xF(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[cd(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Qs),a()},o.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return _D().domain(t).range(e).unknown(r)},yi.apply(o,arguments)}function wD(){var t=0,e=1,n=1,r=[.5],a=[0,1],o;function l(d){return d!=null&&d<=d?a[cd(r,d,0,n)]:o}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return wD().domain([t,e]).range(a).unknown(o)},yi.apply(co(l),arguments)}function ED(){var t=[.5],e=[0,1],n,r=1;function a(o){return o!=null&&o<=o?e[cd(t,o,0,r)]:n}return a.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return ED().domain(t).range(e).unknown(n)},yi.apply(a,arguments)}const N0=new Date,I0=new Date;function _n(t,e,n,r){function a(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(t(o=new Date(+o)),o),a.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const d=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return d;let h;do d.push(h=new Date(+o)),e(o,c),t(o);while(h<o&&o<l);return d},a.filter=o=>_n(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(a.count=(o,l)=>(N0.setTime(+o),I0.setTime(+l),t(N0),t(I0),Math.floor(n(N0,I0))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?l=>r(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const ag=_n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ag.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ag);ag.range;const La=1e3,di=La*60,Va=di*60,Wa=Va*24,P_=Wa*7,U2=Wa*30,R0=Wa*365,el=_n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getUTCSeconds());el.range;const M_=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getMinutes());M_.range;const j_=_n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCMinutes());j_.range;const L_=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La-t.getMinutes()*di)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getHours());L_.range;const V_=_n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getUTCHours());V_.range;const hd=_n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*di)/Wa,t=>t.getDate()-1);hd.range;const Jg=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wa,t=>t.getUTCDate()-1);Jg.range;const TD=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wa,t=>Math.floor(t/Wa));TD.range;function wl(t){return _n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*di)/P_)}const ep=wl(0),sg=wl(1),yH=wl(2),vH=wl(3),Du=wl(4),bH=wl(5),xH=wl(6);ep.range;sg.range;yH.range;vH.range;Du.range;bH.range;xH.range;function El(t){return _n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/P_)}const tp=El(0),og=El(1),_H=El(2),wH=El(3),Pu=El(4),EH=El(5),TH=El(6);tp.range;og.range;_H.range;wH.range;Pu.range;EH.range;TH.range;const U_=_n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());U_.range;const z_=_n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());z_.range;const Xa=_n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xa.range;const Qa=_n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qa.range;function SD(t,e,n,r,a,o){const l=[[el,1,La],[el,5,5*La],[el,15,15*La],[el,30,30*La],[o,1,di],[o,5,5*di],[o,15,15*di],[o,30,30*di],[a,1,Va],[a,3,3*Va],[a,6,6*Va],[a,12,12*Va],[r,1,Wa],[r,2,2*Wa],[n,1,P_],[e,1,U2],[e,3,3*U2],[t,1,R0]];function c(h,m,y){const v=m<h;v&&([h,m]=[m,h]);const _=y&&typeof y.range=="function"?y:d(h,m,y),E=_?_.range(h,+m+1):[];return v?E.reverse():E}function d(h,m,y){const v=Math.abs(m-h)/y,_=__(([,,T])=>T).right(l,v);if(_===l.length)return t.every(Fb(h/R0,m/R0,y));if(_===0)return ag.every(Math.max(Fb(h,m,y),1));const[E,k]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return E.every(k)}return[c,d]}const[SH,AH]=SD(Qa,z_,tp,TD,V_,j_),[kH,CH]=SD(Xa,U_,ep,hd,L_,M_);function D0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function P0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function OH(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,h=uf(a),m=cf(a),y=uf(o),v=cf(o),_=uf(l),E=cf(l),k=uf(c),T=cf(c),I=uf(d),M=cf(d),L={a:ue,A:ge,b:Ae,B:H,c:null,d:H2,e:H2,f:ZH,g:lK,G:cK,H:WH,I:XH,j:QH,L:AD,m:JH,M:eK,p:ie,q:ae,Q:Y2,s:W2,S:tK,u:nK,U:rK,V:iK,w:aK,W:sK,x:null,X:null,y:oK,Y:uK,Z:fK,"%":G2},z={a:he,A:_e,b:Ne,B:Ie,c:null,d:K2,e:K2,f:gK,g:SK,G:kK,H:dK,I:hK,j:mK,L:CD,m:pK,M:yK,p:Gt,q:ot,Q:Y2,s:W2,S:vK,u:bK,U:xK,V:_K,w:wK,W:EK,x:null,X:null,y:TK,Y:AK,Z:CK,"%":G2},q={a:U,A:P,b:B,B:V,c:pe,d:$2,e:$2,f:HH,g:q2,G:B2,H:F2,I:F2,j:BH,L:FH,m:zH,M:qH,p:D,q:UH,Q:GH,s:YH,S:$H,u:PH,U:MH,V:jH,w:DH,W:LH,x:Ee,X:Q,y:q2,Y:B2,Z:VH,"%":KH};L.x=F(n,L),L.X=F(r,L),L.c=F(e,L),z.x=F(n,z),z.X=F(r,z),z.c=F(e,z);function F(me,qe){return function(Ke){var ce=[],wt=-1,rt=0,Yt=me.length,Vt,At,Gn;for(Ke instanceof Date||(Ke=new Date(+Ke));++wt<Yt;)me.charCodeAt(wt)===37&&(ce.push(me.slice(rt,wt)),(At=z2[Vt=me.charAt(++wt)])!=null?Vt=me.charAt(++wt):At=Vt==="e"?" ":"0",(Gn=qe[Vt])&&(Vt=Gn(Ke,At)),ce.push(Vt),rt=wt+1);return ce.push(me.slice(rt,wt)),ce.join("")}}function R(me,qe){return function(Ke){var ce=lf(1900,void 0,1),wt=O(ce,me,Ke+="",0),rt,Yt;if(wt!=Ke.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(qe&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(rt=P0(lf(ce.y,0,1)),Yt=rt.getUTCDay(),rt=Yt>4||Yt===0?og.ceil(rt):og(rt),rt=Jg.offset(rt,(ce.V-1)*7),ce.y=rt.getUTCFullYear(),ce.m=rt.getUTCMonth(),ce.d=rt.getUTCDate()+(ce.w+6)%7):(rt=D0(lf(ce.y,0,1)),Yt=rt.getDay(),rt=Yt>4||Yt===0?sg.ceil(rt):sg(rt),rt=hd.offset(rt,(ce.V-1)*7),ce.y=rt.getFullYear(),ce.m=rt.getMonth(),ce.d=rt.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Yt="Z"in ce?P0(lf(ce.y,0,1)).getUTCDay():D0(lf(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Yt+5)%7:ce.w+ce.U*7-(Yt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,P0(ce)):D0(ce)}}function O(me,qe,Ke,ce){for(var wt=0,rt=qe.length,Yt=Ke.length,Vt,At;wt<rt;){if(ce>=Yt)return-1;if(Vt=qe.charCodeAt(wt++),Vt===37){if(Vt=qe.charAt(wt++),At=q[Vt in z2?qe.charAt(wt++):Vt],!At||(ce=At(me,Ke,ce))<0)return-1}else if(Vt!=Ke.charCodeAt(ce++))return-1}return ce}function D(me,qe,Ke){var ce=h.exec(qe.slice(Ke));return ce?(me.p=m.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function U(me,qe,Ke){var ce=_.exec(qe.slice(Ke));return ce?(me.w=E.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function P(me,qe,Ke){var ce=y.exec(qe.slice(Ke));return ce?(me.w=v.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function B(me,qe,Ke){var ce=I.exec(qe.slice(Ke));return ce?(me.m=M.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function V(me,qe,Ke){var ce=k.exec(qe.slice(Ke));return ce?(me.m=T.get(ce[0].toLowerCase()),Ke+ce[0].length):-1}function pe(me,qe,Ke){return O(me,e,qe,Ke)}function Ee(me,qe,Ke){return O(me,n,qe,Ke)}function Q(me,qe,Ke){return O(me,r,qe,Ke)}function ue(me){return l[me.getDay()]}function ge(me){return o[me.getDay()]}function Ae(me){return d[me.getMonth()]}function H(me){return c[me.getMonth()]}function ie(me){return a[+(me.getHours()>=12)]}function ae(me){return 1+~~(me.getMonth()/3)}function he(me){return l[me.getUTCDay()]}function _e(me){return o[me.getUTCDay()]}function Ne(me){return d[me.getUTCMonth()]}function Ie(me){return c[me.getUTCMonth()]}function Gt(me){return a[+(me.getUTCHours()>=12)]}function ot(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var qe=F(me+="",L);return qe.toString=function(){return me},qe},parse:function(me){var qe=R(me+="",!1);return qe.toString=function(){return me},qe},utcFormat:function(me){var qe=F(me+="",z);return qe.toString=function(){return me},qe},utcParse:function(me){var qe=R(me+="",!0);return qe.toString=function(){return me},qe}}}var z2={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,NH=/^%/,IH=/[\\^$*+?|[\]().{}]/g;function ct(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(e)+a:a)}function RH(t){return t.replace(IH,"\\$&")}function uf(t){return new RegExp("^(?:"+t.map(RH).join("|")+")","i")}function cf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function DH(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function PH(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function MH(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function jH(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function LH(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function B2(t,e,n){var r=Rn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function q2(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function VH(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function UH(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function zH(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $2(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function BH(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function F2(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qH(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function $H(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function FH(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function HH(t,e,n){var r=Rn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function KH(t,e,n){var r=NH.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function GH(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function YH(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function H2(t,e){return ct(t.getDate(),e,2)}function WH(t,e){return ct(t.getHours(),e,2)}function XH(t,e){return ct(t.getHours()%12||12,e,2)}function QH(t,e){return ct(1+hd.count(Xa(t),t),e,3)}function AD(t,e){return ct(t.getMilliseconds(),e,3)}function ZH(t,e){return AD(t,e)+"000"}function JH(t,e){return ct(t.getMonth()+1,e,2)}function eK(t,e){return ct(t.getMinutes(),e,2)}function tK(t,e){return ct(t.getSeconds(),e,2)}function nK(t){var e=t.getDay();return e===0?7:e}function rK(t,e){return ct(ep.count(Xa(t)-1,t),e,2)}function kD(t){var e=t.getDay();return e>=4||e===0?Du(t):Du.ceil(t)}function iK(t,e){return t=kD(t),ct(Du.count(Xa(t),t)+(Xa(t).getDay()===4),e,2)}function aK(t){return t.getDay()}function sK(t,e){return ct(sg.count(Xa(t)-1,t),e,2)}function oK(t,e){return ct(t.getFullYear()%100,e,2)}function lK(t,e){return t=kD(t),ct(t.getFullYear()%100,e,2)}function uK(t,e){return ct(t.getFullYear()%1e4,e,4)}function cK(t,e){var n=t.getDay();return t=n>=4||n===0?Du(t):Du.ceil(t),ct(t.getFullYear()%1e4,e,4)}function fK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ct(e/60|0,"0",2)+ct(e%60,"0",2)}function K2(t,e){return ct(t.getUTCDate(),e,2)}function dK(t,e){return ct(t.getUTCHours(),e,2)}function hK(t,e){return ct(t.getUTCHours()%12||12,e,2)}function mK(t,e){return ct(1+Jg.count(Qa(t),t),e,3)}function CD(t,e){return ct(t.getUTCMilliseconds(),e,3)}function gK(t,e){return CD(t,e)+"000"}function pK(t,e){return ct(t.getUTCMonth()+1,e,2)}function yK(t,e){return ct(t.getUTCMinutes(),e,2)}function vK(t,e){return ct(t.getUTCSeconds(),e,2)}function bK(t){var e=t.getUTCDay();return e===0?7:e}function xK(t,e){return ct(tp.count(Qa(t)-1,t),e,2)}function OD(t){var e=t.getUTCDay();return e>=4||e===0?Pu(t):Pu.ceil(t)}function _K(t,e){return t=OD(t),ct(Pu.count(Qa(t),t)+(Qa(t).getUTCDay()===4),e,2)}function wK(t){return t.getUTCDay()}function EK(t,e){return ct(og.count(Qa(t)-1,t),e,2)}function TK(t,e){return ct(t.getUTCFullYear()%100,e,2)}function SK(t,e){return t=OD(t),ct(t.getUTCFullYear()%100,e,2)}function AK(t,e){return ct(t.getUTCFullYear()%1e4,e,4)}function kK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pu(t):Pu.ceil(t),ct(t.getUTCFullYear()%1e4,e,4)}function CK(){return"+0000"}function G2(){return"%"}function Y2(t){return+t}function W2(t){return Math.floor(+t/1e3)}var uu,ND,ID;OK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OK(t){return uu=OH(t),ND=uu.format,uu.parse,ID=uu.utcFormat,uu.utcParse,uu}function NK(t){return new Date(t)}function IK(t){return t instanceof Date?+t:+new Date(+t)}function B_(t,e,n,r,a,o,l,c,d,h){var m=k_(),y=m.invert,v=m.domain,_=h(".%L"),E=h(":%S"),k=h("%I:%M"),T=h("%I %p"),I=h("%a %d"),M=h("%b %d"),L=h("%B"),z=h("%Y");function q(F){return(d(F)<F?_:c(F)<F?E:l(F)<F?k:o(F)<F?T:r(F)<F?a(F)<F?I:M:n(F)<F?L:z)(F)}return m.invert=function(F){return new Date(y(F))},m.domain=function(F){return arguments.length?v(Array.from(F,IK)):v().map(NK)},m.ticks=function(F){var R=v();return t(R[0],R[R.length-1],F??10)},m.tickFormat=function(F,R){return R==null?q:h(R)},m.nice=function(F){var R=v();return(!F||typeof F.range!="function")&&(F=e(R[0],R[R.length-1],F??10)),F?v(yD(R,F)):m},m.copy=function(){return dd(m,B_(t,e,n,r,a,o,l,c,d,h))},m}function RK(){return yi.apply(B_(kH,CH,Xa,U_,ep,hd,L_,M_,el,ND).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DK(){return yi.apply(B_(SH,AH,Qa,z_,tp,Jg,V_,j_,el,ID).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function np(){var t=0,e=1,n,r,a,o,l=hr,c=!1,d;function h(y){return y==null||isNaN(y=+y)?d:l(a===0?.5:(y=(o(y)-n)*a,c?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(y){return arguments.length?(c=!!y,h):c},h.interpolator=function(y){return arguments.length?(l=y,h):l};function m(y){return function(v){var _,E;return arguments.length?([_,E]=v,l=y(_,E),h):[l(0),l(1)]}}return h.range=m(Gu),h.rangeRound=m(A_),h.unknown=function(y){return arguments.length?(d=y,h):d},function(y){return o=y,n=y(t),r=y(e),a=n===r?0:1/(r-n),h}}function fo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function RD(){var t=co(np()(hr));return t.copy=function(){return fo(t,RD())},ns.apply(t,arguments)}function DD(){var t=N_(np()).domain([1,10]);return t.copy=function(){return fo(t,DD()).base(t.base())},ns.apply(t,arguments)}function PD(){var t=I_(np());return t.copy=function(){return fo(t,PD()).constant(t.constant())},ns.apply(t,arguments)}function q_(){var t=R_(np());return t.copy=function(){return fo(t,q_()).exponent(t.exponent())},ns.apply(t,arguments)}function PK(){return q_.apply(null,arguments).exponent(.5)}function MD(){var t=[],e=hr;function n(r){if(r!=null&&!isNaN(r=+r))return e((cd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Qs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>bF(t,o/r))},n.copy=function(){return MD(e).domain(t)},ns.apply(n,arguments)}function rp(){var t=0,e=.5,n=1,r=1,a,o,l,c,d,h=hr,m,y=!1,v;function _(k){return isNaN(k=+k)?v:(k=.5+((k=+m(k))-o)*(r*k<r*o?c:d),h(y?Math.max(0,Math.min(1,k)):k))}_.domain=function(k){return arguments.length?([t,e,n]=k,a=m(t=+t),o=m(e=+e),l=m(n=+n),c=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),r=o<a?-1:1,_):[t,e,n]},_.clamp=function(k){return arguments.length?(y=!!k,_):y},_.interpolator=function(k){return arguments.length?(h=k,_):h};function E(k){return function(T){var I,M,L;return arguments.length?([I,M,L]=T,h=KF(k,[I,M,L]),_):[h(0),h(.5),h(1)]}}return _.range=E(Gu),_.rangeRound=E(A_),_.unknown=function(k){return arguments.length?(v=k,_):v},function(k){return m=k,a=k(t),o=k(e),l=k(n),c=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),r=o<a?-1:1,_}}function jD(){var t=co(rp()(hr));return t.copy=function(){return fo(t,jD())},ns.apply(t,arguments)}function LD(){var t=N_(rp()).domain([.1,1,10]);return t.copy=function(){return fo(t,LD()).base(t.base())},ns.apply(t,arguments)}function VD(){var t=I_(rp());return t.copy=function(){return fo(t,VD()).constant(t.constant())},ns.apply(t,arguments)}function $_(){var t=R_(rp());return t.copy=function(){return fo(t,$_()).exponent(t.exponent())},ns.apply(t,arguments)}function MK(){return $_.apply(null,arguments).exponent(.5)}const vf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:E_,scaleDiverging:jD,scaleDivergingLog:LD,scaleDivergingPow:$_,scaleDivergingSqrt:MK,scaleDivergingSymlog:VD,scaleIdentity:pD,scaleImplicit:Hb,scaleLinear:gD,scaleLog:vD,scaleOrdinal:w_,scalePoint:wF,scalePow:D_,scaleQuantile:_D,scaleQuantize:wD,scaleRadial:xD,scaleSequential:RD,scaleSequentialLog:DD,scaleSequentialPow:q_,scaleSequentialQuantile:MD,scaleSequentialSqrt:PK,scaleSequentialSymlog:PD,scaleSqrt:gH,scaleSymlog:bD,scaleThreshold:ED,scaleTime:RK,scaleUtc:DK,tickFormat:mD},Symbol.toStringTag,{value:"Module"}));var ho=t=>t.chartData,jK=te([ho],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),F_=(t,e,n,r)=>r?jK(t):ho(t);function Mu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(pr(e)&&pr(n))return!0}return!1}function X2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function LK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,o;if(pr(n))a=n;else if(typeof n=="function")return;if(pr(r))o=r;else if(typeof r=="function")return;var l=[a,o];if(Mu(l))return l}}function VK(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Mu(r))return X2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,o]=t,l,c;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Oe(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[0]))}catch{}else if(typeof a=="string"&&qk.test(a)){var d=qk.exec(a);if(d==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e?.[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(Oe(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e?.[1]))}catch{}else if(typeof o=="string"&&$k.test(o)){var m=$k.exec(o);if(m==null||e==null)c=void 0;else{var y=+m[1];c=e[1]+y}}else c=e?.[1];var v=[l,c];if(Mu(v))return e==null?v:X2(v,e,n)}}}var Yu=1e9,UK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K_,Lt=!0,gi="[DecimalError] ",sl=gi+"Invalid argument: ",H_=gi+"Exponent out of range: ",Wu=Math.floor,Wo=Math.pow,zK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$r,Nn=1e7,Rt=7,UD=9007199254740991,lg=Wu(UD/Rt),be={};be.absoluteValue=be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};be.comparedTo=be.cmp=function(t){var e,n,r,a,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(t){return qa(this,new this.constructor(t))};be.dividedToIntegerBy=be.idiv=function(t){var e=this,n=e.constructor;return St(qa(e,new n(t),0,1),n.precision)};be.equals=be.eq=function(t){return!this.cmp(t)};be.exponent=function(){return dn(this)};be.greaterThan=be.gt=function(t){return this.cmp(t)>0};be.greaterThanOrEqualTo=be.gte=function(t){return this.cmp(t)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(t){return this.cmp(t)<0};be.lessThanOrEqualTo=be.lte=function(t){return this.cmp(t)<1};be.logarithm=be.log=function(t){var e,n=this,r=n.constructor,a=r.precision,o=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($r))throw Error(gi+"NaN");if(n.s<1)throw Error(gi+(n.s?"NaN":"-Infinity"));return n.eq($r)?new r(0):(Lt=!1,e=qa(Yf(n,o),Yf(t,o),o),Lt=!0,St(e,a))};be.minus=be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qD(e,t):zD(e,(t.s=-t.s,t))};be.modulo=be.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(gi+"NaN");return n.s?(Lt=!1,e=qa(n,t,0,1).times(t),Lt=!0,n.minus(e)):St(new r(n),a)};be.naturalExponential=be.exp=function(){return BD(this)};be.naturalLogarithm=be.ln=function(){return Yf(this)};be.negated=be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};be.plus=be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zD(e,t):qD(e,(t.s=-t.s,t))};be.precision=be.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sl+t);if(e=dn(a)+1,r=a.d.length-1,n=r*Rt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};be.squareRoot=be.sqrt=function(){var t,e,n,r,a,o,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(gi+"NaN")}for(t=dn(c),Lt=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=Xi(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Wu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(a.toString()),n=d.precision,a=l=n+3;;)if(o=r,r=o.plus(qa(c,o,l+2)).times(.5),Xi(o.d).slice(0,l)===(e=Xi(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(St(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return Lt=!0,St(r,n)};be.times=be.mul=function(t){var e,n,r,a,o,l,c,d,h,m=this,y=m.constructor,v=m.d,_=(t=new y(t)).d;if(!m.s||!t.s)return new y(0);for(t.s*=m.s,n=m.e+t.e,d=v.length,h=_.length,d<h&&(o=v,v=_,_=o,l=d,d=h,h=l),o=[],l=d+h,r=l;r--;)o.push(0);for(r=h;--r>=0;){for(e=0,a=d+r;a>r;)c=o[a]+_[r]*v[a-r-1]+e,o[a--]=c%Nn|0,e=c/Nn|0;o[a]=(o[a]+e)%Nn|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Lt?St(t,y.precision):t};be.toDecimalPlaces=be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(oa(t,0,Yu),e===void 0?e=r.rounding:oa(e,0,8),St(n,t+dn(n)+1,e))};be.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=ml(r,!0):(oa(t,0,Yu),e===void 0?e=a.rounding:oa(e,0,8),r=St(new a(r),t+1,e),n=ml(r,!0,t+1)),n};be.toFixed=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?ml(a):(oa(t,0,Yu),e===void 0?e=o.rounding:oa(e,0,8),r=St(new o(a),t+dn(a)+1,e),n=ml(r.abs(),!1,t+dn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var t=this,e=t.constructor;return St(new e(t),dn(t)+1,e.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(t){var e,n,r,a,o,l,c=this,d=c.constructor,h=12,m=+(t=new d(t));if(!t.s)return new d($r);if(c=new d(c),!c.s){if(t.s<1)throw Error(gi+"Infinity");return c}if(c.eq($r))return c;if(r=d.precision,t.eq($r))return St(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=m<0?-m:m)<=UD){for(a=new d($r),e=Math.ceil(r/Rt+4),Lt=!1;n%2&&(a=a.times(c),Z2(a.d,e)),n=Wu(n/2),n!==0;)c=c.times(c),Z2(c.d,e);return Lt=!0,t.s<0?new d($r).div(a):St(a,r)}}else if(o<0)throw Error(gi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Lt=!1,a=t.times(Yf(c,r+h)),Lt=!0,a=BD(a),a.s=o,a};be.toPrecision=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?(n=dn(a),r=ml(a,n<=o.toExpNeg||n>=o.toExpPos)):(oa(t,1,Yu),e===void 0?e=o.rounding:oa(e,0,8),a=St(new o(a),t,e),n=dn(a),r=ml(a,t<=n||n<=o.toExpNeg,t)),r};be.toSignificantDigits=be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(oa(t,1,Yu),e===void 0?e=r.rounding:oa(e,0,8)),St(new r(n),t,e)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dn(t),n=t.constructor;return ml(t,e<=n.toExpNeg||e>=n.toExpPos)};function zD(t,e){var n,r,a,o,l,c,d,h,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Lt?St(e,y):e;if(d=t.d,h=e.d,l=t.e,a=e.e,d=d.slice(),o=l-a,o){for(o<0?(r=d,o=-o,c=h.length):(r=h,a=l,c=d.length),l=Math.ceil(y/Rt),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=d.length,o=h.length,c-o<0&&(o=c,r=h,h=d,d=r),n=0;o;)n=(d[--o]=d[o]+h[o]+n)/Nn|0,d[o]%=Nn;for(n&&(d.unshift(n),++a),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=a,Lt?St(e,y):e}function oa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(sl+t)}function Xi(t){var e,n,r,a=t.length-1,o="",l=t[0];if(a>0){for(o+=l,e=1;e<a;e++)r=t[e]+"",n=Rt-r.length,n&&(o+=Ls(n)),o+=r;l=t[e],r=l+"",n=Rt-r.length,n&&(o+=Ls(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var qa=(function(){function t(r,a){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*a+l,r[c]=o%Nn|0,l=o/Nn|0;return l&&r.unshift(l),r}function e(r,a,o,l){var c,d;if(o!=l)d=o>l?1:-1;else for(c=d=0;c<o;c++)if(r[c]!=a[c]){d=r[c]>a[c]?1:-1;break}return d}function n(r,a,o){for(var l=0;o--;)r[o]-=l,l=r[o]<a[o]?1:0,r[o]=l*Nn+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,l){var c,d,h,m,y,v,_,E,k,T,I,M,L,z,q,F,R,O,D=r.constructor,U=r.s==a.s?1:-1,P=r.d,B=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(gi+"Division by zero");for(d=r.e-a.e,R=B.length,q=P.length,_=new D(U),E=_.d=[],h=0;B[h]==(P[h]||0);)++h;if(B[h]>(P[h]||0)&&--d,o==null?M=o=D.precision:l?M=o+(dn(r)-dn(a))+1:M=o,M<0)return new D(0);if(M=M/Rt+2|0,h=0,R==1)for(m=0,B=B[0],M++;(h<q||m)&&M--;h++)L=m*Nn+(P[h]||0),E[h]=L/B|0,m=L%B|0;else{for(m=Nn/(B[0]+1)|0,m>1&&(B=t(B,m),P=t(P,m),R=B.length,q=P.length),z=R,k=P.slice(0,R),T=k.length;T<R;)k[T++]=0;O=B.slice(),O.unshift(0),F=B[0],B[1]>=Nn/2&&++F;do m=0,c=e(B,k,R,T),c<0?(I=k[0],R!=T&&(I=I*Nn+(k[1]||0)),m=I/F|0,m>1?(m>=Nn&&(m=Nn-1),y=t(B,m),v=y.length,T=k.length,c=e(y,k,v,T),c==1&&(m--,n(y,R<v?O:B,v))):(m==0&&(c=m=1),y=B.slice()),v=y.length,v<T&&y.unshift(0),n(k,y,T),c==-1&&(T=k.length,c=e(B,k,R,T),c<1&&(m++,n(k,R<T?O:B,T))),T=k.length):c===0&&(m++,k=[0]),E[h++]=m,c&&k[0]?k[T++]=P[z]||0:(k=[P[z]],T=1);while((z++<q||k[0]!==void 0)&&M--)}return E[0]||E.shift(),_.e=d,St(_,l?o+dn(_)+1:o)}})();function BD(t,e){var n,r,a,o,l,c,d=0,h=0,m=t.constructor,y=m.precision;if(dn(t)>16)throw Error(H_+dn(t));if(!t.s)return new m($r);for(Lt=!1,c=y,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Wo(2,h))/Math.LN10*2+5|0,c+=r,n=a=o=new m($r),m.precision=c;;){if(a=St(a.times(t),c),n=n.times(++d),l=o.plus(qa(a,n,c)),Xi(l.d).slice(0,c)===Xi(o.d).slice(0,c)){for(;h--;)o=St(o.times(o),c);return m.precision=y,e==null?(Lt=!0,St(o,y)):o}o=l}}function dn(t){for(var e=t.e*Rt,n=t.d[0];n>=10;n/=10)e++;return e}function M0(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(gi+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function Ls(t){for(var e="";t--;)e+="0";return e}function Yf(t,e){var n,r,a,o,l,c,d,h,m,y=1,v=10,_=t,E=_.d,k=_.constructor,T=k.precision;if(_.s<1)throw Error(gi+(_.s?"NaN":"-Infinity"));if(_.eq($r))return new k(0);if(e==null?(Lt=!1,h=T):h=e,_.eq(10))return e==null&&(Lt=!0),M0(k,h);if(h+=v,k.precision=h,n=Xi(E),r=n.charAt(0),o=dn(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Xi(_.d),r=n.charAt(0),y++;o=dn(_),r>1?(_=new k("0."+n),o++):_=new k(r+"."+n.slice(1))}else return d=M0(k,h+2,T).times(o+""),_=Yf(new k(r+"."+n.slice(1)),h-v).plus(d),k.precision=T,e==null?(Lt=!0,St(_,T)):_;for(c=l=_=qa(_.minus($r),_.plus($r),h),m=St(_.times(_),h),a=3;;){if(l=St(l.times(m),h),d=c.plus(qa(l,new k(a),h)),Xi(d.d).slice(0,h)===Xi(c.d).slice(0,h))return c=c.times(2),o!==0&&(c=c.plus(M0(k,h+2,T).times(o+""))),c=qa(c,new k(y),h),k.precision=T,e==null?(Lt=!0,St(c,T)):c;c=d,a+=2}}function Q2(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Wu(n/Rt),t.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Rt;r<a;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>lg||t.e<-lg))throw Error(H_+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,a,o,l,c,d,h,m,y=t.d;for(l=1,o=y[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=Rt,a=e,h=y[m=0];else{if(m=Math.ceil((r+1)/Rt),o=y.length,m>=o)return t;for(h=o=y[m],l=1;o>=10;o/=10)l++;r%=Rt,a=r-Rt+l}if(n!==void 0&&(o=Wo(10,l-a-1),c=h/o%10|0,d=e<0||y[m+1]!==void 0||h%o,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?a>0?h/Wo(10,l-a):0:y[m-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return d?(o=dn(t),y.length=1,e=e-o-1,y[0]=Wo(10,(Rt-e%Rt)%Rt),t.e=Wu(-e/Rt)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=m,o=1,m--):(y.length=m+1,o=Wo(10,Rt-r),y[m]=a>0?(h/Wo(10,l-a)%Wo(10,a)|0)*o:0),d)for(;;)if(m==0){(y[0]+=o)==Nn&&(y[0]=1,++t.e);break}else{if(y[m]+=o,y[m]!=Nn)break;y[m--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Lt&&(t.e>lg||t.e<-lg))throw Error(H_+dn(t));return t}function qD(t,e){var n,r,a,o,l,c,d,h,m,y,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Lt?St(e,_):e;if(d=t.d,y=e.d,r=e.e,h=t.e,d=d.slice(),l=h-r,l){for(m=l<0,m?(n=d,l=-l,c=y.length):(n=y,r=h,c=d.length),a=Math.max(Math.ceil(_/Rt),c)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=d.length,c=y.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(d[a]!=y[a]){m=d[a]<y[a];break}l=0}for(m&&(n=d,d=y,y=n,e.s=-e.s),c=d.length,a=y.length-c;a>0;--a)d[c++]=0;for(a=y.length;a>l;){if(d[--a]<y[a]){for(o=a;o&&d[--o]===0;)d[o]=Nn-1;--d[o],d[a]+=Nn}d[a]-=y[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Lt?St(e,_):e):new v(0)}function ml(t,e,n){var r,a=dn(t),o=Xi(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Ls(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Ls(-a-1)+o,n&&(r=n-l)>0&&(o+=Ls(r))):a>=l?(o+=Ls(a+1-l),n&&(r=n-a-1)>0&&(o=o+"."+Ls(r))):((r=a+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(o+="."),o+=Ls(r))),t.s<0?"-"+o:o}function Z2(t,e){if(t.length>e)return t.length=e,!0}function $D(t){var e,n,r;function a(o){var l=this;if(!(l instanceof a))return new a(o);if(l.constructor=a,o instanceof a){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(sl+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return Q2(l,o.toString())}else if(typeof o!="string")throw Error(sl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,zK.test(o))Q2(l,o);else throw Error(sl+o)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$D,a.config=a.set=BK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function BK(t){if(!t||typeof t!="object")throw Error(gi+"Object expected");var e,n,r,a=["precision",1,Yu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Wu(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(sl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sl+n+": "+r);return this}var K_=$D(UK);$r=new K_(1);const yt=K_;var qK=t=>t,FD={},HD=t=>t===FD,J2=t=>function e(){return arguments.length===0||arguments.length===1&&HD(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},KD=(t,e)=>t===1?e:J2(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.filter(l=>l!==FD).length;return o>=t?e(...r):KD(t-o,J2(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=r.map(m=>HD(m)?c.shift():m);return e(...h,...c)}))}),ip=t=>KD(t.length,t),Wb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},$K=ip((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),FK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return qK;var a=n.reverse(),o=a[0],l=a.slice(1);return function(){return l.reduce((c,d)=>d(c),o(...arguments))}},Xb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),GD=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e&&a.every((l,c)=>{var d;return l===((d=e)===null||d===void 0?void 0:d[c])})||(e=a,n=t(...a)),n}};function YD(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function WD(t,e,n){for(var r=new yt(t),a=0,o=[];r.lt(e)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}ip((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});ip((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});ip((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var XD=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},QD=(t,e,n)=>{if(t.lte(0))return new yt(0);var r=YD(t.toNumber()),a=new yt(10).pow(r),o=t.div(a),l=r!==1?.05:.1,c=new yt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=c.mul(a);return e?new yt(d.toNumber()):new yt(Math.ceil(d.toNumber()))},HK=(t,e,n)=>{var r=new yt(1),a=new yt(t);if(!a.isint()&&n){var o=Math.abs(t);o<1?(r=new yt(10).pow(YD(t)-1),a=new yt(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new yt(Math.floor(t)))}else t===0?a=new yt(Math.floor((e-1)/2)):n||(a=new yt(Math.floor(t)));var l=Math.floor((e-1)/2),c=FK($K(d=>a.add(new yt(d-l).mul(r)).toNumber()),Wb);return c(0,e)},ZD=function(e,n,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var l=QD(new yt(n).sub(e).div(r-1),a,o),c;e<=0&&n>=0?c=new yt(0):(c=new yt(e).add(n).div(2),c=c.sub(new yt(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),h=Math.ceil(new yt(n).sub(c).div(l).toNumber()),m=d+h+1;return m>r?ZD(e,n,r,a,o+1):(m<r&&(h=n>0?h+(r-m):h,d=n>0?d:d+(r-m)),{step:l,tickMin:c.sub(new yt(d).mul(l)),tickMax:c.add(new yt(h).mul(l))})};function KK(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,c]=XD([e,n]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...Wb(0,r-1).map(()=>1/0)]:[...Wb(0,r-1).map(()=>-1/0),c];return e>n?Xb(d):d}if(l===c)return HK(l,r,a);var{step:h,tickMin:m,tickMax:y}=ZD(l,c,o,a,0),v=WD(m,y.add(new yt(.1).mul(h)),h);return e>n?Xb(v):v}function GK(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=XD([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var c=Math.max(e,2),d=QD(new yt(l).sub(o).div(c-1),a,0),h=[...WD(new yt(o),new yt(l),d),l];return a===!1&&(h=h.map(m=>Math.round(m))),n>r?Xb(h):h}var YK=GD(KK),WK=GD(GK),XK=t=>t.rootProps.barCategoryGap,ap=t=>t.rootProps.stackOffset,G_=t=>t.options.chartName,Y_=t=>t.rootProps.syncId,JD=t=>t.rootProps.syncMethod,W_=t=>t.options.eventEmitter,Da={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},sp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},QK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:Da.type,unit:void 0},ZK={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:qr.type,unit:void 0},JK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eG={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:"category",unit:void 0},X_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?JK:QK,Q_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?eG:ZK,op=t=>t.polarOptions,Z_=te([es,ts,Kn],sq),eP=te([op,Z_],(t,e)=>{if(t!=null)return ao(t.innerRadius,e,0)}),tP=te([op,Z_],(t,e)=>{if(t!=null)return ao(t.outerRadius,e,e*.8)}),tG=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},nP=te([op],tG);te([X_,nP],sp);var rP=te([Z_,eP,tP],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});te([Q_,rP],sp);var iP=te([Nt,op,eP,tP,es,ts],(t,e,n,r,a,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:h}=e;return{cx:ao(l,a,a/2),cy:ao(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),hn=(t,e)=>e,lp=(t,e,n)=>n;function J_(t){return t?.id}var wn=t=>{var e=Nt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xu=t=>t.tooltip.settings.axisId,Dn=t=>{var e=wn(t),n=Xu(t);return md(t,e,n)},aP=te([Dn],t=>t?.dataKey);function sP(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:o}=n,l=new Map;return t.forEach(c=>{var d,h=(d=c.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var m=J_(c);h.forEach((y,v)=>{var _=o==null||a?v:String(mr(y,o,null)),E=mr(y,c.dataKey,0),k;l.has(_)?k=l.get(_):k={},Object.assign(k,{[m]:E}),l.set(_,k)})}}),Array.from(l.values())}function e1(t){return t.stackId!=null&&t.dataKey!=null}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){nG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nG(t,e,n){return(e=rG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rG(t){var e=iG(t,"string");return typeof e=="symbol"?e:e+""}function iG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qb=[0,"auto"],zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},oP=(t,e)=>t.cartesianAxis.xAxis[e],la=(t,e)=>{var n=oP(t,e);return n??zr},Br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Qb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ud},lP=(t,e)=>t.cartesianAxis.yAxis[e],ua=(t,e)=>{var n=lP(t,e);return n??Br},aG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},t1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??aG},Sr=(t,e,n)=>{switch(e){case"xAxis":return la(t,n);case"yAxis":return ua(t,n);case"zAxis":return t1(t,n);case"angleAxis":return X_(t,n);case"radiusAxis":return Q_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},sG=(t,e,n)=>{switch(e){case"xAxis":return la(t,n);case"yAxis":return ua(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},md=(t,e,n)=>{switch(e){case"xAxis":return la(t,n);case"yAxis":return ua(t,n);case"angleAxis":return X_(t,n);case"radiusAxis":return Q_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uP=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function cP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var fP=t=>t.graphicalItems.cartesianItems,oG=te([hn,lp],cP),dP=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),gd=te([fP,Sr,oG],dP),hP=te([gd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(e1)),mP=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),gP=te([gd],mP),pP=t=>t.map(e=>e.data).filter(Boolean).flat(1),lG=te([gd],pP),yP=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},n1=te([lG,F_],yP),vP=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:mr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:mr(a,r)}))):t.map(r=>({value:r})),up=te([n1,Sr,gd],vP);function bP(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Tl(t){return t.filter(e=>hi(e)||e instanceof Date).map(Number).filter(e=>gr(e)===!1)}function uG(t,e,n){return!n||typeof e!="number"||gr(e)?[]:n.length?Tl(n.flatMap(r=>{var a=mr(t,r.dataKey),o,l;if(Array.isArray(a)?[o,l]=a:o=l=a,!(!pr(o)||!pr(l)))return[e-o,e+l]})):[]}var cG=te([hP,F_,Dn],sP),xP=(t,e,n)=>{var r={},a=e.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(a).map(o=>{var[l,c]=o,d=c.map(J_);return[l,{stackedData:_q(t,d,n),graphicalItems:c}]}))},Zb=te([cG,hP,ap],xP),_P=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(n!=="zAxis"){var o=Sq(t,r,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},fG=te([Zb,ho,hn],_P),wP=(t,e,n,r,a)=>n.length>0?t.flatMap(o=>n.flatMap(l=>{var c,d,h=(c=r[l.id])===null||c===void 0?void 0:c.filter(y=>bP(a,y)),m=mr(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:m,errorDomain:uG(o,m,h)}})).filter(Boolean):e?.dataKey!=null?t.map(o=>({value:mr(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),cp=t=>t.errorBars,EP=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>bP(n,r));te([gP,cp,hn],EP);var dG=te([n1,Sr,gP,cp,hn],wP);function hG(t){var{value:e}=t;if(hi(e)||e instanceof Date)return e}var tC=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Tl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mG=(t,e,n)=>{var r=t.map(hG).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&UI(r))?iD(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},r1=t=>{var e;if(t==null||!("domain"in t))return Qb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Tl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Qb},cg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var o=a.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},TP=t=>t.referenceElements.dots,Qu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),gG=te([TP,hn,lp],Qu),SP=t=>t.referenceElements.areas,pG=te([SP,hn,lp],Qu),AP=t=>t.referenceElements.lines,yG=te([AP,hn,lp],Qu),kP=(t,e)=>{var n=Tl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vG=te(gG,hn,kP),CP=(t,e)=>{var n=Tl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bG=te([pG,hn],CP),OP=(t,e)=>{var n=Tl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xG=te(yG,hn,OP),_G=te(vG,xG,bG,(t,e,n)=>cg(t,n,e)),wG=te([Sr],r1),NP=(t,e,n,r,a,o,l)=>{var c=LK(e,t.allowDataOverflow);if(c!=null)return c;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",h=d?cg(n,a,tC(r)):cg(a,tC(r));return VK(e,h,t.allowDataOverflow)},EG=te([Sr,wG,fG,dG,_G,Nt,hn],NP),TG=[0,1],IP=(t,e,n,r,a,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,h=Ja(e,o);return h&&c==null?iD(0,n.length):d==="category"?mG(r,t,h):a==="expand"?TG:l}},i1=te([Sr,Nt,n1,up,ap,hn,EG],IP),RP=(t,e,n,r,a)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(l_(o));return c in vf?c:"point"}}},pd=te([Sr,Nt,uP,G_,hn],RP);function SG(t){if(t!=null){if(t in vf)return vf[t]();var e="scale".concat(l_(t));if(e in vf)return vf[e]()}}function a1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=SG(e);if(a!=null){var o=a.domain(n).range(r);return yq(o),o}}}var DP=(t,e,n)=>{var r=r1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Mu(t))return YK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Mu(t))return WK(t,e.tickCount,e.allowDecimals)}},s1=te([i1,md,pd],DP),PP=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Mu(e)&&Array.isArray(n)&&n.length>0){var a=e[0],o=n[0],l=e[1],c=n[n.length-1];return[Math.min(a,o),Math.max(l,c)]}return e},AG=te([Sr,i1,s1,hn],PP),kG=te(up,Sr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Tl(t.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/a}}),MP=te(kG,Nt,XK,Kn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!pr(t))return 0;var o=e==="vertical"?r.height:r.width;if(a==="gap")return t*o/2;if(a==="no-gap"){var l=ao(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),CG=(t,e)=>{var n=la(t,e);return n==null||typeof n.padding!="string"?0:MP(t,"xAxis",e,n.padding)},OG=(t,e)=>{var n=ua(t,e);return n==null||typeof n.padding!="string"?0:MP(t,"yAxis",e,n.padding)},NG=te(la,CG,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),IG=te(ua,OG,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),RG=te([Kn,NG,Xg,Wg,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:o}=r;return a?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),DG=te([Kn,Nt,IG,Xg,Wg,(t,e,n)=>n],(t,e,n,r,a,o)=>{var{padding:l}=a;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),yd=(t,e,n,r)=>{var a;switch(e){case"xAxis":return RG(t,n,r);case"yAxis":return DG(t,n,r);case"zAxis":return(a=t1(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return nP(t);case"radiusAxis":return rP(t,n);default:return}},jP=te([Sr,yd],sp),so=te([Sr,pd,AG,jP],a1);te([gd,cp,hn],EP);function LP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var fp=(t,e)=>e,dp=(t,e,n)=>n,PG=te(Gg,fp,dp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LP)),MG=te(Yg,fp,dp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(LP)),VP=(t,e)=>({width:t.width,height:e.height}),jG=(t,e)=>{var n=typeof e.width=="number"?e.width:ud;return{width:n,height:t.height}},LG=te(Kn,la,VP),VG=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},UG=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},zG=te(ts,Kn,PG,fp,dp,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var d=VP(e,c);l==null&&(l=VG(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;o[c.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),o}),BG=te(es,Kn,MG,fp,dp,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var d=jG(e,c);l==null&&(l=UG(e,r,t));var h=r==="left"&&!a||r==="right"&&a;o[c.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),o}),qG=(t,e)=>{var n=la(t,e);if(n!=null)return zG(t,n.orientation,n.mirror)},$G=te([Kn,la,qG,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),FG=(t,e)=>{var n=ua(t,e);if(n!=null)return BG(t,n.orientation,n.mirror)},HG=te([Kn,ua,FG,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),KG=te(Kn,ua,(t,e)=>{var n=typeof e.width=="number"?e.width:ud;return{width:n,height:t.height}}),UP=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:o,dataKey:l}=n,c=Ja(t,r),d=e.map(h=>h.value);if(l&&c&&o==="category"&&a&&UI(d))return d}},o1=te([Nt,up,Sr,hn],UP),zP=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:o}=n,l=Ja(t,r);if(l&&(a==="number"||o!=="auto"))return e.map(c=>c.value)}},l1=te([Nt,up,md,hn],zP),nC=te([Nt,sG,pd,so,o1,l1,yd,s1,hn],(t,e,n,r,a,o,l,c,d)=>{if(e==null)return null;var h=Ja(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:o,duplicateDomain:a,isCategorical:h,niceTicks:c,range:l,realScaleType:n,scale:r}}),GG=(t,e,n,r,a,o,l,c,d)=>{if(!(e==null||r==null)){var h=Ja(t,d),{type:m,ticks:y,tickCount:v}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/_:0;E=d==="angleAxis"&&o!=null&&o.length>=2?fi(o[0]-o[1])*2*E:E;var k=y||a;if(k){var T=k.map((I,M)=>{var L=l?l.indexOf(I):I;return{index:M,coordinate:r(L)+E,value:I,offset:E}});return T.filter(I=>!gr(I.coordinate))}return h&&c?c.map((I,M)=>({coordinate:r(I)+E,value:I,index:M,offset:E})):r.ticks?r.ticks(v).map(I=>({coordinate:r(I)+E,value:I,offset:E})):r.domain().map((I,M)=>({coordinate:r(I)+E,value:l?l[I]:I,index:M,offset:E}))}},BP=te([Nt,md,pd,so,s1,yd,o1,l1,hn],GG),YG=(t,e,n,r,a,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Ja(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?fi(r[0]-r[1])*2*h:h,c&&o?o.map((m,y)=>({coordinate:n(m)+h,value:m,index:y,offset:h})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,y)=>({coordinate:n(m)+h,value:a?a[m]:m,index:y,offset:h}))}},qP=te([Nt,md,so,yd,o1,l1,hn],YG),$P=te(Sr,so,(t,e)=>{if(!(t==null||e==null))return ug(ug({},t),{},{scale:e})}),WG=te([Sr,pd,i1,jP],a1);te((t,e,n)=>t1(t,n),WG,(t,e)=>{if(!(t==null||e==null))return ug(ug({},t),{},{scale:e})});var XG=te([Nt,Gg,Yg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FP=t=>t.options.defaultTooltipEventType,HP=t=>t.options.validateTooltipEventTypes;function KP(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function u1(t,e){var n=FP(t),r=HP(t);return KP(e,n,r)}function QG(t){return ke(e=>u1(e,t))}var GP=(t,e)=>{var n,r=Number(e);if(!(gr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},ZG=t=>t.tooltip.settings,$s={active:!1,index:null,dataKey:void 0,coordinate:void 0},JG={itemInteraction:{click:$s,hover:$s},axisInteraction:{click:$s,hover:$s},keyboardInteraction:$s,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},YP=Gr({name:"tooltip",initialState:JG,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ba(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:eY,removeTooltipEntrySettings:tY,setTooltipSettingsState:nY,setActiveMouseOverItemIndex:rY,mouseLeaveItem:lte,mouseLeaveChart:WP,setActiveClickItemIndex:ute,setMouseOverAxisIndex:XP,setMouseClickAxisIndex:iY,setSyncInteraction:Jb,setKeyboardInteraction:ex}=YP.actions,aY=YP.reducer;function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){sY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sY(t,e,n){return(e=oY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oY(t){var e=lY(t,"string");return typeof e=="symbol"?e:e+""}function lY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uY(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cY(t){return t.index!=null}var QP=(t,e,n,r)=>{if(e==null)return $s;var a=uY(t,e,n);if(a==null)return $s;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(cY(a)){if(o)return Jh(Jh({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Jh(Jh({},$s),{},{coordinate:a.coordinate})},c1=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!pr(r))return n;var a=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(a,Math.min(r,o)))},ZP=(t,e,n,r,a,o,l,c)=>{if(!(o==null||c==null)){var d=l[0],h=d==null?void 0:c(d.positions,o);if(h!=null)return h;var m=a?.[Number(o)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},JP=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===a})},vd=t=>t.options.tooltipPayloadSearcher,Zu=t=>t.tooltip;function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){fY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fY(t,e,n){return(e=dY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dY(t){var e=hY(t,"string");return typeof e=="symbol"?e:e+""}function hY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mY(t,e){return t??e}var eM=(t,e,n,r,a,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:m}=n,y=[];return t.reduce((v,_)=>{var E,{dataDefinedOnItem:k,settings:T}=_,I=mY(k,c),M=Array.isArray(I)?zR(I,h,m):I,L=(E=T?.dataKey)!==null&&E!==void 0?E:r,z=T?.nameKey,q;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?q=zI(M,r,a):q=o(M,e,d,z),Array.isArray(q))q.forEach(R=>{var O=aC(aC({},T),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(Fk({tooltipEntrySettings:O,dataKey:R.dataKey,payload:R.payload,value:mr(R.payload,R.dataKey),name:R.name}))});else{var F;v.push(Fk({tooltipEntrySettings:T,dataKey:L,payload:q,value:mr(q,L),name:(F=mr(q,z))!==null&&F!==void 0?F:T?.name}))}return v},y)}},f1=te([Dn,Nt,uP,G_,wn],RP),gY=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),pY=te([wn,Xu],cP),bd=te([gY,Dn,pY],dP),yY=te([bd],t=>t.filter(e1)),vY=te([bd],pP),Ju=te([vY,ho],yP),bY=te([yY,ho,Dn],sP),d1=te([Ju,Dn,bd],vP),xY=te([Dn],r1),_Y=te([bd],t=>t.filter(e1)),wY=te([bY,_Y,ap],xP),EY=te([wY,ho,wn],_P),TY=te([bd],mP),SY=te([Ju,Dn,TY,cp,wn],wP),AY=te([TP,wn,Xu],Qu),kY=te([AY,wn],kP),CY=te([SP,wn,Xu],Qu),OY=te([CY,wn],CP),NY=te([AP,wn,Xu],Qu),IY=te([NY,wn],OP),RY=te([kY,IY,OY],cg),DY=te([Dn,xY,EY,SY,RY,Nt,wn],NP),tM=te([Dn,Nt,Ju,d1,ap,wn,DY],IP),PY=te([tM,Dn,f1],DP),MY=te([Dn,tM,PY,wn],PP),nM=t=>{var e=wn(t),n=Xu(t),r=!1;return yd(t,e,n,r)},rM=te([Dn,nM],sp),iM=te([Dn,f1,MY,rM],a1),jY=te([Nt,d1,Dn,wn],UP),LY=te([Nt,d1,Dn,wn],zP),VY=(t,e,n,r,a,o,l,c)=>{if(e){var{type:d}=e,h=Ja(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return y=c==="angleAxis"&&a!=null&&a?.length>=2?fi(a[0]-a[1])*2*y:y,h&&l?l.map((v,_)=>({coordinate:r(v)+y,value:v,index:_,offset:y})):r.domain().map((v,_)=>({coordinate:r(v)+y,value:o?o[v]:v,index:_,offset:y}))}}},rs=te([Nt,Dn,f1,iM,nM,jY,LY,wn],VY),h1=te([FP,HP,ZG],(t,e,n)=>KP(n.shared,t,e)),aM=t=>t.tooltip.settings.trigger,m1=t=>t.tooltip.settings.defaultIndex,hp=te([Zu,h1,aM,m1],QP),Wf=te([hp,Ju],c1),sM=te([rs,Wf],GP),UY=te([hp],t=>{if(t)return t.dataKey}),oM=te([Zu,h1,aM,m1],JP),zY=te([es,ts,Nt,Kn,rs,m1,oM,vd],ZP),BY=te([hp,zY],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),qY=te([hp],t=>t.active),$Y=te([oM,Wf,ho,aP,sM,vd,h1],eM),FY=te([$Y],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){HY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HY(t,e,n){return(e=KY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KY(t){var e=GY(t,"string");return typeof e=="symbol"?e:e+""}function GY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YY=()=>ke(Dn),WY=()=>{var t=YY(),e=ke(rs),n=ke(iM);return Mb(oC(oC({},t),{},{scale:n}),e)},lM=()=>ke(G_),g1=(t,e)=>e,uM=(t,e,n)=>n,p1=(t,e,n,r)=>r,XY=te(rs,t=>Bg(t,e=>e.coordinate)),y1=te([Zu,g1,uM,p1],QP),cM=te([y1,Ju],c1),QY=(t,e,n)=>{if(e!=null){var r=Zu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},fM=te([Zu,g1,uM,p1],JP),fg=te([es,ts,Nt,Kn,rs,p1,fM,vd],ZP),ZY=te([y1,fg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),dM=te(rs,cM,GP),JY=te([fM,cM,ho,aP,dM,vd,g1],eM),eW=te([y1],t=>({isActive:t.active,activeIndex:t.index})),tW=(t,e,n,r,a,o,l,c)=>{if(!(!t||!e||!r||!a||!o)){var d=Aq(t.chartX,t.chartY,e,n,c);if(d){var h=Cq(d,e),m=gq(h,l,o,r,a),y=kq(e,o,m,d);return{activeIndex:String(m),activeCoordinate:y}}}};function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(null,arguments)}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){nW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nW(t,e,n){return(e=rW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rW(t){var e=iW(t,"string");return typeof e=="symbol"?e:e+""}function iW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aW(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:d,chartName:h}=t,m=e,y=n,v=r;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var _,E;if(h==="ScatterChart")_=m,E=b$;else if(h==="BarChart")_=x$(l,m,a,o),E=Q$;else if(l==="radial"){var{cx:k,cy:T,radius:I,startAngle:M,endAngle:L}=nD(m);_={cx:k,cy:T,startAngle:M,endAngle:L,innerRadius:I,outerRadius:I},E=tF}else _={points:nF(l,m,a)},E=gm;var z=typeof c=="object"&&"className"in c?c.className:void 0,q=em(em(em(em({stroke:"#ccc",pointerEvents:"none"},a),_),Hn(c,!1)),{},{payload:y,payloadIndex:v,className:Ot("recharts-tooltip-cursor",z)});return C.isValidElement(c)?C.cloneElement(c,q):C.createElement(E,q)}function sW(t){var e=WY(),n=KR(),r=x_(),a=lM();return C.createElement(aW,tx({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var hM=C.createContext(null),oW=()=>C.useContext(hM),j0={exports:{}},uC;function lW(){return uC||(uC=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function o(d,h,m,y,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new a(m,y||d,v),E=n?n+h:h;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],_]:d._events[E].push(_):(d._events[E]=_,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,y;if(this._eventsCount===0)return h;for(y in m=this._events)e.call(m,y)&&h.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=n?n+h:h,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,_=y.length,E=new Array(_);v<_;v++)E[v]=y[v].fn;return E},c.prototype.listenerCount=function(h){var m=n?n+h:h,y=this._events[m];return y?y.fn?1:y.length:0},c.prototype.emit=function(h,m,y,v,_,E){var k=n?n+h:h;if(!this._events[k])return!1;var T=this._events[k],I=arguments.length,M,L;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),I){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,y),!0;case 4:return T.fn.call(T.context,m,y,v),!0;case 5:return T.fn.call(T.context,m,y,v,_),!0;case 6:return T.fn.call(T.context,m,y,v,_,E),!0}for(L=1,M=new Array(I-1);L<I;L++)M[L-1]=arguments[L];T.fn.apply(T.context,M)}else{var z=T.length,q;for(L=0;L<z;L++)switch(T[L].once&&this.removeListener(h,T[L].fn,void 0,!0),I){case 1:T[L].fn.call(T[L].context);break;case 2:T[L].fn.call(T[L].context,m);break;case 3:T[L].fn.call(T[L].context,m,y);break;case 4:T[L].fn.call(T[L].context,m,y,v);break;default:if(!M)for(q=1,M=new Array(I-1);q<I;q++)M[q-1]=arguments[q];T[L].fn.apply(T[L].context,M)}}return!0},c.prototype.on=function(h,m,y){return o(this,h,m,y,!1)},c.prototype.once=function(h,m,y){return o(this,h,m,y,!0)},c.prototype.removeListener=function(h,m,y,v){var _=n?n+h:h;if(!this._events[_])return this;if(!m)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===m&&(!v||E.once)&&(!y||E.context===y)&&l(this,_);else{for(var k=0,T=[],I=E.length;k<I;k++)(E[k].fn!==m||v&&!E[k].once||y&&E[k].context!==y)&&T.push(E[k]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(j0)),j0.exports}var uW=lW();const cW=oo(uW);var Xf=new cW,nx="recharts.syncEvent.tooltip",cC="recharts.syncEvent.brush";function fW(t,e){if(e){var n=Number.parseInt(e,10);if(!gr(n))return t?.[n]}}var dW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mM=Gr({name:"options",initialState:dW,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hW=mM.reducer,{createEventEmitter:mW}=mM.actions;function gW(t){return t.tooltip.syncInteraction}var pW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gM=Gr({name:"chartData",initialState:pW,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:fC,setDataStartEndIndexes:yW,setComputedData:cte}=gM.actions,vW=gM.reducer,bW=["x","y"];function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){xW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xW(t,e,n){return(e=_W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _W(t){var e=wW(t,"string");return typeof e=="symbol"?e:e+""}function wW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EW(t,e){if(t==null)return{};var n,r,a=TW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function TW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pM=()=>{};function SW(){var t=ke(Y_),e=ke(W_),n=ir(),r=ke(JD),a=ke(rs),o=x_(),l=Qg(),c=ke(d=>d.rootProps.className);C.useEffect(()=>{if(t==null)return pM;var d=(h,m,y)=>{if(e!==y&&t===h){if(r==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate){var _=m.payload.coordinate,{x:E,y:k}=_,T=EW(_,bW),I=Ho(Ho(Ho({},T),typeof E=="number"&&{x:Math.max(l.x,Math.min(E,l.x+l.width))}),typeof k=="number"&&{y:Math.max(l.y,Math.min(k,l.y+l.height))}),M=Ho(Ho({},m),{},{payload:Ho(Ho({},m.payload),{},{coordinate:I})});n(M)}else n(m);return}if(a!=null){var L;if(typeof r=="function"){var z={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},q=r(a,z);L=a[q]}else r==="value"&&(L=a.find(V=>String(V.value)===m.payload.label));var{coordinate:F}=m.payload;if(L==null||m.payload.active===!1||F==null||l==null){n(Jb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:O}=F,D=Math.min(R,l.x+l.width),U=Math.min(O,l.y+l.height),P={x:o==="horizontal"?L.coordinate:D,y:o==="horizontal"?U:L.coordinate},B=Jb({active:m.payload.active,coordinate:P,dataKey:m.payload.dataKey,index:String(L.index),label:m.payload.label});n(B)}}};return Xf.on(nx,d),()=>{Xf.off(nx,d)}},[c,n,e,t,r,a,o,l])}function AW(){var t=ke(Y_),e=ke(W_),n=ir();C.useEffect(()=>{if(t==null)return pM;var r=(a,o,l)=>{e!==l&&t===a&&n(yW(o))};return Xf.on(cC,r),()=>{Xf.off(cC,r)}},[n,e,t])}function kW(){var t=ir();C.useEffect(()=>{t(mW())},[t]),SW(),AW()}function CW(t,e,n,r,a,o){var l=ke(v=>QY(v,t,e)),c=ke(W_),d=ke(Y_),h=ke(JD),m=ke(gW),y=m?.active;C.useEffect(()=>{if(!y&&d!=null&&c!=null){var v=Jb({active:o,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r});Xf.emit(nx,d,v,c)}},[y,n,l,a,r,c,d,h,o])}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){OW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OW(t,e,n){return(e=NW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NW(t){var e=IW(t,"string");return typeof e=="symbol"?e:e+""}function IW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RW(t){return t.dataKey}function DW(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(Qq,e)}var gC=[],PW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ku.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function MW(t){var e=pi(t,PW),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:h,payloadUniqBy:m,position:y,reverseDirection:v,useTranslate3d:_,wrapperStyle:E,cursor:k,shared:T,trigger:I,defaultIndex:M,portal:L,axisId:z}=e,q=ir(),F=typeof M=="number"?String(M):M;C.useEffect(()=>{q(nY({shared:T,trigger:I,axisId:z,active:n,defaultIndex:F}))},[q,T,I,z,n,F]);var R=Qg(),O=XR(),D=QG(T),{activeIndex:U,isActive:P}=ke(Ne=>eW(Ne,D,I,F)),B=ke(Ne=>JY(Ne,D,I,F)),V=ke(Ne=>dM(Ne,D,I,F)),pe=ke(Ne=>ZY(Ne,D,I,F)),Ee=B,Q=oW(),ue=n??P,[ge,Ae]=iB([Ee,ue]),H=D==="axis"?V:void 0;CW(D,I,pe,H,U,ue);var ie=L??Q;if(ie==null)return null;var ae=Ee??gC;ue||(ae=gC),c&&ae.length&&(ae=N8(Ee.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||e.includeHidden)),m,RW));var he=ae.length>0,_e=C.createElement(i$,{allowEscapeViewBox:r,animationDuration:a,animationEasing:o,isAnimationActive:d,active:ue,coordinate:pe,hasPayload:he,offset:h,position:y,reverseDirection:v,useTranslate3d:_,viewBox:R,wrapperStyle:E,lastBoundingBox:ge,innerRef:Ae,hasPortalFromProps:!!L},DW(l,mC(mC({},e),{},{payload:ae,label:H,active:ue,coordinate:pe,accessibilityLayer:O})));return C.createElement(C.Fragment,null,q7.createPortal(_e,ie),ue&&C.createElement(sW,{cursor:k,tooltipEventType:D,coordinate:pe,payload:Ee,index:U}))}var L0={},V0={},U0={},pC;function jW(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:o}={}){let l,c=null;const d=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},y=()=>{h&&m(),k()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,y()},r)},E=()=>{v!==null&&(clearTimeout(v),v=null)},k=()=>{E(),l=void 0,c=null},T=()=>{m()},I=function(...M){if(a?.aborted)return;l=this,c=M;const L=v==null;_(),d&&L&&m()};return I.schedule=_,I.cancel=k,I.flush=T,a?.addEventListener("abort",k,{once:!0}),I}t.debounce=e})(U0)),U0}var yC;function LW(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jW();function n(r,a=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:d}=o,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let m,y=null;const v=e.debounce(function(...k){m=r.apply(this,k),y=null},a,{edges:h}),_=function(...k){return d!=null&&(y===null&&(y=Date.now()),Date.now()-y>=d)?(m=r.apply(this,k),y=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,k),m)},E=()=>(v.flush(),m);return _.cancel=v.cancel,_.flush=E,_}t.debounce=n})(V0)),V0}var vC;function VW(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LW();function n(r,a=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(r,a,{leading:l,maxWait:a,trailing:c})}t.throttle=n})(L0)),L0}var z0,bC;function UW(){return bC||(bC=1,z0=VW().throttle),z0}var zW=UW();const BW=oo(zW);var Af=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]};function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function B0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){qW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e,n){return(e=$W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=FW(t,"string");return typeof e=="symbol"?e:e+""}function FW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HW=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:l=0,minHeight:c,maxHeight:d,children:h,debounce:m=0,id:y,className:v,onResize:_,style:E={}}=t,k=C.useRef(null),T=C.useRef();T.current=_,C.useImperativeHandle(e,()=>k.current);var[I,M]=C.useState({containerWidth:r.width,containerHeight:r.height}),L=C.useCallback((q,F)=>{M(R=>{var O=Math.round(q),D=Math.round(F);return R.containerWidth===O&&R.containerHeight===D?R:{containerWidth:O,containerHeight:D}})},[]);C.useEffect(()=>{var q=D=>{var U,{width:P,height:B}=D[0].contentRect;L(P,B),(U=T.current)===null||U===void 0||U.call(T,P,B)};m>0&&(q=BW(q,m,{trailing:!0,leading:!1}));var F=new ResizeObserver(q),{width:R,height:O}=k.current.getBoundingClientRect();return L(R,O),F.observe(k.current),()=>{F.disconnect()}},[L,m]);var z=C.useMemo(()=>{var{containerWidth:q,containerHeight:F}=I;if(q<0||F<0)return null;Af(Zo(a)||Zo(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,o),Af(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Zo(a)?q:a,O=Zo(o)?F:o;return n&&n>0&&(R?O=R/n:O&&(R=O*n),d&&O>d&&(O=d)),Af(R>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,O,a,o,l,c,n),C.Children.map(h,D=>C.cloneElement(D,{width:R,height:O,style:B0({width:R,height:O},D.props.style)}))},[n,h,o,d,c,l,I,a]);return C.createElement("div",{id:y?"".concat(y):void 0,className:Ot("recharts-responsive-container",v),style:B0(B0({},E),{},{width:a,height:o,minWidth:l,minHeight:c,maxHeight:d}),ref:k},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},z))});function KW(t,e,n){return(e=GW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GW(t){var e=YW(t,"string");return typeof e=="symbol"?e:e+""}function YW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WW{constructor(e){KW(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function XW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){QW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QW(t,e,n){return(e=ZW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=JW(t,"string");return typeof e=="symbol"?e:e+""}function JW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eX={cacheSize:2e3,enableCache:!0},yM=XW({},eX),wC=new WW(yM.cacheSize),tX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EC="recharts_measurement_span";function nX(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(l,"|").concat(c)}var TC=(t,e)=>{try{var n=document.getElementById(EC);n||(n=document.createElement("span"),n.setAttribute("id",EC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,tX,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},kf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ku.isSsr)return{width:0,height:0};if(!yM.enableCache)return TC(e,n);var r=nX(e,n),a=wC.get(r);if(a)return a;var o=TC(e,n);return wC.set(r,o),o},SC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aX=Object.keys(vM),gu="NaN";function sX(t,e){return t*vM[e]}class wr{static parse(e){var n,[,r,a]=(n=iX.exec(e))!==null&&n!==void 0?n:[];return new wr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,gr(e)&&(this.unit=""),n!==""&&!rX.test(n)&&(this.num=NaN,this.unit=""),aX.includes(n)&&(this.num=sX(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new wr(NaN,""):new wr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new wr(NaN,""):new wr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wr(NaN,""):new wr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wr(NaN,""):new wr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gr(this.num)}}function bM(t){if(t.includes(gu))return gu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,o]=(n=SC.exec(e))!==null&&n!==void 0?n:[],l=wr.parse(r??""),c=wr.parse(o??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return gu;e=e.replace(SC,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,y,v]=(h=AC.exec(e))!==null&&h!==void 0?h:[],_=wr.parse(m??""),E=wr.parse(v??""),k=y==="+"?_.add(E):_.subtract(E);if(k.isNaN())return gu;e=e.replace(AC,k.toString())}return e}var kC=/\(([^()]*)\)/;function oX(t){for(var e=t,n;(n=kC.exec(e))!=null;){var[,r]=n;e=e.replace(kC,bM(r))}return e}function lX(t){var e=t.replace(/\s+/g,"");return e=oX(e),e=bM(e),e}function uX(t){try{return lX(t)}catch{return gu}}function q0(t){var e=uX(t.slice(5,-1));return e===gu?"":e}var cX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fX=["dx","dy","angle","className","breakAll"];function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(null,arguments)}function CC(t,e){if(t==null)return{};var n,r,a=dX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function dX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xM=/[ \f\n\r\t\v\u2028\u2029]+/,_M=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];$n(e)||(n?a=e.toString().split(""):a=e.toString().split(xM));var o=a.map(c=>({word:c,width:kf(c,r).width})),l=n?0:kf(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},hX=(t,e,n,r,a)=>{var{maxLines:o,children:l,style:c,breakAll:d}=t,h=Oe(o),m=l,y=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((B,V)=>{var{word:pe,width:Ee}=V,Q=B[B.length-1];if(Q&&(r==null||a||Q.width+Ee+n<Number(r)))Q.words.push(pe),Q.width+=Ee+n;else{var ue={words:[pe],width:Ee};B.push(ue)}return B},[])},v=y(e),_=U=>U.reduce((P,B)=>P.width>B.width?P:B);if(!h||a)return v;var E=v.length>o||_(v).width>Number(r);if(!E)return v;for(var k="…",T=U=>{var P=m.slice(0,U),B=_M({breakAll:d,style:c,children:P+k}).wordsWithComputedWidth,V=y(B),pe=V.length>o||_(V).width>Number(r);return[pe,V]},I=0,M=m.length-1,L=0,z;I<=M&&L<=m.length-1;){var q=Math.floor((I+M)/2),F=q-1,[R,O]=T(F),[D]=T(q);if(!R&&!D&&(I=q+1),R&&D&&(M=q-1),!R&&D){z=O;break}L++}return z||v},OC=t=>{var e=$n(t)?[]:t.toString().split(xM);return[{words:e}]},mX=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:o,maxLines:l}=t;if((e||n)&&!Ku.isSsr){var c,d,h=_M({breakAll:o,children:r,style:a});if(h){var{wordsWithComputedWidth:m,spaceWidth:y}=h;c=m,d=y}else return OC(r);return hX({breakAll:o,children:r,maxLines:l,style:a},c,d,e,n)}return OC(r)},NC="#808080",v1=C.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:d="end",fill:h=NC}=t,m=CC(t,cX),y=C.useMemo(()=>mX({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:v,dy:_,angle:E,className:k,breakAll:T}=m,I=CC(m,fX);if(!hi(n)||!hi(r)||y.length===0)return null;var M=n+(Oe(v)?v:0),L=r+(Oe(_)?_:0),z;switch(d){case"start":z=q0("calc(".concat(o,")"));break;case"middle":z=q0("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:z=q0("calc(".concat(y.length-1," * -").concat(a,")"));break}var q=[];if(l){var F=y[0].width,{width:R}=m;q.push("scale(".concat(Oe(R)?R/F:1,")"))}return E&&q.push("rotate(".concat(E,", ").concat(M,", ").concat(L,")")),q.length&&(I.transform=q.join(" ")),C.createElement("text",rx({},Hn(I,!0),{ref:e,x:M,y:L,className:Ot("recharts-text",k),textAnchor:c,fill:h.includes("url")?NC:h}),y.map((O,D)=>{var U=O.words.join(T?"":" ");return C.createElement("tspan",{x:M,dy:D===0?z:a,key:"".concat(U,"-").concat(D)},U)}))});v1.displayName="Text";var gX=["labelRef"];function pX(t,e){if(t==null)return{};var n,r,a=yX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){vX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vX(t,e,n){return(e=bX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bX(t){var e=xX(t,"string");return typeof e=="symbol"?e:e+""}function xX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(null,arguments)}var wM=C.createContext(null),EM=t=>{var{x:e,y:n,width:r,height:a,children:o}=t,l=C.useMemo(()=>({x:e,y:n,width:r,height:a}),[e,n,r,a]);return C.createElement(wM.Provider,{value:l},o)},TM=()=>{var t=C.useContext(wM),e=Qg();return t||e},_X=C.createContext(null),wX=()=>{var t=C.useContext(_X),e=ke(iP);return t||e},EX=t=>{var{value:e,formatter:n}=t,r=$n(t.children)?e:t.children;return typeof n=="function"?n(r):r},b1=t=>t!=null&&typeof t=="function",TX=(t,e)=>{var n=fi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},SX=(t,e,n,r,a)=>{var{offset:o,className:l}=t,{cx:c,cy:d,innerRadius:h,outerRadius:m,startAngle:y,endAngle:v,clockWise:_}=a,E=(h+m)/2,k=TX(y,v),T=k>=0?1:-1,I,M;switch(e){case"insideStart":I=y+T*o,M=_;break;case"insideEnd":I=v-T*o,M=!_;break;case"end":I=v+T*o,M=_;break;default:throw new Error("Unsupported position ".concat(e))}M=k<=0?M:!M;var L=qn(c,d,E,I),z=qn(c,d,E,I+(M?1:-1)*359),q="M".concat(L.x,",").concat(L.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(M?0:1,`,
    `).concat(z.x,",").concat(z.y),F=$n(t.id)?zf("recharts-radial-line-"):t.id;return C.createElement("text",Pa({},r,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:F,d:q})),C.createElement("textPath",{xlinkHref:"#".concat(F)},n))},AX=(t,e,n)=>{var{cx:r,cy:a,innerRadius:o,outerRadius:l,startAngle:c,endAngle:d}=t,h=(c+d)/2;if(n==="outside"){var{x:m,y}=qn(r,a,l+e,h);return{x:m,y,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:_,y:E}=qn(r,a,v,h);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},SM=t=>"cx"in t&&Oe(t.cx),kX=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,o;n!=null&&!SM(n)&&(o=n);var{x:l,y:c,width:d,height:h}=e,m=h>=0?1:-1,y=m*r,v=m>0?"end":"start",_=m>0?"start":"end",E=d>=0?1:-1,k=E*r,T=E>0?"end":"start",I=E>0?"start":"end";if(a==="top"){var M={x:l+d/2,y:c-m*r,textAnchor:"middle",verticalAnchor:v};return sn(sn({},M),o?{height:Math.max(c-o.y,0),width:d}:{})}if(a==="bottom"){var L={x:l+d/2,y:c+h+y,textAnchor:"middle",verticalAnchor:_};return sn(sn({},L),o?{height:Math.max(o.y+o.height-(c+h),0),width:d}:{})}if(a==="left"){var z={x:l-k,y:c+h/2,textAnchor:T,verticalAnchor:"middle"};return sn(sn({},z),o?{width:Math.max(z.x-o.x,0),height:h}:{})}if(a==="right"){var q={x:l+d+k,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return sn(sn({},q),o?{width:Math.max(o.x+o.width-q.x,0),height:h}:{})}var F=o?{width:d,height:h}:{};return a==="insideLeft"?sn({x:l+k,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},F):a==="insideRight"?sn({x:l+d-k,y:c+h/2,textAnchor:T,verticalAnchor:"middle"},F):a==="insideTop"?sn({x:l+d/2,y:c+y,textAnchor:"middle",verticalAnchor:_},F):a==="insideBottom"?sn({x:l+d/2,y:c+h-y,textAnchor:"middle",verticalAnchor:v},F):a==="insideTopLeft"?sn({x:l+k,y:c+y,textAnchor:I,verticalAnchor:_},F):a==="insideTopRight"?sn({x:l+d-k,y:c+y,textAnchor:T,verticalAnchor:_},F):a==="insideBottomLeft"?sn({x:l+k,y:c+h-y,textAnchor:I,verticalAnchor:v},F):a==="insideBottomRight"?sn({x:l+d-k,y:c+h-y,textAnchor:T,verticalAnchor:v},F):a&&typeof a=="object"&&(Oe(a.x)||Zo(a.x))&&(Oe(a.y)||Zo(a.y))?sn({x:l+ao(a.x,d),y:c+ao(a.y,h),textAnchor:"end",verticalAnchor:"end"},F):sn({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},CX={offset:5};function Vs(t){var e=pi(t,CX),{viewBox:n,position:r,value:a,children:o,content:l,className:c="",textBreakAll:d,labelRef:h}=e,m=wX(),y=TM(),v=r==="center"?y:m??y,_=n||v;if(!_||$n(a)&&$n(o)&&!C.isValidElement(l)&&typeof l!="function")return null;var E=sn(sn({},e),{},{viewBox:_});if(C.isValidElement(l)){var{labelRef:k}=E,T=pX(E,gX);return C.cloneElement(l,T)}var I;if(typeof l=="function"){if(I=C.createElement(l,E),C.isValidElement(I))return I}else I=EX(e);var M=SM(_),L=Hn(e,!0);if(M&&(r==="insideStart"||r==="insideEnd"||r==="end"))return SX(e,r,I,L,_);var z=M?AX(_,e.offset,e.position):kX(e,_);return C.createElement(v1,Pa({ref:h,className:Ot("recharts-label",c)},L,z,{breakAll:d}),I)}Vs.displayName="Label";var OX=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(Vs,Pa({key:"label-implicit"},r)):hi(t)?C.createElement(Vs,Pa({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===Vs?C.cloneElement(t,sn({key:"label-implicit"},r)):C.createElement(Vs,Pa({key:"label-implicit",content:t},r)):b1(t)?C.createElement(Vs,Pa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(Vs,Pa({},t,{key:"label-implicit"},r)):null};function AM(t){var{label:e}=t,n=TM();return OX(e,n)||null}var $0={},F0={},RC;function NX(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(F0)),F0}var H0={},DC;function IX(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(H0)),H0}var PC;function RX(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NX(),n=IX(),r=d_();function a(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=a})($0)),$0}var K0,MC;function DX(){return MC||(MC=1,K0=RX().last),K0}var PX=DX();const MX=oo(PX);var jX=["valueAccessor"],LX=["dataKey","clockWise","id","textBreakAll"];function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(null,arguments)}function jC(t,e){if(t==null)return{};var n,r,a=VX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function VX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var UX=t=>Array.isArray(t.value)?MX(t.value):t.value,kM=C.createContext(void 0),zX=kM.Provider,CM=C.createContext(void 0);CM.Provider;function BX(){return C.useContext(kM)}function qX(){return C.useContext(CM)}function pm(t){var{valueAccessor:e=UX}=t,n=jC(t,jX),{dataKey:r,clockWise:a,id:o,textBreakAll:l}=n,c=jC(n,LX),d=BX(),h=qX(),m=d||h;return!m||!m.length?null:C.createElement(sa,{className:"recharts-label-list"},m.map((y,v)=>{var _,E=$n(r)?e(y,v):mr(y&&y.payload,r),k=$n(o)?{}:{id:"".concat(o,"-").concat(v)};return C.createElement(Vs,dg({},Hn(y,!0),c,k,{fill:(_=n.fill)!==null&&_!==void 0?_:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,key:"label-".concat(v),index:v}))}))}pm.displayName="LabelList";function $X(t){var{label:e}=t;return e?e===!0?C.createElement(pm,{key:"labelList-implicit"}):C.isValidElement(e)||b1(e)?C.createElement(pm,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(pm,dg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}var OM=t=>{var{cx:e,cy:n,r,className:a}=t,o=Ot("recharts-dot",a);return e===+e&&n===+n&&r===+r?C.createElement("circle",ix({},uo(t),c_(t),{className:o,cx:e,cy:n,r})):null},FX={radiusAxis:{},angleAxis:{}},NM=Gr({name:"polarAxis",initialState:FX,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:fte,removeRadiusAxis:dte,addAngleAxis:hte,removeAngleAxis:mte}=NM.actions,HX=NM.reducer;function KX(t){var{fn:e,args:n}=t,r=ir(),a=Yr();return C.useEffect(()=>{if(!a){var o=e(n);return r(eY(o)),()=>{r(tY(o))}}},[e,n,r,a]),null}var GX=()=>{};function YX(t){var{legendPayload:e}=t,n=ir(),r=Yr();return C.useEffect(()=>r?GX:(n(Fq(e)),()=>{n(Hq(e))}),[n,r,e]),null}var G0,WX=()=>{var[t]=C.useState(()=>zf("uid-"));return t},XX=(G0=K4.useId)!==null&&G0!==void 0?G0:WX;function QX(t,e){var n=XX();return e||(t?"".concat(t,"-").concat(n):n)}var ZX=C.createContext(void 0),JX=t=>{var{id:e,type:n,children:r}=t,a=QX("recharts-".concat(n),e);return C.createElement(ZX.Provider,{value:a},r(a))},eQ={cartesianItems:[],polarItems:[]},IM=Gr({name:"graphicalItems",initialState:eQ,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,a=Ba(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},removeCartesianGraphicalItem(t,e){var n=Ba(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ba(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:tQ,replaceCartesianGraphicalItem:nQ,removeCartesianGraphicalItem:rQ,addPolarGraphicalItem:gte,removePolarGraphicalItem:pte}=IM.actions,iQ=IM.reducer;function aQ(t){var e=ir(),n=C.useRef(null);return C.useEffect(()=>{n.current===null?e(tQ(t)):n.current!==t&&e(nQ({prev:n.current,next:t})),n.current=t},[e,t]),C.useEffect(()=>()=>{n.current&&(e(rQ(n.current)),n.current=null)},[e]),null}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){sQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sQ(t,e,n){return(e=oQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=lQ(t,"string");return typeof e=="symbol"?e:e+""}function lQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uQ={xAxis:{},yAxis:{},zAxis:{}},RM=Gr({name:"cartesianAxis",initialState:uQ,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=VC(VC({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:cQ,removeXAxis:fQ,addYAxis:dQ,removeYAxis:hQ,addZAxis:yte,removeZAxis:vte,updateYAxisWidth:mQ}=RM.actions,gQ=RM.reducer,pQ=te([Kn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),yQ=te([pQ,es,ts],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),x1=()=>ke(yQ),vQ=()=>ke(FY);function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){bQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bQ(t,e,n){return(e=xQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xQ(t){var e=_Q(t,"string");return typeof e=="symbol"?e:e+""}function _Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wQ=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:o}=t;if(a===!1||e.x==null||e.y==null)return null;var l=zC(zC({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Hn(a,!1)),c_(a)),c;return C.isValidElement(a)?c=C.cloneElement(a,l):typeof a=="function"?c=a(l):c=C.createElement(OM,l),C.createElement(sa,{className:"recharts-active-dot"},c)};function BC(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a}=t,o=ke(Wf),l=vQ();if(e==null||l==null)return null;var c=e.find(d=>l.includes(d.payload));return $n(c)?null:wQ({point:c,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:r})}var EQ={},DM=Gr({name:"errorBars",initialState:EQ,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?a:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:bte,replaceErrorBar:xte,removeErrorBar:_te}=DM.actions,TQ=DM.reducer;function PM(t,e){var n,r,a=ke(h=>la(h,t)),o=ke(h=>ua(h,e)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:zr.allowDataOverflow,c=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Br.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function SQ(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=x1(),{needClipX:o,needClipY:l,needClip:c}=PM(e,n);if(!c)return null;var{x:d,y:h,width:m,height:y}=a;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?d:d-m/2,y:l?h:h-y/2,width:o?m:m*2,height:l?y:y*2}))}var AQ=t=>{var{chartData:e}=t,n=ir(),r=Yr();return C.useEffect(()=>r?()=>{}:(n(fC(e)),()=>{n(fC(void 0))}),[e,n,r]),null},qC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MM=Gr({name:"brush",initialState:qC,reducers:{setBrushSettings(t,e){return e.payload==null?qC:e.payload}}}),{setBrushSettings:wte}=MM.actions,kQ=MM.reducer;function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){jM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jM(t,e,n){return(e=CQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQ(t){var e=OQ(t,"string");return typeof e=="symbol"?e:e+""}function OQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NQ=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return{x:Math.min(n,a),y:Math.min(r,o),width:Math.abs(a-n),height:Math.abs(o-r)}},IQ=t=>{var{x1:e,y1:n,x2:r,y2:a}=t;return NQ({x:e,y:n},{x:r,y:a})};class mp{static create(e){return new mp(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}jM(mp,"EPS",1e-4);var RQ=t=>{var e=Object.keys(t).reduce((n,r)=>tm(tm({},n),{},{[r]:mp.create(t[r])}),{});return tm(tm({},e),{},{apply(n){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(o=>{var[l,c]=o;return[l,e[l].apply(c,{bandAware:r,position:a})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function DQ(t){return(t%180+180)%180}var PQ=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=DQ(a),l=o*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},MQ={dots:[],areas:[],lines:[]},LM=Gr({name:"referenceElements",initialState:MQ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ba(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ba(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ba(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Ete,removeDot:Tte,addArea:Ste,removeArea:Ate,addLine:jQ,removeLine:LQ}=LM.actions,VQ=LM.reducer,VM=C.createContext(void 0),UQ=t=>{var{children:e}=t,[n]=C.useState("".concat(zf("recharts"),"-clip")),r=x1();if(r==null)return null;var{x:a,y:o,width:l,height:c}=r;return C.createElement(VM.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:a,y:o,height:c,width:l}))),e)},zQ=()=>C.useContext(VM);function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function HC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){_1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _1(t,e,n){return(e=BQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=qQ(t,"string");return typeof e=="symbol"?e:e+""}function qQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(null,arguments)}var $Q=(t,e)=>{var n;return C.isValidElement(t)?n=C.cloneElement(t,e):typeof t=="function"?n=t(e):n=C.createElement("line",ax({},e,{className:"recharts-reference-line-line"})),n},FQ=(t,e,n,r,a,o,l,c,d)=>{var{x:h,y:m,width:y,height:v}=a;if(n){var{y:_}=d,E=t.y.apply(_,{position:o});if(gr(E)||d.ifOverflow==="discard"&&!t.y.isInRange(E))return null;var k=[{x:h+y,y:E},{x:h,y:E}];return c==="left"?k.reverse():k}if(e){var{x:T}=d,I=t.x.apply(T,{position:o});if(gr(I)||d.ifOverflow==="discard"&&!t.x.isInRange(I))return null;var M=[{x:I,y:m+v},{x:I,y:m}];return l==="top"?M.reverse():M}if(r){var{segment:L}=d,z=L.map(q=>t.apply(q,{position:o}));return d.ifOverflow==="discard"&&z.some(q=>!t.isInRange(q))?null:z}return null};function HQ(t){var e=ir();return C.useEffect(()=>(e(jQ(t)),()=>{e(LQ(t))})),null}function KQ(t){var{x:e,y:n,segment:r,xAxisId:a,yAxisId:o,shape:l,className:c,ifOverflow:d}=t,h=Yr(),m=zQ(),y=ke(P=>la(P,a)),v=ke(P=>ua(P,o)),_=ke(P=>so(P,"xAxis",a,h)),E=ke(P=>so(P,"yAxis",o,h)),k=Qg(),T=hi(e),I=hi(n);if(!m||!k||y==null||v==null||_==null||E==null)return null;var M=RQ({x:_,y:E}),L=r&&r.length===2,z=FQ(M,T,I,L,k,t.position,y.orientation,v.orientation,t);if(!z)return null;var[{x:q,y:F},{x:R,y:O}]=z,D=d==="hidden"?"url(#".concat(m,")"):void 0,U=HC(HC({clipPath:D},Hn(t,!0)),{},{x1:q,y1:F,x2:R,y2:O});return C.createElement(sa,{className:Ot("recharts-reference-line",c)},$Q(l,U),C.createElement(EM,IQ({x1:q,y1:F,x2:R,y2:O}),C.createElement(AM,{label:t.label}),t.children))}function GQ(t){return C.createElement(C.Fragment,null,C.createElement(HQ,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y}),C.createElement(KQ,t))}class w1 extends C.Component{render(){return C.createElement(GQ,this.props)}}_1(w1,"displayName","ReferenceLine");_1(w1,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ju(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function UM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function YQ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return PQ(r,n)}function WQ(t,e,n){var r=n==="width",{x:a,y:o,width:l,height:c}=t;return e===1?{start:r?a:o,end:r?a+l:o+c}:{start:r?a+l:o+c,end:r?a:o}}function hg(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-a)<=0}function XQ(t,e){return UM(t,e+1)}function QQ(t,e,n,r,a){for(var o=(r||[]).slice(),{start:l,end:c}=e,d=0,h=1,m=l,y=function(){var E=r?.[d];if(E===void 0)return{v:UM(r,h)};var k=d,T,I=()=>(T===void 0&&(T=n(E,k)),T),M=E.coordinate,L=d===0||hg(t,M,I,m,c);L||(d=0,m=l,h+=1),L&&(m=M+t*(I()/2+a),d+=h)},v;h<=o.length;)if(v=y(),v)return v.v;return[]}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){ZQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZQ(t,e,n){return(e=JQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=eZ(t,"string");return typeof e=="symbol"?e:e+""}function eZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tZ(t,e,n,r,a){for(var o=(r||[]).slice(),l=o.length,{start:c}=e,{end:d}=e,h=function(v){var _=o[v],E,k=()=>(E===void 0&&(E=n(_,v)),E);if(v===l-1){var T=t*(_.coordinate+t*k()/2-d);o[v]=_=Jn(Jn({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else o[v]=_=Jn(Jn({},_),{},{tickCoord:_.coordinate});var I=hg(t,_.tickCoord,k,c,d);I&&(d=_.tickCoord-t*(k()/2+a),o[v]=Jn(Jn({},_),{},{isShow:!0}))},m=l-1;m>=0;m--)h(m);return o}function nZ(t,e,n,r,a,o){var l=(r||[]).slice(),c=l.length,{start:d,end:h}=e;if(o){var m=r[c-1],y=n(m,c-1),v=t*(m.coordinate+t*y/2-h);l[c-1]=m=Jn(Jn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var _=hg(t,m.tickCoord,()=>y,d,h);_&&(h=m.tickCoord-t*(y/2+a),l[c-1]=Jn(Jn({},m),{},{isShow:!0}))}for(var E=o?c-1:c,k=function(M){var L=l[M],z,q=()=>(z===void 0&&(z=n(L,M)),z);if(M===0){var F=t*(L.coordinate-t*q()/2-d);l[M]=L=Jn(Jn({},L),{},{tickCoord:F<0?L.coordinate-F*t:L.coordinate})}else l[M]=L=Jn(Jn({},L),{},{tickCoord:L.coordinate});var R=hg(t,L.tickCoord,q,d,h);R&&(d=L.tickCoord+t*(q()/2+a),l[M]=Jn(Jn({},L),{},{isShow:!0}))},T=0;T<E;T++)k(T);return l}function E1(t,e,n){var{tick:r,ticks:a,viewBox:o,minTickGap:l,orientation:c,interval:d,tickFormatter:h,unit:m,angle:y}=t;if(!a||!a.length||!r)return[];if(Oe(d)||Ku.isSsr){var v;return(v=XQ(a,Oe(d)?d:0))!==null&&v!==void 0?v:[]}var _=[],E=c==="top"||c==="bottom"?"width":"height",k=m&&E==="width"?kf(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(L,z)=>{var q=typeof h=="function"?h(L.value,z):L.value;return E==="width"?YQ(kf(q,{fontSize:e,letterSpacing:n}),k,y):kf(q,{fontSize:e,letterSpacing:n})[E]},I=a.length>=2?fi(a[1].coordinate-a[0].coordinate):1,M=WQ(o,I,E);return d==="equidistantPreserveStart"?QQ(I,M,T,a,l):(d==="preserveStart"||d==="preserveStartEnd"?_=nZ(I,M,T,a,l,d==="preserveStartEnd"):_=tZ(I,M,T,a,l),_.filter(L=>L.isShow))}var rZ=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:o=0}=t,l=0;if(e){e.forEach(m=>{if(m){var y=m.getBoundingClientRect();y.width>l&&(l=y.width)}});var c=n?n.getBoundingClientRect().width:0,d=a+o,h=l+d+c+(n?r:0);return Math.round(h)}return 0},iZ=["axisLine","width","height","className","hide","ticks"],aZ=["viewBox"],sZ=["viewBox"];function sx(t,e){if(t==null)return{};var n,r,a=oZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function oZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(null,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){lZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e,n){return(e=uZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uZ(t){var e=cZ(t,"string");return typeof e=="symbol"?e:e+""}function cZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T1={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function fZ(t){var{x:e,y:n,width:r,height:a,orientation:o,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var h=vn(vn(vn({},d),Hn(c,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!l||o==="bottom"&&l);h=vn(vn({},h),{},{x1:e,y1:n+m*a,x2:e+r,y2:n+m*a})}else{var y=+(o==="left"&&!l||o==="right"&&l);h=vn(vn({},h),{},{x1:e+y*r,y1:n,x2:e+y*r,y2:n+a})}return C.createElement("line",gl({},h,{className:Ot("recharts-cartesian-axis-line",Vg(c,"className"))}))}function dZ(t,e,n,r,a,o,l,c,d){var h,m,y,v,_,E,k=c?-1:1,T=t.tickSize||l,I=Oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":h=m=t.coordinate,v=n+ +!c*a,y=v-k*T,E=y-k*d,_=I;break;case"left":y=v=t.coordinate,m=e+ +!c*r,h=m-k*T,_=h-k*d,E=I;break;case"right":y=v=t.coordinate,m=e+ +c*r,h=m+k*T,_=h+k*d,E=I;break;default:h=m=t.coordinate,v=n+ +c*a,y=v+k*T,E=y+k*d,_=I;break}return{line:{x1:h,y1:y,x2:m,y2:v},tick:{x:_,y:E}}}function hZ(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function mZ(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function gZ(t){var{option:e,tickProps:n,value:r}=t,a,o=Ot(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))a=C.cloneElement(e,vn(vn({},n),{},{className:o}));else if(typeof e=="function")a=e(vn(vn({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Ot(l,e?.className)),a=C.createElement(v1,gl({},n,{className:l}),r)}return a}function pZ(t){var{ticks:e=[],tick:n,tickLine:r,stroke:a,tickFormatter:o,unit:l,padding:c,tickTextProps:d,orientation:h,mirror:m,x:y,y:v,width:_,height:E,tickSize:k,tickMargin:T,fontSize:I,letterSpacing:M,getTicksConfig:L,events:z}=t,q=E1(vn(vn({},L),{},{ticks:e}),I,M),F=hZ(h,m),R=mZ(h,m),O=uo(L),D=Hn(n,!1),U=vn(vn({},O),{},{fill:"none"},Hn(r,!1)),P=q.map((B,V)=>{var{line:pe,tick:Ee}=dZ(B,y,v,_,E,h,k,m,T),Q=vn(vn(vn(vn({textAnchor:F,verticalAnchor:R},O),{},{stroke:"none",fill:a},D),Ee),{},{index:V,payload:B,visibleTicksCount:q.length,tickFormatter:o,padding:c},d);return C.createElement(sa,gl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},D7(z,B,V)),r&&C.createElement("line",gl({},U,pe,{className:Ot("recharts-cartesian-axis-tick-line",Vg(r,"className"))})),n&&C.createElement(gZ,{option:n,tickProps:Q,value:"".concat(typeof o=="function"?o(B.value,V):B.value).concat(l||"")}))});return P.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var yZ=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:o,hide:l,ticks:c}=t,d=sx(t,iZ),[h,m]=C.useState(""),[y,v]=C.useState(""),_=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var k;return rZ({ticks:_.current,label:(k=t.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=C.useCallback(k=>{if(k){var T=k.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=Array.from(T);var I=T[0];if(I){var M=window.getComputedStyle(I),L=M.fontSize,z=M.letterSpacing;(L!==h||z!==y)&&(m(L),v(z))}}},[h,y]);return l||r!=null&&r<=0||a!=null&&a<=0?null:C.createElement(sa,{className:Ot("recharts-cartesian-axis",o),ref:E},C.createElement(fZ,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:uo(t)}),C.createElement(pZ,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:h,letterSpacing:y,getTicksConfig:t,events:d}),C.createElement(EM,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(AM,{label:t.label}),t.children))}),vZ=C.memo(yZ,(t,e)=>{var{viewBox:n}=t,r=sx(t,aZ),{viewBox:a}=e,o=sx(e,sZ);return ju(n,a)&&ju(r,o)}),S1=C.forwardRef((t,e)=>{var n=pi(t,T1);return C.createElement(vZ,gl({},n,{ref:e}))});S1.displayName="CartesianAxis";var bZ=["x1","y1","x2","y2","key"],xZ=["offset"],_Z=["xAxisId","yAxisId"],wZ=["xAxisId","yAxisId"];function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){EZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EZ(t,e,n){return(e=TZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TZ(t){var e=SZ(t,"string");return typeof e=="symbol"?e:e+""}function SZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(null,arguments)}function mg(t,e){if(t==null)return{};var n,r,a=AZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function AZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kZ=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:o,height:l,ry:c}=t;return C.createElement("rect",{x:r,y:a,ry:c,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zM(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:a,x2:o,y2:l,key:c}=e,d=mg(e,bZ),h=uo(d),{offset:m}=h,y=mg(h,xZ);n=C.createElement("line",tl({},y,{x1:r,y1:a,x2:o,y2:l,fill:"none",key:c}))}return n}function CZ(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=mg(t,_Z),d=a.map((h,m)=>{var y=nr(nr({},c),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(m),index:m});return zM(r,y)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function OZ(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=mg(t,wZ),d=a.map((h,m)=>{var y=nr(nr({},c),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(m),index:m});return zM(r,y)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function NZ(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:o,height:l,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var h=c.map(y=>Math.round(y+a-a)).sort((y,v)=>y-v);a!==h[0]&&h.unshift(0);var m=h.map((y,v)=>{var _=!h[v+1],E=_?a+l-y:h[v+1]-y;if(E<=0)return null;var k=v%e.length;return C.createElement("rect",{key:"react-".concat(v),y,x:r,height:E,width:o,stroke:"none",fill:e[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function IZ(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:o,width:l,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(y=>Math.round(y+a-a)).sort((y,v)=>y-v);a!==h[0]&&h.unshift(0);var m=h.map((y,v)=>{var _=!h[v+1],E=_?a+l-y:h[v+1]-y;if(E<=0)return null;var k=v%n.length;return C.createElement("rect",{key:"react-".concat(v),x:y,y:o,width:E,height:c,stroke:"none",fill:n[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var RZ=(t,e)=>{var{xAxis:n,width:r,height:a,offset:o}=t;return BR(E1(nr(nr(nr({},T1),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,e)},DZ=(t,e)=>{var{yAxis:n,width:r,height:a,offset:o}=t;return BR(E1(nr(nr(nr({},T1),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,e)},PZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function BM(t){var e=GR(),n=YR(),r=KR(),a=nr(nr({},pi(t,PZ)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:c,y:d,width:h,height:m,syncWithTicks:y,horizontalValues:v,verticalValues:_}=a,E=Yr(),k=ke(D=>nC(D,"xAxis",o,E)),T=ke(D=>nC(D,"yAxis",l,E));if(!Oe(h)||h<=0||!Oe(m)||m<=0||!Oe(c)||c!==+c||!Oe(d)||d!==+d)return null;var I=a.verticalCoordinatesGenerator||RZ,M=a.horizontalCoordinatesGenerator||DZ,{horizontalPoints:L,verticalPoints:z}=a;if((!L||!L.length)&&typeof M=="function"){var q=v&&v.length,F=M({yAxis:T?nr(nr({},T),{},{ticks:q?v:T.ticks}):void 0,width:e,height:n,offset:r},q?!0:y);Af(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(L=F)}if((!z||!z.length)&&typeof I=="function"){var R=_&&_.length,O=I({xAxis:k?nr(nr({},k),{},{ticks:R?_:k.ticks}):void 0,width:e,height:n,offset:r},R?!0:y);Af(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(z=O)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(kZ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(NZ,tl({},a,{horizontalPoints:L})),C.createElement(IZ,tl({},a,{verticalPoints:z})),C.createElement(CZ,tl({},a,{offset:r,horizontalPoints:L,xAxis:k,yAxis:T})),C.createElement(OZ,tl({},a,{offset:r,verticalPoints:z,xAxis:k,yAxis:T})))}BM.displayName="CartesianGrid";var qM=(t,e,n,r)=>$P(t,"xAxis",e,r),$M=(t,e,n,r)=>qP(t,"xAxis",e,r),FM=(t,e,n,r)=>$P(t,"yAxis",n,r),HM=(t,e,n,r)=>qP(t,"yAxis",n,r),MZ=te([Nt,qM,FM,$M,HM],(t,e,n,r,a)=>Ja(t,"xAxis")?Mb(e,r,!1):Mb(n,a,!1)),jZ=(t,e,n,r,a)=>a,KM=te([fP,jZ],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),LZ=(t,e,n,r,a)=>{var o,l=KM(t,e,n,r,a);if(l!=null){var c=Nt(t),d=Ja(c,"xAxis"),h;if(d?h=Zb(t,"yAxis",n,r):h=Zb(t,"xAxis",e,r),h!=null){var{stackId:m}=l,y=J_(l);if(!(m==null||y==null)){var v=(o=h[m])===null||o===void 0?void 0:o.stackedData;return v?.find(_=>_.key===y)}}}},VZ=te([Nt,qM,FM,$M,HM,LZ,F_,MZ,KM],(t,e,n,r,a,o,l,c,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:y}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null)){var{data:v}=d,_;if(v&&v.length>0?_=v:_=h?.slice(m,y+1),_!=null){var E=void 0;return aJ({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:m,areaSettings:d,stackedData:o,displayedData:_,chartBaseValue:E,bandSize:c})}}}),UZ=["id"],zZ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function GM(t,e){if(t==null)return{};var n,r,a=BZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function BZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){qZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qZ(t,e,n){return(e=$Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Z(t){var e=FZ(t,"string");return typeof e=="symbol"?e:e+""}function FZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(null,arguments)}function gg(t,e){return t&&t!=="none"?t:e}var HZ=t=>{var{dataKey:e,name:n,stroke:r,fill:a,legendType:o,hide:l}=t;return[{inactive:l,dataKey:e,type:o,color:gg(r,a),value:$R(n,e),payload:t}]};function KZ(t){var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:o,name:l,hide:c,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:o,dataKey:e,nameKey:void 0,name:$R(l,e),hide:c,type:t.tooltipType,color:gg(r,o),unit:d}}}var GZ=(t,e)=>{var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Ot("recharts-area-dot",typeof t!="boolean"?t.className:"");n=C.createElement(OM,$a({},e,{className:r}))}return n};function YZ(t,e){return t==null?!1:e?!0:t.length===1}function WZ(t){var{clipPathId:e,points:n,props:r}=t,{needClip:a,dot:o,dataKey:l}=r;if(!YZ(n,o))return null;var c=qI(o),d=uo(r),h=Hn(o,!0),m=n.map((v,_)=>{var E=Ua(Ua(Ua({key:"dot-".concat(_),r:3},d),h),{},{index:_,cx:v.x,cy:v.y,dataKey:l,value:v.value,payload:v.payload,points:n});return GZ(o,E)}),y={clipPath:a?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return C.createElement(sa,$a({className:"recharts-area-dots"},y),m)}function XZ(t){var{showLabels:e,children:n,points:r}=t,a=r.map(o=>{var l={x:o.x,y:o.y,width:0,height:0};return Ua(Ua({},l),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return C.createElement(zX,{value:e?a:null},n)}function XC(t){var{points:e,baseLine:n,needClip:r,clipPathId:a,props:o}=t,{layout:l,type:c,stroke:d,connectNulls:h,isRange:m}=o,{id:y}=o,v=GM(o,UZ),_=uo(v);return C.createElement(C.Fragment,null,e?.length>1&&C.createElement(sa,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},C.createElement(gm,$a({},_,{id:y,points:e,connectNulls:h,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&C.createElement(gm,$a({},_,{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:e})),d!=="none"&&m&&C.createElement(gm,$a({},_,{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:n}))),C.createElement(WZ,{points:e,props:v,clipPathId:a}))}function QZ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,o=r[0].y,l=r[r.length-1].y;if(!pr(o)||!pr(l))return null;var c=e*Math.abs(o-l),d=Math.max(...r.map(h=>h.x||0));return Oe(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(h=>h.x||0),d)),Oe(d)?C.createElement("rect",{x:0,y:o<l?o:o-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function ZZ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,o=r[0].x,l=r[r.length-1].x;if(!pr(o)||!pr(l))return null;var c=e*Math.abs(o-l),d=Math.max(...r.map(h=>h.y||0));return Oe(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(h=>h.y||0),d)),Oe(d)?C.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function JZ(t){var{alpha:e,layout:n,points:r,baseLine:a,strokeWidth:o}=t;return n==="vertical"?C.createElement(QZ,{alpha:e,points:r,baseLine:a,strokeWidth:o}):C.createElement(ZZ,{alpha:e,points:r,baseLine:a,strokeWidth:o})}function eJ(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:o}=t,{points:l,baseLine:c,isAnimationActive:d,animationBegin:h,animationDuration:m,animationEasing:y,onAnimationStart:v,onAnimationEnd:_}=r,E=tD(r,"recharts-area-"),[k,T]=C.useState(!1),I=!k,M=C.useCallback(()=>{typeof _=="function"&&_(),T(!1)},[_]),L=C.useCallback(()=>{typeof v=="function"&&v(),T(!0)},[v]),z=a.current,q=o.current;return C.createElement(XZ,{showLabels:I,points:l},r.children,C.createElement(eD,{animationId:E,begin:h,duration:m,isActive:d,easing:y,onAnimationEnd:M,onAnimationStart:L,key:E},F=>{if(z){var R=z.length/l.length,O=F===1?l:l.map((U,P)=>{var B=Math.floor(P*R);if(z[B]){var V=z[B];return Ua(Ua({},U),{},{x:Wi(V.x,U.x,F),y:Wi(V.y,U.y,F)})}return U}),D;return Oe(c)?D=Wi(q,c,F):$n(c)||gr(c)?D=Wi(q,0,F):D=c.map((U,P)=>{var B=Math.floor(P*R);if(Array.isArray(q)&&q[B]){var V=q[B];return Ua(Ua({},U),{},{x:Wi(V.x,U.x,F),y:Wi(V.y,U.y,F)})}return U}),F>0&&(a.current=O,o.current=D),C.createElement(XC,{points:O,baseLine:D,needClip:e,clipPathId:n,props:r})}return F>0&&(a.current=l,o.current=c),C.createElement(sa,null,d&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(n)},C.createElement(JZ,{alpha:F,points:l,baseLine:c,layout:r.layout,strokeWidth:r.strokeWidth}))),C.createElement(sa,{clipPath:"url(#animationClipPath-".concat(n,")")},C.createElement(XC,{points:l,baseLine:c,needClip:e,clipPathId:n,props:r})))}),C.createElement($X,{label:r.label}))}function tJ(t){var{needClip:e,clipPathId:n,props:r}=t,a=C.useRef(null),o=C.useRef();return C.createElement(eJ,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:o})}class nJ extends C.PureComponent{render(){var e,{hide:n,dot:r,points:a,className:o,top:l,left:c,needClip:d,xAxisId:h,yAxisId:m,width:y,height:v,id:_,baseLine:E}=this.props;if(n)return null;var k=Ot("recharts-area",o),T=_,{r:I=3,strokeWidth:M=2}=(e=Hn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},L=qI(r),z=I*2+M;return C.createElement(C.Fragment,null,C.createElement(sa,{className:k},d&&C.createElement("defs",null,C.createElement(SQ,{clipPathId:T,xAxisId:h,yAxisId:m}),!L&&C.createElement("clipPath",{id:"clipPath-dots-".concat(T)},C.createElement("rect",{x:c-z/2,y:l-z/2,width:y+z,height:v+z}))),C.createElement(tJ,{needClip:d,clipPathId:T,props:this.props})),C.createElement(BC,{points:a,mainColor:gg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(E)&&C.createElement(BC,{points:E,mainColor:gg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var YM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ku.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function rJ(t){var e,n=pi(t,YM),{activeDot:r,animationBegin:a,animationDuration:o,animationEasing:l,connectNulls:c,dot:d,fill:h,fillOpacity:m,hide:y,isAnimationActive:v,legendType:_,stroke:E,xAxisId:k,yAxisId:T}=n,I=GM(n,zZ),M=x_(),L=lM(),{needClip:z}=PM(k,T),q=Yr(),{points:F,isRange:R,baseLine:O}=(e=ke(pe=>VZ(pe,k,T,q,t.id)))!==null&&e!==void 0?e:{},D=x1();if(M!=="horizontal"&&M!=="vertical"||D==null||L!=="AreaChart"&&L!=="ComposedChart")return null;var{height:U,width:P,x:B,y:V}=D;return!F||!F.length?null:C.createElement(nJ,$a({},I,{activeDot:r,animationBegin:a,animationDuration:o,animationEasing:l,baseLine:O,connectNulls:c,dot:d,fill:h,fillOpacity:m,height:U,hide:y,layout:M,isAnimationActive:v,isRange:R,legendType:_,needClip:z,points:F,stroke:E,width:P,left:B,top:V,xAxisId:k,yAxisId:T}))}var iJ=(t,e,n,r,a)=>{var o=n??e;if(Oe(o))return o;var l=t==="horizontal"?a:r,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return o==="dataMin"?h:o==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]};function aJ(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:a,layout:o,chartBaseValue:l,xAxis:c,yAxis:d,displayedData:h,dataStartIndex:m,xAxisTicks:y,yAxisTicks:v,bandSize:_}=t,E=a&&a.length,k=iJ(o,l,n,c,d),T=o==="horizontal",I=!1,M=h.map((z,q)=>{var F;E?F=a[m+q]:(F=mr(z,r),Array.isArray(F)?I=!0:F=[k,F]);var R=F[1]==null||E&&!e&&mr(z,r)==null;return T?{x:Bk({axis:c,ticks:y,bandSize:_,entry:z,index:q}),y:R?null:d.scale(F[1]),value:F,payload:z}:{x:R?null:c.scale(F[1]),y:Bk({axis:d,ticks:v,bandSize:_,entry:z,index:q}),value:F,payload:z}}),L;return E||I?L=M.map(z=>{var q=Array.isArray(z.value)?z.value[0]:null;return T?{x:z.x,y:q!=null&&z.y!=null?d.scale(q):null,payload:z.payload}:{x:q!=null?c.scale(q):null,y:z.y,payload:z.payload}}):L=T?d.scale(k):c.scale(k),{points:M,baseLine:L,isRange:I}}function sJ(t){var e=pi(t,YM),n=Yr();return C.createElement(JX,{id:e.id,type:"area"},r=>C.createElement(C.Fragment,null,C.createElement(YX,{legendPayload:HZ(e)}),C.createElement(KX,{fn:KZ,args:e}),C.createElement(aQ,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:wq(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),C.createElement(rJ,$a({},e,{id:r}))))}var WM=C.memo(sJ);WM.displayName="Area";var oJ=["dangerouslySetInnerHTML","ticks"],lJ=["id"],uJ=["domain"],cJ=["domain"];function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(null,arguments)}function pg(t,e){if(t==null)return{};var n,r,a=fJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dJ(t){var e=ir();return C.useEffect(()=>(e(cQ(t)),()=>{e(fQ(t))}),[t,e]),null}var hJ=t=>{var{xAxisId:e,className:n}=t,r=ke(HR),a=Yr(),o="xAxis",l=ke(T=>so(T,o,e,a)),c=ke(T=>BP(T,o,e,a)),d=ke(T=>LG(T,e)),h=ke(T=>$G(T,e)),m=ke(T=>oP(T,e));if(d==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=t,_=pg(t,oJ),{id:E}=m,k=pg(m,lJ);return C.createElement(S1,ox({},_,k,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:Ot("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:c}))},mJ={allowDataOverflow:zr.allowDataOverflow,allowDecimals:zr.allowDecimals,allowDuplicatedCategory:zr.allowDuplicatedCategory,height:zr.height,hide:!1,mirror:zr.mirror,orientation:zr.orientation,padding:zr.padding,reversed:zr.reversed,scale:zr.scale,tickCount:zr.tickCount,type:zr.type,xAxisId:0},gJ=t=>{var e,n,r,a,o,l=pi(t,mJ);return C.createElement(C.Fragment,null,C.createElement(dJ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),C.createElement(hJ,l))},pJ=(t,e)=>{var{domain:n}=t,r=pg(t,uJ),{domain:a}=e,o=pg(e,cJ);return ju(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:ju({domain:n},{domain:a}):!1},XM=C.memo(gJ,pJ);XM.displayName="XAxis";var yJ=["dangerouslySetInnerHTML","ticks"],vJ=["id"],bJ=["domain"],xJ=["domain"];function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(null,arguments)}function yg(t,e){if(t==null)return{};var n,r,a=_J(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _J(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wJ(t){var e=ir();return C.useEffect(()=>(e(dQ(t)),()=>{e(hQ(t))}),[t,e]),null}var EJ=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,o=C.useRef(null),l=C.useRef(null),c=ke(HR),d=Yr(),h=ir(),m="yAxis",y=ke(q=>so(q,m,e,d)),v=ke(q=>KG(q,e)),_=ke(q=>HG(q,e)),E=ke(q=>BP(q,m,e,d)),k=ke(q=>lP(q,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!v||b1(a)||C.isValidElement(a)||k==null)){var q=o.current;if(q){var F=q.getCalculatedWidth();Math.round(v.width)!==Math.round(F)&&h(mQ({id:e,width:F}))}}},[E,v,h,a,e,r,k]),v==null||_==null||k==null)return null;var{dangerouslySetInnerHTML:T,ticks:I}=t,M=yg(t,yJ),{id:L}=k,z=yg(k,vJ);return C.createElement(S1,lx({},M,z,{ref:o,labelRef:l,scale:y,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Ot("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:E}))},TJ={allowDataOverflow:Br.allowDataOverflow,allowDecimals:Br.allowDecimals,allowDuplicatedCategory:Br.allowDuplicatedCategory,hide:!1,mirror:Br.mirror,orientation:Br.orientation,padding:Br.padding,reversed:Br.reversed,scale:Br.scale,tickCount:Br.tickCount,type:Br.type,width:Br.width,yAxisId:0},SJ=t=>{var e,n,r,a,o,l=pi(t,TJ);return C.createElement(C.Fragment,null,C.createElement(wJ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),C.createElement(EJ,l))},AJ=(t,e)=>{var{domain:n}=t,r=yg(t,bJ),{domain:a}=e,o=yg(e,xJ);return ju(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:ju({domain:n},{domain:a}):!1},QM=C.memo(SJ,AJ);QM.displayName="YAxis";var Y0={exports:{}},W0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function kJ(){if(QC)return W0;QC=1;var t=Lu();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return W0.useSyncExternalStoreWithSelector=function(d,h,m,y,v){var _=a(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function T(q){if(!I){if(I=!0,M=q,q=y(q),v!==void 0&&E.hasValue){var F=E.value;if(v(F,q))return L=F}return L=q}if(F=L,n(M,q))return F;var R=y(q);return v!==void 0&&v(F,R)?(M=q,F):(M=q,L=R)}var I=!1,M,L,z=m===void 0?null:m;return[function(){return T(h())},z===null?void 0:function(){return T(z())}]},[h,m,y,v]);var k=r(d,_[0],_[1]);return o(function(){E.hasValue=!0,E.value=k},[k]),c(k),k},W0}var ZC;function CJ(){return ZC||(ZC=1,Y0.exports=kJ()),Y0.exports}CJ();function OJ(t){t()}function NJ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){OJ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var JC={notify(){},get:()=>[]};function IJ(t,e){let n,r=JC,a=0,o=!1;function l(k){m();const T=r.subscribe(k);let I=!1;return()=>{I||(I=!0,T(),y())}}function c(){r.notify()}function d(){E.onStateChange&&E.onStateChange()}function h(){return o}function m(){a++,n||(n=t.subscribe(d),r=NJ())}function y(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=JC)}function v(){o||(o=!0,m())}function _(){o&&(o=!1,y())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return E}var RJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DJ=RJ(),PJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MJ=PJ(),jJ=()=>DJ||MJ?C.useLayoutEffect:C.useEffect,LJ=jJ(),VJ=Symbol.for("react-redux-context"),UJ=typeof globalThis<"u"?globalThis:{};function zJ(){if(!C.createContext)return{};const t=UJ[VJ]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var BJ=zJ();function qJ(t){const{children:e,context:n,serverState:r,store:a}=t,o=C.useMemo(()=>{const d=IJ(a);return{store:a,subscription:d,getServerState:r?()=>r:void 0}},[a,r]),l=C.useMemo(()=>a.getState(),[a]);LJ(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=n||BJ;return C.createElement(c.Provider,{value:o},e)}var $J=qJ,FJ=(t,e)=>e,A1=te([FJ,Nt,iP,wn,rM,rs,XY,Kn],tW),k1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},ZM=mi("mouseClick"),JM=ld();JM.startListening({actionCreator:ZM,effect:(t,e)=>{var n=t.payload,r=A1(e.getState(),k1(n));r?.activeIndex!=null&&e.dispatch(iY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ux=mi("mouseMove"),ej=ld();ej.startListening({actionCreator:ux,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=u1(r,r.tooltip.settings.shared),o=A1(r,k1(n));a==="axis"&&(o?.activeIndex!=null?e.dispatch(XP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(WP()))}});var eO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},tj=Gr({name:"rootProps",initialState:eO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:eO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),HJ=tj.reducer,{updateOptions:KJ}=tj.actions,nj=Gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:kte}=nj.actions,GJ=nj.reducer,rj=mi("keyDown"),ij=mi("focus"),C1=ld();C1.startListening({actionCreator:rj,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(c1(a,Ju(n))),c=rs(n);if(o==="Enter"){var d=fg(n,"axis","hover",String(a.index));e.dispatch(ex({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var h=XG(n),m=h==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,v=l+y*m;if(!(c==null||v>=c.length||v<0)){var _=fg(n,"axis","hover",String(v));e.dispatch(ex({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});C1.startListening({actionCreator:ij,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var o="0",l=fg(n,"axis","hover",String(o));e.dispatch(ex({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var oi=mi("externalEvent"),aj=ld();aj.startListening({actionCreator:oi,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:BY(n),activeDataKey:UY(n),activeIndex:Wf(n),activeLabel:sM(n),activeTooltipIndex:Wf(n),isTooltipActive:qY(n)};t.payload.handler(r,t.payload.reactEvent)}}});var YJ=te([Zu],t=>t.tooltipItemPayloads),WJ=te([YJ,vd,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:o}=a;if(o!=null){var l=e(o,n);return l}}}),sj=mi("touchMove"),oj=ld();oj.startListening({actionCreator:sj,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=u1(r,r.tooltip.settings.shared);if(a==="axis"){var o=A1(r,k1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(XP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(Nq),m=(l=d.getAttribute(Iq))!==null&&l!==void 0?l:void 0,y=WJ(e.getState(),h,m);e.dispatch(rY({activeDataKey:m,activeIndex:h,activeCoordinate:y}))}}});var XJ=yR({brush:kQ,cartesianAxis:gQ,chartData:vW,errorBars:TQ,graphicalItems:iQ,layout:tq,legend:Kq,options:hW,polarAxis:HX,polarOptions:GJ,referenceElements:VQ,rootProps:HJ,tooltip:aY}),QJ=function(e){return AB({reducer:XJ,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([JM.middleware,ej.middleware,C1.middleware,aj.middleware,oj.middleware]),devTools:Ku.devToolsEnabled})};function ZJ(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Yr(),o=C.useRef(null);if(a)return n;o.current==null&&(o.current=QJ(e));var l=m_;return C.createElement($J,{context:l,store:o.current},n)}function JJ(t){var{layout:e,width:n,height:r,margin:a}=t,o=ir(),l=Yr();return C.useEffect(()=>{l||(o(ZB(e)),o(JB({width:n,height:r})),o(QB(a)))},[o,l,e,n,r,a]),null}function eee(t){var e=ir();return C.useEffect(()=>{e(KJ(t))},[e,t]),null}var tee=["children"];function nee(t,e){if(t==null)return{};var n,r,a=ree(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ree(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(null,arguments)}var iee={width:"100%",height:"100%"},aee=C.forwardRef((t,e)=>{var n=GR(),r=YR(),a=XR();if(!Wm(n)||!Wm(r))return null;var{children:o,otherAttributes:l,title:c,desc:d}=t,h,m;return typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0,C.createElement($I,vg({},l,{title:c,desc:d,role:m,tabIndex:h,width:n,height:r,style:iee,ref:e}),o)}),see=t=>{var{children:e}=t,n=ke(Xg);if(!n)return null;var{width:r,height:a,y:o,x:l}=n;return C.createElement($I,{width:r,height:a,x:l,y:o},e)},tO=C.forwardRef((t,e)=>{var{children:n}=t,r=nee(t,tee),a=Yr();return a?C.createElement(see,null,n):C.createElement(aee,vg({ref:e},r),n)});function oee(){var t=ir(),[e,n]=C.useState(null),r=ke(Oq);return C.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),o=a.width/e.offsetWidth;pr(o)&&o!==r&&t(eq(o))}},[e,t,r]),n}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uee(t,e,n){return(e=cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cee(t){var e=fee(t,"string");return typeof e=="symbol"?e:e+""}function fee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dee=C.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:m,onMouseMove:y,onMouseUp:v,onTouchEnd:_,onTouchMove:E,onTouchStart:k,style:T,width:I}=t,M=ir(),[L,z]=C.useState(null),[q,F]=C.useState(null);kW();var R=oee(),O=C.useCallback(ae=>{R(ae),typeof e=="function"&&e(ae),z(ae),F(ae)},[R,e,z,F]),D=C.useCallback(ae=>{M(ZM(ae)),M(oi({handler:o,reactEvent:ae}))},[M,o]),U=C.useCallback(ae=>{M(ux(ae)),M(oi({handler:h,reactEvent:ae}))},[M,h]),P=C.useCallback(ae=>{M(WP()),M(oi({handler:m,reactEvent:ae}))},[M,m]),B=C.useCallback(ae=>{M(ux(ae)),M(oi({handler:y,reactEvent:ae}))},[M,y]),V=C.useCallback(()=>{M(ij())},[M]),pe=C.useCallback(ae=>{M(rj(ae.key))},[M]),Ee=C.useCallback(ae=>{M(oi({handler:l,reactEvent:ae}))},[M,l]),Q=C.useCallback(ae=>{M(oi({handler:c,reactEvent:ae}))},[M,c]),ue=C.useCallback(ae=>{M(oi({handler:d,reactEvent:ae}))},[M,d]),ge=C.useCallback(ae=>{M(oi({handler:v,reactEvent:ae}))},[M,v]),Ae=C.useCallback(ae=>{M(oi({handler:k,reactEvent:ae}))},[M,k]),H=C.useCallback(ae=>{M(sj(ae)),M(oi({handler:E,reactEvent:ae}))},[M,E]),ie=C.useCallback(ae=>{M(oi({handler:_,reactEvent:ae}))},[M,_]);return C.createElement(hM.Provider,{value:L},C.createElement($7.Provider,{value:q},C.createElement("div",{className:Ot("recharts-wrapper",r),style:lee({position:"relative",cursor:"default",width:I,height:a},T),onClick:D,onContextMenu:Ee,onDoubleClick:Q,onFocus:V,onKeyDown:pe,onMouseDown:ue,onMouseEnter:U,onMouseLeave:P,onMouseMove:B,onMouseUp:ge,onTouchEnd:ie,onTouchMove:H,onTouchStart:Ae,ref:O},n)))}),hee=["children","className","width","height","style","compact","title","desc"];function mee(t,e){if(t==null)return{};var n,r,a=gee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pee=C.forwardRef((t,e)=>{var{children:n,className:r,width:a,height:o,style:l,compact:c,title:d,desc:h}=t,m=mee(t,hee),y=uo(m);return c?C.createElement(tO,{otherAttributes:y,title:d,desc:h},n):C.createElement(dee,{className:r,style:l,width:a,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(tO,{otherAttributes:y,title:d,desc:h,ref:e},C.createElement(UQ,null,n)))}),yee=["width","height"];function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(null,arguments)}function vee(t,e){if(t==null)return{};var n,r,a=bee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xee={top:5,right:5,bottom:5,left:5},_ee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xee,reverseStackOrder:!1,syncMethod:"index"},wee=C.forwardRef(function(e,n){var r,a=pi(e.categoricalChartProps,_ee),{width:o,height:l}=a,c=vee(a,yee);if(!Wm(o)||!Wm(l))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,categoricalChartProps:v}=e,_={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,eventEmitter:void 0};return C.createElement(ZJ,{preloadedState:{options:_},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:d},C.createElement(AQ,{chartData:v.data}),C.createElement(JJ,{width:o,height:l,layout:a.layout,margin:a.margin}),C.createElement(eee,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(pee,cx({},c,{width:o,height:l,ref:n})))}),Eee=["axis"],Tee=C.forwardRef((t,e)=>C.createElement(wee,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eee,tooltipPayloadSearcher:fW,categoricalChartProps:t,ref:e}));const See={apiKey:"AIzaSyB_YYYPlskKtC_LEed63_ZGlSJeA_1UhuI",authDomain:"trading-jurnal-deo.firebaseapp.com",projectId:"trading-jurnal-deo",storageBucket:"trading-jurnal-deo.firebasestorage.app",messagingSenderId:"1085442544675",appId:"1:1085442544675:web:2bad6464f7be4673de8d96",measurementId:"G-NR89QZDXEE"},lj=vO(See),nm=WV(lj),Aee=ez(lj);const kee="WzGoldTradingJournalDB",Cee=1;let rm=null;const Oee=["profiles","trades","balance_transactions","pairs","templates","custom_fields","goals","trade_images"],uj=()=>new Promise((t,e)=>{if(rm)return t(rm);const n=indexedDB.open(kee,Cee);n.onupgradeneeded=r=>{const a=r.target.result;Oee.forEach(o=>{if(!a.objectStoreNames.contains(o)){const l=a.createObjectStore(o,{keyPath:"id"});["trades","balance_transactions","pairs","templates","custom_fields","goals"].includes(o)&&l.createIndex("profileId","profileId",{unique:!1})}})},n.onsuccess=r=>{rm=r.target.result,t(rm)},n.onerror=r=>{console.error("IndexedDB error:",r.target.errorCode),e("IndexedDB error")}}),ec=(t,e,n)=>uj().then(r=>new Promise((a,o)=>{try{const c=r.transaction(t,e).objectStore(t);n(c,a,o)}catch(l){o(l)}})),Zs=(t,e)=>ec(t,"readwrite",(n,r)=>{const a=n.add(e);a.onsuccess=()=>r(a.result)}),O1=(t,e)=>ec(t,"readwrite",(n,r)=>{const a=n.put(e);a.onsuccess=()=>r(a.result)}),Gi=(t,e)=>ec(t,"readwrite",(n,r)=>{n.delete(e).onsuccess=()=>r(!0)}),cj=(t,e)=>ec(t,"readonly",(n,r)=>{n.get(e).onsuccess=a=>r(a.target.result)}),Nee=t=>ec(t,"readonly",(e,n)=>{e.getAll().onsuccess=r=>n(r.target.result)}),Ia=(t,e)=>ec(t,"readonly",(n,r)=>{const a=n.index("profileId");a.getAll(e).onsuccess=o=>r(o.target.result)}),Iee=async()=>{const t={userAgent:navigator.userAgent,language:navigator.language,screenWidth:window.screen.width,screenHeight:window.screen.height,timezone:new Date().getTimezoneOffset(),platform:navigator.platform},e=JSON.stringify(t),n=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")},bg=t=>{const[e,n]=C.useState(null);return C.useEffect(()=>{let r=null;return t?cj("trade_images",t).then(a=>{a&&a.file?(r=URL.createObjectURL(a.file),n(r)):n(null)}).catch(a=>{console.error("Failed to load image from DB",a),n(null)}):n(null),()=>{r&&URL.revokeObjectURL(r)}},[t]),e},Ra=t=>t?(t instanceof Date?t:new Date(t)).toLocaleDateString("en-CA"):"N/A",gp=t=>{if(!t)return"N/A";const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Invalid Date":e.toLocaleString("id-ID",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},xg=t=>{if(!t)return"";const e=t instanceof Date?t:new Date(t);if(isNaN(e.getTime()))return"";const n=r=>(r<10?"0":"")+r;return`${e.getFullYear()}-${n(e.getMonth()+1)}-${n(e.getDate())}T${n(e.getHours())}:${n(e.getMinutes())}`},Ht=(t,e="USD")=>{const n=e==="IDR"?"id-ID":"en-US",r={style:"currency",currency:e,minimumFractionDigits:e==="IDR"?0:2,maximumFractionDigits:e==="IDR"?0:2};return typeof t!="number"||isNaN(t)?new Intl.NumberFormat(n,r).format(0):new Intl.NumberFormat(n,r).format(t)},fj=t=>typeof t!="number"?"0.00 LOT":`${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} LOT`,Xo=(...t)=>t.filter(Boolean).join(" "),rO=({message:t,type:e,onClose:n})=>{if(!t)return null;let r;switch(e){case"success":r={bg:"bg-green-600",icon:x.jsx(Lm,{})};break;case"error":r={bg:"bg-red-600",icon:x.jsx(i_,{})};break;case"info":r={bg:"bg-blue-600",icon:x.jsx(Uf,{})};break;default:r={bg:"bg-gray-700",icon:x.jsx(Uf,{})};break}return x.jsxs("div",{className:`fixed top-5 right-5 ${r.bg} text-white p-4 rounded-lg shadow-xl flex items-center z-[100] animate-fadeIn`,children:[x.jsx("div",{className:"mr-3",children:r.icon}),x.jsx("span",{children:t}),x.jsx("button",{onClick:n,className:"ml-4 text-2xl font-semibold leading-none hover:text-gray-200",children:"×"})]})},Ree=({isOpen:t,onClose:e,onConfirm:n,title:r,message:a})=>t?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[90] p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl max-w-md w-full",children:[x.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:r}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:a}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Batal"}),x.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Konfirmasi"})]})]})}):null,X0=({icon:t,text:e,active:n,onClick:r})=>x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:r,className:`flex items-center p-3 rounded-lg transition-colors ${n?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[t,x.jsx("span",{className:"ml-3",children:e})]})}),Dee=({onLogin:t,error:e})=>{const[n,r]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(!1),[d,h]=C.useState(!1),m=async y=>{y.preventDefault(),c(!0),await t(n,a),c(!1)};return x.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center font-sans relative",children:x.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Wz",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"Gold"})," Trading Jurnal"]}),x.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Silakan masuk untuk melanjutkan"})]}),x.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[x.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[x.jsx("div",{children:x.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:y=>r(y.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Alamat email"})}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,value:a,onChange:y=>o(y.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 pr-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Kata sandi"}),x.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",title:d?"Sembunyikan password":"Tampilkan password",children:d?x.jsx(Xz,{size:20}):x.jsx(Zz,{size:20})})]})]}),e&&x.jsxs("div",{className:"flex items-center text-sm text-red-500 dark:text-red-400 bg-red-500/10 p-3 rounded-lg",children:[x.jsx(i_,{size:16,className:"mr-2"}),x.jsx("span",{children:e})]}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 dark:disabled:bg-blue-800 disabled:cursor-not-allowed",children:l?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"animate-spin h-5 w-5 mr-3 border-2 border-white border-t-transparent rounded-full"}),x.jsx("span",{children:"Memproses..."})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:x.jsx(o7,{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400","aria-hidden":"true"})}),"Masuk"]})})})]}),x.jsxs("p",{className:"mt-4 text-center text-xs text-gray-500 dark:text-gray-400 px-4",children:[x.jsx("span",{className:"font-bold text-yellow-500 dark:text-yellow-400",children:"Penting:"})," Aplikasi ini menerapkan sistem keamanan ",x.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"satu akun untuk satu perangkat"}),". Untuk pembelian atau informasi lebih lanjut, silakan hubungi saya di Instagram: ",x.jsx("a",{href:"https://www.instagram.com/deolukow_",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-500 hover:underline",children:"@deolukow_"}),"."]})]})})},Pee=({imageUrl:t,onClose:e})=>t?x.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-[100] p-4 animate-fadeIn",children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white text-4xl font-light z-[101] p-3 rounded-full hover:bg-gray-800 transition-colors",title:"Tutup (Esc)",children:"×"}),x.jsx("div",{className:"w-full h-full flex items-center justify-center",children:x.jsx("img",{src:t,alt:"Fullscreen Trade Screenshot",className:"max-w-full max-h-full object-contain",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/1200x800/374151/ffffff?text=Image+Gagal+Load"}})})]}):null,Mee=({trade:t,onClose:e,customFields:n,currency:r})=>{const[a,o]=C.useState(null);if(!t)return null;const l=({title:y,imageId:v,icon:_})=>{const E=bg(v);return x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 flex items-center",children:[_," ",x.jsx("span",{className:"ml-1",children:y})]}),E?x.jsxs("div",{className:"relative aspect-[4/3] bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600 cursor-pointer group",onClick:()=>o(E),children:[x.jsx("img",{src:E,alt:y,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-80"}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx(f7,{size:32,className:"text-white"})})]}):x.jsx("div",{className:"aspect-[4/3] bg-gray-200 dark:bg-gray-700 flex items-center justify-center rounded-lg text-gray-400 dark:text-gray-500 text-center text-sm p-4",children:"Tidak Ada Gambar"})]})},d=t.pnl>0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400",h=t.type==="long"?x.jsx(NI,{size:20,className:"text-green-500"}):x.jsx(OI,{size:20,className:"text-red-500"}),m=n.filter(y=>t.customData&&t.customData[y.name]);return x.jsxs(x.Fragment,{children:[x.jsx(Pee,{imageUrl:a,onClose:()=>o(null)}),x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-200 dark:border-gray-700 pb-4",children:[x.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[h," ",x.jsx("span",{className:"ml-2",children:t.pair})]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"space-y-4 lg:col-span-1",children:[x.jsxs("div",{className:"flex items-center space-x-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[x.jsx(zz,{size:20,className:"text-gray-400 dark:text-gray-500"}),x.jsx("span",{className:"text-lg text-gray-700 dark:text-gray-300 font-medium",children:gp(t.tradeDate)})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-2xl font-extrabold ${d}`,children:Ht(t.pnl,r)})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lot Size"}),x.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:fj(t.lotSize)})]})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Risk/Reward Ratio"}),x.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.riskRewardRatio>0?`1 : ${t.riskRewardRatio.toFixed(2)}`:"N/A"})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Setup / Strategi"}),x.jsx("p",{className:"text-gray-800 dark:text-white font-medium",children:t.setup||"Tidak Ada Setup Dicatat"})]})," ",(t.entryPrice>0||t.takeProfit>0||t.stopLoss>0)&&x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg space-y-2",children:[x.jsx("h4",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 font-semibold",children:"Detail Harga"}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Entry Price:"}),x.jsx("span",{className:"text-gray-800 dark:text-white font-medium",children:t.entryPrice>0?t.entryPrice.toLocaleString():"N/A"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Take Profit:"}),x.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:t.takeProfit>0?t.takeProfit.toLocaleString():"N/A"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Stop Loss:"}),x.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:t.stopLoss>0?t.stopLoss.toLocaleString():"N/A"})]})]})," ",m.length>0&&x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg space-y-2",children:[x.jsx("h4",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 font-semibold border-b border-gray-300 dark:border-gray-600 pb-2",children:"Field Tambahan"}),m.map(y=>x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{className:"text-gray-500 dark:text-gray-400 capitalize",children:[y.name,":"]}),x.jsx("span",{className:"text-gray-800 dark:text-white font-medium text-right",children:t.customData[y.name]})]},y.id))]})," "]}),x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[x.jsx(l,{title:"Screenshot Sebelum Trade",imageId:t.screenshotBeforeId,icon:x.jsx(DI,{size:18,className:"text-blue-500 dark:text-blue-400"})}),x.jsx(l,{title:"Screenshot Sesudah Trade",imageId:t.screenshotAfterId,icon:x.jsx(Jx,{size:18,className:"text-green-500 dark:text-green-400"})})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Catatan Trade"}),x.jsx("p",{className:"text-gray-800 dark:text-white text-sm whitespace-pre-wrap",children:t.notes||"Tidak ada catatan."})]})]})]}),x.jsx("div",{className:"flex justify-end mt-6 border-t border-gray-200 dark:border-gray-700 pt-4",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})]})},jee=({isOpen:t,onClose:e,currentBalance:n,currency:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState("1"),[d,h]=C.useState("20"),[m,y]=C.useState("1"),[v,_]=C.useState("");C.useEffect(()=>{t&&n&&o(n.toFixed(2))},[t,n]);const E=C.useMemo(()=>{const T=parseFloat(a),I=parseFloat(l),M=parseFloat(d),L=parseFloat(m);if(isNaN(T)||isNaN(I)||isNaN(M)||isNaN(L)||T<=0||M<=0||L<=0)return{riskAmount:0,lotSize:0,isValid:!1};const z=T*(I/100),q=M*L,F=q>0?z/q:0;return{riskAmount:z,lotSize:F,isValid:!0}},[a,l,d,m]),k=()=>{if(E.isValid&&E.lotSize>0){const T=E.lotSize.toFixed(2);navigator.clipboard.writeText(T).then(()=>{_("Lot Size disalin!"),setTimeout(()=>_(""),2e3)}).catch(I=>{console.error("Failed to copy: ",I);try{const M=document.createElement("textarea");M.value=T,M.style.position="fixed",M.style.left="-9999px",document.body.appendChild(M),M.focus(),M.select(),document.execCommand("copy"),document.body.removeChild(M),_("Lot Size disalin!"),setTimeout(()=>_(""),2e3)}catch{_("Gagal menyalin."),setTimeout(()=>_(""),2e3)}})}};return t?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md relative",children:[v&&x.jsx("div",{className:"absolute top-4 right-4 bg-green-600 text-white text-xs px-3 py-1 rounded-full animate-fadeIn z-10",children:v}),x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[x.jsx(II,{size:24,className:"mr-2 text-blue-500 dark:text-blue-400"})," Kalkulator Lot Size"]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:["Saldo Akun (",r,")"]}),x.jsx("input",{type:"number",step:"any",value:a,onChange:T=>o(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Risiko per Trade (%)"}),x.jsx("input",{type:"number",step:"any",value:l,onChange:T=>c(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Jarak Stop Loss (Poin/Pips)"}),x.jsx("input",{type:"number",step:"any",value:d,onChange:T=>h(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:["Nilai per Poin/Pip per Lot (",r,")",x.jsx(Uf,{size:14,className:"ml-1 text-gray-400 dark:text-gray-500 cursor-help",title:"Nilai profit/loss dalam Dolar jika harga bergerak 1 poin/pip dengan ukuran 1.00 Lot. Contoh: XAU/USD = $1, EUR/USD = $10."})]}),x.jsx("input",{type:"number",step:"any",value:m,onChange:T=>y(T.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]})]}),x.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-center text-lg",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Risiko Maksimal:"}),x.jsx("span",{className:"font-bold text-red-500 dark:text-red-400",children:Ht(E.riskAmount,r)})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg text-center",children:[x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rekomendasi Lot Size"}),x.jsxs("div",{className:"flex items-center justify-center mt-1",children:[x.jsx("p",{className:"text-3xl font-extrabold text-blue-600 dark:text-blue-400",children:E.isValid?E.lotSize.toFixed(2):"0.00"}),x.jsx("button",{onClick:k,className:"ml-3 p-2 text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors",title:"Salin Lot Size",children:x.jsx(Fz,{size:20})})]})]})]}),x.jsx("div",{className:"flex justify-end mt-6",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})}):null},Lee=({activeProfileId:t,showToast:e,onClose:n,currentGoal:r,currency:a})=>{const[o,l]=C.useState("weekly"),[c,d]=C.useState(""),[h,m]=C.useState(""),[y,v]=C.useState("");C.useEffect(()=>{r?(l(r.type||"weekly"),d(r.amount||""),m(r.dailyProfitTarget||""),v(r.dailyLossTarget||"")):(l("weekly"),d(""),m(""),v(""))},[r]);const _=async()=>{const k=parseFloat(c)||0,T=parseFloat(h)||0,I=parseFloat(y)||0;if(k<0||T<0||I<0){e("Target tidak boleh angka negatif.","error");return}if(k===0&&T===0&&I===0){e("Mohon isi setidaknya satu target.","info");return}const M={id:t,profileId:t,type:o,amount:k,dailyProfitTarget:T,dailyLossTarget:I,updatedAt:new Date};try{await O1("goals",M),e("Target berhasil disimpan!","success"),n()}catch(L){console.error("Error saving goal:",L),e("Gagal menyimpan target.","error")}},E=async()=>{try{await Gi("goals",t),e("Target berhasil dihapus.","success"),d(""),m(""),v(""),n()}catch(k){console.error("Error deleting goal:",k),e("Gagal menghapus target.","error")}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2 flex items-center",children:[x.jsx(r_,{size:24,className:"mr-2 text-yellow-400"})," Tetapkan Target"]}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Target harian hanya tampil di periode 'Harian'. Target mingguan/bulanan tampil di periode masing-masing."}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Target Mingguan/Bulanan"}),x.jsxs("div",{className:"flex space-x-2 p-1 bg-gray-100 dark:bg-gray-900 rounded-lg",children:[x.jsx("button",{onClick:()=>l("weekly"),className:`flex-1 py-2 text-sm rounded-md transition-colors ${o==="weekly"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Mingguan"}),x.jsx("button",{onClick:()=>l("monthly"),className:`flex-1 py-2 text-sm rounded-md transition-colors ${o==="monthly"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Bulanan"})]}),x.jsx("input",{id:"goalAmount",type:"number",step:"any",value:c,onChange:k=>d(k.target.value),placeholder:`Jumlah Target ${o==="weekly"?"Mingguan":"Bulanan"}`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded mt-2"})]}),x.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Target Harian"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx("input",{id:"dailyProfitTarget",type:"number",step:"any",value:h,onChange:k=>m(k.target.value),placeholder:`Profit Harian (${a})`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{id:"dailyLossTarget",type:"number",step:"any",value:y,onChange:k=>v(k.target.value),placeholder:`Batas Loss Harian (${a})`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]})]})]}),x.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[x.jsx(t_,{size:18,className:"inline mr-1"})," Simpan"]}),r&&(r.amount>0||r.dailyProfitTarget>0||r.dailyLossTarget>0)&&x.jsxs("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[x.jsx(_l,{size:18,className:"inline mr-1"})," Hapus"]})]}),x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})]})]})})},iO=({showToast:t,onClose:e,profiles:n,openDeleteModal:r})=>{const[a,o]=C.useState(""),[l,c]=C.useState(""),[d,h]=C.useState("USD"),m=async y=>{y.preventDefault();const v=a.trim(),_=l.trim();if(!v){t("Nama profil tidak boleh kosong.","error");return}try{const E={id:crypto.randomUUID(),name:v,description:_,currency:d,createdAt:new Date};await Zs("profiles",E),t(`Profil '${v}' berhasil ditambahkan.`,"success"),e()}catch(E){console.error("Error adding profile:",E),t("Gagal menambah profil.","error")}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(MI,{size:24,className:"mr-2 text-blue-500 dark:text-blue-400"})," Kelola Profil Trading"]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:m,className:"flex-shrink-0 mb-6 p-4 bg-gray-100/50 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Tambah Profil Baru"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{type:"text",placeholder:"Nama Profil (e.g., Akun Pro)",value:a,onChange:y=>o(y.target.value),className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("textarea",{placeholder:"Deskripsi (e.g., Akun di broker XM, leverage 1:500)",value:l,onChange:y=>c(y.target.value),rows:"2",className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsxs("select",{value:d,onChange:y=>h(y.target.value),className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"USD",children:"USD ($)"}),x.jsx("option",{value:"IDR",children:"IDR (Rp)"})]})]}),x.jsx("div",{className:"flex justify-end mt-4",children:x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[x.jsx(_b,{size:18,className:"inline mr-1"})," Tambah Profil"]})})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Profil (",n.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:n.map(y=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[y.name," ",x.jsxs("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400",children:["(",y.currency,")"]})]}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:y.description||"Tidak ada deskripsi"})]}),x.jsx("button",{onClick:()=>r("profile",y),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Profil ${y.name}`,children:x.jsx(_l,{size:16})})]},y.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},Vee=({activeProfileId:t,showToast:e,onClose:n,customFields:r,openDeleteModal:a})=>{const[o,l]=C.useState(""),c=async d=>{d.preventDefault();const h=o.trim();if(!h){e("Nama field tidak boleh kosong.","error");return}if(r.some(m=>m.name.toLowerCase()===h.toLowerCase())){e(`Field '${h}' sudah ada.`,"error"),l("");return}try{const m={id:crypto.randomUUID(),profileId:t,name:h,createdAt:new Date};await Zs("custom_fields",m),e(`Field '${h}' berhasil ditambahkan.`,"success"),l("")}catch(m){e("Gagal menambah field.","error"),console.error("Error adding custom field:",m)}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(PI,{size:24,className:"mr-2 text-green-500 dark:text-green-400"})," Kelola Field Tambahan"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:c,className:"flex-shrink-0 mb-6 flex space-x-2",children:[x.jsx("input",{type:"text",placeholder:"Nama Field Baru (e.g., Sesi)",value:o,onChange:d=>l(d.target.value),className:"flex-grow bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tambah"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Field (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Anda belum menambahkan field tambahan."}):r.map(d=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:d.name}),x.jsx("button",{onClick:()=>a("custom_field",d),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Field ${d.name}`,children:x.jsx(_l,{size:16})})]},d.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},dj=({startDate:t,endDate:e,onStartDateChange:n,onEndDateChange:r})=>x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn flex flex-col sm:flex-row items-center justify-center gap-4 border border-gray-200 dark:border-gray-700",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex-shrink-0",children:"Pilih Rentang Tanggal:"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{htmlFor:"startDate",className:"text-sm text-gray-500 dark:text-gray-400",children:"Dari:"}),x.jsx("input",{type:"date",id:"startDate",value:t,onChange:a=>n(a.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{htmlFor:"endDate",className:"text-sm text-gray-500 dark:text-gray-400",children:"Hingga:"}),x.jsx("input",{type:"date",id:"endDate",value:e,onChange:a=>r(a.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"})]})]}),Uee=({trades:t,activePeriod:e,setActivePeriod:n,periods:r,onShowTradeDetail:a,currency:o,customStartDate:l,customEndDate:c,setCustomStartDate:d,setCustomEndDate:h})=>{const m=({trade:v})=>{const _=bg(v.screenshotAfterId),k=v.pnl>0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400";return _?x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden cursor-pointer transition-transform hover:scale-[1.02] border border-gray-200 dark:border-gray-700 relative group",onClick:()=>a(v),children:[x.jsxs("div",{className:"aspect-video w-full overflow-hidden bg-gray-100 dark:bg-gray-700",children:[x.jsx("img",{src:_,alt:`Trade ${v.pair}`,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-80"}),x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx("button",{className:"text-white bg-blue-600 p-3 rounded-full hover:bg-blue-700",children:x.jsx(Uf,{size:24})})})]}),x.jsxs("div",{className:"p-3",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 flex justify-between items-center",children:[v.pair,x.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${v.type==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:v.type.toUpperCase()})]}),x.jsxs("div",{className:"flex justify-between items-end mt-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-lg font-bold ${k}`,children:Ht(v.pnl,o)})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"R:R"}),x.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate max-w-[120px]",title:v.riskRewardRatio>0?`${v.riskRewardRatio.toFixed(2)}R`:"N/A",children:v.riskRewardRatio>0?`${v.riskRewardRatio.toFixed(2)}R`:"N/A"})]})]}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2 border-t border-gray-200 dark:border-gray-700 pt-2",children:gp(v.tradeDate)})]})]}):x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 relative aspect-video flex flex-col justify-between p-3",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 flex justify-between items-center",children:v.pair}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Memuat gambar..."})]}),x.jsxs("div",{className:"flex justify-between items-end mt-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"P&L"}),x.jsx("p",{className:`text-lg font-bold ${k}`,children:Ht(v.pnl,o)})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"R:R"}),x.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:v.riskRewardRatio>0?`${v.riskRewardRatio.toFixed(2)}R`:"N/A"})]})]})]})},y=t.filter(v=>v.screenshotAfterId).sort((v,_)=>new Date(_.tradeDate)-new Date(v.tradeDate));return x.jsxs("div",{className:"animate-fadeIn",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Galeri Visual Trade"}),x.jsx("div",{className:"flex space-x-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-xl mb-6",children:r.map(v=>x.jsx("button",{onClick:()=>n(v.key),className:Xo("px-4 py-2 text-sm font-medium rounded-lg transition-colors flex-grow",e===v.key?"bg-blue-600 text-white shadow-lg":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),children:v.label},v.key))}),e==="custom"&&x.jsx(dj,{startDate:l,endDate:c,onStartDateChange:d,onEndDateChange:h}),y.length===0?x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-10 rounded-xl text-center text-gray-500 mt-10",children:[x.jsx(Jx,{size:48,className:"mx-auto mb-3 text-gray-400 dark:text-gray-600"}),x.jsx("p",{className:"text-lg",children:"Tidak ada trade dengan gambar pada periode ini."}),x.jsx("p",{className:"text-sm mt-1",children:"Pastikan Anda mengupload gambar saat menambahkan trade."})]}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(v=>x.jsx(m,{trade:v},v.id))})]})},aO=({value:t,size:e=80,strokeWidth:n=8})=>{const r=e/2,a=r-n,o=2*Math.PI*a,l=o-t/100*o;return x.jsxs("div",{className:"relative",style:{width:e,height:e},children:[x.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[x.jsx("circle",{cx:r,cy:r,r:a,strokeWidth:n,className:"stroke-gray-200 dark:stroke-gray-700",fill:"transparent"}),x.jsx("circle",{cx:r,cy:r,r:a,strokeWidth:n,className:"stroke-blue-500 transition-all duration-500 ease-out",fill:"transparent",strokeDasharray:o,strokeDashoffset:l,strokeLinecap:"round"})]}),x.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-gray-900 dark:text-white font-bold text-lg",children:`${Math.round(t)}%`})]})},zee=({winValue:t,lossValue:e})=>{const n=t+e;if(n===0)return x.jsx("div",{className:"h-2 w-full bg-gray-300 dark:bg-gray-600 rounded-full"});const r=t/n*100;return x.jsx("div",{className:"w-full bg-red-500/50 rounded-full h-2.5 flex overflow-hidden",children:x.jsx("div",{className:"bg-green-500 h-2.5",style:{width:`${r}%`}})})},js=({title:t,value:e,children:n,footer:r,icon:a})=>x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg flex flex-col justify-between min-h-[160px]",children:[x.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm mb-2",children:[a,x.jsx("span",{className:"ml-2",children:t})]}),x.jsxs("div",{className:"flex-grow flex items-center justify-center",children:[e&&x.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white my-2",children:e}),n]}),x.jsx("div",{className:"text-center text-xs text-gray-400 dark:text-gray-500 mt-2 h-8 flex items-center justify-center",children:r})]}),Bee=({goal:t,currentPnl:e,period:n,currency:r})=>{if(!t||!t.type||!t.amount||t.type!=="weekly"&&t.type!=="monthly"||t.type!==n)return null;const{amount:a,type:o}=t,l=e>0?e/a*100:0,c=Math.min(l,100),d=e>=a;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[x.jsx(r_,{size:20,className:"mr-2 text-yellow-400"}),"Target Profit ",o==="weekly"?"Mingguan":"Bulanan"]}),d&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-green-500/20 text-green-300 px-3 py-1 rounded-full",children:[x.jsx(Lm,{size:16,className:"mr-1.5"}),"Target Tercapai!"]})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("div",{className:"flex-grow",children:x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 relative overflow-hidden",children:x.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ease-out ${d?"bg-green-500":"bg-blue-500"}`,style:{width:`${c}%`}})})}),x.jsxs("div",{className:"flex-shrink-0 w-40 text-right",children:[x.jsx("span",{className:`font-bold text-lg ${d?"text-green-400 dark:text-green-300":"text-gray-900 dark:text-white"}`,children:Ht(e,r)}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" / ",Ht(a,r)]})]})]}),x.jsxs("p",{className:"text-right text-sm text-gray-500 dark:text-gray-400 mt-1",children:[l.toFixed(1),"%"]})]})},qee=({goal:t,currentPnl:e,currency:n})=>{if(!t||t.dailyProfitTarget<=0&&t.dailyLossTarget<=0)return null;const{dailyProfitTarget:r,dailyLossTarget:a}=t,o=r>0&&e>0?e/r*100:0,l=Math.min(o,100),c=r>0&&e>=r,d=a>0&&e<0?Math.abs(e)/a*100:0,h=Math.min(d,100),m=a>0&&Math.abs(e)>=a;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[x.jsx(Lm,{size:20,className:"mr-2 text-cyan-400"}),"Target Harian"]}),c&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-green-500/20 text-green-300 px-3 py-1 rounded-full",children:[x.jsx(Lm,{size:16,className:"mr-1.5"}),"Profit Tercapai!"]}),m&&x.jsxs("span",{className:"flex items-center text-sm font-bold bg-red-500/20 text-red-300 px-3 py-1 rounded-full",children:[x.jsx(i_,{size:16,className:"mr-1.5"}),"Batas Loss Tercapai!"]})]}),r>0&&x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Target Profit"}),x.jsxs("div",{children:[x.jsx("span",{className:`font-bold ${c?"text-green-400":"text-gray-900 dark:text-white"}`,children:Ht(e>0?e:0,n)}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" / ",Ht(r,n)]})]})]}),x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ease-out ${c?"bg-green-500":"bg-cyan-500"}`,style:{width:`${l}%`}})})]}),a>0&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Batas Loss"}),x.jsxs("div",{children:[x.jsx("span",{className:`font-bold ${m?"text-red-400":"text-gray-900 dark:text-white"}`,children:Ht(e<0?e:0,n)}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" / ",Ht(-a,n)]})]})]}),x.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:"h-3 rounded-full transition-all duration-500 ease-out bg-red-500",style:{width:`${h}%`}})})]})]})},$ee=({stats:t,currency:e})=>{if(!t)return null;const n=isFinite(t.profitFactor)?t.profitFactor.toFixed(2):"∞",r=isFinite(t.avgWinLossRatio)?t.avgWinLossRatio.toFixed(2):"∞";return x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6 animate-fadeIn",children:[x.jsx(js,{title:"Net P&L",value:Ht(t.netPnl,e),icon:x.jsx(Yz,{size:16}),footer:x.jsxs("span",{className:t.netPnl>=0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400",children:[" ",t.netPnl>=0?"Profit":"Loss"," "]})}),x.jsxs(js,{title:"Trade Win %",icon:x.jsx(n_,{size:16}),footer:x.jsxs("span",{children:[x.jsxs("span",{className:"text-green-500 dark:text-green-400",children:[t.wins," menang"]})," / ",x.jsxs("span",{className:"text-red-500 dark:text-red-400",children:[t.losses," kalah"]})]}),children:[" ",x.jsx(aO,{value:t.tradeWinRate})," "]}),x.jsx(js,{title:"Streak W/L",icon:x.jsx(a_,{size:16}),footer:x.jsx("span",{children:"Kemenangan / Kekalahan beruntun"}),children:x.jsxs("div",{className:"flex items-center justify-center space-x-6 text-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-3xl font-bold text-green-500 dark:text-green-400",children:t.consecutiveWins}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Menang"})]}),x.jsx("div",{className:"h-10 w-px bg-gray-200 dark:bg-gray-700"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-3xl font-bold text-red-500 dark:text-red-400",children:t.consecutiveLosses}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Kalah"})]})]})}),x.jsx(js,{title:"Profit Factor",value:n,icon:x.jsx(Kz,{size:16}),footer:x.jsxs("div",{className:"w-full flex flex-col items-center",children:[x.jsx("span",{className:"text-green-500",children:Ht(t.grossProfit,e)}),x.jsx("span",{className:"text-gray-500 mx-1",children:"/"}),x.jsx("span",{className:"text-red-500",children:Ht(t.grossLoss,e)})]})}),x.jsxs(js,{title:"Day Win %",icon:x.jsx(RI,{size:16}),footer:x.jsxs("span",{children:[x.jsxs("span",{className:"text-green-500 dark:text-green-400",children:[t.profitableDays," hari"]})," / ",x.jsxs("span",{className:"text-red-500 dark:text-red-400",children:[t.losingDays," hari"]})]}),children:[" ",x.jsx(aO,{value:t.dayWinRate})," "]}),x.jsx(js,{title:"Avg Win/Loss",icon:x.jsx(Nz,{size:16}),footer:x.jsxs("div",{className:"w-full flex flex-col items-center",children:[x.jsx(zee,{winValue:t.avgWin,lossValue:Math.abs(t.avgLoss)}),x.jsxs("div",{className:"w-full flex justify-between mt-1",children:[x.jsx("span",{className:"text-green-500 dark:text-green-400",children:Ht(t.avgWin,e)}),x.jsx("span",{className:"text-red-500 dark:text-red-400",children:Ht(t.avgLoss,e)})]})]}),value:r}),x.jsx(js,{title:"Avg R:R Ratio",value:`${t.avgRiskReward.toFixed(2)}R`,icon:x.jsx(p7,{size:16}),footer:x.jsx("span",{children:"Rata-rata Risk to Reward"})}),x.jsx(js,{title:"Total Lot Digunakan",value:fj(t.totalLotUsed),icon:x.jsx(e7,{size:16}),footer:x.jsx("span",{children:"Volum Trading Akumulatif"})})]})},Fee=({data:t,period:e,currency:n,chartType:r})=>{const a="#A0AEC0",o="#4A5568",l=r==="balance"?"Saldo":"P&L",c=h=>{if(h==="Start")return"Awal";const m=new Date(h);return isNaN(m)?h:e==="monthly"||e==="custom"?m.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="weekly"?m.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="daily"?m.toLocaleString("id-ID",{month:"short",day:"numeric"}):e==="yearly"?m.getFullYear():m.toLocaleDateString("id-ID")},d=({active:h,payload:m,label:y})=>{if(h&&m&&m.length){const v=y==="Start"?"Awal Periode":`Tanggal: ${y}`;return x.jsxs("div",{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm p-3 rounded-lg border border-gray-300 dark:border-gray-600",children:[x.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:v}),x.jsx("p",{className:"text-gray-900 dark:text-white font-bold",children:`${l}: ${Ht(m[0].value,n)}`})]})}return null};return x.jsx(HW,{width:"100%",height:"100%",children:x.jsxs(Tee,{data:t,margin:{top:5,right:20,left:-10,bottom:20},children:[x.jsx(BM,{strokeDasharray:"3 3",stroke:o}),x.jsx(XM,{dataKey:"name",stroke:a,tickFormatter:c,tick:{fontSize:12}}),x.jsx(QM,{stroke:a,tickFormatter:h=>n==="IDR"?`${h/1e6}jt`:`$${h/1e3}k`,tick:{fontSize:12},domain:["dataMin","dataMax"]}),x.jsx(MW,{content:x.jsx(d,{})}),r==="pnl"&&x.jsx(w1,{y:0,stroke:a,strokeDasharray:"4 4"}),x.jsx("defs",{children:x.jsxs("linearGradient",{id:"colorChart",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),x.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),x.jsx(WM,{type:"linear",dataKey:"value",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorChart)",strokeWidth:2})]})})},Hee=({activeProfileId:t,showToast:e,onClose:n,templates:r,openDeleteModal:a})=>{const o={name:"",pair:"",type:"long",lotSize:"0.01",setup:"",pnl:"0",riskRewardRatio:"0"},[l,c]=C.useState(o),[d,h]=C.useState(null),m=E=>{const{name:k,value:T}=E.target;c(I=>({...I,[k]:T}))},y=E=>{h(E),c({...E,lotSize:String(E.lotSize),pnl:String(E.pnl),riskRewardRatio:String(E.riskRewardRatio||"0")})},v=async E=>{E.preventDefault();const k={...l,lotSize:parseFloat(l.lotSize)||0,pnl:parseFloat(l.pnl)||0,riskRewardRatio:parseFloat(l.riskRewardRatio)||0};if(!k.name.trim()){e("Nama Template wajib diisi.","error");return}try{if(d)await O1("templates",{...k,id:d.id,profileId:t,updatedAt:new Date}),e(`Template '${k.name}' berhasil diupdate.`,"success");else{const T=crypto.randomUUID();await Zs("templates",{...k,id:T,profileId:t,createdAt:new Date}),e(`Template '${k.name}' berhasil ditambahkan.`,"success")}c(o),h(null)}catch(T){e("Gagal menyimpan Template.","error"),console.error("Error saving template:",T)}},_=()=>{h(null),c(o)};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(a_,{size:24,className:"mr-2 text-yellow-400"})," Kelola Template Trade"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:v,className:"flex-shrink-0 mb-6 p-4 bg-gray-100/50 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:d?`Edit Template: ${d.name}`:"Buat Template Baru"}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[x.jsx("input",{type:"text",name:"name",placeholder:"Nama Template (Wajib)",value:l.name,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-4",required:!0}),x.jsx("input",{type:"text",name:"pair",placeholder:"Pair Default (e.g., XAU/USD)",value:l.pair,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsxs("select",{name:"type",value:l.type,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1",children:[x.jsx("option",{value:"long",children:"Long (Buy)"}),x.jsx("option",{value:"short",children:"Short (Sell)"})]}),x.jsx("input",{type:"number",step:"any",name:"lotSize",placeholder:"Lot Size Default",value:l.lotSize,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsx("input",{type:"number",step:"any",name:"pnl",placeholder:"P&L Default (0 jika kosong)",value:l.pnl,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-1"}),x.jsx("input",{type:"number",step:"any",name:"riskRewardRatio",placeholder:"R:R Ratio (e.g., 2)",value:l.riskRewardRatio,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-2"}),x.jsx("input",{type:"text",name:"setup",placeholder:"Setup/Strategi Default",value:l.setup,onChange:m,className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded col-span-2 md:col-span-4"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[d&&x.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Batal Edit"}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[x.jsx(t_,{size:18,className:"inline mr-1"})," ",d?"Update Template":"Simpan Template"]})]})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Template (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Buat template pertama Anda di atas."}):r.map(E=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center transition-shadow hover:shadow-md hover:shadow-gray-700/50",children:[x.jsxs("div",{className:"flex flex-col text-sm",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:E.name}),x.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[E.pair||"-"," | ",E.type," | Lot: ",E.lotSize.toFixed(2)," | R:R: ",parseFloat(E.riskRewardRatio||0)>0?`${E.riskRewardRatio}R`:"N/A"]})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>y(E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-yellow-400 transition-colors",title:`Edit Template ${E.name}`,children:x.jsx(e_,{size:16})}),x.jsx("button",{onClick:()=>a("template",E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Template ${E.name}`,children:x.jsx(_l,{size:16})})]})]},E.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},Kee=({activeProfileId:t,showToast:e,onClose:n,pairs:r,openDeleteModal:a})=>{const[o,l]=C.useState(""),c=async d=>{d.preventDefault();const h=o.trim().toUpperCase();if(!h){e("Nama Pair tidak boleh kosong.","error");return}if(r.some(m=>m.name?.toUpperCase()===h)){e(`Pair '${h}' sudah ada.`,"error"),l("");return}try{const m={id:crypto.randomUUID(),profileId:t,name:h,createdAt:new Date};await Zs("pairs",m),e(`Pair ${h} berhasil ditambahkan.`,"success"),l("")}catch(m){e("Gagal menambah Pair.","error"),console.error("Error adding pair:",m)}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[x.jsx(n_,{size:24,className:"mr-2 text-yellow-400"})," Kelola Pair Trading"]}),x.jsx("button",{onClick:n,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors text-3xl font-light",children:"×"})]}),x.jsxs("form",{onSubmit:c,className:"flex-shrink-0 mb-6 flex space-x-2",children:[x.jsx("input",{type:"text",placeholder:"Nama Pair (e.g., EUR/USD)",value:o,onChange:d=>l(d.target.value.toUpperCase()),className:"flex-grow bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0,maxLength:10}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tambah"})]}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:["Daftar Pair (",r.length,")"]}),x.jsx("div",{className:"overflow-y-auto flex-grow space-y-2 pr-2",children:r.length===0?x.jsx("p",{className:"text-gray-500 text-sm p-4 text-center bg-gray-100 dark:bg-gray-700 rounded-lg",children:"Tambahkan pair trading yang sering Anda gunakan di atas."}):r.map(d=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center transition-shadow hover:shadow-md hover:shadow-gray-700/50",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:d.name}),x.jsx("button",{onClick:()=>a("pair",d),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500 transition-colors",title:`Hapus Pair ${d.name}`,children:x.jsx(_l,{size:16})})]},d.id))}),x.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Tutup"})})]})})},Gee=({onSaveTrade:t,editingTrade:e,onCancelEdit:n,pairs:r,templates:a,customFields:o,activeProfileId:l})=>{const c=C.useMemo(()=>{const O={tradeDate:xg(new Date),pair:"",type:"long",lotSize:"0.01",pnl:"0",setup:"",notes:"",screenshotBeforeId:null,screenshotAfterId:null,entryPrice:"",takeProfit:"",stopLoss:"",riskRewardRatio:"0",customData:{}};return o.forEach(D=>{O.customData[D.name]=""}),O},[o]),[d,h]=C.useState(c),[m,y]=C.useState(""),[v,_]=C.useState(null),[E,k]=C.useState(null),T=bg(d.screenshotBeforeId),I=bg(d.screenshotAfterId);C.useEffect(()=>{let O=e?{...c,...e,tradeDate:xg(e.tradeDate),pnl:String(e.pnl||"0"),lotSize:String(e.lotSize||"0.01"),riskRewardRatio:String(e.riskRewardRatio||"0"),entryPrice:String(e.entryPrice||""),takeProfit:String(e.takeProfit||""),stopLoss:String(e.stopLoss||"")}:c;O.customData=O.customData||{},o.forEach(D=>{O.customData.hasOwnProperty(D.name)||(O.customData[D.name]="")}),e&&e.pair&&!r.some(D=>D.name===e.pair)?h({...O,pair:e.pair}):r.length>0&&!O.pair?h({...O,pair:r[0].name}):h(O),y(""),_(null),k(null)},[e,r,c,o]),C.useEffect(()=>{const O=parseFloat(d.entryPrice),D=parseFloat(d.takeProfit),U=parseFloat(d.stopLoss),P=d.type;if(O>0&&D>0&&U>0){let B,V;if(P==="long"?(V=D-O,B=O-U):(V=O-D,B=U-O),B>0&&V>0){const pe=V/B;h(Ee=>({...Ee,riskRewardRatio:pe.toFixed(2)}))}else h(pe=>({...pe,riskRewardRatio:"0"}))}},[d.entryPrice,d.takeProfit,d.stopLoss,d.type]);const M=O=>{const{name:D,value:U}=O.target;h(P=>({...P,[D]:U})),y("")},L=O=>{const{name:D,value:U}=O.target;h(P=>({...P,customData:{...P.customData,[D]:U}}))},z=(O,D)=>{const U=O.target.files[0];U&&(D==="before"?(_(U),h(P=>({...P,screenshotBeforeId:null}))):(k(U),h(P=>({...P,screenshotAfterId:null}))))},q=O=>{const D=O.target.value;if(y(D),D){const U=a.find(P=>P.id===D);U&&h(P=>({...P,pair:U.pair||"",type:U.type||"long",lotSize:String(U.lotSize||"0.01"),pnl:String(U.pnl||"0"),setup:U.setup||"",riskRewardRatio:String(U.riskRewardRatio||"0"),notes:"",screenshotBeforeId:null,screenshotAfterId:null}))}else h(U=>({...c,tradeDate:U.tradeDate,pair:r.length>0?r[0].name:""}))},F=O=>{O.preventDefault();const D={...d,id:e?e.id:crypto.randomUUID(),profileId:l,pnl:parseFloat(d.pnl)||0,lotSize:parseFloat(d.lotSize)||0,riskRewardRatio:parseFloat(d.riskRewardRatio)||0,entryPrice:parseFloat(d.entryPrice)||0,takeProfit:parseFloat(d.takeProfit)||0,stopLoss:parseFloat(d.stopLoss)||0,tradeDate:new Date(d.tradeDate)};t(D,v,E)},R=({id:O,label:D,file:U,onChange:P,existingImageUrl:B})=>{const[V,pe]=C.useState(null);C.useEffect(()=>{if(!U){pe(null);return}const Q=URL.createObjectURL(U);return pe(Q),()=>URL.revokeObjectURL(Q)},[U]);const Ee=V||B;return x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:D}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-24 h-24 flex-shrink-0",children:Ee?x.jsxs("div",{className:"relative group w-full h-full",children:[x.jsx("img",{src:Ee,alt:"Preview",className:"h-full w-full object-cover rounded-lg"}),x.jsx("label",{htmlFor:O,className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg cursor-pointer",children:x.jsx(e_,{size:24,className:"text-white"})})]}):x.jsx("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:x.jsx(DI,{size:32,className:"text-gray-400 dark:text-gray-500"})})}),x.jsxs("label",{htmlFor:O,className:"cursor-pointer bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white py-2 px-4 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 text-sm w-full",children:[x.jsx(qz,{size:16,className:"mr-2"}),x.jsx("span",{className:"truncate",children:U?U.name:"Upload Gambar"})]}),x.jsx("input",{id:O,type:"file",onChange:P,className:"hidden",accept:"image/*"})]})]})};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:x.jsxs("form",{onSubmit:F,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e?"Edit Trade":"Tambah Trade Baru"}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Pilih Template (Opsional)"}),x.jsxs("select",{value:m,onChange:q,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"",children:"-- Tanpa Template --"}),a.map(O=>x.jsx("option",{value:O.id,children:O.name},O.id))]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.length>0?x.jsxs("select",{name:"pair",value:d.pair||"",onChange:M,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0,children:[x.jsx("option",{value:"",disabled:!0,children:"Pilih Pair"}),r.map(O=>x.jsx("option",{value:O.name,children:O.name},O.id)),e&&e.pair&&!r.some(O=>O.name===e.pair)&&x.jsxs("option",{value:e.pair,className:"text-gray-400 bg-gray-800",children:[e.pair," (Lama)"]})]}):x.jsx("input",{name:"pair",value:d.pair||"",onChange:M,placeholder:"Pair (e.g., BTC/USD)",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("input",{type:"datetime-local",name:"tradeDate",value:d.tradeDate||"",onChange:M,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsxs("select",{name:"type",value:d.type||"long",onChange:M,className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"long",children:"Long"}),x.jsx("option",{value:"short",children:"Short"})]}),x.jsx("input",{type:"number",step:"any",name:"pnl",value:d.pnl||"",onChange:M,placeholder:"P&L (Hasil Trade)",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded font-bold",required:!0}),x.jsx("input",{type:"number",step:"any",name:"lotSize",value:d.lotSize||"",onChange:M,placeholder:"Lot Size",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0}),x.jsx("input",{name:"setup",value:d.setup||"",onChange:M,placeholder:"Setup/Strategi Trade",className:"md:col-span-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"entryPrice",value:d.entryPrice||"",onChange:M,placeholder:"Harga Entry",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"takeProfit",value:d.takeProfit||"",onChange:M,placeholder:"Harga Take Profit",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsx("input",{type:"number",step:"any",name:"stopLoss",value:d.stopLoss||"",onChange:M,placeholder:"Harga Stop Loss",className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"}),x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"R:R Ratio"}),x.jsx("input",{type:"number",step:"any",name:"riskRewardRatio",value:d.riskRewardRatio||"",onChange:M,placeholder:"R:R Ratio (Otomatis)",className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),o.map(O=>x.jsxs("div",{className:"md:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:O.name}),x.jsx("input",{name:O.name,value:d.customData?.[O.name]||"",onChange:L,placeholder:`Input untuk ${O.name}`,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]},O.id)),x.jsx(R,{id:"ss-before",label:"Screenshot (Sebelum)",file:v,onChange:O=>z(O,"before"),existingImageUrl:T}),x.jsx(R,{id:"ss-after",label:"Screenshot (Sesudah)",file:E,onChange:O=>z(O,"after"),existingImageUrl:I}),x.jsx("textarea",{name:"notes",value:d.notes||"",onChange:M,placeholder:"Catatan...",rows:"3",className:"md:col-span-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Batal"}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[x.jsx(t_,{size:18,className:"mr-2"}),e?"Update":"Simpan"]})]})]})})},Yee=({activeProfileId:t,showToast:e,onClose:n,openDeleteModal:r,currency:a})=>{const[o,l]=C.useState([]),[c,d]=C.useState("deposit"),[h,m]=C.useState(""),[y,v]=C.useState(xg(new Date));C.useEffect(()=>{t&&Ia("balance_transactions",t).then(E=>{l(E.sort((k,T)=>T.date-k.date))})},[t]);const _=async E=>{if(E.preventDefault(),!h||parseFloat(h)<=0){e("Jumlah harus lebih dari nol","error");return}try{const k={id:crypto.randomUUID(),profileId:t,type:c,amount:parseFloat(h),date:new Date(y)};await Zs("balance_transactions",k),e("Transaksi berhasil ditambahkan!","success"),m(""),v(xg(new Date)),Ia("balance_transactions",t).then(T=>{l(T.sort((I,M)=>M.date-I.date))})}catch(k){e("Error menambah transaksi","error"),console.error(k)}};return x.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",children:[" ",x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[" ",x.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex-shrink-0",children:"Kelola Saldo"})," ",x.jsxs("form",{onSubmit:_,className:"flex-shrink-0 mb-6",children:[" ",x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[" ",x.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",children:[x.jsx("option",{value:"deposit",children:"Deposit"}),x.jsx("option",{value:"withdrawal",children:"Withdrawal"})]})," ",x.jsx("input",{type:"number",placeholder:"Jumlah",value:h,onChange:E=>m(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0})," ",x.jsx("input",{type:"datetime-local",value:y,onChange:E=>v(E.target.value),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded",required:!0})," "]})," ",x.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:"Tambah Transaksi"})," "]})," ",x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex-shrink-0",children:"Riwayat"})," ",x.jsxs("div",{className:"overflow-y-auto flex-grow",children:[" ",x.jsxs("ul",{className:"space-y-2",children:[" ",o.map(E=>x.jsxs("li",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[" ",x.jsxs("div",{className:"flex items-center",children:[" ",E.type==="deposit"?x.jsx(NI,{className:"text-green-500 dark:text-green-400 mr-3"}):x.jsx(OI,{className:"text-red-500 dark:text-red-400 mr-3"})," ",x.jsxs("div",{children:[" ",x.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:[E.type,": ",Ht(E.amount,a)]})," ",x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:gp(E.date)})," "]})," "]})," ",x.jsx("button",{onClick:()=>r("transaction",E),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-500",children:x.jsx(_l,{size:16})})," "]},E.id))," "]})," "]})," ",x.jsxs("div",{className:"flex justify-end mt-6 flex-shrink-0",children:[" ",x.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Tutup"})," "]})," "]})," "]})},hj=({trades:t,onEdit:e,onDelete:n,onView:r,title:a="Riwayat Trade",requestSort:o,sortConfig:l,customFields:c,currency:d})=>{const h=v=>l&&l.key===v?l.direction==="ascending"?"▲":"▼":null,m=v=>{o&&o(v)},y=(v,_=!1)=>{let E="p-3";return _&&(E+=" text-right"),o&&(E+=" cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"),{scope:"col",className:E,onClick:()=>m(v)}};return x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg animate-fadeIn overflow-hidden mt-6",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white p-4",children:a}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[x.jsx("thead",{className:"text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-700",children:x.jsxs("tr",{children:[x.jsxs("th",{...y("tradeDate"),children:["Tanggal ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("tradeDate")})]}),x.jsxs("th",{...y("pair"),children:["Pair ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("pair")})]}),x.jsxs("th",{...y("type"),children:["Tipe ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("type")})]}),x.jsxs("th",{...y("lotSize",!0),children:["Lot ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("lotSize")})]}),x.jsxs("th",{...y("pnl",!0),children:["P&L ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("pnl")})]}),x.jsxs("th",{...y("riskRewardRatio",!0),children:["R:R ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("riskRewardRatio")})]}),x.jsxs("th",{...y("setup"),children:["Setup ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h("setup")})]}),c.map(v=>x.jsxs("th",{...y(v.name),children:[v.name," ",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:h(v.name)})]},v.id)),x.jsx("th",{scope:"col",className:"p-3 text-center",children:"Aksi"})]})}),x.jsx("tbody",{children:t.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:8+c.length,className:"text-center p-6 text-gray-500",children:"Tidak ada trade untuk ditampilkan."})}):t.map(v=>x.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[x.jsx("td",{className:"p-3",children:gp(v.tradeDate)}),x.jsx("td",{className:"p-3 font-medium text-gray-900 dark:text-white",children:v.pair}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${v.type==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:v.type})}),x.jsx("td",{className:"p-3 text-right",children:v.lotSize.toFixed(2)}),x.jsx("td",{className:`p-3 text-right font-bold ${v.pnl>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:Ht(v.pnl,d)}),x.jsx("td",{className:"p-3 text-right",children:v.riskRewardRatio>0?`${v.riskRewardRatio.toFixed(2)}R`:"-"}),x.jsx("td",{className:"p-3",children:v.setup||"-"}),c.map(_=>x.jsx("td",{className:"p-3",children:v.customData?.[_.name]||"-"},_.id)),x.jsx("td",{className:"p-3 text-center",children:x.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[x.jsx("button",{onClick:()=>r(v),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400",title:"Lihat Rincian",children:x.jsx(Uf,{size:16})}),x.jsx("button",{onClick:()=>e(v),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-yellow-500 dark:hover:text-yellow-400",title:"Edit Trade",children:x.jsx(e_,{size:16})}),x.jsx("button",{onClick:()=>n("trade",v),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-red-500",title:"Delete Trade",children:x.jsx(_l,{size:16})})]})})]},v.id))})]})})]})},Wee=({trades:t,currency:e,year:n})=>{const r=C.useMemo(()=>{const o=Array.from({length:12},(l,c)=>({month:c,pnl:0,trades:0,wins:0,losses:0}));return t.forEach(l=>{const c=new Date(l.tradeDate).getMonth();o[c].pnl+=l.pnl,o[c].trades++,l.pnl>0?o[c].wins++:l.pnl<0&&o[c].losses++}),o.filter(l=>l.trades>0)},[t]),a=o=>new Date(0,o).toLocaleString("id-ID",{month:"long"});return x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg animate-fadeIn overflow-hidden mt-6",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white p-4",children:["Ringkasan Bulanan untuk Tahun ",n]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[x.jsx("thead",{className:"text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-700",children:x.jsxs("tr",{children:[x.jsx("th",{scope:"col",className:"p-3",children:"Bulan"}),x.jsx("th",{scope:"col",className:"p-3 text-right",children:"Total P&L"}),x.jsx("th",{scope:"col",className:"p-3 text-right",children:"Total Trade"}),x.jsx("th",{scope:"col",className:"p-3 text-right",children:"Win Rate"})]})}),x.jsx("tbody",{children:r.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"text-center p-6 text-gray-500",children:"Tidak ada trade untuk ditampilkan pada tahun ini."})}):r.map(o=>{const l=o.trades>0?o.wins/o.trades*100:0;return x.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[x.jsx("td",{className:"p-3 font-medium text-gray-900 dark:text-white",children:a(o.month)}),x.jsx("td",{className:`p-3 text-right font-bold ${o.pnl>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:Ht(o.pnl,e)}),x.jsx("td",{className:"p-3 text-right",children:o.trades}),x.jsxs("td",{className:"p-3 text-right",children:[l.toFixed(1),"%"]})]},o.month)})})]})})]})},Xee=({selectedYear:t,setSelectedYear:e})=>{const n=new Date().getFullYear(),r=2020,a=Array.from({length:n-r+2},(o,l)=>r+l);return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn flex items-center justify-center gap-4 border border-gray-200 dark:border-gray-700",children:[x.jsx("label",{htmlFor:"yearSelector",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Pilih Tahun Ringkasan:"}),x.jsx("select",{id:"yearSelector",value:t,onChange:o=>e(parseInt(o.target.value,10)),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white p-2 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500",children:a.map(o=>x.jsx("option",{value:o,children:o},o))})]})},Qee=({trades:t,onEdit:e,onDelete:n,onView:r,customFields:a,currency:o})=>{const[l,c]=C.useState(new Date),[d,h]=C.useState(null),m=C.useMemo(()=>{const T=new Map;return t.forEach(I=>{const M=Ra(I.tradeDate);T.has(M)||T.set(M,{pnl:0,trades:[],wins:0,losses:0});const L=T.get(M);L.pnl+=I.pnl,L.trades.push(I),I.pnl>0?L.wins++:I.pnl<0&&L.losses++}),T},[t]),y=C.useMemo(()=>{let T=0;const I=l.getMonth(),M=l.getFullYear();return m.forEach((L,z)=>{const q=new Date(z);q.getMonth()===I&&q.getFullYear()===M&&(T+=L.pnl)}),T},[m,l]),v=T=>{const I=Ra(T);m.has(I)&&h(T)},_=()=>{const T=l.getFullYear(),I=l.getMonth(),M=new Date().getFullYear(),L=M-5,z=M+5,q=Array.from({length:z-L+1},(R,O)=>L+O),F=[{value:0,label:"Januari"},{value:1,label:"Februari"},{value:2,label:"Maret"},{value:3,label:"April"},{value:4,label:"Mei"},{value:5,label:"Juni"},{value:6,label:"Juli"},{value:7,label:"Agustus"},{value:8,label:"September"},{value:9,label:"Oktober"},{value:10,label:"November"},{value:11,label:"Desember"}];return x.jsxs("div",{className:"flex justify-between items-center p-4",children:[x.jsx("button",{onClick:()=>c(R=>new Date(R.getFullYear(),R.getMonth()-1,1)),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600",children:x.jsx(Pz,{})}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("select",{value:I,onChange:R=>c(O=>new Date(O.getFullYear(),parseInt(R.target.value),1)),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white font-semibold py-2 px-3 rounded-lg appearance-none cursor-pointer",children:F.map(R=>x.jsx("option",{value:R.value,children:R.label},R.value))}),x.jsx("select",{value:T,onChange:R=>c(O=>new Date(parseInt(R.target.value),O.getMonth(),1)),className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white font-semibold py-2 px-3 rounded-lg appearance-none cursor-pointer",children:q.map(R=>x.jsx("option",{value:R,children:R},R))})]}),x.jsxs("div",{className:"mt-2 text-sm",children:[x.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total P&L Bulan Ini: "}),x.jsx("span",{className:`font-bold ${y>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:Ht(y,o)})]})]}),x.jsx("button",{onClick:()=>c(R=>new Date(R.getFullYear(),R.getMonth()+1,1)),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600",children:x.jsx(jz,{})})]})},E=()=>{const T=new Date(l.getFullYear(),l.getMonth(),1),I=new Date(T);I.setDate(I.getDate()-T.getDay());const M=[];let L=new Date(I);for(let z=0;z<6;z++){const q=[];let F=0,R=0;for(let O=0;O<7;O++){const D=new Date(L),U=Ra(D),P=m.get(U);P&&(F+=P.pnl,R++);const B=P?P.wins/(P.wins+P.losses)*100:0;q.push(x.jsxs("div",{className:Xo("relative p-2 h-28 md:h-32 border-t border-l border-gray-200 dark:border-gray-700 flex flex-col",L.getMonth()!==l.getMonth()?"text-gray-500 dark:text-gray-600 bg-gray-50 dark:bg-gray-900/50":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800",P?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700":"",Ra(d)===U?"bg-blue-600/20 dark:bg-blue-600/50 ring-2 ring-blue-400":""),onClick:()=>v(D),children:[x.jsx("span",{className:Xo("font-medium",Ra(new Date)===U?"text-blue-500 dark:text-blue-400 font-bold":""),children:D.getDate()}),P&&x.jsxs("div",{className:"mt-1 text-xs flex-grow flex flex-col justify-end",children:[x.jsx("p",{className:Xo("font-bold",P.pnl>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:Ht(P.pnl,o)}),x.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[P.trades.length," trade",P.trades.length>1?"s":""]}),x.jsx("p",{className:Xo(P.wins>P.losses?"text-green-500":"text-red-500"),children:isNaN(B)?"N/A":`${B.toFixed(0)}% win`})]})]},L)),L.setDate(L.getDate()+1)}M.push(x.jsxs("div",{className:"grid grid-cols-8",children:[q,x.jsx("div",{className:"p-2 h-28 md:h-32 border-t border-l border-r border-gray-200 dark:border-gray-700 flex flex-col justify-center items-center text-center bg-white dark:bg-gray-800",children:R>0?x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Week ",z+1]}),x.jsx("p",{className:Xo("font-bold text-sm",F>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:Ht(F,o)}),x.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:[R," hari"]})]}):x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-600",children:["Week ",z+1]})})]},`week-${z}`))}return x.jsx("div",{children:M})},k=d?(m.get(Ra(d))?.trades||[]).sort((T,I)=>(I.tradeDate?.getTime()||0)-(T.tradeDate?.getTime()||0)):[];return x.jsxs("div",{className:"animate-fadeIn",children:[x.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[_(),x.jsxs("div",{className:"grid grid-cols-8 text-center font-semibold text-gray-500 dark:text-gray-400 text-xs px-2 pb-2",children:[["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(T=>x.jsx("div",{children:T},T)),x.jsx("div",{className:"text-blue-500 dark:text-blue-400",children:"Mingguan"})]}),E()]}),d&&x.jsx(hj,{trades:k,onEdit:e,onView:r,onDelete:n,title:`Trade untuk ${d.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,customFields:a,currency:o})]})},Zee=({profiles:t,activeProfile:e,onSelectProfile:n,onManageProfiles:r})=>{const[a,o]=C.useState(!1),l=c=>{n(c),o(!1)};return e?x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>o(!a),className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 w-full text-left",children:[x.jsx(MI,{size:20,className:"text-blue-500 dark:text-blue-400"}),x.jsxs("div",{className:"flex-grow",children:[x.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate",children:e.name}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.description||"Tidak ada deskripsi"})]}),x.jsx(Rz,{size:16,className:`transition-transform text-gray-600 dark:text-gray-400 ${a?"rotate-180":""}`})]}),a&&x.jsx("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-20",children:x.jsxs("ul",{children:[t.map(c=>x.jsx("li",{children:x.jsxs("a",{href:"#",onClick:()=>l(c),className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[c.name," ",x.jsxs("span",{className:"text-xs text-gray-500",children:["(",c.currency,")"]})]})},c.id)),x.jsx("li",{children:x.jsx("button",{onClick:()=>{r(),o(!1)},className:"w-full text-left px-4 py-2 text-sm text-blue-500 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 border-t border-gray-200 dark:border-gray-700",children:"Tambah/Kelola Akun..."})})]})})]}):x.jsx("div",{className:"text-gray-900 dark:text-white",children:"Memuat profil..."})};function Jee(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState([]),[d,h]=C.useState([]),[m,y]=C.useState(0),[v,_]=C.useState(null),[E,k]=C.useState(null),[T,I]=C.useState(!1),[M,L]=C.useState([]),[z,q]=C.useState(null),[F,R]=C.useState(!0),[O,D]=C.useState(""),[U,P]=C.useState({message:"",type:""}),[B,V]=C.useState(!1),[pe,Ee]=C.useState(!1),[Q,ue]=C.useState(null),[ge,Ae]=C.useState(null),[H,ie]=C.useState(!1),[ae,he]=C.useState(!1),[_e,Ne]=C.useState(!1),[Ie,Gt]=C.useState(!1),[ot,me]=C.useState(!1),[qe,Ke]=C.useState(!1),[ce,wt]=C.useState(!1),[rt,Yt]=C.useState(!1),[Vt,At]=C.useState(null),[Gn,Ut]=C.useState("dashboard"),[Xe,Ar]=C.useState("all"),[ar,mo]=C.useState({key:"tradeDate",direction:"descending"}),[Mi,ji]=C.useState("balance"),[En,mn]=C.useState(new Date().toLocaleDateString("en-CA")),[Wt,Tn]=C.useState(new Date().toLocaleDateString("en-CA")),[is,Sl]=C.useState(new Date().getFullYear()),as=C.useMemo(()=>[{key:"all",label:"Semua"},{key:"daily",label:"Harian"},{key:"weekly",label:"Mingguan"},{key:"monthly",label:"Bulanan"},{key:"yearly",label:"Tahunan"},{key:"custom",label:"Kustom"}],[]);C.useEffect(()=>{document.documentElement.classList.add("dark")},[]);const Yn=C.useCallback(async()=>{const ye=(await Nee("profiles")).sort((Ce,we)=>Ce.createdAt-we.createdAt);if(L(ye),z&&!ye.some(Ce=>Ce.id===z.id)){const Ce=ye.length>0?ye[0]:null;q(Ce),Ce?localStorage.setItem("activeProfileId",Ce.id):localStorage.removeItem("activeProfileId")}else if(!z&&ye.length>0){const Ce=localStorage.getItem("activeProfileId"),we=ye.find($e=>$e.id===Ce);q(we||ye[0])}},[z]),Jt=C.useCallback(async fe=>{if(!fe){e([]),r([]),o([]),c([]),h([]),_(null),y(0);return}const[ye,Ce,we,$e,ze,it]=await Promise.all([Ia("trades",fe),Ia("pairs",fe),Ia("templates",fe),Ia("custom_fields",fe),Ia("balance_transactions",fe),cj("goals",fe)]);e(ye),r(Ce.sort((Me,ht)=>Me.createdAt-ht.createdAt)),o(we.sort((Me,ht)=>Me.name.localeCompare(ht.name))),c($e.sort((Me,ht)=>Me.createdAt-ht.createdAt)),h(ze.sort((Me,ht)=>ht.date-Me.date)),_(it);const Mt=ze.filter(Me=>Me.type==="deposit").reduce((Me,ht)=>Me+ht.amount,0),Ue=ze.filter(Me=>Me.type==="withdrawal").reduce((Me,ht)=>Me+ht.amount,0);y(Mt-Ue)},[]);C.useEffect(()=>{uj().then(()=>{console.log("Database initialized")});const fe=VL(nm,ye=>{k(ye),I(!0),ye?Yn().then(()=>R(!1)):(q(null),L([]),Jt(null),R(!1))});return()=>fe()},[Yn,Jt]),C.useEffect(()=>{z?Jt(z.id):!F&&E&&Jt(null)},[z,F,E,Jt]);const kr=fe=>{q(fe),localStorage.setItem("activeProfileId",fe.id)},yr=async(fe,ye)=>{try{const we=(await ML(nm,fe,ye)).user,$e=await Iee(),ze=JU(Aee,"device_auths",we.uid),it=await mz(ze);if(it.exists()){if(it.data().fingerprint!==$e){D("Akun ini sudah terdaftar di perangkat lain. Silakan login di perangkat pertama Anda."),await xS(nm);return}}else await pz(ze,{fingerprint:$e,createdAt:new Date,email:we.email,userAgent:navigator.userAgent});D("")}catch(Ce){console.error("Login failed:",Ce),Ce.code==="auth/invalid-credential"||Ce.code==="auth/wrong-password"||Ce.code==="auth/user-not-found"?D("Email atau kata sandi yang Anda masukkan salah."):D("Terjadi kesalahan. Silakan coba lagi.")}},Li=async()=>{try{await xS(nm),zt("Anda telah berhasil keluar.","success")}catch(fe){console.error("Logout failed:",fe),zt("Gagal keluar.","error")}},zt=(fe,ye)=>{P({message:fe,type:ye}),setTimeout(()=>P({message:"",type:""}),3e3)},ca=fe=>{Ae(fe)},Vi=async(fe,ye,Ce)=>{if(!z)return;const we=!!Q?.id,$e={...fe};try{if(we&&(ye&&Q.screenshotBeforeId&&await Gi("trade_images",Q.screenshotBeforeId),Ce&&Q.screenshotAfterId&&await Gi("trade_images",Q.screenshotAfterId)),ye){const ze=crypto.randomUUID();await Zs("trade_images",{id:ze,file:ye}),$e.screenshotBeforeId=ze}if(Ce){const ze=crypto.randomUUID();await Zs("trade_images",{id:ze,file:Ce}),$e.screenshotAfterId=ze}we?await O1("trades",{...$e,updatedAt:new Date}):await Zs("trades",{...$e,createdAt:new Date,updatedAt:new Date}),zt(we?"Trade berhasil diupdate!":"Trade berhasil ditambah!","success"),ue(null),Ee(!1),Jt(z.id)}catch(ze){console.error(ze),zt("Gagal menyimpan trade.","error")}},sr=(fe,ye)=>{At({type:fe,data:ye}),Yt(!0)},Bt=async()=>{if(!Vt)return;const{type:fe,data:ye}=Vt;try{if(fe==="profile"){await Al(ye);return}if(fe==="trade"&&(ye.screenshotBeforeId&&await Gi("trade_images",ye.screenshotBeforeId),ye.screenshotAfterId&&await Gi("trade_images",ye.screenshotAfterId)),!z)return;let Ce="",we="";switch(fe){case"trade":Ce="trades",we="Trade";break;case"transaction":Ce="balance_transactions",we="Transaksi";break;case"pair":Ce="pairs",we="Pair";break;case"template":Ce="templates",we="Template";break;case"custom_field":Ce="custom_fields",we="Field";break;default:return}await Gi(Ce,ye.id),zt(`${we} berhasil dihapus.`,"success"),Jt(z.id)}catch(Ce){console.error(`Error deleting ${fe}:`,Ce),zt("Gagal menghapus item.","error")}finally{At(null),Yt(!1)}},Al=async fe=>{if(fe){zt(`Menghapus profil '${fe.name}'...`,"info");try{const ye=["trades","balance_transactions","pairs","templates","custom_fields","goals"],Ce=await Ia("trades",fe.id);for(const we of Ce)we.screenshotBeforeId&&await Gi("trade_images",we.screenshotBeforeId),we.screenshotAfterId&&await Gi("trade_images",we.screenshotAfterId);for(const we of ye){const $e=await Ia(we,fe.id);for(const ze of $e)await Gi(we,ze.id)}await Gi("profiles",fe.id),zt(`Profil '${fe.name}' dan semua datanya berhasil dihapus.`,"success"),Yn()}catch(ye){console.error("Error deleting profile and its data:",ye),zt("Gagal menghapus profil secara lengkap.","error")}finally{At(null),Yt(!1)}}},or=C.useMemo(()=>{if(!z)return[];if(Xe==="yearly")return t.filter(we=>we.tradeDate&&new Date(we.tradeDate).getFullYear()===is);const fe=we=>{const $e=new Date(we);return $e.setHours(0,0,0,0),$e},ye=we=>{const $e=new Date(we);return $e.setHours(23,59,59,999),$e};return((we,$e)=>{if($e==="all")return we;if($e==="custom"){if(!En||!Wt)return[];const Mt=fe(En),Ue=ye(Wt);return we.filter(Me=>{const ht=Me.tradeDate||new Date(0);return ht>=Mt&&ht<=Ue})}const ze=new Date,it=new Date(ze);switch($e){case"daily":it.setHours(0,0,0,0);break;case"weekly":const Mt=ze.getDay();it.setDate(ze.getDate()-Mt+(Mt===0?-6:1)),it.setHours(0,0,0,0);break;case"monthly":it.setDate(1),it.setHours(0,0,0,0);break;case"yearly":it.setMonth(0,1),it.setHours(0,0,0,0);break}return we.filter(Mt=>(Mt.tradeDate||new Date(0))>=it)})(t,Xe)},[t,Xe,z,En,Wt,is]),Ui=fe=>{let ye="ascending";ar.key===fe&&ar.direction==="ascending"&&(ye="descending"),mo({key:fe,direction:ye})},go=C.useMemo(()=>{let fe=[...or];return ar.key!==null&&fe.sort((ye,Ce)=>{const we=l.some(Mt=>Mt.name===ar.key),$e=we?ye.customData?.[ar.key]??"":ye[ar.key]??"",ze=we?Ce.customData?.[ar.key]??"":Ce[ar.key]??"";let it=0;return $e instanceof Date&&ze instanceof Date?it=$e.getTime()-ze.getTime():typeof $e=="number"&&typeof ze=="number"?it=$e-ze:it=String($e).localeCompare(String(ze),void 0,{numeric:!0,sensitivity:"base"}),it===0?(Ce.tradeDate?.getTime()||0)-(ye.tradeDate?.getTime()||0):ar.direction==="ascending"?it:-it}),fe},[or,ar,l]),fa=C.useMemo(()=>{const fe={netPnl:0,tradeWinRate:0,wins:0,losses:0,profitFactor:0,dayWinRate:0,profitableDays:0,losingDays:0,avgWinLossRatio:0,avgWin:0,avgLoss:0,grossProfit:0,grossLoss:0,avgRiskReward:0,totalLotUsed:0,consecutiveWins:0,consecutiveLosses:0};if(!z)return fe;const ye=[...or].sort((lt,tn)=>(lt.tradeDate?.getTime()||0)-(tn.tradeDate?.getTime()||0));if(ye.length===0)return fe;const Ce=ye.filter(lt=>parseFloat(lt.pnl)>0),we=ye.filter(lt=>parseFloat(lt.pnl)<0),$e=Ce.length,ze=we.length,it=ye.length,Mt=Ce.reduce((lt,tn)=>lt+parseFloat(tn.pnl),0),Ue=Math.abs(we.reduce((lt,tn)=>lt+parseFloat(tn.pnl),0)),Me=Mt-Ue,ht=it>0?$e/it*100:0,Cr=Ue>0?Mt/Ue:1/0,Et=$e>0?Mt/$e:0,Or=ze>0?-Ue/ze:0,Pn=Or!==0?Math.abs(Et/Or):1/0,en=new Map;ye.forEach(lt=>{const tn=Ra(lt.tradeDate);tn&&tn!=="N/A"&&en.set(tn,(en.get(tn)||0)+(parseFloat(lt.pnl)||0))});let lr=0,bi=0;en.forEach(lt=>{lt>0?lr++:lt<0&&bi++});const Nr=lr+bi,ss=Nr>0?lr/Nr*100:0,po=ye.map(lt=>parseFloat(lt.riskRewardRatio)||0).filter(lt=>lt>0),da=po.reduce((lt,tn)=>lt+tn,0),ha=po.length>0?da/po.length:0,vr=ye.reduce((lt,tn)=>lt+(parseFloat(tn.lotSize)||0),0);let xi=0,Xr=0,Ir=0,Qr=0;for(const lt of ye){const tn=parseFloat(lt.pnl)||0;tn>0?(Xr++,Qr=0,Xr>xi&&(xi=Xr)):tn<0?(Qr++,Xr=0,Qr>Ir&&(Ir=Qr)):(Xr=0,Qr=0)}return{netPnl:Me,tradeWinRate:ht,wins:$e,losses:ze,profitFactor:Cr,dayWinRate:ss,profitableDays:lr,losingDays:bi,avgWinLossRatio:Pn,avgWin:Et,avgLoss:Or,grossProfit:Mt,grossLoss:Ue,avgRiskReward:ha,totalLotUsed:vr,consecutiveWins:xi,consecutiveLosses:Ir}},[or,z]),vi=C.useMemo(()=>{if(!z)return{chartData:[]};const fe=t,ye=d,Ce=[...fe.map(Ue=>({type:"trade",date:Ue.tradeDate,pnl:Ue.pnl})),...ye.map(Ue=>({type:Ue.type,date:Ue.date,amount:Ue.amount}))].sort((Ue,Me)=>(Ue.date?.getTime()||0)-(Me.date?.getTime()||0));let we=0;const $e=[];Ce.forEach(Ue=>{Ue.type==="trade"?we+=parseFloat(Ue.pnl)||0:Ue.type==="deposit"?we+=parseFloat(Ue.amount)||0:Ue.type==="withdrawal"&&(we-=parseFloat(Ue.amount)||0),$e.push({name:Ra(Ue.date),value:we})});let ze=0;const it=[];return fe.sort((Ue,Me)=>(Ue.tradeDate?.getTime()||0)-(Me.tradeDate?.getTime()||0)).forEach(Ue=>{ze+=parseFloat(Ue.pnl)||0,it.push({name:Ra(Ue.tradeDate),value:ze})}),{chartData:(()=>{const Ue=Mi==="balance"?$e:it;if(Ue.length===0)return[];if(Xe==="all")return Ue;let Me,ht=new Date;if(Xe==="custom"){if(!En||!Wt)return[];Me=new Date(En),Me.setHours(0,0,0,0),ht=new Date(Wt),ht.setHours(23,59,59,999)}else{const Pn=new Date;switch(Me=new Date(Pn),Xe){case"daily":Me.setHours(0,0,0,0);break;case"weekly":const en=Pn.getDay();Me.setDate(Pn.getDate()-en+(en===0?-6:1)),Me.setHours(0,0,0,0);break;case"monthly":Me.setDate(1),Me.setHours(0,0,0,0);break;case"yearly":Me.setMonth(0,1),Me.setHours(0,0,0,0);break}}const Cr=[...Ue].reverse().find(Pn=>new Date(Pn.name).getTime()<Me.getTime()),Et=Cr?Cr.value:0,Or=Ue.filter(Pn=>{const en=new Date(Pn.name).getTime();return Xe==="custom"?en>=Me.getTime()&&en<=ht.getTime():en>=Me.getTime()});return Or.length>0?new Date(Or[0].name).getTime()>Me.getTime()?[{name:"Start",value:Et},...Or]:Or:[{name:"Start",value:Et}]})()}},[t,d,z,Xe,Mi,En,Wt]),kl=C.useMemo(()=>{if(!z)return 0;const fe=t.reduce((Ce,we)=>Ce+(parseFloat(we.pnl)||0),0);return d.reduce((Ce,we)=>{const $e=parseFloat(we.amount)||0;return Ce+(we.type==="deposit"?$e:-$e)},0)+fe},[t,d,z]),Wr=()=>{if(Xe==="custom"){const fe=new Date(En).toLocaleDateString("id-ID",{day:"numeric",month:"short"}),ye=new Date(Wt).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});return`${fe} - ${ye}`}return as.find(fe=>fe.key===Xe)?.label};if(!T||F)return x.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center text-gray-900 dark:text-white",children:"Memuat Autentikasi..."});if(!E)return x.jsx(Dee,{onLogin:yr,error:O});if(T&&!F&&M.length===0)return x.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center text-gray-900 dark:text-white",children:[ce&&x.jsx(iO,{showToast:zt,onClose:()=>{wt(!1),Yn()},profiles:M,openDeleteModal:sr}),x.jsx(rO,{message:U.message,type:U.type,onClose:()=>P({message:"",type:""})}),x.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Selamat Datang, ",E.email,"!"]}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Untuk memulai, silakan buat profil trading pertama Anda."}),x.jsxs("button",{onClick:()=>wt(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[x.jsx(_b,{size:20,className:"mr-2"})," Buat Profil Trading"]})]});const Pt=()=>x.jsxs(x.Fragment,{children:[x.jsxs("a",{href:"https://www.instagram.com/deolukow_",target:"_blank",rel:"noopener noreferrer",className:"block mb-4 hover:opacity-80 transition-opacity",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Wz",x.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"Gold"})," Trading Jurnal"]}),x.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"created by Deo Lukow (2025)"})]}),x.jsx("div",{className:"mb-4",children:x.jsx(Zee,{profiles:M,activeProfile:z,onSelectProfile:kr,onManageProfiles:()=>{wt(!0),V(!1)}})}),x.jsxs("button",{onClick:()=>{ue(null),Ee(!0),V(!1)},className:"w-full px-4 py-3 mb-6 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg flex items-center justify-center text-sm font-semibold",children:[x.jsx(_b,{size:18,className:"mr-2"})," Tambah Trade"]}),x.jsxs("nav",{className:"flex-grow",children:[x.jsxs("ul",{children:[x.jsx(X0,{icon:x.jsx(i7,{size:20}),text:"Dashboard",active:Gn==="dashboard",onClick:()=>{Ut("dashboard"),V(!1)}}),x.jsx(X0,{icon:x.jsx(RI,{size:20}),text:"Kalender",active:Gn==="calendar",onClick:()=>{Ut("calendar"),V(!1)}}),x.jsx(X0,{icon:x.jsx(Jx,{size:20}),text:"Galeri Trade",active:Gn==="gallery",onClick:()=>{Ut("gallery"),Ar("all"),V(!1)}})]}),x.jsxs("ul",{className:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[x.jsx("li",{className:"px-3 pb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Alat Bantu"}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Ke(!0),V(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(r_,{size:20,className:"text-yellow-500 dark:text-yellow-400"}),x.jsx("span",{className:"ml-3",children:"Tetapkan Target"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{me(!0),V(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(II,{size:20,className:"text-green-500 dark:text-green-400"}),x.jsx("span",{className:"ml-3",children:"Kalkulator Lot Size"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{he(!0),V(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(n_,{size:20,className:"text-yellow-500 dark:text-yellow-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Pair"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Ne(!0),V(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(a_,{size:20,className:"text-blue-500 dark:text-blue-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Template"})]})}),x.jsx("li",{className:"mb-2",children:x.jsxs("a",{href:"#",onClick:()=>{Gt(!0),V(!1)},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[x.jsx(PI,{size:20,className:"text-indigo-500 dark:text-indigo-400"}),x.jsx("span",{className:"ml-3",children:"Kelola Field Tambahan"})]})})]})]}),x.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-2 truncate",title:E.email,children:["Masuk sebagai: ",E.email]}),x.jsxs("button",{onClick:Li,className:"w-full flex items-center p-3 rounded-lg text-red-500 dark:text-red-400 hover:bg-red-500/10 dark:hover:bg-red-500/20",children:[x.jsx(u7,{size:20}),x.jsx("span",{className:"ml-3",children:"Keluar"})]})]})]});return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:`
                @keyframes slideIn {
                    from { transform: translateX(-100%); }
                    to { transform: translateX(0); }
                }
                .animate-slideIn {
                    animation: slideIn 0.3s ease-out forwards;
                }
            `}),x.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-300 font-sans",children:[x.jsx(rO,{message:U.message,type:U.type,onClose:()=>P({message:"",type:""})}),x.jsx(Ree,{isOpen:rt,onClose:()=>Yt(!1),onConfirm:Bt,title:"Konfirmasi Hapus",message:`Yakin ingin menghapus ${Vt?.type} ini? Aksi ini tidak dapat dibatalkan.`}),z&&pe&&x.jsx(Gee,{onSaveTrade:Vi,editingTrade:Q,onCancelEdit:()=>{ue(null),Ee(!1)},pairs:n,templates:a,customFields:l,activeProfileId:z.id}),ge&&x.jsx(Mee,{trade:ge,onClose:()=>Ae(null),customFields:l,currency:z?.currency}),z&&ot&&x.jsx(jee,{isOpen:ot,onClose:()=>me(!1),currentBalance:kl,currency:z?.currency}),z&&qe&&x.jsx(Lee,{activeProfileId:z.id,showToast:zt,onClose:()=>{Ke(!1),Jt(z.id)},currentGoal:v,currency:z?.currency}),z&&H&&x.jsx(Yee,{activeProfileId:z.id,showToast:zt,onClose:()=>{ie(!1),Jt(z.id)},openDeleteModal:sr,currency:z?.currency}),z&&ae&&x.jsx(Kee,{activeProfileId:z.id,showToast:zt,onClose:()=>{he(!1),Jt(z.id)},pairs:n,openDeleteModal:sr}),z&&_e&&x.jsx(Hee,{activeProfileId:z.id,showToast:zt,onClose:()=>{Ne(!1),Jt(z.id)},templates:a,openDeleteModal:sr}),z&&Ie&&x.jsx(Vee,{activeProfileId:z.id,showToast:zt,onClose:()=>{Gt(!1),Jt(z.id)},customFields:l,openDeleteModal:sr}),ce&&x.jsx(iO,{showToast:zt,onClose:()=>{wt(!1),Yn()},profiles:M,openDeleteModal:sr}),B&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-40 md:hidden",onClick:()=>V(!1)}),x.jsx("aside",{className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 p-4 z-50 flex flex-col md:hidden animate-slideIn overflow-y-auto",children:x.jsx(Pt,{})})]}),x.jsx("aside",{className:"w-64 bg-white dark:bg-gray-800 p-4 flex-shrink-0 flex-col hidden md:flex overflow-y-auto",children:x.jsx(Pt,{})}),x.jsxs("main",{className:"flex-1 flex flex-col p-4 md:p-6 lg:p-8 overflow-y-auto",children:[x.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{className:"md:hidden text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",onClick:()=>V(!0),children:x.jsx(h7,{size:28})}),x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white truncate",children:Gn==="dashboard"?"Dashboard":Gn==="calendar"?"Kalender Trade":"Galeri Trade"})]}),x.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto justify-end",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg text-center border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Saldo Saat Ini"}),x.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Ht(kl,z?.currency)})]}),x.jsxs("button",{onClick:()=>ie(!0),className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg flex items-center text-sm font-semibold",children:[x.jsx(T7,{size:16,className:"mr-2"})," Kelola Saldo"]})]})]}),x.jsxs("div",{className:"flex-grow",children:[Gn==="dashboard"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex space-x-1 sm:space-x-2 p-1 bg-gray-200 dark:bg-gray-800 rounded-xl mb-6",children:as.map(fe=>x.jsx("button",{onClick:()=>Ar(fe.key),className:Xo("px-2 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors flex-grow",Xe===fe.key?"bg-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-700"),children:fe.label},fe.key))}),Xe==="custom"&&x.jsx(dj,{startDate:En,endDate:Wt,onStartDateChange:mn,onEndDateChange:Tn}),Xe==="yearly"&&x.jsx(Xee,{selectedYear:is,setSelectedYear:Sl}),x.jsx(Bee,{goal:v,currentPnl:fa.netPnl,period:Xe,currency:z?.currency}),Xe==="daily"&&x.jsx(qee,{goal:v,currentPnl:fa.netPnl,currency:z?.currency}),x.jsx($ee,{stats:fa,currency:z?.currency}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 sm:mb-0",children:Mi==="balance"?"Riwayat Saldo Akun":"Riwayat P&L Kumulatif"}),x.jsxs("div",{className:"flex space-x-1 p-1 bg-gray-200 dark:bg-gray-700/50 rounded-lg",children:[x.jsx("button",{onClick:()=>ji("balance"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${Mi==="balance"?"bg-blue-600 text-white shadow":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Grafik Saldo"}),x.jsx("button",{onClick:()=>ji("pnl"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${Mi==="pnl"?"bg-blue-600 text-white shadow":"text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Grafik P&L"})]})]}),x.jsx("div",{className:"h-80",children:x.jsx(Fee,{data:vi.chartData,period:Xe,currency:z?.currency,chartType:Mi})})]}),Xe==="yearly"?x.jsx(Wee,{trades:or,currency:z?.currency,year:is}):x.jsx(hj,{trades:go,onView:ca,onEdit:fe=>{ue(fe),Ee(!0)},onDelete:(fe,ye)=>sr(fe,ye),title:`Riwayat Trade (${Wr()})`,requestSort:Ui,sortConfig:ar,customFields:l,currency:z?.currency})]}),Gn==="calendar"&&x.jsx(Qee,{trades:t,onView:ca,onEdit:fe=>{ue(fe),Ee(!0)},onDelete:(fe,ye)=>sr(fe,ye),customFields:l,currency:z?.currency}),Gn==="gallery"&&x.jsx(Uee,{trades:or,activePeriod:Xe,setActivePeriod:Ar,periods:as,onShowTradeDetail:ca,currency:z?.currency,customStartDate:En,customEndDate:Wt,setCustomStartDate:mn,setCustomEndDate:Tn})]})]})]})]})}const ete="modulepreload",tte=function(t){return"/trading-jurnal/"+t},sO={},nte=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let h=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=h;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=h(n.map(m=>{if(m=tte(m),m in sO)return;sO[m]=!0;const y=m.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":ete,y||(_.as="script"),_.crossOrigin="",_.href=m,d&&_.setAttribute("nonce",d),document.head.appendChild(_),y)return new Promise((E,k)=>{_.addEventListener("load",E),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function rte(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:a,onRegisteredSW:o,onRegisterError:l}=t;let c,d;const h=async(y=!0)=>{await d};async function m(){if("serviceWorker"in navigator){if(c=await nte(async()=>{const{Workbox:y}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:y}},[]).then(({Workbox:y})=>new y("/trading-jurnal/sw.js",{scope:"/trading-jurnal/",type:"classic"})).catch(y=>{l?.(y)}),!c)return;c.addEventListener("activated",y=>{(y.isUpdate||y.isExternal)&&window.location.reload()}),c.addEventListener("installed",y=>{y.isUpdate||r?.()}),c.register({immediate:e}).then(y=>{o?o("/trading-jurnal/sw.js",y):a?.(y)}).catch(y=>{l?.(y)})}}return d=m(),h}Z4.createRoot(document.getElementById("root")).render(x.jsx(C.StrictMode,{children:x.jsx(Jee,{})}));rte({immediate:!0});
